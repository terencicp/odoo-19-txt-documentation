

==================================================
SECTION: users.rst
PATH: applications/general/users.rst
==================================================

:show-content:

=====
Users
=====

Odoo defines a *user* as someone who has access to a database. An administrator can add as many
users as the company needs and, in order to restrict the type of information each user can access,
rules can be applied to each user. Users and access rights can be added and changed at any point.

.. seealso::
   - :doc:`users/language`
   - :doc:`users/access_rights`
   - :ref:`access-rights/superuser`
   - :ref:`access-rights/groups`

.. _users/add-individual:

Add individual users
====================

To add new users, navigate to :menuselection:`Settings app --> Users section --> Manage Users`, and
click on :guilabel:`New`.

.. image:: users/manage-users.png
   :alt: View of the settings page emphasizing the manage users field in Odoo.

Fill in the form with all the required information. Under the :doc:`Access Rights
<users/access_rights>` tab, choose the group within each application the user can have access to.

The list of applications shown is based on the applications installed on the database.

.. image:: users/new-user.png
   :alt: View of a user's form emphasizing the access rights tab in Odoo.

After filling out all the necessary fields on the page, :icon:`fa-cloud-upload` :guilabel:`(Save
manually)`. An invitation email is automatically sent to the user, using the email in the
:guilabel:`Email Address` field. The user must click on the link included in the email to accept the
invitation, and to create a database login.

.. image:: users/invitation-email.png
   :alt: View of a user's form with a notification that the invitation email has been sent in Odoo.

.. warning::
   If the company is on a monthly subscription plan, the database automatically updates to reflect
   the added users. If the company is on a yearly or multi-year plan, an expiration banner appears
   in the database. An upsell quotation can be created by clicking the banner to update the
   subscription. Alternatively, `send a support ticket <https://www.odoo.com/help>`_ to resolve the
   issue.

User type
---------

:guilabel:`User Type` can be chosen on the :guilabel:`Manage Users` page by clicking on the search
bar, and then :ref:`setting a filter <search/preconfigured-filters>` for either :guilabel:`Internal
User` or :guilabel:`Portal User`.

Odoo databases have three types of users: :guilabel:`Internal User`, :guilabel:`Portal`, and
:guilabel:`Public`. Users are considered *internal database* users. Portal users are *external
users*, who only have access to the database portal to view records. Public users are those visiting
websites, via the website's frontend. See the documentation on :doc:`users/user_portals`.

The :guilabel:`Portal` user option does **not** allow the administrator to choose access rights.
These users have specific access rights pre-set (such as, record rules and restricted menus), and
usually do not belong to the usual Odoo groups.

User devices
============

For security purposes, when a user logs into the database, the various login information, such as
the IP address, is stored in the user's profile. It is best practice to check this periodically, to
ensure all access is from the user, and no one else has accessed the database.

To check the logged-in devices, click the user icon in the upper-right corner, and click
:guilabel:`My Profile`. This opens the user's profile in the **Settings** app. Click the
:guilabel:`Devices` tab to view a Kanban list of all devices the user has logged into the database
with. Any device currently logged into the system displays a green circle next to the device name on
the Kanban card.

.. image:: users/devices.png
   :alt: The Kanban view of all user devices.

Click on a card to view the details for the device. Each card displays the :guilabel:`User` name,
the :guilabel:`Name` of the device, the :guilabel:`Last IP Address` used as well as the
:guilabel:`Linked IP Address`. It also shows the :guilabel:`First Activity` and :guilabel:`Last
Activity`, which shows when the device first logged into the database, and the last time it was
active on the database.

If a device is legitimate and should be retained, click :guilabel:`Save`.

If the device is legitimate but should **not** be retained, and does not pose a security risk, click
:guilabel:`Delete`.

.. image:: users/individual-device.png
   :alt: The device details for one device.

Revoke devices
--------------

If a listed device is **not** a legitimate user device, and could be a potential security risk,
remove the device and revoke access by clicking the :guilabel:`Revoke` button.

A :guilabel:`Security Control` pop-up window loads, asking to `Please confirm your identity by
entering your password`. Enter the user's password, then click :guilabel:`Confirm Password`.

The device disappears from the :guilabel:`Devices` tab and can no longer be used to log into the
database.

 .. image:: users/security.png
    :alt: The security pop-up window asking to verify the account with a password.

.. _users/deactivate:

Deactivate users
================

To deactivate (i.e. archive) a user, navigate to :menuselection:`Settings app --> Users section -->
Manage Users`. Then, tick the checkbox to the left of the users to be deactivated.

After selecting the appropriate user to be archived, click the :icon:`fa-cog` :guilabel:`(Actions)`
icon, and select :guilabel:`Archive` from the resulting drop-down menu. Then, click :guilabel:`OK`
from the :guilabel:`Confirmation` pop-up window that appears.

.. danger::
   **Never** deactivate the main/administrator user (admin). Making changes to admin users can have
   a detrimental impact on the database. This includes *impotent admin*, which means that no user in
   the database can make changes to the access rights. For this reason, Odoo recommends contacting
   an Odoo Business Analyst, or our Support Team, before making changes.

Error: too many users
---------------------

If there are more users in an Odoo database than provisioned in the Odoo Enterprise subscription,
the following message is displayed.

.. image:: users/add-more-users.png
   :alt: Too many users on a database error message.

When the message appears, the database administrator has 30 days to act before the database expires.
The countdown is updated every day.

To resolve the issue, either:

- Add more users to the subscription by clicking the :guilabel:`Upgrade your subscription` link
  displayed in the message to validate the upsell quotation, and pay for the extra users.
- :ref:`Deactivate users <users/deactivate>`, and reject the upsell quotation.

.. warning::
   If the company is on a monthly subscription plan, the database automatically updates to reflect
   the added users. If the company is on a yearly or multi-year plan, an expiration banner appears
   in the database. An upsell quotation can be created by clicking the banner to update the
   subscription. Alternatively, users can `send a support ticket <https://www.odoo.com/help>`_ to
   resolve the issue.

Once the database has the correct number of users, the expiration message disappears automatically
after a few days, when the next verification occurs.

.. _users/passwords-management:

Password management
===================

Password management is an important part of granting users autonomous access to the database at all
times. Odoo offers a few different methods to reset a user's password.

.. tip::
   Odoo has a setting to specify the length needed for a password. This setting can be accessed by
   navigating to :menuselection:`Settings app --> Permissions` section, and entering the desired
   password length in the :guilabel:`Minimum Password Length` field. By default the value is `8`.

.. image:: users/minimum-password-length.png
   :alt: Minimum Password Length highlighted in the Permissions section of General Settings.

.. _users/reset-password:

Reset password
--------------

Sometimes, users might wish to reset their personal password for added security, so they are the
only ones with access to the password. Odoo offers two different reset options: one initiated by the
user to reset the password, and another where the administrator triggers a reset.

.. _users/reset-password-login:

Enable password reset from login page
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

It is possible to enable/disable password resets directly from the login page. This action is
completed by the individual user, and this setting is enabled by default.

To change this setting, go to :menuselection:`Settings app --> Permissions` section, activate
:guilabel:`Password Reset`, and then click :guilabel:`Save`.

.. image:: users/password-reset-login.png
   :alt: Enabling Password Reset in Odoo Settings.

On the login page, click :guilabel:`Reset Password` to initiate the password reset process, and have
a reset-token sent to the email on file.

.. _users/reset-password-email:

Send reset instructions
~~~~~~~~~~~~~~~~~~~~~~~

Go to :menuselection:`Settings app --> Users & Companies --> Users`, select the user from the list,
and click on :guilabel:`Send Password Reset Instructions` on the user form. An email is
automatically sent to them with password reset instructions.

.. note::
   The :guilabel:`Send Password Reset Instructions` button **only** appears if the Odoo invitation
   email has already been confirmed by the user. Otherwise, a :guilabel:`Re-send Invitation Email`
   button appears.

This email contains all the instructions needed to reset the password, along with a link redirecting
the user to an Odoo login page.

.. image:: users/password-reset-email.png
   :alt: Example of an email with a password reset link for an Odoo account.

.. _users/change-password:

Change user password
--------------------

Go to :menuselection:`Settings app --> Users & Companies --> Users`, and select a user to access its
form. Click on the :icon:`fa-cog` :guilabel:`(Actions)` icon, and select :guilabel:`Change Password`
from the resulting drop-down menu. Enter a new password in the :guilabel:`New Password` column of
the :guilabel:`Change Password` pop-up window that appears, and confirm the change by clicking
:guilabel:`Change Password`.

.. image:: users/change-password.png
   :alt: Change a user's password on Odoo.

.. note::
   This operation only modifies the password of the users locally, and does **not** affect their
   Odoo account.

   If the Odoo password needs to be changed, use the :ref:`send the password reset
   <users/reset-password-email>`. Odoo.com passwords grant access to the *My Databases* page, and
   other portal features.

After clicking :guilabel:`Change Password`, the page is redirected to an Odoo login page where the
database can be re-accessed using the new password.

.. _users/multi-companies:

Multi Companies
===============

The :guilabel:`Multi Companies` field on a user form allows an administrator to provide access to
multiple companies for users. To configure a multi-company environment for a user, navigate to the
desired user by going to: :menuselection:`Settings app --> Users section --> Manage users`. Then,
select the user to open their user form, and configure with multi-company access.

Under :guilabel:`Multi Companies` in the :guilabel:`Access Rights` tab, set the fields labeled
:guilabel:`Allowed Companies` and :guilabel:`Default Company`.

The :guilabel:`Allowed Companies` field can contain multiple companies. These are the companies the
user can access and edit, according to the set access rights. The :guilabel:`Default Company` is the
company the user defaults to, upon logging in each time. This field can contain only **one**
company.

.. warning::
   If multi-company access is not configured correctly, it could lead to inconsistent multi-company
   behaviors. Because of this, only experienced Odoo users should make access rights changes to
   users for databases with a multi-company configuration. For technical explanations, refer to the
   developer documentation on :doc:`../../../developer/howtos/company`.

.. image:: users/multi-companies.png
   :alt: View of a user's form emphasizing the multi companies field in Odoo.

.. seealso::
   :doc:`companies`

.. toctree::
   :titlesonly:

   users/language
   users/2fa
   users/access_rights
   users/user_portals
   users/facebook
   users/google
   users/azure
   users/ldap


==================================================
SECTION: 2fa.rst
PATH: applications/general/users/2fa.rst
==================================================

=========================
Two-factor authentication
=========================

.. |2fa| replace:: :abbr:`2FA (two-factor authentication)`
.. |QR| replace:: :abbr:`QR (Quick Response)` code

*Two-factor authentication (2FA)* is a way to improve security, and prevent unauthorized persons
from accessing user accounts.

Practically, |2fa| means storing a secret inside an *authenticator*, usually on a mobile phone, and
exchanging a code from the authenticator when trying to log in.

This means an unauthorized user would need to guess the account password *and* have access to the
authenticator, which is a more difficult proposition.

Requirements
============

.. important::
   These lists are just examples. They are **not** endorsements of any specific software.

Phone-based authenticators are the easiest and most commonly used. Examples include:

- `Authy <https://authy.com/>`_
- `FreeOTP <https://freeotp.github.io/>`_
- `Google Authenticator <https://support.google.com/accounts/answer/1066447?hl=en>`_
- `LastPass Authenticator <https://lastpass.com/auth/>`_
- `Microsoft Authenticator
  <https://www.microsoft.com/en-gb/account/authenticator?cmp=h66ftb_42hbak>`_

Password managers are another option. Common examples include:

- `1Password <https://support.1password.com/one-time-passwords/>`_
- `Bitwarden <https://bitwarden.com/help/article/authenticator-keys/>`_,

.. note::
   The remainder of this document uses Google Authenticator as an example, as it is one of the most
   commonly used. This is **not** an endorsement of the product.

Two-factor authentication setup
===============================

After selecting an authenticator, log in to Odoo, then click the profile avatar in the upper-right
corner, and select :guilabel:`My Profile` from the resulting drop-down menu.

Click the :guilabel:`Account Security` tab, then slide the :guilabel:`Two-Factor Authentication`
toggle to *active*.

.. figure:: 2fa/account-security.png
   :align: center

This generates a :guilabel:`Security Control` pop-up window that requires password confirmation to
continue. Enter the appropriate password, then click :guilabel:`Confirm Password`. Next, a
:guilabel:`Two-Factor Authentication Activation` pop-up window appears, with a |QR|.


.. figure:: 2fa/qr-code.png
   :align: center

Using the desired authenticator application, scan the |QR| when prompted.

.. tip::
   If scanning the screen is not possible (e.g. the setup is being completed on the *same* device as
   the authenticator application), clicking the provided :guilabel:`Cannot scan it?` link, or
   copying the secret to manually set up the authenticator, is an alternative.

   .. figure:: 2fa/secret-visible.png
      :align: center

   .. figure:: 2fa/input-secret.png
      :align: center

Afterwards, the authenticator should display a *verification code*.

.. figure:: 2fa/authenticator.png
   :align: center

Enter the code into the :guilabel:`Verification Code` field, then click :guilabel:`Activate`.

.. figure:: 2fa/2fa-enabled.png
   :align: center

Logging in
==========

To confirm |2fa| setup is complete, log out of Odoo.

On the login page, input the username and password, then click :guilabel:`Log in`. On the
:guilabel:`Two-factor Authentication` page, input the code provided by the chosen authenticator in
the :guilabel:`Authentication Code` field, then click :guilabel:`Log in`.

.. image:: 2fa/2fa-login.png
   :align: center
   :alt: The login page with 2fa enabled.

.. danger::
   If a user loses access to their authenticator, an administrator **must** deactivate |2fa| on the
   account before the user can log in.

Enforce two-factor authentication
=================================

To enforce the use of |2fa| for all users, first navigate to :menuselection:`Main Odoo Dashboard -->
Apps`. Remove the :guilabel:`Apps` filter from the :guilabel:`Search...` bar, then search for `2FA
by mail`.

Click :guilabel:`Install` on the Kanban card for the :guilabel:`2FA by mail` module.

.. image:: 2fa/2FA-by-mail.png
   :align: center
   :alt: The 2FA by mail module in the Apps directory.

After installation is complete, go to :guilabel:`Settings app: Permissions`. Tick the checkbox
labeled, :guilabel:`Enforce two-factor authentication`. Then, use the radio buttons to choose
whether to apply this setting to :guilabel:`Employees only`, or :guilabel:`All users`.

.. note::
   Selecting :guilabel:`All users` applies the setting to portal users, in addition to employees.

.. image:: 2fa/enforce-settings.png
   :align: center
   :alt: The enforce two factor setting in the Settings application.

Click :guilabel:`Save` to commit any unsaved changes.


==================================================
SECTION: access_rights.rst
PATH: applications/general/users/access_rights.rst
==================================================

=============
Access rights
=============

*Access rights* are permissions that determine the content and applications users can access and
edit. In Odoo, these permissions can be set for individual users or for groups of users. Limiting
permissions to only those who need them ensures that users do not modify or delete anything they
should not have access to.

**Only** an *administrator* can change access rights.

.. danger::
   Making changes to access rights can have a detrimental impact on the database. This includes
   *impotent admin*, which means that no user in the database can make changes to the access rights.
   For this reason, Odoo recommends contacting an Odoo Business Analyst, or our Support Team, before
   making changes.

.. tip::
   A user **must** have the specific *Administration* access rights set on their user profile, in
   order to make changes on another user's settings for access rights.

   To access this setting, navigate to :menuselection:`Settings app --> Manage users --> select a
   user --> Access Rights tab --> Administration section --> Administration field`.

   Once at the setting, an already existing administrator **must** change the setting in the
   :guilabel:`Administration` field to :guilabel:`Access Rights`.

   Once complete, click :guilabel:`Save` to save the changes, and implement the user as an
   administrator.

.. _access-rights/user-permissions:

Manage user permissions
=======================

The access rights for :ref:`individual users <users/add-individual>` are set when the user is added
to the database, but they can be adjusted at any point in the user's profile.

To make changes to a user's rights, click on the desired user to edit their profile.

.. image:: access_rights/navigate-to-users-menu.png
   :alt: Users menu in the Users & Companies section of the Settings app of Odoo.

On the user's profile page, in the :guilabel:`Access Rights` tab, scroll down to view the current
permissions.

For each app, use the drop-down menu to select what level of permission this user should have. The
options vary for each section, yet the most common are: :guilabel:`Blank/None`, :guilabel:`User: Own
Documents`, :guilabel:`User: All Documents`, or :guilabel:`Administrator`.

The :guilabel:`Administration` field in the :guilabel:`Access Rights` tab has the following options:
:guilabel:`Settings` or :guilabel:`Access Rights`.

.. image:: access_rights/user-permissions-dropdown-menu.png
   :alt: The Sales apps drop-down menu to set the user's level of permissions.

.. _access-rights/specific-user-permissions:

Manage specific permissions
---------------------------

While access rights are typically assigned in bundles under specific roles, they can also be set as
explicit permissions.

.. example::
   For example, giving a user the :guilabel:`Administrator` permission for **Timesheets**
   gives them full access to that app. That user, while holding full access, can *still* have their
   ability to manage *their own* timesheets restricted â€” such as in the case of a salaried payroll
   administrator who does not need to track time.

To manage specific permissions, :ref:`developer mode <developer-mode>` must be enabled.

After that, navigate to the :menuselection:`Settings` app. Then click :guilabel:`Manage Users`,
select a user, and go to the :guilabel:`Technical Access Rights` tab. From here, :guilabel:`Groups`
can be edited, and specific access rights can be managed across the various sections. If no changes
are made to these groups, then their permissions will mirror the selections made in the
:guilabel:`Access Rights` tab.

- :guilabel:`Selected groups`: a list of detailed access rights, set by choices made in the
  :guilabel:`Access Rights` tab.
- :guilabel:`Groups added automatically`: *implied* permissions that are *inherited* with the
  explicit permissions already granted to the user. The values here will match the values listed
  under a given *Group*'s form located under the :menuselection:`Users & Companies --> Groups` menu,
  in the :guilabel:`Inherited` tab.

.. image:: access_rights/tech-access-rights.png
   :alt: The technical access rights tab opened up for a user profile.

.. example::
   When the *Sales Administrator* permission set is assigned to a user, then the *Canned Responses
   Administrator* permissions are inherited automatically. These assignments are reflected across
   the values listed in the :guilabel:`Selected Groups` and :guilabel:`Groups added automatically`
   tables, respectively.

To add a permission to this user profile, click :guilabel:`Add a line` in the :guilabel:`Selected
groups` table, and then add permissions to this user profile. To remove a permission, click the
:icon:`fa-times` :guilabel:`(cancel)` at the end of that permission's row.

.. warning::
   Removing permissions from the :guilabel:`Selected Groups` list can impact what permissions are
   listed in the :guilabel:`Groups added automatically` list, since selected permission groups
   inform what permission groups are added automatically.

Clicking on the permission itself will open a group management form. Learn more about :ref:`managing
groups <access-rights/groups>`.

Any permission in the :guilabel:`Groups added automatically` section are implied or required by the
permission shown in the :guilabel:`Selected groups` section. These cannot be removed, but more users
can be given these permissions by clicking on the permission itself, and then adding the user to
that permission's group.

.. note::
   - Any permission in green is already provided by another permission (for example, setting the
     :guilabel:`Website` app's permission to :guilabel:`Editor and Designer` will also give that
     user the :guilabel:`Restricted Editor` permission).
   - Any permissions in red are conflicting and cannot be active at the same time.
   - Any permissions in *italics* is implied by a :guilabel:`Selected group` (these are usually
     found in the :guilabel:`Groups added automatically`).

.. _access-rights/groups:

Create and modify groups
========================

*Groups* are app-specific sets of permissions that are used to manage common access rights for a
large amount of users. Administrators can modify the existing groups in Odoo, or create new ones to
define rules for models within an application.

To access groups, first activate Odoo's :ref:`developer mode <developer-mode>`, then go to
:menuselection:`Settings app --> Users & Companies --> Groups`.

.. image:: access_rights/click-users-and-companies.png
   :alt: Groups menu in the Users & Companies section of the Settings app of Odoo.

To create a new group from the :guilabel:`Groups` page, click :guilabel:`Create`. Then, from the
blank group form, select an :guilabel:`Application`, and complete the group form (detailed below).

To modify existing groups, click on an existing group from the list displayed on the
:guilabel:`Groups` page, and edit the contents of the form.

Enter a :guilabel:`Name` for the group and tick the checkbox next to :guilabel:`Share Group`, if
this group was created to set access rights for sharing data with some users.

.. important::
   Always test the settings being changed to ensure they are being applied to the correct users.

The group form contains multiple tabs for managing all elements of the group. In each tab, click
:guilabel:`Add a line` to add a new row for users or rules, and click the :icon:`fa-times`
:guilabel:`(cancel)` icon to remove a row.

.. image:: access_rights/groups-form.png
   :alt: Tabs in the Groups form to modify the settings of the group.

- :guilabel:`Users` tab: lists the current users in the group. Users listed in black have
  administrative rights. Users without administrative access appear in blue. Click :guilabel:`Add a
  line` to add users to this group.
- :guilabel:`Inherited` tab: Inherited means that users added to this group are automatically added
  to the groups listed on this tab. Click :guilabel:`Add a line` to add inherited groups.

  .. example::
     For example, if the group *Sales/Administrator* lists the group *Website/Restricted Editor* in
     its :guilabel:`Inherited` tab, then any users added to the *Sales/Administrator* group
     automatically receive access to the *Website/Restricted Editor* group, as well.

- :guilabel:`Menus` tab: defines which models the group can have access to. Click
  :guilabel:`Add a line` to add a specific menu.
- :guilabel:`Views` tab: lists which views in Odoo the group has access to. Click :guilabel:`Add a
  line` to add a view to the group.
- :guilabel:`Access Rights` tab: lists the first level of rights (models) that this group has. The
  :guilabel:`Name` column represents the name for the current group's access to the model selected
  in the :guilabel:`Model` column.

  To link a new access right to a group, click :guilabel:`Add a line`. Select the appropriate model
  from the :guilabel:`Model` drop-down, then enter a name for the access right in the
  :guilabel:`Name` column. For each model, enable the following options as appropriate:

  - :guilabel:`Read`: Users can see the object's existing values.
  - :guilabel:`Write`: Users can edit the object's existing values.
  - :guilabel:`Create`: Users can create new values for the object.
  - :guilabel:`Delete`: Users can delete values for the object.

  .. tip::
     While there are no conventions for naming access rights, it is advisable to choose a name that
     identifies its purpose.

     For example, the access that purchase managers have to the :guilabel:`Contact` model could be
     named `res.partner.purchase.manager`. This consists of the technical name of the model,
     followed by a name identifying the group of users in question.

     .. image:: access_rights/name-field.png
        :alt: Name of access rights to a model.

     To find the model's technical name from the current view, first enter a placeholder text in the
     :guilabel:`Name` field, then click the :guilabel:`Model` name, then the :icon:`fa-arrow-right`
     :guilabel:`(Internal link)` icon.

- :guilabel:`Record Rules`: lists the second layer of editing and visibility rights.
  :guilabel:`Record Rules` overwrite, or refine, the group's access rights. Click :guilabel:`Add a
  line` to add a record rule to this group. For each rule, choose values for the following options:

  - :guilabel:`Apply for Read`.
  - :guilabel:`Apply for Write`.
  - :guilabel:`Apply for Create`.
  - :guilabel:`Apply for Delete`.

  .. important::
     Record rules are written using a *domain*, or conditions that filter data. A domain expression
     is a list of such conditions. For example:

     `[('mrp_production_ids', 'in', user.partner_id.commercial_partner_id.production_ids.ids)]`

     This record rule is to enable MRP consumption warnings for subcontractors.

     Odoo has a library of preconfigured record rules for ease of use. Users without knowledge of
     domains (and domain expressions) should consult an Odoo Business Analyst, or the Odoo Support
     Team, before making changes.

.. _access-rights/superuser:

Superuser mode
==============

*Superuser mode* allows the user to bypass record rules and access rights. To activate *Superuser
mode*, first, activate :ref:`developer mode <developer-mode>`. Then, navigate to the *debug* menu,
represented by a :icon:`fa-bug` :guilabel:`(debug)` icon, located in the top banner.

Finally, towards the bottom of the menu, click :guilabel:`Become Superuser`.

.. important::
   Only users with *Settings* access for the *Administration* section of the *Access Rights* (in
   their user profile) are allowed to log in to *Superuser mode*.

.. danger::
   *Superuser mode* allows for circumvention of record rules and access rights, and therefore,
   should be exercised with extreme caution.

   Upon exiting *Superuser mode*, users may be locked out of the database, due to changes that were
   made. This can cause *impotent admin*, or an administrator without the ability to change access
   rights/settings.

   In this case contact Odoo Support here: `new help ticket <https://www.odoo.com/help>`_. The
   support team is able to restore access using a support login.

To leave *Superuser mode*, log out of the account, by navigating to the upper-right corner, and
clicking on the :guilabel:`OdooBot` username. Then, select the :guilabel:`Log out` option.

.. tip::
   An alternative way to activate *Superuser mode* is to login as a superuser. To do that, navigate
   to the login screen, and enter the appropriate :guilabel:`Email` and :guilabel:`Password`.

   Instead of clicking :guilabel:`Login`, click :guilabel:`Log in as superuser`.


==================================================
SECTION: azure.rst
PATH: applications/general/users/azure.rst
==================================================

======================================
Microsoft Azure sign-in authentication
======================================

The Microsoft Azure OAuth sign-in authentication is a useful function that allows Odoo users to sign
in to their database with their Microsoft Azure account.

This is particularly helpful if the organization uses Azure Workspace, and wants employees within
the organization to connect to Odoo using their Microsoft Accounts.

.. warning::
   Databases hosted on Odoo.com should not use OAuth login for the owner or administrator of the
   database as it would unlink the database from their Odoo.com account. If OAuth is set up for that
   user, the database will no longer be able to be duplicated, renamed, or otherwise managed from
   the Odoo.com portal.

.. seealso::
   - :doc:`../../productivity/calendar/outlook`
   - :doc:`../email_communication/azure_oauth`

Configuration
=============

Integrating the Microsoft sign-in function requires configuration on Microsoft and Odoo.

Odoo System Parameter
---------------------

First activate the :ref:`developer mode <developer-mode>`, and then go to :menuselection:`Settings
--> Technical --> System Parameters`.

Click :guilabel:`Create` and on the new/blank form that appears, add the following system parameter
`auth_oauth.authorization_header` to the :guilabel:`Key` field, and set the :guilabel:`Value` to
`1`. Then click :guilabel:`Save` to finish.

Microsoft Azure dashboard
-------------------------

Create a new application
~~~~~~~~~~~~~~~~~~~~~~~~

Now that the system parameters in Odoo have been set up, it's time to create a corresponding
application inside of Microsoft Azure. To get started creating the new application, go to
`Microsoft's Azure Portal <https://portal.azure.com/>`_. Log in with the :guilabel:`Microsoft
Outlook Office 365` account if there is one, otherwise, log in with a personal :guilabel:`Microsoft
account`.

.. important::
   A user with administrative access to the *Azure Settings* must connect and perform the following
   configuration steps below.

Next, navigate to the section labeled :guilabel:`Manage Microsoft Entra ID` (formally *Azure Active
Directory*). The location of this link is usually in the center of the page.

Now, click on the :guilabel:`Add (+)` icon, located in the top menu, and then select :guilabel:`App
registration` from the drop-down menu. On the :guilabel:`Register an application` screen, rename the
:guilabel:`Name` field to `Odoo Login OAuth` or a similarly recognizable title. Under the
:guilabel:`Supported account types` section select the option for :guilabel:`Accounts in this
organizational directory only (Default Directory only - Single tenant)`.

.. warning::
   The :guilabel:`Supported account types` can vary by Microsoft account type and end use of the
   OAuth. For example: Is the login meant for internal users within one organization or is it meant
   for customer portal access? The above configuration is used for internal users in an
   organization.

   Choose :guilabel:`Personal Microsoft accounts only` if the target audience is meant for portal
   users. Choose :guilabel:`Accounts in this organizational directory only (Default Directory only -
   Single tenant)` if the target audience is company users.

Under the :guilabel:`Redirect URL` section, select :guilabel:`Web` as the platform, and then input
`https://<odoo base url>/auth_oauth/signin` in the :guilabel:`URL` field. The Odoo base :abbr:`URL
(Uniform Resource Locator)` is the canonical domain at which your Odoo instance can be reached (e.g.
*mydatabase.odoo.com* if you are hosted on Odoo.com) in the :guilabel:`URL` field. Then, click
:guilabel:`Register`, and the application is created.

Authentication
~~~~~~~~~~~~~~

Edit the new app's authentication by clicking on the :guilabel:`Authentication` menu item in the
left menu after being redirected to the application's settings from the previous step.

Next, the type of *tokens* needed for the OAuth authentication will be chosen. These are not
currency tokens but rather authentication tokens that are passed between Microsoft and Odoo.
Therefore, there is no cost for these tokens; they are used merely for authentication purposes
between two :abbr:`APIs (application programming interfaces)`. Select the tokens that should be
issued by the authorization endpoint by scrolling down the screen and check the boxes labeled:
:guilabel:`Access tokens (used for implicit flows)` and :guilabel:`ID tokens (used for implicit and
hybrid flows)`.

.. image:: azure/authentication-tokens.png
   :align: center
   :alt: Authentication settings and endpoint tokens.

Click :guilabel:`Save` to ensure these settings are saved.

Gather credentials
~~~~~~~~~~~~~~~~~~

With the application created and authenticated in the Microsoft Azure console, credentials will be
gathered next. To do so, click on the :guilabel:`Overview` menu item in the left-hand column. Select
and copy the :guilabel:`Application (client) ID` in the window that appears. Paste this credential
to a clipboard / notepad, as this credential will be used in the Odoo configuration later.

After finishing this step, click on :guilabel:`Endpoints` on the top menu and click the *copy icon*
next to :guilabel:`OAuth 2.0 authorization endpoint (v2)` field. Paste this value in the clipboard /
notepad.

.. image:: azure/overview-azure-app.png
   :align: center
   :alt: Application ID and OAuth 2.0 authorization endpoint (v2) credentials.

Odoo setup
----------

Finally, the last step in the Microsoft Azure OAuth configuration is to configure some settings in
Odoo. Navigate to :menuselection:`Settings --> Integrations --> OAuth Authentication` and check the
box to activate the OAuth login feature. Click :guilabel:`Save` to ensure the progress is saved.
Then, sign in to the database once the login screen loads.

Once again, navigate to :menuselection:`Settings --> Integrations --> OAuth Authentication` and
click on :guilabel:`OAuth Providers`. Now, select :guilabel:`New` in the upper-left corner and name
the provider `Azure`.

Paste the :guilabel:`Application (client) ID` from the previous section into the :guilabel:`Client
ID` field. After completing this, paste the new :guilabel:`OAuth 2.0 authorization endpoint (v2)`
value into the :guilabel:`Authorization URL` field.

For the :guilabel:`UserInfo URL` field, paste the following :abbr:`URL (Uniform Resource Locator)`:
`https://graph.microsoft.com/oidc/userinfo`

In the :guilabel:`Scope` field, paste the following value: `openid profile email`. Next, the Windows
logo can be used as the CSS class on the login screen by entering the following value: `fa fa-fw
fa-windows`, in the :guilabel:`CSS class` field.

Check the box next to the :guilabel:`Allowed` field to enable the OAuth provider. Finally, add
`Microsoft Azure` to the :guilabel:`Login button label` field. This text will appear next to the
Windows logo on the login page.

.. image:: azure/odoo-provider-settings.png
   :align: center
   :alt: Odoo provider setup in the Settings application.

:guilabel:`Save` the changes to complete the OAuth authentication setup in Odoo.

User experience flows
---------------------

For a user to log in to Odoo using Microsoft Azure, the user must be on the :menuselection:`Odoo
password reset page`. This is the only way that Odoo is able to link the Microsoft Azure account and
allow the user to log in.

.. note::
   Existing users must :ref:`reset their password <users/reset-password>` to access the
   :menuselection:`Odoo password reset page`. New Odoo users must click the new user invitation link
   that was sent via email, then click on :guilabel:`Microsoft Azure`. Users should not set a new
   password.

To sign in to Odoo for the first time using the Microsoft Azure OAuth provider, navigate to the
:menuselection:`Odoo password reset page` (using the new user invitation link). A password reset
page should appear. Then, click on the option labeled :guilabel:`Microsoft Azure`. The page will
redirect to the Microsoft login page.

.. image:: azure/odoo-login.png
   :align: center
   :alt: Microsoft Outlook login page.

Enter the :guilabel:`Microsoft Email Address` and click :guilabel:`Next`. Follow the process to sign
in to the account. Should :abbr:`2FA (Two Factor Authentication)` be turned on, then an extra step
may be required.

.. image:: azure/login-next.png
   :align: center
   :alt: Enter Microsoft login credentials.

Finally, after logging in to the account, the page will redirect to a permissions page where the
user will be prompted to :guilabel:`Accept` the conditions that the Odoo application will access
their Microsoft information.

.. image:: azure/accept-access.png
   :align: center
   :alt: Accept Microsoft conditions for permission access to your account information.


==================================================
SECTION: facebook.rst
PATH: applications/general/users/facebook.rst
==================================================

===============================
Facebook sign-in authentication
===============================

The *Facebook* OAuth sign-in function allows Odoo users to sign in to their database with their
Facebook account.

.. danger::
   Databases housed on Odoo.com should **not** use OAuth login for the owner or administrator of the
   database, as it would unlink the database from their Odoo.com account. If OAuth is setup for
   that user, the database can no longer be duplicated, renamed, or otherwise managed from the
   Odoo.com portal.

Meta for Developers setup
=========================

Go to `Meta for Developers <https://developers.facebook.com/>`_ and log in. Click :guilabel:`My
Apps`. On the :guilabel:`Apps` page, click :guilabel:`Create App`.

On the :guilabel:`Use cases` page, select :guilabel:`Authenticate and request data from users with
Facebook Login`, then click :guilabel:`Next`.

In the :guilabel:`Add an app name` field, enter `Odoo Login OAuth`, or a similar title.

.. note::
   The :guilabel:`App contact email` automatically defaults to the email address associated with the
   Meta account. If this email address is not regularly monitored, it may be wise to use another
   email address.

Click :guilabel:`Next`. Review the :guilabel:`Publishing requirements`, the :guilabel:`Meta
Platform Terms`, and :guilabel:`Developer Policies`. Then, click :guilabel:`Create app`.

.. important::
   Clicking :guilabel:`Create app` may require password re-entry.

Customize app
-------------

After the new app is created, the :guilabel:`Dashboard` page appears, with a list of steps to be
completed before the app can be published. From here, click :guilabel:`Customize adding a Facebook
Login button`.

.. image:: facebook/app-requirements.png
   :align: center
   :alt: The App Dashboard in the Meta for developers platform.

On the :guilabel:`Customize` page, click :guilabel:`Settings`.

In the :guilabel:`Valid OAuth Redirect URIs` field, enter `https://<odoo base
url>/auth_oauth/signin`, replacing `<odoo base url>` with the URL of the applicable database.

.. example::
   If a database has the URL `https://example.odoo.com`, the URL
   `https://example.odoo.com/auth_oauth/signin` would be entered in the :guilabel:`Valid OAuth
   Redirect URIs` field.

Click :guilabel:`Save changes` when finished.

Configure settings
------------------

At the far left of the page, click :menuselection:`App settings --> Basic`. This page contains
additional settings that are required before the app can be submitted for approval.

In the :guilabel:`Privacy Policy URL` field, enter `https://www.odoo.com/privacy`.

.. note::
   `<https://www.odoo.com/privacy>`_ is the default privacy policy for databases hosted on Odoo.com.

Click the :guilabel:`App Icon` field to open a file upload window. From here, select and upload an
app icon.

In the :guilabel:`User data deletion` field, enter
`https://www.odoo.com/documentation/17.0/administration/odoo_accounts.html`.

.. note::
   This document provides instructions on how a user can delete their Odoo account.

Lastly, click the :guilabel:`Category` field, and select :guilabel:`Business and pages` from the
drop-down menu.

Click :guilabel:`Save changes`.

.. image:: facebook/app-id.png
   :align: center
   :alt: An exampled of the Basic Settings page in the Meta for developers platform.

.. _users/app-id:

Capture app ID
--------------

After the app is created, and approved, select and copy the :guilabel:`App ID`. Paste this
information on a clipboard or notepad file, as it is needed in a later step to complete the setup.

Publish
-------

On the left side of the page, click :guilabel:`Publish`. Depending on the status of the connected
Facebook account, additional verification and testing steps may be required, and are listed on this
page.

After reviewing the information, click :guilabel:`Publish`.

.. seealso::
   Additional information regarding Meta App Development, including further details on building,
   testing, and use cases, can be found in the `Meta for developers documentation
   <https://developers.facebook.com/docs/development>`_.

Odoo setup
==========

First, activate :ref:`Developer mode <developer-mode/activation>`.

Navigate to the :menuselection:`Settings app`, and scroll down to the :guilabel:`Integrations`
section. There, tick the checkbox labeled, :guilabel:`OAuth Authentication`. Click :guilabel:`Save`.

.. image:: facebook/enable-oauth.png
   :align: center
   :alt: The enable OAuth setting in the Settings app.

Then, sign in to the database once the login screen loads.

After successfully logging in, navigate to :menuselection:`Settings app --> Users & Companies -->
OAuth Providers`. Click :guilabel:`Facebook Graph`.

In the :guilabel:`Client ID` field, enter the :ref:`App ID <users/app-id>` from the previous
section, then tick the :guilabel:`Allowed` checkbox.

.. image:: facebook/facebook-graph.png
   :align: center
   :alt: The Facebook Graph record in Odoo.


==================================================
SECTION: google.rst
PATH: applications/general/users/google.rst
==================================================

=============================
Google Sign-In Authentication
=============================

The *Google Sign-In Authentication* is a useful function that allows Odoo users to sign in to their
database with their Google account.

This is particularly helpful if the organization uses Google Workspace, and wants employees within
the organization to connect to Odoo using their Google Accounts.

.. warning::
   Databases hosted on Odoo.com should not use Oauth login for the owner or administrator of the
   database as it would unlink the database from their Odoo.com account. If Oauth is set up for that
   user, the database will no longer be able to be duplicated, renamed or otherwise managed from
   the Odoo.com portal.

.. seealso::
   - :doc:`/applications/productivity/calendar/google`
   - :doc:`../email_communication/google_oauth`

.. _google-sign-in/configuration:

Configuration
=============

The integration of the Google sign-in function requires configuration both on Google *and* Odoo.

.. _google-sign-in/api:

Google API Dashboard
--------------------

#. Go to the `Google API Dashboard <https://console.developers.google.com/>`_.
#. Make sure the right project is opened. If there isn't a project yet, click on :guilabel:`Create
   Project`, fill out the project name and other details of the company, and click on
   :guilabel:`Create`.

   .. image:: google/new-project-details.png
      :align: center
      :alt: Filling out the details of a new project.

   .. tip::
      Choose the name of the company from the drop-down menu.

.. _google-sign-in/oauth:

OAuth consent screen
~~~~~~~~~~~~~~~~~~~~

#. On the left side menu, click on :menuselection:`OAuth consent screen`.

   .. image:: google/consent-selection.png
      :align: center
      :alt: Google OAuth consent selection menu.

#. Choose one of the options (:guilabel:`Internal` / :guilabel:`External`), and click on
   :guilabel:`Create`.

   .. image:: google/consent.png
      :align: center
      :alt: Choice of a user type in OAuth consent.

   .. warning::
      *Personal* Gmail Accounts are only allowed to be **External** User Type, which means Google
      may require an approval, or for *Scopes* to be added on. However, using a *Google WorkSpace*
      account allows for **Internal** User Type to be used.

      Note, as well, that while the API connection is in the *External* testing mode, then no
      approval is necessary from Google. User limits in this testing mode is set to 100 users.

#. Fill out the required details and domain info, then click on :guilabel:`Save and Continue`.
#. On the :menuselection:`Scopes` page, leave all fields as is, and click on :guilabel:`Save and
   Continue`.
#. Next, if continuing in testing mode (*External*), add the email addresses being configured under
   the :guilabel:`Test users` step by clicking on :guilabel:`Add Users`, and then the
   :guilabel:`Save and Continue` button. A summary of the app registration appears.
#. Finally, scroll to the bottom, and click on :guilabel:`Back to Dashboard`.

.. _google-sign-in/credentials:

Credentials
~~~~~~~~~~~

#. On the left side menu, click on :menuselection:`Credentials`.

   .. image:: google/credentials-button.png
      :align: center
      :alt: Credentials button menu.

#. Click on :guilabel:`Create Credentials`, and select :guilabel:`OAuth client ID`.

   .. image:: google/client-id.png
      :align: center
      :alt: OAuth client id selection.

#. Select :guilabel:`Web Application` as the :guilabel:`Application Type`. Now, configure the
   allowed pages on which Odoo will be redirected.

   In order to achieve this, in the :guilabel:`Authorized redirect URIs` field, enter the database's
   domain immediately followed by `/auth_oauth/signin`. For example:
   `https://mydomain.odoo.com/auth_oauth/signin`, then click on :guilabel:`Create`.

#. Now that the *OAuth client* has been created, a screen will appear with the :guilabel:`Client ID`
   and :guilabel:`Client Secret`. Copy the :guilabel:`Client ID` for later, as it will be necessary
   for the configuration in Odoo, which will be covered in the following steps.

.. _google-sign-in/auth-odoo:

Google Authentication on Odoo
-----------------------------

.. _google-sign-in/client-id:

Retrieve the Client ID
~~~~~~~~~~~~~~~~~~~~~~

Once the previous steps are complete, two keys are generated on the Google API Dashboard:
:guilabel:`Client ID` and :guilabel:`Client Secret`. Copy the :guilabel:`Client ID`.

.. image:: google/secret-ids.png
   :align: center
   :alt: Google OAuth Client ID generated.

.. _google-sign-in/odoo-activation:

Odoo activation
~~~~~~~~~~~~~~~

#. Go to :menuselection:`Odoo General Settings --> Integrations` and activate :guilabel:`OAuth
   Authentication`.

   .. note::
      Odoo may prompt the user to log-in again after this step.

#. Go back to :menuselection:`General Settings --> Integrations --> OAuth Authentication`, activate
   the selection and :guilabel:`Save`. Next, return to :menuselection:`General Settings -->
   Integrations --> Google Authentication` and activate the selection. Then fill out the
   :guilabel:`Client ID` with the key from the Google API Dashboard, and :guilabel:`Save`.

   .. image:: google/odoo-client-id.png
      :align: center
      :alt: Filling out the client id in Odoo settings.

   .. note::
      Google OAuth2 configuration can also be accessed by clicking on :guilabel:`OAuth Providers`
      under the :guilabel:`OAuth Authentication` heading in :menuselection:`Integrations`.

.. _google-sign-in/log-in:

Log in to Odoo with Google
==========================

To link the Google account to the Odoo profile, click on :guilabel:`Log in with Google` when first
logging into Odoo.

   .. image:: google/first-login.png
      :align: center
      :alt: Reset password screen with "Log in with Google" button.


Existing users must :ref:`reset their password <users/reset-password>` to access the
:menuselection:`Reset Password` page, while new users can directly click on :guilabel:`Log in with
Google`, instead of choosing a new password.

.. seealso::
   - `Google Cloud Platform Console Help - Setting up OAuth 2.0
     <https://support.google.com/cloud/answer/6158849>`_


==================================================
SECTION: language.rst
PATH: applications/general/users/language.rst
==================================================

================
Change languages
================

You select the language of your database upon its creation. However, you can
:ref:`add <language/add>` and :ref:`install <language/install>` additional languages to allow users
to manage the database in another language or to
:doc:`translate <../../websites/website/configuration/translate>` your website.

.. _language/add:

Add languages
=============

To download additional languages:

- either click the profile icon in the upper-right corner, select :menuselection:`My profile`, and
  click the :icon:`fa-globe` (:guilabel:`globe`) icon next to the :guilabel:`Language` field;
- or go to the **Settings** app, and click :guilabel:`Add Languages` in the :guilabel:`Languages`
  section.

You can then select the languages you want from the dropdown menu and click :guilabel:`Add`.

.. seealso::
   :doc:`Translations <../../websites/website/configuration/translate>`

.. _language/install:

Change languages
================

To select their preferred language, users can click the profile icon in the upper-right corner, go
to :menuselection:`My profile`, and select a :guilabel:`Language` in the dropdown list.

Change another user's language
------------------------------

To change the database language for a user:

#. Go to the :guilabel:`Settings` app and click :guilabel:`Manage Users` in the :guilabel:`Users`
   section.

#. Click on the user whose language you want to change.

#. Go to the :guilabel:`Preferences` tab and select a previously
   :ref:`installed language <language/add>` from the :guilabel:`Language` dropdown menu.

.. note::
   Emails and documents will be sent to the user in the selected language.


==================================================
SECTION: ldap.rst
PATH: applications/general/users/ldap.rst
==================================================

===================
LDAP authentication
===================

To configure :abbr:`LDAP (Lightweight Directory Access Protocol)` authentication in Odoo:

#. Open the Settings app, scroll down to the :guilabel:`Integrations` section, and enable
   :guilabel:`LDAP Authentication`.
#. Click :guilabel:`Save`, then go back to the :guilabel:`Integrations` section and click
   :guilabel:`LDAP Server`.
#. In the :guilabel:`Set up your LDAP Server` list, click :guilabel:`New`, then select the required
   company in the dropdown list.
#. In the :guilabel:`Server information` section, enter the server's IP address and port in the
   :guilabel:`LDAP server address` and :guilabel:`LDAP Server port` fields, respectively.
#. Enable :guilabel:`Use TLS` to request secure TLS/SSL encryption when connecting to the LDAP
   server, providing the server has StartTLS enabled.
#. In the :guilabel:`Login information` section, enter the ID and password of the account used to
   query the server in the :guilabel:`LDAP binddn` and :guilabel:`LDAP password` fields,
   respectively. If the fields are left empty, the server will perform the query anonymously.
#. In the :guilabel:`Process parameter` section, enter:

   - the LDAP server's name in the :guilabel:`LDAP base` field using LDAP format
     (e.g., ``dc=example,dc=com``);
   - ``uid=%s`` in the :guilabel:`LDAP filter` field.

#. In the :guilabel:`User information` section:

   - Enable :guilabel:`Create user` to create a user profile in Odoo the first time someone logs in
     using LDAP;
   - Select the :guilabel:`User template` to be used to create the new user profiles. If no template
     is selected, the administrator's profile is used.

.. note::
   When using Microsoft Active Directory (AD) for LDAP authentication, if users experience login
   issues despite using valid credentials, create a new system parameter to disable referral chasing
   in the LDAP client:

    #. :ref:`Activate the developer mode. <developer-mode>`
    #. Go to :menuselection:`Settings --> Technical --> System Parameters` and click
       :guilabel:`New`.
    #. Fill in the fields:

       - :guilabel:`Key`: ``auth_ldap.disable_chase_ref``
       - :guilabel:`Value`: ``True``


==================================================
SECTION: portal_access.rst
PATH: applications/general/users/user_portals/portal_access.rst
==================================================

======================
Granting portal access
======================

For the customers and vendors of a business to begin using a user portal, they must first be granted
access by the business. The process to do this begins in the **Contacts** application.

Adding portal access to a contact
=================================

From the main Odoo dashboard, open the :guilabel:`Contacts` application. If the contact to be
granted access is not yet in the database, create an entry for them by clicking the :guilabel:`New`
button and entering their details. Otherwise, choose an existing contact, then click on the
:icon:`fa-gear` :guilabel:`(Actions)` drop-down menu and select :guilabel:`Grant portal access`.

.. image:: portal_access/grant-portal-access.png
   :alt: Use the Contacts application to give portal access to users.

This brings up the :guilabel:`Portal Access Management` window, which has three fields:

- :guilabel:`Contact`: This field is automatically populated with the name on the contact.
- :guilabel:`Email`: This field shows the contact's email address used to log into the portal.
- :guilabel:`Latest Authentication`: The last time the user accessed the portal appears on this
  line. If the user has never accessed the portal, it is blank.

To grant portal access, first enter the email address the contact will use to log into the portal.
This may have been automatically entered by the system if an existing contact is being granted
access. Then click the :guilabel:`Grant Access` button to finish.

.. image:: portal_access/portal-access-management.png
   :alt: Grant access in the Portal Access Management window.

.. note::
   When portal access is granted to a Company, all contacts affiliated with that company will be
   granted portal access. Indiviual contacts can be removed as needed.

Granting accesss to multiple users at once
------------------------------------------

To grant portal access to multiple users from a single company at once, navigate to the contact
listing for that company, then click :menuselection:`Action --> Grant portal access` to view a list
of the company's related contacts. Click :guilabel:`Grant Access` for each contact that needs portal
access. An email is sent to the specified email address, indicating that the contact is now a portal
user for that Odoo database.

.. image:: portal_access/multiple-user-access.png
   :alt: Grant access to multiple users at once.

Revoking portal access
----------------------

Some situations may require revoking an individual's portal access, such as when they retire or
leave a company. Portal access can be revoked from a contact at any time by navigating to a contact,
clicking :menuselection:`Action --> Grant portal access`, and then clicking :guilabel:`Revoke
Access`.

.. image:: portal_access/revoke-user-access.png
   :alt: Revoke access from a user.


==================================================
SECTION: updating_portal_info.rst
PATH: applications/general/users/user_portals/updating_portal_info.rst
==================================================

====================
Updating portal info
====================

There may be times when a user would like to make changes to their contact, security, or payment
information connected to their portal account. Portal users can update most information by logging
into their account and making the changes themselves, but some updates may require a user with
administrator access rights.

Updating user information begins with logging into the user portal. Once a user has logged in and is
on the portal dashboard, they can begin making changes to their information.

.. note::
   Passwords for portal users and Odoo.com users remain separate, even if the same email address is
   used.

User-driven updates
===================

Update contact info
-------------------

From the portal dashboard, click the :icon:`fa-pencil` :guilabel:`Edit information` button under the
user contact information. This brings up a new page where contact information can be updated.

On this screen, users can update their:

- :guilabel:`Your name`
- :guilabel:`Email`
- :guilabel:`Phone`
- Company name
- Mailing address
- Invoice delivery preference

Additonal fields and descriptions may appear depending on the user's location and the location of
the company that created the portal.

Once users have updated their information, they can click :guilabel:`Save Address` to save any
changes they've made or :guilabel:`Discard` to return to the portal dashboard. By default, the only
fields that need to be filled out to save users' information are their names, emails, phone numbers,
and addresses.

.. important::
   Once the system has generated any documents for a user's account, their country **cannot** be
   updated. If users need to update their country at that point, they must reach out to a user with
   administrator access rights.

.. _users-portal-payment-methods:

Update payment info
-------------------

From the portal dashboard, click the :guilabel:`Payment methods` button. This brings up a new page
that shows any saved payment methods.

To add a new payment option, choose from the available payment methods, enter the new payment
information, and click :guilabel:`Save` to save the details. To remove a payment option, click the
:icon:`fa-trash` :guilabel:`(Delete payment method)` icon, then click the :guilabel:`Confirm
Deletion` button.

.. important::
   Users that need to update payment information **must** delete any existing information and enter
   their new or updated info. Payment information **cannot** be edited and must be re-entered.

Update passwords and manage security
------------------------------------

From the portal dashboard, click the :guilabel:`Connection & Security` button. This brings up a new
page with five sections. The following sections can each be edited and updated.

Change Password
~~~~~~~~~~~~~~~

Here the user can enter their current password and a new password they wish to change to. The new
password can be saved by clicking :guilabel:`Change Password`.

Two-factor authentication
~~~~~~~~~~~~~~~~~~~~~~~~~

The user's currrent 2FA status is shownn as an alert. If 2FA is not enabled, an :guilabel:`Enable
two-factor authentication` link appears. If it is enabled, a link reading :guilabel:`Disable
two-factor authentication` appears instead.

.. tip::
   Clicking the :icon:`fa-info-circle` :guilabel:`(Documentation)` icon opens a page that explains
   how two-factor authentication (2FA) works.

Passkeys
~~~~~~~~

Click :guilabel:`Add Passkey` to create a passkey that simplifies the login process. Any previously
created passkeys are shown here, alongside information on when they were created and when they were
last used. When creating a passkey, Odoo asks for a password to confirm account ownership before
allowing a passkey to be set. Once account ownership has been confirmed, the passkey must be named
to differentiate it from other passkeys. Clicking :guilabel:`Create` brings up a browser prompt to
create the passkey. Complete the passkey creation process in the browser. They can be renamed by
clicking the :icon:`fa-pencil` :guilabel:`(pencil)` button or deleted by clicking their
:icon:`fa-trash` :guilabel:`(trash can)` button.

Revoke All Sessions
~~~~~~~~~~~~~~~~~~~

Clicking the :guilabel:`Log out from all devices` button brings up a pop-up prompting the user to
enter their password. Once they do so and click :guilabel:`Confirm Password`, the system logs them
out of all sessions except for the current one.

Delete Account
~~~~~~~~~~~~~~

Clicking the :guilabel:`Delete Account` button brings up a pop-up to completely and irrevocably
delete the user's account. Users must enter their password and their login name to complete the
process. They can also choose to have their email address and phone number added to an internal
block list to prevent any future communication.

Administrator-driven updates
============================

Accessing user information as an administrator
----------------------------------------------

First, navigate to :menuselection:`Settings app --> Users` and click :icon:`oi-arrow-right`
:guilabel:`Manage Users` Then, click the :icon:`fa-times` :guilabel:`(Remove)` icon to clear the
:guilabel:`Internal Users` search filter and use the :icon:`fa-sort-desc` :guilabel:`(Toggle Search
Panel)` button to add :guilabel:`Portal Users` as a filter. After making this selection, search for
and open the portal user that needs to be edited.

Update email address
~~~~~~~~~~~~~~~~~~~~

The :icon:`fa-envelope` :guilabel:`(Email)` field shows the email address the user uses to log into
the Odoo database. A user with administrator access rights can make any necessary changes by
clicking into the field and updating the user's email address.

.. note::
   Users **cannot** change their own login usernames. Changing the :icon:`fa-key`
   :guilabel:`(Login)` only changes the *username* on the user's portal login. Users' email
   addresses can be changed in the :guilabel:`Manage Users` module, the **Contacts** app, or by the
   users themselves in the portal.

Update passwords
~~~~~~~~~~~~~~~~

Users' security settings can be adjusted under the :guilabel:`Security` tab on their Contact form.
Under the :guilabel:`Security` tab, there are options to:

- :guilabel:`Change password` Click the :guilabel:`Change password` button to bring up a form that
  shows what logins the user has access to and enter a new password. Click :guilabel:`Change
  Password` to save the password or click :guilabel:`Cancel` to return to the previous screen.
- :guilabel:`Invite to use 2FA`. Click the :guilabel:`Invite to use 2FA` button to bring up a pop-up
  notification that an invitation to use two-factor authentication was sent.

.. seealso::
   - :doc:`Access rights </applications/general/users/access_rights>`
   - :doc:`Portal access documentation <portal_access>`


==================================================
SECTION: user_portals.rst
PATH: applications/general/users/user_portals.rst
==================================================

:show-content:

============
User portals
============

.. _user_portals/main:

The user portal is a module available by default in Odoo. Users, both customers and vendors, can be
granted :doc:`access to the portal </applications/general/users/access_rights>` by businesses in
order to view certain documents or information within an Odoo database. For example, some common use
cases for providing portal access include allowing customers and vendors to:

- Follow, view, and pay orders
- Follow, download, or pay invoices, including partial payments and down payments
- Manage payment methods
- Manage subscriptions
- Add, remove, or modify their addresses
- Configure connection parameters between Odoo and 3rd-party services

.. note::
   Portal users only have read/view access, and will **not** be able to edit any documents in the
   database.

.. toctree::
   :titlesonly:

   user_portals/portal_access
   user_portals/updating_portal_info
