

==================================================
SECTION: accounting.rst
PATH: applications/finance/accounting.rst
==================================================

:show-content:

========================
Accounting and Invoicing
========================

Odoo Invoicing is a standalone app designed to create invoices, send them to customers, and manage
payments. It also handles flows involving vendor bills. On the other hand, the Accounting app is a
comprehensive accounting solution that allows the same actions and includes additional features such
as standard financial reports, bank reconciliation, budgets, asset management, and more.

.. seealso::
   `Odoo Tutorials: Accounting <https://www.odoo.com/slides/accounting-19>`_

.. cards::

   .. card:: Get started
      :target: accounting/get_started
      :large:

      Basic concepts of accounting and initial setup of your accounting

   .. card:: Taxes
      :target: accounting/taxes

      Taxes, fiscal positions, and integrations

   .. card:: Customer invoices
      :target: accounting/customer_invoices

      Customer invoices, payment terms, and electronic invoicing

   .. card:: Vendor bills
      :target: accounting/vendor_bills

      Vendor bills, assets, and invoice digitization (OCR)

   .. card:: Payments
      :target: accounting/payments

      Invoices and bills payments (online, checks, batches) and follow-up on invoices

   .. card:: Bank and cash accounts
      :target: accounting/bank

      Bank synchronization, reconciliation, and cash registers

   .. card:: Reporting
      :target: accounting/reporting

      Reporting, declarations, and analytic accounting

.. _accounting/double-entry-booking:

Double-entry bookkeeping
========================

Odoo automatically creates all the underlying journal entries for all accounting transactions (e.g.,
customer invoices, vendor bills, point-of-sales orders, expenses, inventory valuations, etc.).

Odoo uses the double-entry bookkeeping system, whereby every entry needs a corresponding and
opposite counterpart in a different account, with one account debited and the other credited.
It ensures that all transactions are recorded accurately and consistently and that the accounts
always balance.

.. seealso::
   :doc:`Accounting Cheat Sheet <accounting/get_started/cheat_sheet>`

.. _accounting/accrual-cash:

Accrual and cash basis
======================

Both accrual and cash basis accounting are supported in Odoo. This allows reporting income and
expense either when the transaction occurs (accrual basis) or when the payment is made or received
(cash basis).

.. seealso::
   :doc:`Cash basis <accounting/taxes/cash_basis>`

.. _accounting/multi-company:

Multi-company
=============

:doc:`Multiple companies <../general/companies/multi_company>` can be managed within the same
database. Each company has its own :doc:`chart of accounts
<accounting/get_started/chart_of_accounts>`, but :ref:`accounts can be shared
<consolidation_account_mapping>`, which is useful when viewing consolidation reports. Users can view
records and reports from multiple companies simultaneously but can only work on a single company's
accounting at a time.

.. seealso::
   - :doc:`Multi-company </applications/general/companies/multi_company>`
   - :ref:`Inter-company transactions <general/multi-company/inter-company-transactions>`

.. _accounting/multi-currency:

Multi-currency environment
==========================

A :doc:`multi-currency <accounting/get_started/multi_currency>` environment with an automated
exchange rate to ease international transactions is available in Odoo. Every transaction is recorded
in the company's default currency; for transactions occurring in another currency, Odoo stores both
the value in the company's currency and the transactions' currency value. Odoo generates currency
gains and losses after reconciling the journal items.

.. seealso::
   :doc:`Manage a bank in a foreign currency <accounting/bank/foreign_currency>`

.. _accounting/branches:

Branches
========

Parent :doc:`companies </applications/general/companies>` and their :ref:`branches
<general/companies/branches>` can be managed within a single database, operating under shared
accounting and reporting rules, including the following:

- The parent company’s :doc:`chart of accounts <accounting/get_started/chart_of_accounts>`,
  :doc:`main currency <accounting/get_started/multi_currency>`, and :doc:`taxes <accounting/taxes>`
  apply to all branches.
- Branches can manage their own dedicated journals and related records.
- The parent company manages a common :ref:`fiscal period <accounting/year-end/fiscal-years>`, so
  its :ref:`lock and closing dates <accounting/year-end/lock-everything-date>` apply across all
  branches. However, branches may set earlier lock dates if needed.
- The parent company can access all :doc:`reports <accounting/reporting>`, :doc:`invoices
  <accounting/customer_invoices>`, :doc:`bills <accounting/vendor_bills>`, etc., from its branches,
  while each branch can only view its own data.

.. note::
   The :doc:`Fiscal localization <fiscal_localizations>` package is set on the parent company.

.. warning::
   Adding a branch to a company enables :doc:`multi-company functions
   <../general/companies/multi_company>`.

   For more information, refer to `Odoo's pricing page <https://www.odoo.com/pricing-plan>`_ or
   contact your Odoo account manager.

.. _accounting/branch/reporting:

Reporting
---------

The parent company consolidates accounting operations from all branches, providing a centralized
view of :doc:`financial reports <accounting/reporting>`, such as profit and loss or balance sheets.

.. _accounting/branch/vat:

VAT
---

Each company and branch must be configured with its own legal information, including a VAT number
when applicable. Depending on the structure, branches may share the parent company's VAT number or
have their own, resulting in a common or separate :doc:`VAT return
<accounting/reporting/tax_returns>`.

This flexible setup allows users to generate individual reports and tax returns for each entity if
needed.

.. _accounting/international-standards:

International standards
=======================

Odoo Accounting supports over 100 countries and provides standardized features and mechanisms
applicable across all regions. Country-specific modules are included to comply with local accounting
regulations. :doc:`Fiscal localizations <fiscal_localizations>` handle regional requirements, such
as charts of accounts, taxes, or any other legal obligations.

.. _accounting/accounts-receivable-payable:

Accounts receivable and payable
===============================

By default, one account is designated for accounts receivable entries and another for accounts
payable entries. As transactions are linked to **contacts**, it is possible to run a report per
customer, vendor, or supplier.

The **Partner Ledger** report displays the balance of customers and suppliers. To access it, go to
:menuselection:`Accounting --> Reporting --> Partner Ledger`.

.. _accounting/reporting:

Reporting
=========

The following financial :doc:`reports <accounting/reporting>` are available and updated in
real-time:

+-----------------------------------------------+
|               Financial reports               |
+============+==================================+
| Statement  | Balance sheet                    |
|            +----------------------------------+
|            | Profit and loss                  |
|            +----------------------------------+
|            | Cash flow statement              |
|            +----------------------------------+
|            | Executive summary                |
|            +----------------------------------+
|            | Tax return                       |
|            +----------------------------------+
|            | EC sales list                    |
+------------+----------------------------------+
| Audit      | General ledger                   |
|            +----------------------------------+
|            | Trial balance                    |
|            +----------------------------------+
|            | Journal audit                    |
|            +----------------------------------+
|            | Intrastat report                 |
|            +----------------------------------+
|            | Check register                   |
+------------+----------------------------------+
| Partner    | Partner ledger                   |
|            +----------------------------------+
|            | Aged receivable                  |
|            +----------------------------------+
|            | Aged payable                     |
+------------+----------------------------------+
| Management | Invoice analysis                 |
|            +----------------------------------+
|            | Analytic report                  |
|            +----------------------------------+
|            | Audit trail                      |
|            +----------------------------------+
|            | Budget report                    |
|            +----------------------------------+
|            | Unrealized currency gains/losses |
|            +----------------------------------+
|            | Deferred revenue                 |
|            +----------------------------------+
|            | Deferred expense                 |
|            +----------------------------------+
|            | Depreciation schedule            |
|            +----------------------------------+
|            | Disallowed expenses              |
|            +----------------------------------+
|            | Loans analysis                   |
|            +----------------------------------+
|            | Product margins                  |
|            +----------------------------------+
|            | 1099 report                      |
+------------+----------------------------------+

.. tip::
   :doc:`Create and customize reports <accounting/reporting/customize>` with Odoo's report engine.

.. _accounting/tax-report:

Tax return
----------

In the :ref:`Tax return <accounting/tax-returns/report>`, Odoo computes all accounting transactions
for the specific tax period and uses these totals to calculate the tax obligation.

.. note::
   Depending on the country's localization, an XML version of the tax report can be generated to be
   uploaded to the VAT platform of the relevant taxation authority.

.. _accounting/bank-synchronization:

Bank synchronization
====================

The bank synchronization system directly connects with banking institutions to automatically
import all transactions into the database. It gives an overview of the cash flow without logging
into an online banking system or waiting for paper bank statements.

.. seealso::
   :doc:`Bank synchronization <accounting/bank/bank_synchronization>`

.. _accounting/inventory-valuation:

Inventory valuation
===================

Both periodic (manual) and perpetual (automated) inventory valuations are supported in Odoo. The
available methods are Standard Price, Average Cost (AVCO), and First In First Out (FIFO).

.. seealso::
   :doc:`../inventory_and_mrp/inventory/inventory_valuation/cheat_sheet`

.. _accounting/retained-earnings:

Retained earnings
=================

Retained earnings are the portion of income retained by a business. Odoo calculates current year
earnings in real-time, so no year-end journal or rollover is required. The profit
and loss balance is automatically reported on the balance sheet report.

.. seealso::
   :doc:`Accounting Cheat Sheet <accounting/get_started/cheat_sheet>`

.. _accounting/fiduciaries:

Fiduciaries
===========

The :guilabel:`Accounting Firms` mode can be activated by going to :menuselection:`Accounting -->
Configuration --> Settings`. When enabled:

- The document's sequence becomes editable on all documents;
- The :guilabel:`Total (tax incl.)` field appears to speed up and control the encoding by automating
  line creation with the right account and tax;
- :guilabel:`Invoice Date` and :guilabel:`Bill Date` are pre-filled when encoding a transaction.
- A :guilabel:`Quick encoding` option is available for customer invoices and vendor bills.

.. _accounting/accountant-access-rights:

Accountant access rights
========================

To grant access to the company's accountant, :ref:`add the accountant as a new user
<users/add-individual>` and configure the appropriate :doc:`access rights
<../general/users/access_rights>` in the :guilabel:`Accounting` section to enable access to the
company's financial data:

- :guilabel:`Accounting`: Select :guilabel:`Administrator`.
- :guilabel:`Bank`: Allow bank account validation.

.. Note::
   Adding an accountant as a new user in :doc:`Odoo Online <../../administration/odoo_online>` is
   free if the accountant has an Odoo account registered with the same email address as the one
   listed for the company user. However, :doc:`Odoo.sh <../../administration/odoo_sh>` and
   :doc:`Odoo On-premise <../../administration/on_premise>` may involve extra charges for each
   additional user. For more pricing information, see
   `Odoo's pricing <https://www.odoo.com/pricing-plan>`_.

For a multi-company environment, set the appropriate :ref:`access <users/multi-companies>`.

.. toctree::
   :titlesonly:

   accounting/get_started
   accounting/taxes
   accounting/customer_invoices
   accounting/vendor_bills
   accounting/payments
   accounting/bank
   accounting/reporting


==================================================
SECTION: B2B_B2C.rst
PATH: applications/finance/accounting/taxes/B2B_B2C.rst
==================================================

=================================================
B2B (tax excluded) and B2C (tax included) pricing
=================================================

When working with consumers, prices are usually expressed with taxes included in the price (e.g., in
most eCommerce). But, when you work in a B2B environment, companies usually negotiate prices with
taxes excluded.

Odoo manages both use cases easily, as long as you register your prices on the product with taxes
excluded or included, but not both together. If you manage all your prices with tax included (or
excluded) only, you can still easily do sales order with a price having taxes excluded (or included)
: that's easy.

This documentation is only for the specific use case where you need to have two references for the
price (tax included or excluded), for the same product. The reason of the complexity is that there
is not a symmetrical relationship with prices included and prices excluded, as shown in this use
case, in Belgium with a tax of 21%:

-  Your eCommerce has a product at **10€ (taxes included)**

-  This would do **8.26€ (taxes excluded)** and a **tax of 1.74€**

But for the same use case, if you register the price without taxes on the product form (8.26€), you
get a price with tax included at 9.99€, because:

-  **8.26€ \* 1.21 = 9.99€**

So, depending on how you register your prices on the product form, you will have different results
for the price including taxes and the price excluding taxes:

-  Taxes Excluded: **8.26€ & 10.00€**

-  Taxes Included: **8.26€ & 9.99€**

.. note::
  If you buy 100 pieces at 10€ taxes included, it gets even more tricky. You will get: **1000€
  (taxes included) = 826.45€ (price) + 173.55€ (taxes)** Which is very different from a price per
  piece at 8.26€ tax excluded.

This documentation explains how to handle the very specific use case where you need to handle the
two prices (tax excluded and included) on the product form within the same company.

.. note::
  In terms of finance, you have no more revenues selling your product at 10€ instead of 9.99€ (for a
  21% tax), because your revenue will be exactly the same at 9.99€, only the tax is 0.01€ higher.
  So, if you run an eCommerce in Belgium, make your customer a favor and set your price at 9.99€
  instead of 10€. Please note that this does not apply to 20€ or 30€, or other tax rates, or a
  quantity >1. You will also make you a favor since you can manage everything tax excluded, which is
  less error prone and easier for your salespeople.

Configuration
=============

Introduction
------------

The best way to avoid this complexity is to choose only one way of managing your prices and stick to
it: price without taxes or price with taxes included. Define which one is the default stored on the
product form (on the default tax related to the product), and let Odoo compute the other one
automatically, based on the pricelist and fiscal position. Negotiate your contracts with customers
accordingly. This perfectly works out-of-the-box and you have no specific configuration to do.

If you can not do that and if you really negotiate some prices with tax excluded and, for other
customers, others prices with tax included, you must:

#.  always store the default price **tax excluded** on the product form, and apply a tax (price
    excluded on the product form)

#.  create a pricelist with prices in **tax included**, for specific customers

#.  create a fiscal position that switches the tax excluded to a tax included

#.  assign both the pricelist and the fiscal position to customers who want to benefit to this
    pricelist and fiscal position

For the purpose of this documentation, we will use the above use case:

-   your product default sale price is 8.26€ tax excluded

-   but we want to sell it at 10€, tax included, in our shops or eCommerce website

Setting your products
---------------------

Your company must be configured with tax excluded by default. This is usually the default
configuration, but you can check your **Default Sale Tax** from the menu
:menuselection:`Configuration --> Settings` of the Accounting application.

.. image:: B2B_B2C/price_B2C_B2B01.png
  :align: center

Once done, you can create a **B2C** pricelist. You can activate the pricelist feature per customer
from the menu: :menuselection:`Configuration --> Settings` of the Sale application. Choose the
option **different prices per customer segment**.

Once done, create a B2C pricelist from the menu :menuselection:`Configuration --> Pricelists`. It's
also good to rename the default pricelist into B2B to avoid confusion.

Then, create a product at 8.26€, with a tax of 21% (defined as tax not included in price) and set a
price on this product for B2C customers at 10€, from the :menuselection:`Sales --> Products` menu of
the Sales application:

.. image:: B2B_B2C/price_B2C_B2B02.png
  :align: center

Setting the B2C fiscal position
-------------------------------

From the accounting application, create a B2C fiscal position from this menu:
:menuselection:`Configuration --> Fiscal Positions`. This fiscal position should map the VAT 21%
(tax excluded of price) with a VAT 21% (tax included in price)

.. image:: B2B_B2C/price_B2C_B2B03.png
  :align: center

Test by creating a quotation
============================

Create a quotation from the Sale application, using the :menuselection:`Sales --> Quotations` menu.
You should have the following result: 8.26€ + 1.73€ = 9.99€.

.. image:: B2B_B2C/price_B2C_B2B04.png
  :align: center

Then, create a quotation but **change the pricelist to B2C and the fiscal position to B2C** on the
quotation, before adding your product. You should have the expected result, which is a total price
of 10€ for the customer: 8.26€ + 1.74€ = 10.00€.

.. image:: B2B_B2C/price_B2C_B2B05.png
  :align: center

This is the expected behavior for a customer of your shop.

Avoid changing every sale order
===============================

If you negotiate a contract with a customer, whether you negotiate tax included or tax excluded, you
can set the pricelist and the fiscal position on the customer form so that it will be applied
automatically at every sale of this customer.

The pricelist is in the **Sales & Purchases** tab of the customer form, and the fiscal position is
in the accounting tab.

Note that this is error prone: if you set a fiscal position with tax included in prices but use a
pricelist that is not included, you might have wrong prices calculated for you. That's why we
usually recommend companies to only work with one price reference.


==================================================
SECTION: analytic_accounting.rst
PATH: applications/finance/accounting/reporting/analytic_accounting.rst
==================================================

===================
Analytic accounting
===================

Analytic accounting helps track costs and revenues and analyze a project's or service's
profitability. When creating journal entries, costs can be :ref:`distributed
<accounting/analytic_accounting/analytic-distribution>` across one or more analytic accounts.

To activate this feature, go to :menuselection:`Accounting --> Configuration --> Settings` and
enable :guilabel:`Analytic Accounting` in the :guilabel:`Analytics` section.

.. seealso::
   :doc:`Analytic budget <budget>`

.. _accounting/analytic_accounting/analytic_accounts:

Analytic accounts
=================

Analytic accounts give an overview of costs and revenue.

To access analytic accounts, go to :menuselection:`Accounting --> Configuration --> Analytic
Accounts`. To create a new analytic account, click :guilabel:`New` and fill in the following
information:

- :guilabel:`Analytic Account`: Assign the name of the analytic account.
- :guilabel:`Customer`: Select the customer linked to the project, if applicable.
- :guilabel:`Reference`: Include a reference to make the account easier to find if needed.
- :guilabel:`Plan`: Link the :guilabel:`Analytic Account` to an :ref:`analytic plan
  <accounting/analytic_accounting/analytic_plans>`.
- :guilabel:`Company`: In a :doc:`multi-company </applications/general/companies/multi_company>`
  environment, select the company using the analytic account. To make the analytic account
  accessible to all companies, leave the field empty.
- :guilabel:`Currency`: Update the currency of the analytic account if needed.

Then, the :doc:`budget <budget>` information can be filled in.

.. _accounting/analytic_accounting/analytic_plans:

Analytic plans
==============

Analytic plans group :ref:`analytic accounts <accounting/analytic_accounting/analytic_accounts>`,
allowing the company to analyze its accounting, such as tracking costs and revenues by project or
department.

To access analytic plans, go to :menuselection:`Accounting --> Configuration --> Analytic Plans`.
Click :guilabel:`New` to create a new plan, add a name, and fill in the following information:

- :guilabel:`Parent`: Link the plan to another analytic plan if a hierarchy between plans must be
  built.
- :guilabel:`Default Applicability`: Define how the plan is applied when creating a new journal
  entry:

  - :guilabel:`Optional`: Adding the analytic plan is not mandatory.
  - :guilabel:`Mandatory`: The entry cannot be confirmed if no analytic account is selected.
  - :guilabel:`Unavailable`: The plan is not available.

- :guilabel:`Color`: Set a color for the tag related to this specific plan.

To fine-tune a plan's applicability, create a new line in the :guilabel:`Applicability` tab and set
the following fields:

- :guilabel:`Domain`: Choose the accounting documents to which the plan applies.
- :guilabel:`Financial Accounts Prefixes`: Enter the prefix(es) of the account(s) to which the plan
  applies.
- :guilabel:`Product Category`: Choose the product category to which the plan applies.
- :guilabel:`Applicability`: Define how the plan is applied when creating a new journal entry. The
  applicability set here always overrides the default applicability.
- :guilabel:`Company`: In a :doc:`multi-company </applications/general/companies/multi_company>`
  environment, select the company using the plan. To make the analytic plan accessible to all
  companies, leave the field empty.

Two smart buttons are available:

- :guilabel:`Subplans`: To have a more complex analytic structure. Click the smart button, then
  click :guilabel:`New` to add a subplan. This creates a parent-child relationship between the two
  plans, and the :guilabel:`Parent` field of the subplan is automatically populated with the
  original plan.
- :guilabel:`Analytic Accounts`: To access the :ref:`analytic accounts
  <accounting/analytic_accounting/analytic_accounts>` linked to the plan.

.. note::
   Each analytic plan must have at least one analytic account.

.. _accounting/analytic_accounting/analytic-distribution:

Analytic distribution
=====================

The distribution of costs in one or more analytic accounts can be set in each :ref:`invoice/bill
<accounting/analytic_accounting/distribution-invoices-bills>` or :ref:`en masse
<accounting/analytic_accounting/distribution-mass>`.

.. note::
   The analytic distribution is prefilled based on the applicability and the :ref:`analytic
   distribution models <accounting/analytic_distribution_models>`.

.. _accounting/analytic_accounting/distribution-invoices-bills:

Analytic distribution on invoices or bills
------------------------------------------

To add analytic distribution, click the :guilabel:`Analytic Distribution` column when creating an
:ref:`invoice <accounting/invoice/creation>` or :ref:`bill <accounting/vendor_bills/creation>`.

.. note::
   The :guilabel:`Analytic Distribution` field is mandatory only if the :ref:`analytic plan
   <accounting/analytic_accounting/analytic_plans>` has been set as :guilabel:`Mandatory` in either
   the :guilabel:`Default Applicability` field on an analytic plan or the :guilabel:`Applicability`
   field on an analytic plan line.

In the :guilabel:`Analytic` window, select the desired :guilabel:`Analytic Accounts` in the
different :guilabel:`Analytic Plans` displayed in columns. Then, split the costs between the
accounts by modifying the percentage.

.. image:: analytic_accounting/analytic-distribution.png
   :alt: create a distribution template

.. _accounting/analytic_accounting/distribution-mass:

Analytic distribution en masse
------------------------------

To mass-edit analytic accounts in several entries simultaneously, go to :menuselection:`Accounting
--> Accounting --> Journal items`, and select the ones that need to be updated. Click the
:guilabel:`Analytic Distribution` column and add the required distribution in the
:guilabel:`Analytic` column, then click the :icon:`oi-close` :guilabel:`(cross)` and
:guilabel:`Update`. The analytic distribution is then added to the selected journal items.

.. _accounting/analytic_distribution_models:

Analytic distribution models
----------------------------

Analytic distribution models automatically apply a specific distribution based on defined criteria.

To create a new analytic distribution model, go to :menuselection:`Accounting --> Configuration -->
Analytic Distribution Models`, click :guilabel:`New`, and set the conditions the model has to meet
to apply automatically:

.. note::
   - All specified conditions of an analytic distribution model must be met for the model to be
     applied. To apply an analytic distribution model based on individual conditions, create
     separate analytic distribution models for each condition.
   - Analytic distribution models can be combined and sequenced, allowing distribution across
     multiple models if linked to different
     :ref:`analytic plans <accounting/analytic_accounting/analytic_plans>`. To adjust the order,
     drag and drop the models using the :icon:`oi-draggable` :guilabel:`(draggable)` icon.

- :guilabel:`Accounts Prefixes`: Apply the distribution model only to journal items involving
  accounts that begin with specific prefixes.
- :guilabel:`Partner`: Apply the distribution model only to journal items involving a specific
  partner.
- :guilabel:`Product`: Apply the distribution model only to journal items involving a specific
  product.
- :guilabel:`Company`: In a :doc:`multi-company </applications/general/companies/multi_company>`
  environment, apply the distribution model only to journal items involving a specific company. To
  apply it across all companies, leave the field empty.
- :guilabel:`Analytic Distribution`: :ref:`Analytic distribution
  <accounting/analytic_accounting/analytic-distribution>` that will be applied when the above
  conditions are met.

.. example::
   Any time a journal item is posted to the :guilabel:`Utilities (601000)` account, it should be
   automatically distributed in the :guilabel:`Departments` analytic plan as follows:

   - 60% to the :guilabel:`Manufacturing` analytic account
   - 30% to the :guilabel:`Marketing` analytic account
   - 10% to the :guilabel:`Admin` analytic account

   To automate this distribution, the :guilabel:`Accounts Prefix` can be set to `601`, as
   :guilabel:`Utilities (601000)` is the only account in the chart of accounts that begins with
   `601`.

   If additional accounts such as :guilabel:`Electricity (601100)` or :guilabel:`Gas (601200)` are
   available in the chart of accounts, the distribution will also apply to both since they share the
   same prefix.

To define more criteria, use the :icon:`oi-settings-adjust` :guilabel:`(adjust settings)` icon to
reveal more columns or click :guilabel:`View` on an individual analytic distribution model.

- :guilabel:`Partner Category`: Apply this distribution model only to journal items involving a
  partner in a specific category.
- :guilabel:`Product Category`: Apply this distribution model to journal items involving a product
  in a specific category.

.. tip::
   Alternatively, it is possible to create an analytic distribution model from the
   :guilabel:`Analytic` window by clicking :guilabel:`New Model`:

   - either when creating an invoice/bill and filling in the :ref:`analytic distribution
     <accounting/analytic_accounting/distribution-invoices-bills>`;
   - or when :ref:`mass-editing analytic accounts
     <accounting/analytic_accounting/distribution-mass>` in several entries simultaneously.



==================================================
SECTION: argentina.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/argentina.rst
==================================================

:orphan:

======================================
Odoo electronic invoicing in Argentina
======================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Argentina's regulatory standards and compatible with the requirements set
forth by the `Administración Federal de Ingresos Públicos (AFIP) <https://www.afip.gob.ar/>`_.

Legal framework for e-invoicing in Argentina
============================================

In Argentina, e-invoicing is regulated by the :abbr:`AFIP (Administración Federal de Ingresos
Públicos)` and is mandatory for most businesses to ensure tax compliance and transparency. The
primary regulations governing e-invoicing include:

- `General Resolution No. 4290/2018 <https://biblioteca.afip.gob.ar/search/query/norma.aspx?p=t:RAG|n:4290|o:3|a:2018|f:02/08/2018>`_
  which establishes the mandatory use of electronic invoices for specific economic activities and
  turnover thresholds.
- Fiscal code regulations: Requires electronic invoices for all VAT-registered businesses, including
  B2B, :abbr:`B2G (business-to-government)`, and B2C transactions.
- Implementation of :abbr:`CAE (Código de Autorización Electrónico)`: Every electronic invoice must
  include a :abbr:`CAE (Código de Autorización Electrónico)` issued by the :abbr:`AFIP
  (Administración Federal de Ingresos Públicos)`, ensuring its validity and authenticity.

Compliance with Argentinian e-invoicing regulations
===================================================

Odoo Invoicing simplifies the process of adhering to Argentina's e-invoicing regulations, offering
features designed to ensure compliance:

- **Supported formats**: Odoo supports Argentina's authorized e-invoice formats, including :abbr:`FE
  (Factura Electrónica)` with :abbr:`AFIP (Administración Federal de Ingresos Públicos)`-compliant
  digital validation, XML with :abbr:`CAE (Código de Autorización Electrónico)` authorization for
  real-time integration with :abbr:`AFIP (Administración Federal de Ingresos Públicos)`, and
  digitally signed PDF invoices featuring :abbr:`CAE (Código de Autorización Electrónico)` and
  QR codes for secure validation.
- **Secure storage and retrieval**: Complying with Argentina’s ten-year storage requirement, Odoo
  provides tamper-proof archiving and easy retrieval for audits or tax inspections.
- **Automatic VAT calculation and reporting**: Odoo ensures compliance with Argentina's VAT
  regulations by automatically calculating VAT, incorporating it into invoices, and adhering to
  legal reporting requirements for accurate tax submissions.

.. seealso::
   :doc:`Argentinian fiscal localization documentation <../../../fiscal_localizations/argentina>`

.. admonition:: Disclaimer

   This page provides a general overview of Argentine e-invoicing laws and how Odoo’s invoicing
   module supports compliance with AFIP regulations and the Fiscal Code. It is not intended as legal
   advice. We recommend consulting with a tax advisor or legal professional familiar with
   Argentinian e-invoicing regulations to ensure compliance tailored to your specific business
   needs.


==================================================
SECTION: assets.rst
PATH: applications/finance/accounting/vendor_bills/assets.rst
==================================================

===================================
Non-current assets and fixed assets
===================================

**Non-current Assets**, also known as **long-term assets**, are investments that are expected to be
realized after one year. They are capitalized rather than being expensed and appear on the company's
balance sheet. Depending on their nature, they may undergo **depreciation**.

**Fixed Assets** are a type of Non-current Assets and include the properties bought for their
productive aspects, such as buildings, vehicles, equipment, land, and software.

For example, let's say we buy a car for $ 27,000. We plan to amortize it over five years, and we
will sell it for $ 7,000 afterward. Using the linear, or straight-line, depreciation method,
$ 4,000 are expensed each year as **depreciation expenses**. After five years, the **Accumulated
Depreciation** amount reported on the balance sheet equals $ 20,000, leaving us with $ 7,000 of
**Not Depreciable Value**, or Salvage value.

Odoo Accounting handles depreciation by creating all depreciation entries automatically in *draft
mode*. They are then posted periodically.

Odoo supports the following **Depreciation Methods**:

- Straight Line
- Declining
- Declining Then Straight Line

.. note::
   The server checks once a day if an entry must be posted. It might then take up to 24 hours before
   you see a change from *draft* to *posted*.

Prerequisites
=============

Such transactions must be posted on an **Assets Account** rather than on the default
expense account.

Configure an Assets Account
---------------------------

To configure your account in the **Chart of Accounts**, go to :menuselection:`Accounting -->
Configuration --> Chart of Accounts`, click on *Create*, and fill out the form.

.. image:: assets/assets01.png
   :align: center
   :alt: Configuration of an Assets Account in Odoo Accounting

.. note::
   This account's type must be either *Fixed Assets* or *Non-current Assets*.

Post an expense to the right account
------------------------------------

Select the account on a draft bill
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On a draft bill, select the right account for all the assets you are buying.

.. image:: assets/assets02.png
   :align: center
   :alt: Selection of an Assets Account on a draft bill in Odoo Accounting

.. _product-assets-account:

Choose a different Expense Account for specific products
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Start editing the product, go to the *Accounting* tab, select the right **Expense Account**, and
save.

.. image:: assets/assets03.png
   :align: center
   :alt: Change of the Assets Account for a product in Odoo

.. tip::
   It is possible to :ref:`automate the creation of assets entries <assets-automation>` for these
   products.

.. _journal-assets-account:

Change the account of a posted journal item
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To do so, open your Purchases Journal by going to :menuselection:`Accounting --> Accounting -->
Purchases`, select the journal item you want to modify, click on the account, and select the right
one.

.. image:: assets/assets04.png
   :align: center
   :alt: Modification of a posted journal item's account in Odoo Accounting

Assets entries
==============

.. _create-assets-entry:

Create a new entry
------------------

An **Asset entry** automatically generates all journal entries in *draft mode*. They are then posted
one by one at the right time.

To create a new entry, go to :menuselection:`Accounting --> Accounting --> Assets`, click on
*Create*, and fill out the form.

Click on **select related purchases** to link an existing journal item to this new entry. Some
fields are then automatically filled out, and the journal item is now listed under the **Related
Purchase** tab.

.. image:: assets/assets05.png
   :align: center
   :alt: Assets entry in Odoo Accounting

Once done, you can click on *Compute Depreciation* (next to the *Confirm* button) to generate all
the values of the **Depreciation Board**. This board shows you all the entries that Odoo will post
to depreciate your asset, and at which date.

.. image:: assets/assets06.png
   :align: center
   :alt: Depreciation Board in Odoo Accounting

What does "Prorata Temporis" mean?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The **Prorata Temporis** feature is useful to depreciate your assets the most accurately possible.

With this feature, the first entry on the Depreciation Board is computed based on the time left
between the *Prorata Date* and the *First Depreciation Date* rather than the default amount of time
between depreciations.

For example, the Depreciation Board above has its first depreciation with an amount of $ 241.10
rather than $ 4,000.00. Consequently, the last entry is also lower and has an amount of $ 3758.90.

What are the different Depreciation Methods
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The **Straight Line Depreciation Method** divides the initial Depreciable Value by the number of
depreciations planned. All depreciation entries have the same amount.

The **Declining Depreciation Method** multiplies the Depreciable Value by the **Declining Factor**
for each entry. Each depreciation entry has a lower amount than the previous entry. The last
depreciation entry doesn't use the declining factor but instead has an amount corresponding to the
balance of the depreciable value so that it reaches $0 by the end of the specified duration.

The **Declining Then Straight Line Depreciation Method** uses the Declining Method, but with a
minimum Depreciation equal to the Straight Line Method. This method ensures a fast depreciation
at the beginning, followed by a constant one afterward.

Assets from the Purchases Journal
---------------------------------

You can create an asset entry from a specific journal item in your **Purchases Journal**.

To do so, open your Purchases Journal by going to :menuselection:`Accounting --> Accounting -->
Purchases`, and select the journal item you want to record as an asset. Make sure that it is posted
in the right account (see: :ref:`journal-assets-account`).

Then, click on *Action*, select **Create Asset**, and fill out the form the same way you would do to
:ref:`create a new entry <create-assets-entry>`.

.. image:: assets/assets07.png
   :align: center
   :alt: Create Asset Entry from a journal item in Odoo Accounting

Modification of an Asset
========================

You can modify the values of an asset to increase or decrease its value.

To do so, open the asset you want to modify, and click on *Modify Depreciation*. Then, fill out the
form with the new depreciation values and click on *Modify*.

A **decrease in value** posts a new Journal Entry for the **Value Decrease** and modifies all the
future *unposted* Journal Entries listed in the Depreciation Board.

An **increase in value** requires you to fill out additional fields related to the account movements
and creates a new Asset entry with the **Value Increase**. The Gross Increase Asset Entry can be
accessed with a Smart Button.

.. image:: assets/assets08.png
   :align: center
   :alt: Gross Increase smart button in Odoo Accounting

Disposal of Fixed Assets
========================

To **sell** an asset or **dispose** of it implies that it must be removed from the Balance Sheet.

To do so, open the asset you want to dispose of, click on *Sell or Dispose*, and fill out the form.

.. image:: assets/assets09.png
   :align: center
   :alt: Disposal of Assets in Odoo Accounting

Odoo Accounting then generates all the journal entries necessary to dispose of the asset, including
the gain or loss on sale, which is based on the difference between the asset's book value at the
time of the sale and the amount it is sold for.

.. note::
   To record the sale of an asset, you must first post the related Customer Invoice so you can link
   the sale of the asset with it.

.. _assets/asset-model:

Assets Models
=============

You can create **Assets Models** to create your Asset entries faster. It is particularly useful if
you recurrently buy the same kind of assets.

To create a model, go to :menuselection:`Accounting --> Configuration --> Assets Models`, click on
*Create*, and fill out the form the same way you would do to create a new entry.

.. tip::
   You can also convert a *confirmed Asset entry* into a model by opening it from
   :menuselection:`Accounting --> Accounting --> Assets` and then, by clicking on the button *Save
   Model*.

Apply an Asset Model to a new entry
-----------------------------------

When you create a new Asset entry,  fill out the **Fixed Asset Account** with the right asset
account.

New buttons with all the models linked to that account appear at the top of the form. Clicking on a
model button fills out the form according to that model.

.. image:: assets/assets10.png
   :align: center
   :alt: Assets model button in Odoo Accounting

.. _assets-automation:

Automate the Assets
===================

When you create or edit an account of which the type is either *Non-current Assets* or *Fixed
Assets*, you can configure it to create assets for the expenses that are credited on it
automatically.

You have three choices for the **Automate Assets** field:

#. **No:** this is the default value. Nothing happens.
#. **Create in draft:** whenever a transaction is posted on the account, a draft *Assets entry* is
   created, but not validated. You must first fill out the form in :menuselection:`Accounting -->
   Accounting --> Assets`.
#. **Create and validate:** you must also select an Asset Model (see: `Assets Models`_). Whenever a
   transaction is posted on the account, an *Assets entry* is created and immediately validated.

.. image:: assets/assets11.png
   :align: center
   :alt: Automate Assets on an account in Odoo Accounting

.. tip::
   You can, for example, select this account as the default **Expense Account** of a product to
   fully automate its purchase. (see: :ref:`product-assets-account`).

.. seealso::
  * :doc:`../get_started/chart_of_accounts`


==================================================
SECTION: austria.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/austria.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Austria
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Austria's regulatory standards, and compatible with the European `Peppol
<https://peppol.org/about/>`_ framework.

Legal framework for e-invoicing in Austria
==========================================

In Austria, businesses must adhere to e-invoicing laws that ensure secure, authentic, and storable
transactions. The main regulation governing e-invoicing requirements in Austria is the `Austrian VAT
Act (UStG) <https://www.ris.bka.gv.at/GeltendeFassung.wxe?Abfrage=Bundesnormen&Gesetzesnummer=10004873>`_
and its related e-invoicing standards for public procurement (`BGBI. I Nr. 32/2019 <https://360.lexisnexis.at/d/rechtsnorm-ris/32_bundesgesetz_mit_dem_das_beamten_dienstrechtsge/b_bgbl_2019_2019_I_32_46c550bf37>`_),
which aligns with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_.
These laws mandate that all businesses engaged in :abbr:`B2G (business-to-government)` transactions
must use e-invoicing, and increasingly, e-invoicing is encouraged for B2B transactions to improve
tax compliance and transparency.

Compliance with Austrian e-invoicing regulations
================================================

Odoo Invoicing makes it easy for businesses to send, store, and ensure the integrity of their
invoices. Here is how Odoo ensures compliance:

- **Supported format**: Odoo supports standard e-invoice formats such as PDF with digital signatures
  and XML in :abbr:`UBL (Universal Business Language)` format, which are fully compatible with
  e-rechnung.gv.at, Austria's central electronic invoicing platform for public procurement
  transactions. Any platform can be used if connected to the authentication services of the Federal
  Service Portal (:abbr:`USP (Unternehmensserviceportal)`) e-rechnung.gv.at for e-invoicing
  transmission.
- **Secure storage and retrieval**: In accordance with the Austrian requirement to store invoices
  for a minimum of seven years, Odoo securely archives all invoices in a tamper-proof system,
  ensuring that they can be easily retrieved during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing helps businesses stay in line with
  Austrian VAT requirements by automatically calculating and including VAT in invoices and ensuring
  that each invoice follows the legal format for B2B and :abbr:`B2G (business-to-government)`
  transactions.

.. seealso::
   :doc:`Austria fiscal localization documentation <../../../fiscal_localizations/austria>`

.. admonition:: Disclaimer

   This page provides an overview of Austrian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Austrian VAT Act (UStG) and related regulations. It does does not constitute
   legal advice. We recommend consulting with a tax advisor or legal professional familiar with
   Austrian e-invoicing regulations to ensure full compliance tailored to your specific business
   requirements.


==================================================
SECTION: avalara_portal.rst
PATH: applications/finance/accounting/taxes/avatax/avalara_portal.rst
==================================================


.. _avatax/portal:

=======================
Avalara (Avatax) portal
=======================

Avalara's (*AvaTax*) management console offers account management options including: viewing/editing
the transactions sent from Odoo to *AvaTax*, details on how the taxes are calculated, tax reporting,
tax exemption management, and tax return resources.

.. tip::
   Avalara is the software developer of the tax software, *AvaTax*.

To access the console, first, navigate to either Avalara's `sandbox
<https://sandbox.admin.avalara.com/>`_ or `production <https://admin.avalara.com/>`_ environment.
This will depend on which type of account was set in the :doc:`integration <../avatax>`. Log in to
the management console.

.. image:: avalara_portal/avalara-portal.png
   :align: center
   :alt: Avalara dashboard after logging into management portal.

.. seealso::
   For more information see Avalara's documentation: `Activate your Communications Customer Portal
   account
   <https://community.avalara.com/support/s/document-item?language=en_US&bundleId=qvv1656594440497&topicId=Activate_your_Communications_Customer_Portal_account.html&_LANG=enus>`_.

.. _avalara/portal-transactions:

Transactions
============

To access transactions, click in the :guilabel:`Transactions` link on the main dashboard upon
logging into the :ref:`avatax/portal`. To manually access the *Transactions* page, while logged into
the Avalara console, navigate to :menuselection:`Transactions --> Transactions`.

.. image:: avalara_portal/avalara-transactions.png
   :align: center
   :alt: Avalara portal with the transactions shortcut highlighted.

Edit transaction
----------------

Click into a transaction to reveal more details about the transaction. These details include
sections on :guilabel:`Invoice detail`, :guilabel:`Additional info`, and :guilabel:`Customer info`.
Click :icon:`fa-pencil` :guilabel:`Edit document details` to make changes to the transaction.

A :guilabel:`Discount` can be added to adjust the invoice. This is especially useful in cases where
the transaction has already synced with Avalara / *AvaTax*, and changes need to be made afterward.

.. _avalara/portal-filter:

Filter
------

Filter transactions on the :guilabel:`Transactions` page, by setting the :guilabel:`From` and
:guilabel:`To` fields, and configuring other fields to filter by, including:

- :guilabel:`Document Status`: any of the following options, :guilabel:`All`, :guilabel:`Voided`,
  :guilabel:`Committed`, :guilabel:`Uncommitted`, or :guilabel:`Locked`.
- :guilabel:`Document Code`: any of the following options, :guilabel:`Exactly match`,
  :guilabel:`Starts with`, or :guilabel:`Contains`.
- :guilabel:`Customer/Vendor Code`: the customer/vendor code in Odoo (e.g. `Contact18`).
- :guilabel:`Country`: the country this tax was calculated in; this is a text field.
- :guilabel:`Region`: the region of the country, which varies based on the :guilabel:`Country`
  selection.

Click :icon:`fa-plus` :guilabel:`Filters` to access the following filter conditions:

- :guilabel:`Document Type`: any of the following selections, :guilabel:`All`, :guilabel:`Sales
  Invoice`, :guilabel:`Purchase Invoice`, :guilabel:`Return Invoice`, :guilabel:`Inventory Transfer
  Inbound Invoice`, :guilabel:`Inventory Transfer Outbound Invoice`, or :guilabel:`Customs
  Invoice`.
- :guilabel:`Import ID`: represents the import ID of the document.

Sort by
-------

On the :guilabel:`Transactions` page, transactions will be listed below, according to the set
:ref:`avalara/portal-filter`, located in the top half of the page. The following columns are
available by default, to sort by ascending or descending order:

- :guilabel:`Doc Code`: either of the following options, :guilabel:`Exactly match`,
  :guilabel:`Starts with`, or :guilabel:`Contains`.
- :guilabel:`Doc Status`: either of the following options, :guilabel:`All`, :guilabel:`Voided`,
  :guilabel:`Committed`, :guilabel:`Uncommitted`, or :guilabel:`Locked`.
- :guilabel:`Cust/Vendor Code` : this is the customer/vendor code in Odoo (e.g. Contact18).
- :guilabel:`Region`: this is the region of the country, this will vary based on the
  :guilabel:`Country` selection.
- :guilabel:`Amount`: the numeric amount of the total amount on the Odoo document.
- :guilabel:`Tax`: the numeric amount of the tax applied to the total.

.. image:: avalara_portal/transactions.png
   :align: center
   :alt: Transactions page on the Avalara portal with the filter and sort-by options highlighted.

Customize columns
~~~~~~~~~~~~~~~~~

Additional columns can be added by clicking the :icon:`fa-cog` :guilabel:`Customize columns`. On the
resulting popover window, click the drop-down menu for the :guilabel:`column` that should be
changed.

The following columns can be added for additional transactional information:

- :guilabel:`AvaTax calculated`: the amount of tax calculated by *AvaTax*.
- :guilabel:`Country`: the country this tax was calculated in; this is a text field.
- :guilabel:`Cust/vendor code`: the customer/vendor code in Odoo (e.g. `Contact18`).
- :guilabel:`Currency`: the standardized abbreviation for the currency the amount total is in.
- :guilabel:`Doc date`: the document's date of creation.
- :guilabel:`Doc status`: any of the following options, :guilabel:`All`, :guilabel:`Voided`,
  :guilabel:`Committed`, :guilabel:`Uncommitted`, or :guilabel:`Locked`.
- :guilabel:`Doc type`: any of the following selections, :guilabel:`All`, :guilabel:`Sales
  Invoice`, :guilabel:`Purchase Invoice`, :guilabel:`Return Invoice`, :guilabel:`Inventory Transfer
  Inbound Invoice`, :guilabel:`Inventory Transfer Outbound Invoice`, or :guilabel:`Customs
  Invoice`.
- :guilabel:`Import ID`: represents the import ID of the document.
- :guilabel:`Last modified`: timestamp of the last time the document was modified.
- :guilabel:`Location code`: the location code used to calculate the tax, based on the delivery
  address.
- :guilabel:`PO number`: the purchase order number.
- :guilabel:`Reference code`: the Odoo reference code (e.g. NV/2024/00003)
- :guilabel:`Region`: the region of the country,which varies based on the :guilabel:`Country`
  selection.
- :guilabel:`Salesperson code`: the numeric ID of the user assigned to the sales order in Odoo.
- :guilabel:`Tax date`: the month/day/year of the tax calculation.
- :guilabel:`Tax override type`: where an exemption would appear, should there be none, the field
  populates with :guilabel:`None`.

To add a new column click the :icon:`fa-plus` :guilabel:`Column`.

.. seealso::
   For more information on *AvaTax* transactions, refer to this Avalara documentation: `Transactions
   <https://community.avalara.com/support/s/document-item?language=en_US&bundleId=qvv1656594440497&topicId=transactions.html&_LANG=enus>`_.

Import-export
-------------

While on the :ref:`avalara/portal-transactions`, click :icon:`fa-download` :guilabel:`Import
transactions` or :icon:`fa-upload` :guilabel:`Export transactions` to import or export transactions.

Reports
-------

To access reporting, navigate to the :menuselection:`Reports` link in the top menu of the Avalara
management console. Next, select from one of the available reporting tabs: :guilabel:`Transactions
reports`, :guilabel:`Liability & tax return reports`, or :guilabel:`Exemption reports`.

.. tip::
   Additionally, there is a :guilabel:`Favorites` tab and :guilabel:`Downloads` tab. The
   :guilabel:`Favorites` tab contains any favorited report configurations for the Avalara user. The
   :guilabel:`Downloads` tab contains a list view where the user can download the high-volume
   transaction reports created in the last 30 days.

Make a selection for the :guilabel:`Report Category`, and the :guilabel:`Report Name`, under the
:guilabel:`Select a report` section.

Next, fill out the :guilabel:`Select report details` section. These options will vary based on the
tab selected above.

Depending on the report size, the following two options are available in the section labeled,
:guilabel:`Select the approximate number of transactions for your report`: :guilabel:`Create and
download the report instantly` (for small reports) and :guilabel:`Create and download the report in
the background` (for larger reports). Select one or the other depending on the volume of
transactions in this report.

Finally, under the section labeled, :guilabel:`Report preview and export` make a selection of the
file type to download. Either a :guilabel:`.PDF` or :guilabel:`.XLS` can be chosen. Alternatively,
the file can be previewed by selecting the :guilabel:`Preview` option.

After making all the configurations, click :guilabel:`Create report` to download the report. Click
:icon:`fa-star-o` :guilabel:`Make this report a favorite` to save the report configuration to the
user's favorites.

After the report is created, click :icon:`fa-download` :guilabel:`Download` to download the file to
the device.

.. tip::
   Select a pre-configured report from the :guilabel:`Frequently used reports` section of the
   reporting dashboard.

   Access this list by clicking on the :guilabel:`Reports` option in the top menu of the Avalara
   management console, and scroll to the bottom of the page.

.. seealso::
   `See Avalara's documentation: Reports in AvaTax
   <https://community.avalara.com/support/s/document-item?language=en_US&bundleId=rjq1671176624730&topicId=Reports_in_AvaTax.html&_LANG=enus>`_.

Add more jurisdictions
======================

Additional jurisdictions (tax locations) can be added in the Avalara management console. Navigate to
either Avalara's `sandbox <https://sandbox.admin.avalara.com/>`_ or `production
<https://admin.avalara.com/>`_ environment. This will depend on which type of account was set in the
:doc:`integration <../avatax>`.

Next, navigate to :menuselection:`Settings --> Where you collect tax`. Choose between the three
different tabs, depending on the business need. The first tab is :guilabel:`Sales and use tax`,
where tax can be collected for the United States. Click the :icon:`fa-plus` :guilabel:`Add to where
you collect sales and use tax` to add another location where the company collects sales and use tax.

The second option, is the :guilabel:`VAT/GST` tab where the :icon:`fa-plus` :guilabel:`Add a country
or territory where you collect VAT/GST` can be selected to add another country or territory where
the company collects VAT/GST.

Finally, on the far-right, is the :guilabel:`Customs duty` tab, where a country can be added where
the company collects customs duty. Simply click on the :icon:`fa-plus` :guilabel:`Add a country
where you calculate customs duty` icon below the tab.

.. image:: avalara_portal/where-you-collect-tax.png
   :align: center
   :alt: AvaTax management console, on the Where you collect tax page, with the add button and
         sales and use tax tab highlighted.

.. seealso::
   `See Avalara's documentation: Add local jurisdiction taxes
   <https://community.avalara.com/support/s/document-item?language=en_US&bundleId=bla1700809896571_bla1700809896571&topicId=nbw1698727575499.html&_LANG=enus>`_.

Tax exemption certificate
=========================

Tax exemption certificates for customers can be added into the Avalara management console, so that
*AvaTax* is aware of which customers may be exempt from paying certain taxes. To add an *exception
certificate* navigate to :menuselection:`Exemptions --> Customer certificates`. From there, click on
the :icon:`fa-plus` :guilabel:`Add a certificate` to configure an exemption.

.. warning::
   An Avalara subscription to Exemption Certificate Management (ECM) is required in order to attach
   certificate images, and to be ready for an audit. For more on subscribing to this add-on, visit
   `Avalara
   <https://community.avalara.com/support/s/document-item?language=en_US&bundleId=hff1682048150115_hff1682048150115&topicId=fol1682356576230.html&_LANG=enus>`_.

End-of-year operations
======================

Avalara's services include tax return services, for when it is time to file taxes at the end of the
year. To access Avalara's tax services log, into the `management portal
<https://admin.avalara.com/>`_. Then, from the main dashboard, click :guilabel:`Returns`. Avalara
will prompt the Avalara user to log in for security purposes, and redirect the user to the *Returns*
portal.

.. image:: avalara_portal/avalara-returns.png
   :align: center
   :alt: Avalara portal with the returns shortcut highlighted.

Click :guilabel:`Get started` to begin the tax return process. For more information, refer to this
Avalara documentation: `About Managed Returns
<https://community.avalara.com/support/s/document-item?language=en_US&bundleId=hps1656397152776_hps1656397152776&topicId=Learn_about_Managed_Returns.html&_LANG=enus>`_.

.. tip::
   Alternatively, click on the :menuselection:`Returns` button in the top menu of the Avalara
   management console.

.. seealso::
   - :doc:`../avatax`
   - :doc:`avatax_use`
   - `US Tax Compliance: Avatax elearning video
     <https://www.odoo.com/slides/slide/us-tax-compliance-avatax-2858?fullscreen=1>`_


==================================================
SECTION: avatax.rst
PATH: applications/finance/accounting/taxes/avatax.rst
==================================================

:show-content:

==================
AvaTax integration
==================

Avalara's *AvaTax* is a cloud-based tax software. Integrating *AvaTax* with Odoo provides real-time
and region-specific tax calculations when users sell, purchase, and invoice items in Odoo. *AvaTax*
tax calculation is supported with every United Nations charted country, including inter-border
transactions.

.. important::
   *AvaTax* is only available for integration with databases/companies that have locations in the
   United States, Canada, and Brazil. This means the fiscal position/country of a database can only
   be set to the United States, Canada, or Brazil. For more information, reference this
   documentation: :ref:`accounting/avatax/fiscal_country`.

*AvaTax* accounts for location-based tax rates for each state, county, and city. It improves
remittance accuracy by paying close attention to laws, rules, jurisdiction boundaries, and special
circumstances (like, tax holidays, and product exemptions). Companies who integrate with *AvaTax*
can maintain control of tax-calculations in-house with this simple :abbr:`API (application
programming interface)` integration.

.. important::
   Some limitations exist in Odoo while using AvaTax for tax calculation:

   - AvaTax uses the company address by default. To use the warehouse address, enable :doc:`Allow
     Ship Later <../../../sales/point_of_sale/shop/ship_later>` in the **POS** app settings.
   - Excise tax is **not** supported. This includes tobacco/vape taxes, fuel taxes, and other
     specific industries.

.. seealso::
   Avalara's support documents: `About AvaTax
   <https://community.avalara.com/support/s/document-item?language=en_US>`_

Set up on AvaTax
================

To use *AvaTax*, an account with Avalara is required for the setup. If one has not been set up yet,
connect with Avalara to purchase a license: `Avalara: Let's Talk
<https://www.avalara.com/us/en/get-started.html>`_.

.. tip::
   Upon account setup, take note of the *AvaTax* :guilabel:`Account ID`. This will be needed in the
   :ref:`Odoo setup <accounting/avatax/credentials>`. In Odoo, this number is the :guilabel:`API
   ID`.

Then, `create a basic company profile
<https://www.odoo.com/r/2k0>`_.

Create basic company profile
----------------------------

Collect essential business details for the next step: locations where tax is collected,
products/services sold (and their sales locations), and customer tax exemptions, if applicable.
Follow the Avalara documentation for creating a basic company profile:

#. `Add company information
   <https://www.odoo.com/r/XZDW>`_.
#. `Tell us where the company collects and pays tax
   <https://www.odoo.com/r/E6g>`_.
#. `Verify jurisdictions and activate the company
   <https://www.odoo.com/r/NIy>`_.
#. `Add other company locations for location-based filing
   <https://www.odoo.com/r/GF4>`_.
#. `Add a marketplace to the company profile
   <https://www.odoo.com/r/QA5>`_.

.. _accounting/avatax/create_avalara_credentials:

Connect to AvaTax
-----------------

After creating the basic company profile in Avalara, connect to *AvaTax*. This step links Odoo and
*AvaTax* bidirectionally.

Navigate to either Avalara's `sandbox <https://sandbox.admin.avalara.com/>`_ or `production
<https://admin.avalara.com/>`_ environment. This will depend on which type of Avalara account the
company would like to integrate.

.. seealso::
   `Sandbox vs production environments in Avalara
   <https://knowledge.avalara.com/bundle/fzc1692293626742/page/sandbox-vs-production.html>`_.

Log in to create the :guilabel:`License Key`. Go to :menuselection:`Settings --> License and API
Keys`. Click :guilabel:`Generate License Key`.

.. important::
   A warning appears stating: `If your business app is connected to Avalara solutions, the
   connection will be broken until you update the app with the new license key. This action cannot
   be undone.`

   Generating a new license key breaks the connection with existing business apps using the *AvaTax*
   integration. Make sure to update these apps with the new license key.

If this will be the first :abbr:`API (application programming interface)` integration being made
with *AvaTax* and Odoo, then click :guilabel:`Generate license key`.

If this is an additional license key, ensure the previous connection can be broken. There is
**only** one license key associated with each of the Avalara sandbox and production accounts.

.. warning::
   Copy this key to a safe place. It is strongly encouraged to back up the license key for
   future reference. This key **cannot** be retrieved after leaving this screen.

.. _accounting/avatax/odoo-configuration:

Odoo configuration
==================

Before using *AvaTax*, there are some additional configurations in Odoo to ensure tax calculations
are made accurately.

Verify that the Odoo database contains necessary data. The country initially set up in the database
determines the fiscal position, and aids *AvaTax* in calculating accurate tax rates.

.. _accounting/avatax/fiscal_country:

Fiscal country
--------------

To set the :guilabel:`Fiscal Country`, navigate to :menuselection:`Accounting app --> Configuration
--> Settings`.

.. seealso::
   :doc:`../../fiscal_localizations`

Under the :guilabel:`Taxes` section, set the :guilabel:`Fiscal Country` feature to :guilabel:`United
States`, :guilabel:`Canada`, or :guilabel:`Brazil`. Then, click :guilabel:`Save`.

Company settings
----------------

All companies operating under the Odoo database should have a full and complete address listed in
the settings. Navigate to the :menuselection:`Settings app`, and under the :guilabel:`Companies`
section, ensure there is only one company operating the Odoo database. Click :guilabel:`Update Info`
to open a separate page to update company details.

If there are multiple companies operating in the database, click :guilabel:`Manage Companies` to
load a list of companies to select from. Update company information by clicking into the specific
company.

Database administrators should ensure that the :guilabel:`Street...`, :guilabel:`Street2...`,
:guilabel:`City`, :guilabel:`State`, :guilabel:`ZIP`, and :guilabel:`Country` are all updated for
the companies.

This ensures accurate tax calculations and smooth end-of-year accounting operations.

.. seealso::
   - :doc:`../../../general/companies`
   - :doc:`../get_started`

Module installation
-------------------

Next, ensure that the Odoo *AvaTax* module is installed. To do so, navigate to the
:menuselection:`Apps application`. In the :guilabel:`Search...` bar, type in `avatax`, and press
:kbd:`Enter`. The following results populate:

.. list-table::
   :header-rows: 1
   :widths: 25 25 50

   * - Name
     - Technical name
     - Description
   * - :guilabel:`Avatax`
     - `account_avatax`
     - Default *AvaTax* module. This module adds the base *AvaTax* features for tax calculation.
   * - :guilabel:`Avatax for geo localization`
     - `account_avatax_geolocalize`
     - This module includes the features required for integration of *AvaTax* into geo-localization
       in Odoo.
   * - :guilabel:`Avatax for SO`
     - `account_avatax_sale`
     - Includes the information needed for tax calculation on sales orders in Odoo.
   * - :guilabel:`Avatax for Inventory`
     - `account_avatax_stock`
     - Includes tax calculation in Odoo Inventory.
   * - :guilabel:`Amazon/Avatax Bridge`
     - `sale_amazon_avatax`
     - Includes tax calculation features between the *Amazon Connector* and Odoo.
   * - :guilabel:`Avatax Brazil`
     - `l10n_br_avatax`
     - Includes information for tax calculation in the Brazil localization.
   * - :guilabel:`Avatax Brazil for Services`
     - `l10n_br_avatax_services`
     - This module includes the required features for tax calculation for services in the Brazil
       localization.
   * - :guilabel:`Avatax Brazil Sale for Services`
     - `l10n_br_edi_sale_services`
     - This module includes the required features for tax calculation for the sale of services in
       the Brazil localization. This includes electronic data interchange (EDI).
   * - :guilabel:`Test SOs for the Brazilian AvaTax`
     - `l10n_br_test_avatax_sale`
     - This module includes the required features for test sales orders in the Brazil localization.

Click the :guilabel:`Install` button on the module labeled, :guilabel:`Avatax`: `account_avatax`.
Doing so installs the following modules:

- :guilabel:`Avatax`: `account_avatax`
- :guilabel:`Avatax for SO`: `account_avatax_sale`
- :guilabel:`Avatax for Inventory`: `account_avatax_stock`

Should *AvaTax* be needed for geo-localization, or with the *Amazon Connector*, then install those
modules individually by clicking on :guilabel:`Install` on :guilabel:`Avatax for geo localization`
and :guilabel:`Amazon/Avatax Bridge`, respectively.

.. seealso::
   For localization specific *AvaTax* instructions, view the following :doc:`fiscal localization
   <../../fiscal_localizations>` documentation:

   - :doc:`../../fiscal_localizations/brazil`
   - :doc:`../../fiscal_localizations/united_states`

.. _accounting/avatax/credentials:

Odoo AvaTax settings
--------------------

To integrate the *AvaTax* :abbr:`API (application programming interface)` with Odoo, go to
:menuselection:`Accounting app --> Configuration --> Settings` section. The :guilabel:`AvaTax`
fields in the :guilabel:`Taxes` section is where the *AvaTax* configurations are made, and the
credentials are entered in.

First, tick the checkbox to the left of the :guilabel:`AvaTax` settings, to activate *AvaTax* on the
database. This is a quick, convenient way to activate and deactivate *AvaTax* tax calculation on the
Odoo database.

.. image:: avatax/avatax-configuration-settings.png
   :align: center
   :alt: Configure AvaTax settings

.. _accounting/avatax/prerequisites:

Prerequisites
~~~~~~~~~~~~~

First, select the :guilabel:`Environment` in which the company wishes to use *AvaTax* in. It can
either be :guilabel:`Sandbox` or :guilabel:`Production`.

.. seealso::
   For help determining which *AvaTax* environment to use (either :guilabel:`Production` or
   :guilabel:`Sandbox`), visit: `Sandbox vs Production environments
   <https://knowledge.avalara.com/bundle/fzc1692293626742/page/sandbox-vs-production.html>`_.

Credentials
~~~~~~~~~~~

Now, the credentials can be entered in. The *AvaTax* :guilabel:`Account ID` should be entered in the
:guilabel:`API ID` field, and the :guilabel:`License Key` should be entered in the :guilabel:`API
Key` field.

.. important::
   The :guilabel:`Account ID` can be found by logging into the *AvaTax* portal (`sandbox
   <https://sandbox.admin.avalara.com/>`_ or `production <https://admin.avalara.com/>`_). In the
   upper-right corner, click on the initials of the user and :guilabel:`Account`. The
   :guilabel:`Account ID` is listed first.

   To access the :guilabel:`License Key` see this documentation:
   :ref:`accounting/avatax/create_avalara_credentials`.

For the :guilabel:`Company Code` field, enter the Avalara company code for the company being
configured. Avalara interprets this as `DEFAULT`, if it is not set. The :guilabel:`Company Code` can
be accessed in the Avalara management portal.

First, log into the *AvaTax* portal (`sandbox <https://sandbox.admin.avalara.com/>`_ or `production
<https://admin.avalara.com/>`_). Then, navigate to :menuselection:`Settings --> Manage Companies`.
The :guilabel:`Company Code` value is located in the row of the :guilabel:`Company` in the
:guilabel:`Company Code` column.

.. image:: avatax/company-code.png
   :align: center
   :alt: AvaTax company code highlighted on the company details page.

Transaction options
~~~~~~~~~~~~~~~~~~~

There are two transactional settings in the Odoo *AvaTax* settings that can be configured:
:guilabel:`Use UPC` and :guilabel:`Commit Transactions`.

If the checkbox next to :guilabel:`Use UPC` is ticked, the transactions will use Universal Product
Codes (UPC), instead of custom defined codes in Avalara. Consult a certified public accountant (CPA)
for specific guidance.

Should the :guilabel:`Commit Transactions` checkbox be ticked, then, the transactions in the Odoo
database will be committed for reporting in *AvaTax*.

Address validation
~~~~~~~~~~~~~~~~~~

The *Address Validation* feature ensures that the most up-to-date address by postal standards is set
on a contact in Odoo. This is important to provide accurate tax calculations for customers.

.. important::
   The :guilabel:`Address Validation` feature only works with partners/customers in North America.

Additionally, tick the checkbox next to the :guilabel:`Address validation` field.

.. important::
   For accurate tax calculations, it is best practice to enter a complete address for the contacts
   saved in the database. However, *AvaTax* can still function by implementing a best effort attempt
   using only the :guilabel:`Country`, :guilabel:`State`, and :guilabel:`Zip code`. These are the
   three minimum required fields.

:guilabel:`Save` the settings to implement the configuration.

.. tip::
   Manually :guilabel:`Validate` the address by navigating to the :menuselection:`Contacts app`, and
   selecting a contact. Now that the *AvaTax* module has been configured on the database, a
   :guilabel:`Validate` button appears directly below the :guilabel:`Address`.

   Click :guilabel:`Validate`, and a pop-up window appears with a :guilabel:`Validated Address` and
   :guilabel:`Original Address` listed. If the :guilabel:`Validated Address` is the correct mailing
   address for tax purposes, click :guilabel:`Save Validated`.

   .. image:: avatax/validate-address.png
      :align: center
      :alt: Validate address pop-up window in Odoo with "Save Validated" button and "Validated
            Address" highlighted.

.. warning::
   All previously-entered addresses for contacts in the Odoo database will need to be validated
   using the manually validate process outlined above. Addresses are not automatically validated if
   they were entered previously. This only occurs upon tax calculation.

Test connection
~~~~~~~~~~~~~~~

After entering all the above information into the *AvaTax* setup on Odoo, click :guilabel:`Test
connection`. This ensures the :guilabel:`API ID` and :guilabel:`API KEY` are correct, and a
connection is made between Odoo and the *AvaTax* application programming interface (API).

Sync parameters
~~~~~~~~~~~~~~~

Upon finishing the configuration and settings of the *AvaTax* section, click the :guilabel:`Sync
Parameters` button. This action synchronizes the exemption codes from *AvaTax*.

.. _accounting/avatax/fiscal_positions:

Fiscal position
---------------

Next, navigate to :menuselection:`Accounting app --> Configuration --> Accounting: Fiscal
Positions`. A :guilabel:`Fiscal Position` is listed named, :guilabel:`Automatic Tax Mapping
(AvaTax)`. Click it to open *AvaTax's* fiscal position configuration page.

Here, ensure that the :guilabel:`Use AvaTax API` checkbox is ticked.

Optionally, tick the checkbox next to the field labeled: :guilabel:`Detect Automatically`. Should
this option be ticked, then, Odoo will automatically apply this :guilabel:`Fiscal Position` for
transactions in Odoo.

Enabling :guilabel:`Detect Automatically` also makes specific parameters, such as :guilabel:`VAT
required`, :guilabel:`Foreign Tax ID`, :guilabel:`Country Group`, :guilabel:`Country`,
:guilabel:`Federal States`, or :guilabel:`Zip Range` appear. Filling these parameters filters the
:guilabel:`Fiscal Position` usage. Leaving them blank ensures all calculations are made using this
:guilabel:`Fiscal Position`.

.. warning::
   Should the :guilabel:`Detect Automatically` checkbox not be ticked, each customer will need to
   have the :guilabel:`Fiscal Position` set on their :guilabel:`Sales and Purchase` tab of the
   contact record. To do so, navigate to :menuselection:`Sales app --> Order --> Customers`, or
   :menuselection:`Contacts app --> Contacts`. Then, select a customer or contact to set the fiscal
   position on.

   Navigate to the :guilabel:`Sales and Purchase` tab, and down to the section labeled,
   :guilabel:`Fiscal Position`. Set the :guilabel:`Fiscal Position` field to the fiscal position
   for the customer.

.. seealso::
   :doc:`fiscal_positions`

AvaTax accounts
~~~~~~~~~~~~~~~

Upon selecting the checkbox option for :guilabel:`Use AvaTax API` a new :guilabel:`AvaTax` tab
appears. Click into this tab to reveal two different settings.

The first setting is the :guilabel:`AvaTax Invoice Account`, while the second is, :guilabel:`AvaTax
Refund Account`. Ensure both accounts are set for smooth end-of-year record keeping. Consult a
certified public accountant (CPA) for specific guidance on setting both accounts.

Click :guilabel:`Save` to implement the changes.

Tax mapping
-----------

The *AvaTax* integration is available on sale orders and invoices with the included *AvaTax* fiscal
position.

.. tip::
   Additionally, there is a :guilabel:`Tax Mapping` tab and :guilabel:`Account Mapping` tab in the
   :guilabel:`Automatic Tax Mapping (AvaTax)` fiscal position, where mapping for products can also
   be configured. To access :guilabel:`Fiscal Positions` navigate to :menuselection:`Accounting app
   --> Configuration --> Accounting: Fiscal Positions`.

Product category mapping
~~~~~~~~~~~~~~~~~~~~~~~~

Before using the integration, specify an :guilabel:`Avatax Category` on the product categories.
Navigate to :menuselection:`Inventory app --> Configuration --> Product Categories`. Select the
product category to add the :guilabel:`AvaTax Category` to. In the :guilabel:`AvaTax Category`
field, select a category from the drop-down menu, or :guilabel:`Search More...` to open the complete
list of options.

.. image:: avatax/avatax-category.png
   :align: center
   :alt: Specify AvaTax Category on products.

Product mapping
~~~~~~~~~~~~~~~

*AvaTax* Categories may be set on individual products, as well. To set the :guilabel:`Avatax
Category` navigate to :menuselection:`Inventory app --> Products --> Products`. Select the product
to add the :guilabel:`Avatax Category` to. Under the :guilabel:`General Information` tab, on the
far-right, is a selector field labeled: :guilabel:`Avatax Category`. Finally, click the drop-down
menu, and select a category, or :guilabel:`Search More...` to find one that is not listed.

.. note::
   If both the product, and its category, have an :guilabel:`AvaTax Category` set, the product's
   :guilabel:`AvaTax Category` takes precedence.

.. image:: avatax/override-avatax-product-category.png
   :align: center
   :alt: Override product categories as needed.

.. important::
   Mapping an :guilabel:`AvaTax Category` on either the *Product* or *Product Category* should be
   completed for every *Product* or *Product Category*, depending on the route that is chosen.

.. seealso::
   - :doc:`fiscal_positions`
   - :doc:`avatax/avatax_use`
   - :doc:`avatax/avalara_portal`
   - `US Tax Compliance: Avatax elearning video
     <https://www.odoo.com/slides/slide/us-tax-compliance-avatax-2858?fullscreen=1>`_

.. toctree::
   :titlesonly:

   avatax/avatax_use
   avatax/avalara_portal


==================================================
SECTION: avatax_use.rst
PATH: applications/finance/accounting/taxes/avatax/avatax_use.rst
==================================================

==========
AvaTax use
==========

AvaTax is a tax calculation software that can be integrated with Odoo in the United States and
Canada. Once the :doc:`integration setup <../avatax>` is complete, the calculated tax is simple and
automatic.

.. _accounting/avatax/tax-calculation:

Tax calculation
===============

Automatically calculate taxes on Odoo quotations and invoices with AvaTax by confirming the
documents during the sales flow. Alternatively, calculate the taxes manually by clicking the
:guilabel:`Compute Taxes` button, while these documents are in draft stage.

.. tip::
   Clicking the :guilabel:`Compute Taxes` button recalculates taxes, if any product lines are edited
   on the invoice.

.. image:: avatax_use/calculate-avatax.png
   :align: center
   :alt: Sales quotation with the confirm and compute taxes button highlighted.

The tax calculation is triggered during the following :ref:`automatic trigger
<avatax/automatic-triggers>` and :ref:`manual trigger <avatax/manual-triggers>` circumstances.

.. _avatax/automatic-triggers:

Automatic triggers
------------------

- When the sales rep sends the quote by email with :guilabel:`Send by email` button (pop-up).
- When the customer views the online quote on the portal.
- When a quote is confirmed and becomes a sales order.
- When the customer views the invoice on the portal.
- When a draft invoice is validated.
- When the customer views the subscription in the portal.
- When a subscription generates an invoice.
- When the customer gets to the last screen of the eCommerce checkout.

.. _avatax/manual-triggers:

Manual triggers
---------------

- :guilabel:`Compute Taxes` button at the bottom of the quote.
- :guilabel:`Compute Taxes` button at the top of the invoice.

Use each of these buttons to manually re-calculate the sales tax.

.. tip::
   Use the :guilabel:`Avalara Partner Code` field that is available on customer records, quotations,
   and invoices to cross-reference data in Odoo and AvaTax. This field is located under the
   :menuselection:`Other info` tab of the sales order or quotation in the :guilabel:`Sales` section.

   On the customer record, navigate to *Contacts app* and select a contact. Then open the
   :guilabel:`Sales & Purchase` tab and the :guilabel:`Avalara Partner Code` under the
   :guilabel:`Sales` section.

.. important::
   The :guilabel:`Automatic Tax Mapping (AvaTax)` fiscal position is also applied on those Odoo
   documents, like subscriptions.

.. seealso::
   - :doc:`../fiscal_positions`

AvaTax synchronization
======================

Synchronization occurs with AvaTax, when the *invoice* is created in Odoo. This means the sales tax
is recorded with Avalara (AvaTax software developer).

To do so, navigate to :menuselection:`Sales app --> Orders --> Quotations`. Select a quotation from
the list.

After confirming a quotation and validating the delivery, click :guilabel:`Create Invoice`. Indicate
whether it is a :guilabel:`Regular invoice`, :guilabel:`Down payment (percentage)`, or
:guilabel:`Down payment (fixed amount)`.

Then click :guilabel:`Create and view invoice`. The recorded taxes can be seen in the
:guilabel:`Journal Items` tab of the invoice. There will be different taxes depending on the
location of the :guilabel:`Delivery Address`.

.. image:: avatax_use/journal-items.png
   :align: center
   :alt: Journal items highlighted on a invoice in Odoo.

Finally, press the :guilabel:`Confirm` button to complete the invoice and synchronize with the
AvaTax portal.

.. warning::
   An invoice cannot be :guilabel:`Reset to draft` because this causes de-synchronization with the
   AvaTax Portal. Instead, click :guilabel:`Add credit note` and state: `Sync with AvaTax Portal`.
   See this documentation: :doc:`../../../accounting/customer_invoices/credit_notes`.

Fixed price discounts
=====================

Add a fixed price discount to a valuable customer, by clicking :guilabel:`Add a line` on the
customer's invoice. Add the product discount, and set the :guilabel:`Price` to either a positive or
negative value. To recalculate the taxes, click :guilabel:`Compute Taxes`.

.. tip::
   Tax calculation can even be done on negative subtotals and credit notes.

Logging
=======

It is possible to log Avalara/*AvaTax* actions in Odoo for further analysis, or verification of
functionality. Logging is accessible through the *AvaTax* settings.

To start logging *AvaTax* actions, first, navigate to the :menuselection:`Accounting app -->
Configuration --> Settings`.

Then, in the :guilabel:`Taxes` section, under the :guilabel:`AvaTax` settings, click
:guilabel:`Start logging for 30 minutes`.

Upon starting the log process, Odoo will log all Avalara/*AvaTax* actions performed in the database.

To view the logs, click on :guilabel:`Show logs` to the right of the :guilabel:`Start logging for 30
minutes`. This reveals a detailed list of Avalara/*AvaTax* actions. This list is sortable by the
following columns:

- :guilabel:`Created on`: timestamp of the *AvaTax* calculation.
- :guilabel:`Created by`: numeric value of the user in the database.
- :guilabel:`Database name`: name of the database.
- :guilabel:`Type`: two values can be chosen for this field, :guilabel:`Server` or
  :guilabel:`Client`.
- :guilabel:`Name`: Avalara service name. In this case, it will be *AvaTax*.
- :guilabel:`Level`: by default, this will be `INFO`.
- :guilabel:`Path`: indicates the path taken to make the calculation.
- :guilabel:`Line`: indicates the line the calculation is made on.
- :guilabel:`Function`: indicates the calculation taken on the line.

.. image:: avatax_use/logging.png
   :align: center
   :alt: Avalara logging page with top row of list highlighted.

Click into the log line to reveal another field, called :guilabel:`Message`.

This field populates a raw transcription of the transaction, which involves the creation (or
adjustment) of a sales invoice using the Avalara *AvaTax* API.

The transaction includes details, such as addresses for shipping from and to, line items describing
the products or services, tax codes, tax amounts, and other relevant information.

The :guilabel:`Message` contains the calculated taxes for different jurisdictions and confirms the
creation (or adjustment) of the transaction.

.. tip::
   Custom fields can be made using Odoo *Studio*. Click the :icon:`fa-ellipsis-v`
   :guilabel:`(ellipsis)` menu to the far-right of the header row. Then click :icon:`fa-plus`
   :guilabel:`Add custom field`. This action opens Odoo *Studio*.

.. important::
   Odoo *Studio* requires a *custom* pricing plan. Consult the database's customer success manager
   for more information on switching plans. Or to see if Odoo *Studio* is included in the database's
   current pricing plan. See this documentation: :doc:`../../../../studio`.

.. seealso::
   - :doc:`../avatax`
   - :doc:`avalara_portal`
   - `US Tax Compliance: Avatax elearning video
     <https://www.odoo.com/slides/slide/us-tax-compliance-avatax-2858?fullscreen=1>`_
   - :doc:`../fiscal_positions`



==================================================
SECTION: avg_price_valuation.rst
PATH: applications/finance/accounting/get_started/avg_price_valuation.rst
==================================================

===============================
Average price on returned goods
===============================

.. |AVCO| replace:: :abbr:`AVCO (Average Cost Valuation)`
.. _inventory/avg_cost/definition:

*Average cost valuation* (AVCO) is an inventory valuation method that evaluates cost based on the
total cost of goods bought or produced during a period, divided by the total number of items
on-hand. Inventory valuation is used to:

- reflect the value of a company's assets;
- keep track of the amount of unsold goods;
- account for monetary value in goods that have yet to generate profit;
- report on flow of goods throughout the quarter.

Because |AVCO| uses the weighted average to evaluate the cost, it is a good fit for companies that
sell only a few different products in large quantities. In Odoo, this costing analysis is
*automatically updated* each time products are received.

Thus, when shipments are returned to their supplier, Odoo automatically generates accounting entries
to reflect the change in inventory valuation. However, Odoo does **not** automatically update the
|AVCO| calculation, because :ref:`this can potentially create inconsistencies with inventory
valuation <inventory/avg_price/leaving_inventory>`.

.. note::
   This document addresses a specific use case for theoretical purposes. For instructions on how to
   set up and use |AVCO|, refer to the :doc:`inventory valuation cheat sheet
   <../../../inventory_and_mrp/inventory/inventory_valuation/cheat_sheet>`.

Configuration
=============

To use average cost inventory valuation on a product, navigate to :menuselection:`Inventory -->
Configuration --> Product Categories` and select the category that will be using |AVCO|. On the
product category page, set :guilabel:`Costing Method` to `Average Cost (AVCO)` and
:guilabel:`Inventory Valuation` to `Automated`.

.. seealso::
   :doc:`Inventory valuation cheat sheet
   <../../../inventory_and_mrp/inventory/inventory_valuation/cheat_sheet>`

Using average cost valuation
============================

The average cost method adjusts the inventory valuation when products are received in the warehouse.
This section explains how it works, but if the explanation is unnecessary, skip to the :ref:`return
to supplier use case <inventory/avg_cost/return>` section.

.. _inventory/avg_cost/formula:

Formula
-------

When new products arrive, the new average cost for each product is recomputed using the formula:

.. math::
   Avg~Cost = \frac{(Old~Qty \times Old~Avg~Cost) + (Incoming~Qty \times Purchase~Price)}{Final~Qty}

- **Old Qty**: product count in stock before receiving the new shipment;
- **Old Avg Cost**: calculated average cost for a single product from the previous inventory
  valuation;
- **Incoming Qty**: count of products arriving in the new shipment;
- **Purchase Price**: estimated price of products at the reception of products (since vendor bills
  may arrive later). The amount includes not only the price for the products, but also added costs,
  such as shipping, taxes, and :doc:`landed costs
  <../../../inventory_and_mrp/inventory/inventory_valuation/landed_costs>`. At
  reception of the vendor bill, this price is adjusted;
- **Final Qty**: quantity of on-hand stock after the stock move.

.. _inventory/avg_cost/definite_rule:

.. important::
   When products leave the warehouse, the average cost **does not** change. Read about why the
   average cost valuation is **not** adjusted :ref:`here <inventory/avg_price/leaving_inventory>`.

.. _inventory/avg_cost/math_table:

Compute average cost
--------------------

To understand how the average cost of a product changes with each shipment, consider the following
table of warehouse operations and stock moves. Each is a different example of how the average cost
valuation is affected.

+--------------------------------+---------------+-------------------+---------------+------------+
| Operation                      | Incoming Value| Inventory Value   | Qty On Hand   | Avg Cost   |
+================================+===============+===================+===============+============+
|                                |               | $0                | 0             | $0         |
+--------------------------------+---------------+-------------------+---------------+------------+
| Receive 8 tables at $10/unit   | 8 * $10       | $80               | 8             | $10        |
+--------------------------------+---------------+-------------------+---------------+------------+
| Receive 4 tables at $16/unit   | 4 * $16       | $144              | 12            | $12        |
+--------------------------------+---------------+-------------------+---------------+------------+
| Deliver 10 tables              | -10 * $12     | $24               | 2             | $12        |
+--------------------------------+---------------+-------------------+---------------+------------+

.. _inventory/avg_cost/ex-1:

.. exercise::
   Ensure comprehension of the above computations by reviewing the "Receive 8 tables at $10/unit"
   example.

   Initially, the product stock is 0, so all values are $0.

   In the first warehouse operation, `8` tables are received at `$10` each. The average cost is
   calculated using the :ref:`formula <inventory/avg_cost/formula>`:

   .. math::
      Avg~Cost = \frac{0 + 8 \times $10}{8} = \frac{$80}{8} = $10

   - Since the *incoming quantity* of tables is `8` and the *purchase price* for each is `$10`,
   - The inventory value in the numerator is evaluated to `$80`;
   - `$80` is divided by the total amount of tables to store, `8`;
   - `$10` is the average cost of a single table from the first shipment.

   To verify this in Odoo, in the *Purchase* app, order `8` quantities of a new product, `Table`,
   with no previous stock moves, for `$10` each.

   In the table's :guilabel:`Product Category` field in the :guilabel:`General Information` tab of
   the product form, click the :guilabel:`➡️ (arrow)` icon, to open an :guilabel:`External Link` to
   edit the product category. Set the :guilabel:`Costing Method` to `Average Cost (AVCO)` and
   :guilabel:`Inventory Valuation` to `Automated`.

   Then, return to the purchase order. Click :guilabel:`Confirm Order`, and click :guilabel:`Receive
   Products` to confirm receipt.

   Next, check the inventory valuation record generated by the product reception by navigating to
   :menuselection:`Inventory --> Reporting --> Inventory Valuation`. Select the drop-down for
   `Table`, and view the :guilabel:`Total Value` column for the *valuation layer* (:dfn:`inventory
   valuation at a specific point in time = on-hand quantity * unit price`). The 8 tables in-stock
   are worth $80.

   .. image:: avg_price_valuation/inventory-val-8-tables.png
      :align: center
      :alt: Show inventory valuation of 8 tables in Odoo.

.. tip::
   When the product category's :guilabel:`Costing Method` is set to :guilabel:`AVCO`, then the
   average cost of a product is also displayed on the :guilabel:`Cost` field, under the
   :guilabel:`General Information` tab, on the product page itself.

Product delivery (use case)
~~~~~~~~~~~~~~~~~~~~~~~~~~~

For outgoing shipments, :ref:`outbound products have no effect on the average cost valuation
<inventory/avg_cost/definite_rule>`. Although the average cost valuation is not recalculated, the
inventory value still decreases because the product is removed from stock and delivered to the
customer location.

.. exercise::
   To demonstrate that the average cost valuation is not recalculated, examine the "Deliver 10
   tables" example.

   .. math::
      Avg~Cost = \frac{12 \times $12 + (-10) \times $12}{12-10} = \frac{24}{2} = $12

   #. Because 10 tables are being sent out to customers, the *incoming quantity* is `-10`. The
      previous average cost (`$12`) is used in lieu of a vendor's *purchase price*;
   #. The *incoming inventory value* is `-10 * $12 = -$120`;
   #. The old *inventory value* (`$144`) is added to the *incoming inventory value* (`-$120`), so
      `$144 + -$120 = $24`;
   #. Only `2` tables remain after shipping out `10` tables from `12`. So the current *inventory
      value* (`$24`) is divided by the on-hand quantity (`2`);
   #. `$24 / 2 = $12`, which is the same average cost as the previous operation.

   To verify this in Odoo, sell `10` tables in the *Sales* app, validate the delivery, and then
   review the inventory valuation record by going to in :menuselection:`Inventory --> Reporting -->
   Inventory Valuation`. In the topmost valuation layer, delivering `10` tables reduces the
   product's value by `-$120`.

   **Note**: What is not represented in this stock valuation record is the revenue made from this
   sale, so this decrease is not a loss to the company.

   .. image:: avg_price_valuation/inventory-val-send-10-tables.png
      :align: center
      :alt: Show how deliveries decrease inventory valuation.

.. _inventory/avg_cost/return:

Return items to supplier (use case)
===================================

Because the price paid to suppliers can differ from the price the product is valued at with the
|AVCO| method, Odoo handles returned items in a specific way.

#. Products are returned to suppliers at the original purchase price, but;
#. The internal cost valuation remains unchanged.

The above :ref:`example table <inventory/avg_cost/math_table>` is updated as follows:

+--------------------------------+---------------+-------------------+---------------+------------+
| Operation                      | Qty*Avg Cost  | Inventory Value   | Qty On Hand   | Avg Cost   |
+================================+===============+===================+===============+============+
|                                |               | $24               | 2             | $12        |
+--------------------------------+---------------+-------------------+---------------+------------+
| Return 1 table bought at $10   | -1 * $12      | $12               | 1             | $12        |
+--------------------------------+---------------+-------------------+---------------+------------+

In other words, returns to vendors are perceived by Odoo as another form of a product exiting the
warehouse. To Odoo, because the table is valued at $12 per unit, the inventory value is reduced by
`$12` when the product is returned; the initial purchase price of `$10` is unrelated to the table's
average cost.

.. example::
   To return a single table that was purchased for `$10`, navigate to the receipt in the *Inventory*
   app for the :ref:`8 tables purchased in Exercise 1 <inventory/avg_cost/ex-1>` by going to the
   :guilabel:`Inventory Overview`, clicking on :guilabel:`Receipts`, and selecting the desired
   receipt.

   Then, click :guilabel:`Return` on the validated delivery order, and modify the quantity to `1` in
   the reverse transfer window. This creates an outgoing shipment for the table. Select
   :guilabel:`Validate` to confirm the outgoing shipment.

   Return to :menuselection:`Inventory --> Reporting --> Inventory Valuation` to see how the
   outgoing shipment decreases the inventory value by $12.

   .. image:: avg_price_valuation/inventory-valuation-return.png
      :align: center
      :alt: Inventory valuation for return.

.. _inventory/avg_price/leaving_inventory:

Eliminate stock valuation errors in outgoing products
-----------------------------------------------------

Inconsistencies can occur in a company's inventory when the average cost valuation is recalculated
on outgoing shipments.

To demonstrate this error, the table below displays a scenario in which 1 table is shipped to a
customer and another is returned to a supplier at the purchased price.

+------------------------------------------+---------------+-------------------+---------------+------------+
| Operation                                | Qty*Price     | Inventory Value   | Qty On Hand   | Avg Cost   |
+==========================================+===============+===================+===============+============+
|                                          |               | $24               | 2             | $12        |
+------------------------------------------+---------------+-------------------+---------------+------------+
| Ship 1 product to customer               | -1 \* $12     | $12               | 1             | $12        |
+------------------------------------------+---------------+-------------------+---------------+------------+
| Return 1 product initially bought at $10 | -1 \* $10     | **$2**            | **0**         | $12        |
+------------------------------------------+---------------+-------------------+---------------+------------+

In the final operation above, the final inventory valuation for the table is `$2` even though there
are `0` tables left in stock.

.. admonition:: Correct method

   Use the average cost to value the return. This does not mean the company gets $12 back for a $10
   purchase; the item returned for $10 is valued internally at $12. The inventory value change
   represents a product worth $12 no longer being accounted for in company assets.

Anglo-Saxon accounting
======================

In addition to using |AVCO|, companies that use **Anglo-Saxon accounting** also keep a holding
account that tracks the amount to be paid to vendors. Once a vendor delivers an order, **inventory
value** increases based on the vendor price of the products that have entered the stock. The holding
account (called **stock input**) is credited and only reconciled once the vendor bill is received.

The table below reflects journal entries and accounts. The *stock input* account stores the money
intended to pay vendors when the vendor bill has not yet been received. To balance accounts when
returning products that have a price difference between the price the product is **valued at** and
the price it was bought for, a *price difference* account is created.

.. _inventory/avg_price/price-table:

+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Operation                               | Stock Input   | Price Diff   | Inventory Value   | Qty On Hand   | Avg Cost   |
+=========================================+===============+==============+===================+===============+============+
|                                         |               |              | $0                | 0             | $0         |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Receive 8 tables at $10                 | ($80)         |              | $80               | 8             | $10        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Receive vendor bill $80                 | $0            |              | $80               | 8             | $10        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Receive 4 tables at $16                 | ($64)         |              | $144              | 12            | $12        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Receive vendor bill $64                 | $0            |              | $144              | 12            | $12        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Deliver 10 tables to customer           | $0            |              | $24               | 2             | $12        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Return 1 table initially bought at $10  | **$10**       | **$2**       | **$12**           | 1             | $12        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+
| Receive vendor refund $10               | $0            | $2           | $12               | 1             | $12        |
+-----------------------------------------+---------------+--------------+-------------------+---------------+------------+

Product reception
-----------------

Summary
~~~~~~~

At product reception, Odoo ensures companies can pay for goods that were purchased by preemptively
moving an amount matching the price of received goods into the :doc:`liability account
</applications/finance/accounting/get_started/cheat_sheet>`, **Stock Input**. Then, once the bill
has been received, the amount in the holding account is transferred to *Accounts Payable*. Transfers
into this account means the bill has been paid. **Stock Input** is reconciled once the vendor bill
is received.

Inventory valuation is a method of calculating how much each in-stock product is worth internally.
Since there is a difference between the price the product is **valuated at** and the price the
product was actually **purchased for**, the **Inventory Valuation** account is unrelated to the
crediting and debiting operations of the **Stock Input** account.

To conceptualize all this, follow the breakdown below.

Accounts balanced at received products
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In this example, a company starts with zero units of a product, `table`, in stock. Then, 8 tables
are received from the vendor:

#. The **Stock Input** account stores `$80` of credit owed to the vendor. The amount in this account
   is unrelated to the inventory value.
#. `$80` worth of tables came **in** (**debit** the *Inventory Value* account `$80`), and
#. `$80` must be paid **out** for received goods (**credit** the *Stock Input* account `$80`).

In Odoo
*******

Odoo generates an accounting journal entry when shipments that use |AVCO| costing method are
received. Configure a :guilabel:`Price Difference Account` by selecting the :guilabel:`➡️ (arrow)`
icon next to the :guilabel:`Product Category` field on the product page.

Under :guilabel:`Account Properties`, create a new :guilabel:`Price Difference Account` by typing in
the name of the account and clicking :guilabel:`Create and Edit`. Then set the account
:guilabel:`Type` as `Expenses`, and click :guilabel:`Save`.

.. image:: avg_price_valuation/create-price-difference.png
   :align: center
   :alt: Create price difference account.

Then, receive the shipment in the *Purchase* app or *Inventory* app, and navigate to the
:menuselection:`Accounting app --> Accounting --> Journal Entries`. In the list, find the
:guilabel:`Reference` that matches the warehouse reception operation for the relevant product.

.. image:: avg_price_valuation/search-for-entry-of-tables.png
   :align: center
   :alt: Show accounting entry of 8 tables from the list.

Click on the line for 8 tables. This accounting journal entry shows that when the 8 tables were
received, the `Stock Valuation` account increased by `$80`. Conversely, the **Stock Input** account
(set as `Stock Interim (Received)` account by default) is credited `$80`.

.. image:: avg_price_valuation/accounting-entry-8-tables.png
   :align: center
   :alt: Debit stock valuation and credit stock input 80 dollars.

Accounts balanced at received vendor bill
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In this example, a company starts with zero units of a product, table, in stock. Then, 8 tables are
received from the vendor. When the bill is received from vendor for 8 tables:

#. Use `$80` in the **Stock Input** account to pay the bill. This cancels out and the account now
   holds `$0`.
#. Debit **Stock Input** `$80` (to reconcile this account).
#. Credit **Accounts payable** `$80`. This account stores the amount the company owes others, so
   accountants use the amount to write checks to vendors.

In Odoo
*******

Once the vendor requests payment, navigate to the :menuselection:`Purchase app --> Orders -->
Purchase` and select the :abbr:`PO (Purchase Order)` for 8 tables. Inside the :abbr:`PO (Purchase
Order)`, select :guilabel:`Create Bill`.

Switch to the :guilabel:`Journal Items` tab to view how `$80` is transferred from the holding
account, `Stock Interim (Received)` to `Accounts Payable`. :guilabel:`Confirm` the bill to record
the payment to the vendor.

.. image:: avg_price_valuation/receive-8-table-bill.png
   :align: center
   :alt: Show bill linked to the purchase order for 8 tables.

On product delivery
-------------------

In the :ref:`above example table <inventory/avg_price/price-table>`, when 10 products are delivered
to a customer, the **Stock Input** account is untouched because there are no new products coming in.
To put it simply:

#. **Inventory valuation** is credited `$120`. Subtracting from inventory valuation represents
   `$120` worth of products exiting the company.
#. Debit **Accounts Receivable** to record revenue from the sale.

.. image:: avg_price_valuation/sell-10-tables.png
   :align: center
   :alt: Show journal items linked to sale order.

.. spoiler:: Understand Anglo-Saxon expensing

   In the accounting journal entry invoicing a customer for 10 tables, the accounts **Product
   Sales**, **Tax Received**, and **Accounts Receivable** all pertain to the sale of the product.
   **Accounts Receivable** is the account where the customer payment will be received.

   Anglo-Saxon accounting recognizes the cost of goods sold (COGS) once the sale is made. So, up
   until the product is sold, scrapped, or returned, costs of keeping the product in stock are not
   accounted for. The **Expense** account is debited `$120` to log the costs of storing 10 tables
   during this period of time.

On product return
-----------------

In the :ref:`above example table <inventory/avg_price/price-table>`, when returning 1 product to a
vendor purchased at `$10`, a company expects `$10` in the **Accounts Payable** account from the
vendor. However, **Stock Input** account must be debited `$12` because the average cost is `$12` at
the time of the return. The missing `$2` is accounted for in the :guilabel:`Price Difference
Account`, which is set up in the product's :guilabel:`Product Category`.

.. note::
   Behavior of *price difference accounts* varies from localization. In this case, the account is
   intended to store differences between vendor price and *automated* inventory valuation methods.

Summary:

#. Debit **Stock Input** account `$10` to move the table from stock to stock input. This move is to
   indicate that the table is to be processed for an outgoing shipment.
#. Debit **Stock Input** an additional `$2` to account for the **Price Difference**.
#. Credit **Stock Valuation** `$12` because the item is leaving the stock.

.. image:: avg_price_valuation/expensing-price-difference-account.png
   :align: center
   :alt: 2 dollar difference expensed in Price Difference account.

Once the vendor's refund is received,

#. Credit **Stock Input** account `$10` to reconcile the price of the table.
#. Debit **Accounts Payable** `$10` to have the accountants collect and register the payment in
   their journal.

.. image:: avg_price_valuation/return-credit-note.png
   :align: center
   :alt: Return to get 10 dollars back.


==================================================
SECTION: bank.rst
PATH: applications/finance/accounting/bank.rst
==================================================

:show-content:

======================
Bank and cash accounts
======================

You can manage as many bank or cash accounts as needed on your database. Configuring them correctly
allows you to have all your banking data up-to-date and ready for :doc:`reconciliation
<bank/reconciliation>` with your journal entries.

In Odoo Accounting, each bank account has a dedicated journal set to post all entries in a dedicated
account. Both the journal and the account are automatically created and configured whenever you add
a bank account.

.. note::
   :ref:`Cash journals <accounting/journals/cash>` and accounts must be configured manually.

Bank journals are displayed by default on the :guilabel:`Accounting Dashboard` in the form of cards
which include action buttons.

.. image:: bank/card.png
   :alt: Bank journals are displayed on the Accounting Dashboard and contain action buttons

.. _accounting/bank/manage:

Manage bank and cash accounts
=============================

Connect a bank for automatic synchronization
--------------------------------------------

To connect your bank account to your database, go to the :guilabel:`Accounting Dashboard` and on the
kanban card of an unconnected bank, click :guilabel:`Search over 26000 banks`. Select your bank from
the list, click on :guilabel:`Connect`, and follow the instructions.

.. seealso::
   :doc:`bank/bank_synchronization`

.. _accounting/bank/create:

Create a bank account
---------------------

If your banking institution is not available in Odoo, or if you don't want to connect your bank
account to your database, you can configure your bank account manually.

To manually add a bank account, go to the :guilabel:`Accounting Dashboard` and on the kanban card of
an unconnected bank, click :guilabel:`Search over 26000 banks`. Then, click on :guilabel:`Record
transactions manually` (at the bottom right), fill out the bank information, and click
:guilabel:`Create`.

.. note::
   - Odoo automatically detects the bank account type (e.g., IBAN) and enables some features
     accordingly.
   - A default :ref:`bank journal <accounting/journals/bank>` is available and can be used to
     configure your bank account by going to :menuselection:`Accounting --> Configuration -->
     Accounting: Journals --> Bank`. Open it and edit the different fields to match your bank
     account information.

.. toctree::
   :titlesonly:

   bank/bank_synchronization
   bank/transactions
   bank/reconciliation
   bank/reconciliation_models
   bank/internal_transfers
   bank/foreign_currency
   bank/loans


==================================================
SECTION: bank_synchronization.rst
PATH: applications/finance/accounting/bank/bank_synchronization.rst
==================================================

:show-content:

====================
Bank synchronization
====================

Odoo synchronizes directly with your bank institution to automatically import all bank transactions
into the database. It supports over 26,000 financial institutions worldwide and relies on multiple
:ref:`third-party providers <accounting/bank-synchronization/third-party-providers>` to connect with
banks.

.. note::
   To use this service, a valid Odoo Enterprise subscription is required.

.. tip::
   To check if your bank is compatible with Odoo, go to `Odoo Accounting Features
   <https://www.odoo.com/app/accounting-features#part_5>`_, and click :guilabel:`See list of
   supported institutions` in the :guilabel:`Bank & Cash` section.

.. seealso::
   :doc:`transactions`

.. _accounting/bank-synchronization/configuration:

Configuration
=============

.. _accounting/bank-synchronization/first-synchronization:

First synchronization
---------------------

To synchronize the database with a bank, go to the Accounting Dashboard, click :guilabel:`New`, and
select the :guilabel:`Bank` card. In the :guilabel:`Add a Bank Account` window, select the relevant
bank and click :guilabel:`Connect`.

.. tip::
   - Alternatively, click the :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` icon of the
     :guilabel:`Bank` journal, and :guilabel:`Connect bank`, or click :guilabel:`Search over 26000
     banks` in the Accounting dashboard.
   - Depending on your bank and country, you can select the :guilabel:`Type of account` and/or
     choose another :ref:`third-party provider <accounting/bank-synchronization/third-party-providers>`
     to connect with the bank if needed before clicking :guilabel:`Connect`.
   - If your bank is not listed in the :guilabel:`Search for an institution` window, scroll down the
     list and click :icon:`fa-plus` :guilabel:`Add new bank` to create a bank account manually. Fill
     in the :guilabel:`Account Number`, :guilabel:`Bank`, and :guilabel:`SWIFT Code`, and click
     :guilabel:`Connect`. A bank journal is then created and named using the account number. Note
     that in this case, the bank is not synchronized.
   - If issues occur during the first synchronization, check that no firewall or proxy is blocking
     the address https://production.odoofin.com/. Make sure your web browser allows pop-ups and that
     any ad-blocker is disabled.

.. important::
   When setting up bank synchronization, accounting transactions are automatically recorded from the
   date of the last transaction +1 day (e.g., if the last transaction date is 31/12/2025, the
   recording starts on 01/01/2026). If the journal contains no transactions, all available past
   transactions are retrieved. To limit the retrieval period, go to :menuselection:`Accounting -->
   Accounting --> Lock Dates`, and set a date in the :guilabel:`Lock Everything` field.

.. note::
   - Some banks are in a :guilabel:`Beta` status, meaning they're not yet fully supported by
     third-party providers. This may lead to bugs or other issues. Although they can be used, Odoo
     does not provide technical support in this case.
   - The :ref:`third-party provider <accounting/bank-synchronization/third-party-providers>` may
     request more information to connect with a bank. This information is not stored on Odoo's
     servers.
   - To view all past synchronizations, activate the :ref:`developer mode <developer-mode>` and go to
     :menuselection:`Accounting --> Configuration --> Online Synchronization`.

.. _accounting/bank-synchronization/manual-synchronization:

Manual synchronization
----------------------

After the :ref:`first synchronization <accounting/bank-synchronization/first-synchronization>`, bank
journals are synchronized by default every twelve hours. To manually trigger synchronization, go to
the Accounting dashboard and click :guilabel:`Fetch Transactions` on the relevant bank journal.

.. tip::
   Alternatively, activate the :ref:`developer mode <developer-mode>`, go to
   :menuselection:`Accounting --> Configuration --> Online Synchronization`, select the relevant
   bank, and click :guilabel:`Fetch transactions`.

.. note::
   - Some banks do not support automatic transaction fetching. For these institutions, an error
     message appears during the automatic account synchronization, prompting the user to disable the
     automatic synchronization. This message is also logged in the chatter of the online
     synchronization. In such cases, disable the :guilabel:`Automatic synchronization` option in the
     corresponding bank's :guilabel:`Online Synchronization` and make sure to perform manual
     synchronizations by clicking :guilabel:`Fetch Transactions` on the relevant bank journal.
   - For some bank institutions, transactions can only be fetched up to three months in the past. If
     older transactions are needed, they can be :ref:`imported <accounting/transactions/import>`.

.. _accounting/bank-synchronization/update-credentials:

Update synchronization credentials
----------------------------------

To update bank credentials, activate the :ref:`developer mode <developer-mode>`, and go to
:menuselection:`Accounting --> Configuration --> Online Synchronization`. Open the connection that
needs to be updated, click :guilabel:`Update Credentials`, and follow the steps.

.. note::
   - The steps may vary depending on the third-party provider, as each provider follows its own
     process.
   - When updating bank credentials, make sure all accounts are selected for synchronization,
     including those from other banking institutions if applicable.

.. _accounting/bank-synchronization/third-party-providers:

Third-party providers
---------------------

Odoo relies on third-party providers to securely connect to your bank accounts and automatically
import transactions and financial data into the database. The following providers are used:

- `Plaid <https://plaid.com/discover-apps/>`_ (supported in the `United States of America and Canada
  <https://plaid.com/docs/institutions/>`_)
- `Yodlee <https://www.yodlee.com/>`_ (supported in Europe)
- `Salt Edge <https://www.saltedge.com/>`_ (supported `worldwide
  <https://www.saltedge.com/products/account_information/coverage>`_)
- :doc:`Ponto <bank_synchronization/ponto>` (supported in Europe)
- `Enable Banking <https://enablebanking.com/>`_ (supported in `Scandinavian countries
  <https://enablebanking.com/open-banking-apis>`_)

.. tip::
   When :ref:`connecting a bank to Odoo <accounting/bank-synchronization/first-synchronization>`:

   - Depending on your bank and country, change the default third-party provider when selecting the
     bank, if necessary.
   - Make sure to check the consent checkbox to allow information to be shared with Odoo.
   - Select all accounts that need access and synchronization, including those from other banking
     institutions.

.. seealso::
   - :ref:`Bank synchronization troubleshooting <accounting/bank-synchronization/troubleshooting>`
   - :ref:`Salt Edge bank synchronization troubleshooting
     <accounting/bank-synchronization/troubleshooting-saltedge>`
   - :ref:`Ponto bank synchronization troubleshooting
     <accounting/bank-synchronization/ponto/troubleshooting>`

.. _accounting/bank-synchronization/duplicate-transactions:

Duplicate transactions
======================

When importing transactions, some may appear :ref:`duplicated <accounting/transactions/duplicate>`
due to the same online transaction identifier or the same currency, amount, account number, and
date.

.. _accounting/bank-synchronization/missing-transactions:

Missing transactions
====================

Missing or pending transactions are entries that the bank has not yet validated.

To find missing and pending transactions, access the :ref:`bank reconciliation view
<accounting/reconciliation/access>`, click the :icon:`fa-cog` :guilabel:`(gear)` icon, and select
:guilabel:`Find Missing Transactions`.

To import a posted missing transaction, select it and click :guilabel:`Import Transactions`.

.. note::
   - Make sure the connection with the bank is active to find missing transactions.
   - :guilabel:`Pending` transactions cannot be imported.

.. _accounting/bank-synchronization/troubleshooting:

Troubleshooting
===============

.. seealso::
   :ref:`Bank synchronization troubleshooting - Ponto
   <accounting/bank-synchronization/ponto/troubleshooting>`

.. _accounting/bank-synchronization/troubleshooting/synchronization:

Synchronization errors or disconnections
----------------------------------------

To report a connection error to `Odoo support <https://www.odoo.com/help>`_, activate the
:ref:`developer mode <developer-mode>`, go to :menuselection:`Accounting --> Configuration -->
Online Synchronization`, select the failed connection, and copy the error description and the
reference.

If the connection with the proxy is lost and reconnection using the :guilabel:`Reconnect` option
isn't successful, contact `support <https://www.odoo.com/help>`_ directly. Provide the client ID or
the error reference from the chatter.

.. _accounting/bank-synchronization/troubleshooting/real-time:

Why is the synchronization not working in real-time?
----------------------------------------------------

Synchronization is not designed to work in real time, as third-party providers synchronize accounts
at different intervals. To manually trigger synchronization and retrieve bank transactions, go to
the :guilabel:`Accounting Dashboard`, and click :guilabel:`Fetch Transactions`.

Alternatively, to synchronize and fetch transactions, activate the :ref:`developer mode
<developer-mode>` and go to :menuselection:`Accounting --> Configuration --> Online
Synchronization`.

Some providers restrict refreshes to once per day. If transactions have already been fetched,
clicking :guilabel:`Fetch Transactions` again may not retrieve the latest data.

Transactions may appear on a bank account, but cannot be fetched if they have a :guilabel:`Pending`
status; only transactions with a :guilabel:`Posted` status are retrieved.

.. _accounting/bank-synchronization/troubleshooting/refresh-manually:

Why do my transactions only synchronize when I refresh manually?
----------------------------------------------------------------

Some banks implement additional security measures and require extra steps, such as an SMS or email
authentication code, or another type of :abbr:`MFA (multi-factor authentication)`. As a result,
the third-party provider cannot retrieve transactions until the security code is provided.

.. _accounting/bank-synchronization/troubleshooting/visible-transactions:

Why are no transactions visible?
--------------------------------

There are a few possible reasons for this issue:

- No bank accounts were synchronized during the :ref:`first synchronization
  <accounting/bank-synchronization/first-synchronization>`.
- There may be no new transactions available to fetch.

If the bank account is correctly linked to a journal, but posted transactions still aren't visible
in the database, contact `support <https://www.odoo.com/help>`_.

.. _accounting/bank-synchronization/troubleshooting/no-account-appearing:

Why are no accounts shown after synchronization?
------------------------------------------------

During the synchronization process, a bank institution was selected, but no bank accounts from this
institution were authorized during the :ref:`first synchronization
<accounting/bank-synchronization/first-synchronization>`.

.. _accounting/bank-synchronization/troubleshooting-saltedge:

Saltedge troubleshooting
------------------------

.. _accounting/bank-synchronization/troubleshooting/saltedge/deleting-error:

Why is there an error when deleting a synchronization in Odoo?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Odoo can't permanently delete the connection established with the banking institution. However,
it revokes consent, which prevents Odoo from accessing the account. The error message indicates that
the consent has been revoked, but the record could not be deleted as it remains in Salt Edge.

To delete the connection, connect to the `Salt Edge account <https://www.saltedge.com/dashboard>`_
and manually remove the synchronization. Once this is done, the record can be deleted in Odoo.

.. _accounting/bank-synchronization/troubleshooting/saltedge/account-already-synchronized:

I have an error saying that this account has already been synchronized
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The bank account has already been synchronized with Salt Edge. Access the Salt Edge `dashboard
<https://www.saltedge.com/dashboard>`_ to check if a connection with the same credentials exists.
There are two options:

- If a connection with the same credentials exists in Salt Edge but has not been synchronized with
  Odoo, delete the existing connection and create a new one from the Odoo database.
- If a connection with the same credentials exists in Salt Edge and has already been synchronized
  with Odoo, :ref:`update the synchronization credentials
  <accounting/bank-synchronization/update-credentials>` to reactivate the connection.


.. toctree::
   :titlesonly:

   bank_synchronization/ponto


==================================================
SECTION: basque_country.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/basque_country.rst
==================================================

:orphan:

===============================================
Odoo electronic invoicing in the Basque Country
===============================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Basque Country's regulatory standards.

Legal framework for e-invoicing in the Basque Country
=====================================================

In the Basque Country, electronic invoicing is governed by Spanish national legislation and regional
implementations, including the `Ley de Facturación Electrónica <https://www.facturae.gob.es/face/Paginas/FACE.aspx>`_
and compliance with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_.
For :abbr:`B2G (business-to-government)` transactions, e-invoicing is mandatory, and suppliers must
submit e-invoices through the FACe platform or the regional system, e-Factura Euskadi, specifically
designed for the Basque Country. These platforms ensure the secure submission of invoices to public
administrations. While B2B e-invoicing is not yet mandatory, its use is growing, supported by the
implementation of the TicketBAI system, which is specific to the Basque Country and promotes tax
transparency.

Compliance with Basque e-invoicing regulations
==============================================

Odoo Invoicing is fully prepared to help businesses meet the Basque Country's e-invoicing
requirements while complying with broader Spanish and EU standards. Here is how Odoo ensures
compliance:

- **Supported formats**: Odoo supports formats such as Facturae XML, required for compliance with
  the FACe and e-Factura Euskadi platforms. Additionally, Odoo integrates with the TicketBAI system,
  ensuring all invoices meet the technical and legal standards for secure submission to tax
  authorities. Odoo enables businesses to submit e-invoices seamlessly to the FACe platform for
  national compliance and the e-Factura Euskadi system for regional public administration
  transactions. Furthermore, Odoo supports compliance with the TicketBAI initiative, specific to the
  Basque Country.
- **Secure storage and retrieval**: In accordance with regulations requiring invoices to be stored
  for a minimum of 6 years, Odoo provides a secure, tamper-proof archive for all invoices, allowing
  easy access for audits and tax reviews.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations, ensuring
  invoices adhere to Basque Country VAT requirements for B2G and B2B transactions while facilitating
  compliance with the SII (Immediate Supply of Information) system for real-time VAT reporting.

.. admonition:: Disclaimer

   This page provides an overview of e-invoicing laws in the Basque Country and how Odoo Invoicing
   supports compliance with the Ley de Facturación Electrónica, e-Factura Euskadi, TicketBAI system,
   and FACe platform. It is not intended as legal advice. We recommend consulting with a tax advisor
   or legal professional familiar with e-invoicing regulations in the Basque Country to ensure
   compliance tailored to your specific business needs.


==================================================
SECTION: batch.rst
PATH: applications/finance/accounting/payments/batch.rst
==================================================

==============
Batch payments
==============

Batch payments allow grouping payments from multiple customers or vendors into a single batch and
generating a detailed deposit slip or payment file with a batch reference. This reference can be
used during :doc:`reconciliation <../bank/reconciliation>` to match bank transactions with the
corresponding payments. This feature is particularly useful for submitting :doc:`SEPA Direct Debit
payments <batch_sdd>`, depositing cash payments or :ref:`checks <accounting/payments/checks>`, or
generating outgoing payment files, such as :doc:`SEPA <pay_sepa>` or :ref:`NACHA <l10n_us/nacha>`.

Configuration
=============

To enable batch payments, go to :menuselection:`Accounting --> Configuration --> Settings`, scroll
down to the :guilabel:`Customer Payments` section, and enable :guilabel:`Batch Payments`.

.. _accounting/batch/creation:

Batch creation
==============

To create a batch payment, follow these steps:

#. Make sure all payments to be included in the batch have been :ref:`registered
   <accounting/payments/from-invoice-bill>`.
#. Go to :menuselection:`Accounting --> Customers --> Payments`.
#. Select the payments to include in the batch.

   .. note::
      All payments in the batch must use the same payment method. If needed, payments can be grouped
      using the :guilabel:`Payment Method Line`.

#. Click :guilabel:`Create batch` or click :icon:`fa-cog` :guilabel:`Actions` and select
   :guilabel:`Create batch payment`.
#. In the batch payment form, review the selected payments. If any individual payments were missed,
   click :guilabel:`Add a line` and select the missing payments to be included in the batch.
#. Once all relevant payments are included, click :guilabel:`Validate` to finalize the batch.

.. note::
   Once validated, no additional payments can be added to a batch.

.. tip::
   - Click :guilabel:`Print` to download a list of the included payments.
   - To view existing batch payments, go to :menuselection:`Accounting --> Customers --> Batch
     Payments`.

Bank reconciliation
-------------------

Once the bank transactions :doc:`have been created <../bank/transactions>` in your database, you can
:ref:`reconcile <accounting/reconciliation/reconcile>` them with the batch payment.

.. seealso::
   - :doc:`../payments`
   - :doc:`batch_sdd`


==================================================
SECTION: batch_sdd.rst
PATH: applications/finance/accounting/payments/batch_sdd.rst
==================================================

=========================================
SEPA Direct Debit (SDD) customer payments
=========================================

.. |sdd| replace:: :abbr:`SDD (SEPA Direct Debit)`

SEPA (Single Euro Payments Area) is a payment-integration initiative of the European Union that
facilitates standardized and simplified electronic payments in euros across participating countries.
With **SEPA Direct Debit** (SDD), customers sign a mandate that authorizes you to collect future
payments from their bank accounts. This is particularly useful for recurring payments based on a
:doc:`subscription </applications/sales/subscriptions>`.

You can record customer |sdd| mandates in Odoo and generate XML files listing payments to be
collected with the mandates. :ref:`Uploading these files to your bank <accounting/batch_sdd/XML>`
instructs them to collect these payments from your customers.

.. note::
   - |sdd| is supported by all SEPA countries, which includes the 27 member states of the European
     Union as well as additional countries.
   - `List of all SEPA countries
     <https://www.europeanpaymentscouncil.eu/document-library/other/epc-list-sepa-scheme-countries>`_.

.. _accounting/batch_sdd/sepa-configuration:

Configuration
=============

Creditor identifier
-------------------

To enable |sdd| for customer payments, go to :menuselection:`Accounting --> Configuration -->
Settings`, scroll to the :guilabel:`Customer Payments` section, enable :guilabel:`SEPA Direct Debit
(SDD)`, and click :guilabel:`Save`. Then, scroll to the :guilabel:`Customer Payments` section again,
set the company's :guilabel:`Creditor Identifier`, and click :guilabel:`Save`.

.. tip::
   The creditor identifier is provided by your bank or the authority responsible for delivering
   them in your country. For testing purposes, you can use the test creditor identifier
   `DE98ZZZ09999999999`.

PAIN file version
-----------------

By default, the :ref:`SEPA-compliant XML files <accounting/batch_sdd/XML>` generated by Odoo
use the |sdd| **PAIN.008.001.02** format. If your bank requires the updated 2023
version, go to :menuselection:`Accounting --> Configuration --> Journals` and select the
:guilabel:`Bank` journal. Then, in the :guilabel:`Incoming Payments` tab, set the :guilabel:`SEPA
Pain version` field to :guilabel:`Updated 2023 (Pain 008.001.08)`.

.. seealso::
   `SEPA Direct Debit Core Customer-to-PSP Implementation Guidelines
   <https://www.europeanpaymentscouncil.eu/document-library/implementation-guidelines/sepa-direct-debit-core-customer-psp-implementation-0>`_.

.. _accounting/batch_sdd/sdd_mandates:

SEPA Direct Debit Mandates
==========================

An |sdd| mandate is a legal document authorizing a company to debit funds from a customer's bank
account. It includes key information, such as the customer's name and IBAN, the mandate's start
and end date, and the mandate's unique identifier. The mandate form must be filled in and signed by
the customer.

Creating mandates
-----------------

To create an |sdd| mandate:

#. Go to :menuselection:`Accounting --> Customers --> Direct Debit Mandates`.
#. Click :guilabel:`New` and fill out the fields.
#. Click :guilabel:`Send & Print`, optionally edit the email, then click :guilabel:`Send & Print`
   to email the mandate form to the customer for signature.
#. Click :guilabel:`Validate` to activate the mandate.

.. important::
   A valid IBAN must be defined in the :guilabel:`Account Number` field of the :doc:`bank journal
   <../bank>` used to receive |sdd| payments for the mandate.

.. tip::
   - To print the mandate form after the mandate has been validated, click the :icon:`fa-cog`
     (:guilabel:`gear`) icon, then select :guilabel:`Mandate form`.
   - The :guilabel:`SDD Scheme` depends on the type of customer: Select :guilabel:`CORE` for B2C
     customers and :guilabel:`B2B` for B2B customers.
   - |sdd| mandates are created automatically for :ref:`online payments made with SDD
     <payment_providers/bank_payments/sdd>`.

Once an |sdd| mandate is active, subsequent |sdd| payments can be generated via Odoo and
:ref:`uploaded to your online banking interface <accounting/batch_sdd/XML>`. Customers with an
active |sdd| mandate can also use this payment method for :ref:`online purchases
<payment_providers/bank_payments/sdd>`.

.. _accounting/batch_sdd/close-revoke-mandate:

Closing or revoking a mandate
-----------------------------

|sdd| mandates are closed automatically after their :guilabel:`End Date`. If this field is
left empty, the mandate remains active until it is closed or revoked. To close or revoke a mandate,
go to :menuselection:`Accounting --> Customers --> Direct Debit Mandates`, select the relevant
mandate, and click :guilabel:`Close` or :guilabel:`Revoke`.

**Closing** a mandate updates the mandate's end day to the current day. Invoices issued after the
present day will not be processed with an |sdd| payment. **Revoking** a mandate disables the
mandate immediately. No |sdd| payment can be registered anymore, regardless of the invoice's
date. However, payments that have already been registered are still included in the next :ref:`SDD
XML file <accounting/batch_sdd/XML>`.

.. warning::
   - Mandates are automatically closed 36 months after the date of the last collection.
   - Closed or revoked mandates cannot be reactivated.

.. _accounting/batch_sdd/XML:

Processing |sdd| payments
=========================

All registered |sdd| payments can be processed at once by uploading an XML file containing a batch
of all posted |sdd| payments to your online banking interface. To do so, follow these steps:

#. :ref:`Create a batch payment <accounting/batch/creation>` and include the |sdd| payments to
   collect.

   .. tip::
      You can filter payments by SDD scheme using the :guilabel:`SDD CORE` and :guilabel:`SDD B2B`
      filters.

#. :guilabel:`Validate` the batch payment. The XML file is generated automatically and available
   for download in the chatter.
#. Download the XML file and upload it to your online banking interface to process the payments.
#. Once the |sdd| batch payment has been received, :doc:`reconcile the transaction
   <../bank/reconciliation>` with the batch payment to mark the related invoices as
   :guilabel:`Paid`.

.. tip::
   - To view the payments and invoices linked to a specific |sdd| mandate, click the
     :guilabel:`Collections` and :guilabel:`Invoices Paid` smart button on the :ref:`Direct Debit
     Mandate <accounting/batch_sdd/sdd_mandates>` form.
   - Click :guilabel:`Re-generate Export file` to regenerate the XML file.

.. seealso::
   - :doc:`batch`
   - :ref:`SEPA Direct Debit for online payments <payment_providers/bank_payments/sdd>`
   - `SEPA guidelines
     <https://www.europeanpaymentscouncil.eu/document-library/implementation-guidelines/sepa-credit-transfer-inter-psp-implementation-guidelines>`_

|sdd| rejections
================

|sdd| rejections can occur for several reasons, the most common being insufficient funds in the
customer's account. With |sdd|, the recipient's account is credited before the funds are actually
debited from the customer's account. As a result, if an |sdd| payment is later rejected, the bank
automatically withdraws the amount of that payment from the recipient's account, and a new
transaction for a negative amount is created to reflect the |sdd| rejection.

|sdd| rejections are handled differently depending on whether :ref:`outstanding accounts
<accounting/journals/outstanding-accounts>` are configured or not for the |sdd| payment method.

.. note::
   The following procedures assume that the incoming |sdd| payment's bank transaction has already
   been :ref:`reconciled <accounting/reconciliation/reconcile>` with the payments or invoices.

.. tabs::

   .. tab:: Without outstanding accounts

      If no :ref:`outstanding accounts <accounting/journals/outstanding-accounts>` are configured
      for the |sdd| payment method, no journal entry is created. In this case, you must cancel and
      unreconcile the payment.

      #. Access the invoice linked to the rejected |sdd| payment.
      #. Click the :guilabel:`Payments` smart button to access the payment associated with the
         invoice.
      #. Click :guilabel:`Reset to draft`, then :guilabel:`Cancel`.
      #. Go back to the invoice and click the :icon:`fa-info-circle` :guilabel:`(information)` icon
         in the footer of the :guilabel:`Invoice Lines` tab, then click :guilabel:`Unreconcile`.
      #. :ref:`Access the bank journal's reconciliation view <accounting/reconciliation/access>` and
         :ref:`reconcile <accounting/reconciliation/reconcile>` the transaction created for the
         |sdd| rejection with the debit (negative journal item) to the account receivable on the
         incoming bank transaction.

   .. tab:: Using outstanding accounts

      If an :ref:`outstanding account <accounting/journals/outstanding-accounts>` is set on the
      |sdd| payment method, |sdd| payments create journal entries. If an |sdd| payment is rejected,
      you must reverse the journal entry associated with the rejected payment and reconcile the
      reversal of the journal entry with the transaction for the |sdd| rejection. To do so, follow
      these steps:

      #. Access the invoice linked to the rejected |sdd| payment.
      #. Click the :icon:`fa-info-circle` :guilabel:`(information)` icon in the footer of the
         :guilabel:`Invoice Lines` tab, then click :guilabel:`View` to access the payment associated
         with the invoice.
      #. Click the :guilabel:`Journal entry` smart button to access the related journal entry.
      #. Click :guilabel:`Reverse entry`, optionally edit the fields in the popup, then click
         :guilabel:`Reverse`. A reversal entry is created with a :guilabel:`Reference` mentioning
         the initial journal entry. As a result, the invoice is marked as :guilabel:`Not paid`.
      #. :ref:`Access the bank journal's reconciliation view <accounting/reconciliation/access>` and
         :ref:`reconcile <accounting/reconciliation/reconcile>` the transaction created for the
         |sdd| rejection with the reversal of the entry related to the payment.


==================================================
SECTION: belgium.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/belgium.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Belgium
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Belgium's regulatory standards, and compatible with the European `Peppol
<https://peppol.org/about/>`_ framework.

Legal framework for e-invoicing in Belgium
==========================================

In Belgium, businesses must adhere to e-invoicing laws that ensure secure, authentic, and storable
transactions. The primary regulation governing e-invoicing requirements in Belgium is the `Belgian
VAT Code <https://finances.belgium.be/fr/sur_le_spf/r%C3%A9glementation/r%C3%A9glementation-2023/tva>`_
and its related `e-invoicing standards for public procurement <https://www.ejustice.just.fgov.be/cgi_loi/article.pl?language=fr&sum_date=&pd_search=2023-09-21&numac_search=2023045155&page=1&lg_txt=F&caller=list&2023045155=0&trier=promulgation&fr=f&nm_ecran=2023045155&choix1=et&choix2=et>`_,
which align with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_.
These laws mandate that all businesses engaged in :abbr:`B2G (business-to-government)` transactions
must use e-invoicing via Mercurius, Belgium's official electronic invoicing platform for public
procurement transactions. Additionally, Belgium is part of the Peppol network, which provides a
standardized framework for cross-border e-invoicing across Europe. Increasingly, e-invoicing is also
encouraged for B2B transactions to enhance tax compliance and transparency.

Compliance with Belgian e-invoicing regulations
===============================================

Odoo Invoicing makes it easy for businesses to send, store, and ensure the integrity of their
invoices. Here is how Odoo ensures compliance:

- **Peppol-compliant formats**: Odoo supports the standardized XML (:abbr:`UBL (Universal Business
  Language)`) format for Peppol, ensuring compliance with both Belgian and European e-invoicing
  standards. This ensures your invoices meet the legal requirements for public procurement in
  Belgium and other EU countries. Odoo enables businesses to send e-invoices directly to government
  entities in compliance with Belgian regulations through Belgium’s Mercurius platform for public
  procurement.
- **Secure storage and retrieval**: In accordance with Belgian requirements to store invoices for a
  minimum of seven years, Odoo securely archives all invoices in a tamper-proof system, ensuring
  that they can be easily retrieved during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing helps businesses comply with Belgian
  VAT requirements by automatically calculating and including VAT in invoices and ensuring that each
  invoice follows the legal format for B2B and :abbr:`B2G (business-to-government)` transactions.

.. seealso::
   :doc:`Belgium fiscal localization documentation <../../../fiscal_localizations/belgium>`

.. admonition:: Disclaimer

   This page provides an overview of Belgian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Belgian VAT Code, Peppol standards, and related regulations. It does not
   constitute legal advice. We recommend consulting with a tax advisor or legal professional
   familiar with Belgian e-invoicing regulations to ensure full compliance tailored to your specific
   business requirements.


==================================================
SECTION: brazil.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/brazil.rst
==================================================

:orphan:

===================================
Odoo electronic invoicing in Brazil
===================================

Odoo Invoicing is your trusted partner for efficient and legally compliant e-invoicing solutions,
tailored to meet Brazil's regulatory standards. While Odoo covers many key legal cases, it is
recommended to verify specific cases with an Odoo advisor to ensure full compliance with the
requirements set by the `Secretaria da Fazenda (SEFAZ) <https://www.gov.br/receitafederal/pt-br>`_.

Legal framework for e-invoicing in Brazil
=========================================

In Brazil, e-invoicing is highly regulated and mandatory for most businesses to ensure tax
compliance and transparency. The key regulations governing e-invoicing, which is supported through
integration with Avalara, include:

- :abbr:`NF-e (Nota Fiscal Eletrônica)`: A mandatory e-invoice for goods and services used in B2B
  transactions.
- :abbr:`NFS-e (Nota Fiscal de Serviços Eletrônica)`: Issued for service-based transactions, with
  implementation varying by municipality.
- :abbr:`NFC-e (Nota Fiscal de Consumidor Eletrônica)`: Used for end consumer transactions.
- Integration with :abbr:`SEFAZ (Secretaria da Fazenda)`: Odoo connects with Avalara to issue the
  electronic invoices, which must be authorized by :abbr:`SEFAZ (Secretaria da Fazenda)` and
  issued with a unique authorization code (Autorização de Uso).

Compliance with Brazilian e-invoicing regulations
=================================================

Odoo Invoicing simplifies the process of adhering to Brazil’s complex e-invoicing regulations,
offering features designed to ensure compliance:

- **Supported formats**: Odoo supports Brazil's authorized e-invoice formats, including :abbr:`NF-e
  (Nota Fiscal Eletrônica)` for goods and services, :abbr:`NFS-e
  (Nota Fiscal de Serviços Eletrônica)` customizable for municipal requirements, and :abbr:`NFC-e
  (Nota Fiscal de Consumidor Eletrônica)` for end consumer transactions. Odoo connects with Avalara
  to issue these invoices and ensure they are compliant.
- **Secure storage and retrieval**: Complying with Brazil's five-year storage requirement, Odoo
  offers tamper-proof archiving for easy retrieval during audits or inspections.
- **Automatic tax calculation**: Odoo automates tax calculations for goods and services,
  ensuring compliance with regional tax rules.

.. seealso::
   :doc:`Brazilian fiscal localization documentation <../../../fiscal_localizations/brazil>`

.. admonition:: Disclaimer

   This page provides a general overview of Brazilian e-invoicing laws and how Odoo’s invoicing
   module supports compliance with :abbr:`SEFAZ (Secretaria da Fazenda)` regulations. It is not
   intended as legal advice. We recommend consulting with a tax advisor or legal professional
   familiar with Brazilian e-invoicing regulations to ensure compliance tailored to your specific
   business needs.


==================================================
SECTION: budget.rst
PATH: applications/finance/accounting/reporting/budget.rst
==================================================

=======
Budgets
=======

:ref:`Analytic budgets <accounting/budgets/analytic-budgets>` track specific activities and projects
using analytic accounts, helping businesses make informed decisions about specific departments,
projects, or other groups of transactions. In contrast, :ref:`financial budgets
<accounting/budgets/financial>` are tied to the general ledger accounts that appear on the profit
and loss and focus on the company's overall economic position.

.. _accounting/budgets/analytic-budgets:

Analytic budgets
================

Analytic budgets allow for allocating and tracking income and expenses in detail, breaking down
costs and revenues by specific projects, departments, or groups of transactions. Analytic budgets
can be applied across various departments or projects to measure profitability and performance. Odoo
manages analytic budgets using :doc:`analytic accounting <analytic_accounting>`.

To activate the option for creating analytic budgets, go to :menuselection:`Accounting -->
Configuration --> Settings`, and enable :guilabel:`Budget Management` in the :guilabel:`Analytics`
section.

.. important::
   Odoo structures budgets using :ref:`plans <accounting/analytic_accounting/analytic_plans>` and
   :ref:`accounts <accounting/analytic_accounting/analytic_accounts>`, which must be configured
   *before* creating a budget.

.. _accounting/budgets/analytic-budget-set:

Set an analytic budget
----------------------

To create a new budget, go to :menuselection:`Accounting --> Accounting --> Analytic Budgets` and
click :guilabel:`New`. Make sure the following fields are appropriately completed: :guilabel:`Budget
Name`, :guilabel:`Period`, and :guilabel:`Budget Type`.

Click :guilabel:`Add a line` in the :guilabel:`Budget Lines` tab to structure the budget with the
:ref:`analytic plans <accounting/analytic_accounting/analytic_plans>` and :ref:`accounts
<accounting/analytic_accounting/analytic_accounts>` previously created. While the :ref:`analytic
plans <accounting/analytic_accounting/analytic_plans>` correspond to the column names, select the
:ref:`analytic accounts <accounting/analytic_accounting/analytic_accounts>` to define the budget
lines and set the amounts for each in the :guilabel:`Budgeted` column. Once all the budget lines are
settled, click :guilabel:`Open`. If changes need to be made once the budget's status is
:guilabel:`Open`, there are two options:

- :guilabel:`Reset to Draft`: To overwrite the data, then reopen the budget.
- :guilabel:`Revise`: A new budget will be created. Once it is :guilabel:`Open`, a :guilabel:`Rev`
  reference is added to the :guilabel:`Budget Name`. The original budget is then
  :guilabel:`Revised`.

.. _accounting/budgets/analytic-budget-check:

Check an analytic budget
------------------------

Once the budget is :guilabel:`Open`, two additional columns are available: :guilabel:`Committed` and
:guilabel:`Achieved`. These columns' amounts are automatically calculated based on the related
:ref:`analytic distribution <accounting/analytic_accounting/analytic-distribution>` of journal
items. When the :ref:`analytic distribution <accounting/analytic_accounting/analytic-distribution>`
of a journal item within the budget's period is updated, the budget's columns for the analytic
account(s) selected in the distribution are automatically updated. The :guilabel:`Achieved` amount
reflects the current result according to the items of confirmed journal entries for the associated
:ref:`analytic account <accounting/analytic_accounting/analytic_accounts>`. In contrast, the
:guilabel:`Committed` amount displays the full value of the :guilabel:`Achieved` amount, plus any
confirmed purchase orders that have not yet been billed.

.. note::
   - When a line in a request for quotation or purchase order includes an analytic distribution, a
     :guilabel:`Budget` smart button appears, providing a link to the :ref:`budget report
     <accounting/budgets/analytic-budget-reporting>` for more details.
   - For :guilabel:`Open` budgets, if a request for quotation or a purchase order is created using
     the associated analytic distribution and exceeds the allocated budget amount, the corresponding
     purchase order line is highlighted in red.

To reveal the :guilabel:`Theoretical` amount or percentage, use the :icon:`oi-settings-adjust`
(:guilabel:`adjust settings`) icon in the :guilabel:`Budget Lines`' header. The
:guilabel:`Theoretical` amount represents the amount of money that could theoretically have been
spent or should have been received based on the current date relative to the start/end dates. Click
:guilabel:`Details` to open a filtered view of the :ref:`budget report
<accounting/budgets/analytic-budget-reporting>` related to that specific budget line.

.. image:: budget/budget.png
   :alt: open budget with committed, achieved, and theoretical amounts

.. note::
   Deleting a budget is only allowed in the :guilabel:`Draft` and :guilabel:`Cancelled` stages.

To view the budget lines of one or multiple budgets directly from the :guilabel:`Budgets` list view,
select the budget(s) and click :guilabel:`Budget Lines`.

.. _accounting/budgets/analytic-budget-generate:

Generate periodic budgets
-------------------------

To create periodic budgets (monthly, quarterly, and yearly) for the selected :guilabel:`Analytic
Plans`, click :guilabel:`Generate`. A new budget is created for each :guilabel:`Period` between the
start and end dates:

- If a single analytic plan is selected, each budget includes a line for each account in that
  analytic plan.
- If multiple analytic plans are selected, each budget includes a line for each account/analytic
  plan combination.

To generate periodic budgets, follow these steps:

#. In the :guilabel:`Budgets` list view, click :guilabel:`Generate`.
#. In the :guilabel:`Generate Budget` window, set the dates and select the :guilabel:`Period` and
   the :guilabel:`Analytic Plans`.

   .. image:: budget/generate-budgets.png
      :alt: all the options to generate periodical budgets

#. Click :guilabel:`Split` to create the periodic budgets.
#. Click :guilabel:`Budgets` in the top-left corner to return to the :guilabel:`Budgets` list view.
#. One by one, click on the different periodic budgets with the :guilabel:`Draft` status to open
   them and set the amounts in the :guilabel:`Budgeted` column for each analytic account linked to
   the chosen analytic plans.
#. Click :guilabel:`Open` for each periodic budget.

.. _accounting/budgets/analytic-budget-reporting:

Reporting
---------

To perform various reporting actions, go to :menuselection:`Accounting --> Reporting -->
Budget Report`, then:

- Track, analyze, and compare budget data.
- Filter and group data using the :icon:`fa-plus-square` (:guilabel:`plus-square`) or
  :icon:`fa-minus-square` :guilabel:`(minus-square)` icon.
- Drill down into the report to see more details on the actual amounts and transactions.
- Export the data for further analysis or reporting needs.

.. _accounting/budgets/financial:

Financial budgets
=================

Financial budgets are structured around specific income and expense accounts and transactions for
official financial reporting and compliance purposes.

.. note::
   Financial budgets are available on the :ref:`Profit and Loss
   <accounting/reporting/profit-and-loss>` report.

.. _accounting/budgets/financial-budget-set:

Set a financial budget
----------------------

To create a new financial budget, follow these steps:

#. Go to :menuselection:`Accounting --> Reporting --> Profit and Loss` to open the
   :ref:`Profit and Loss <accounting/reporting/profit-and-loss>` report.
#. Click the :icon:`fa-calendar` :guilabel:`(calendar)` button to use the date selector and choose a
   period.
#. Click the :icon:`fa-bar-chart` :guilabel:`Budget` button and name the budget. A new column
   labeled with the budget name will appear next to the :guilabel:`Balance` column.
#. Assign amounts to each account requiring analysis.
#. A new :guilabel:`%` column will appear to the right of the new budget column, indicating the
   current status.

Different financial budgets can be created using these steps for comparison purposes.

.. note::
   The date selector enables the division of periods and navigation between periods, automatically
   updating the amounts accordingly.


==================================================
SECTION: cash_basis.rst
PATH: applications/finance/accounting/taxes/cash_basis.rst
==================================================

================
Cash basis taxes
================

Cash basis taxes are due when the payment is made, as opposed to standard taxes that are due when
the invoice is confirmed. Reporting your income and expenses to the government based on the cash
basis method is mandatory in some countries and under some conditions.

.. example::
   You sell a product in the 1st quarter of your fiscal year, and the payment is received in the 2nd
   quarter. Based on the cash basis method, the tax you must pay is for the 2nd quarter.

Configuration
-------------

Go to :menuselection:`Accounting --> Configuration --> Settings` and under the :guilabel:`Taxes`
section, enable :guilabel:`Cash Basis`.

Then, define the :guilabel:`Tax Cash Basis Journal`. Click on the external link button next to the
journal to update its default properties such as the :guilabel:`Journal Name`, :guilabel:`Type` or
:guilabel:`Short Code`.

.. image:: cash_basis/tax_cash_basis_journal.png
    :align: center
    :alt: Select your Tax Cash Basis Journal and click on the external link

.. note::
   By default, the journal entries of the :guilabel:`Cash Basis Taxes` journal are named using the
   :guilabel:`CABA` short code.

Once this is done, go to :menuselection:`Accounting --> Configuration --> Accounting: Taxes` to
configure your taxes. You can either :guilabel:`Create` a new tax or update an existing one by
clicking on it.

The :guilabel:`Account` column reflects the proper transitional accounts to post taxes until the
payment is registered.

.. image:: cash_basis/account_column.png
    :align: center
    :alt: Fill in the account column with a transitional accounts where taxes go until the payment
       is registered

In the :guilabel:`Advanced Options` tab, decide of the :guilabel:`Tax Exigilibity`. Select
:guilabel:`Based on Payment`, so the tax is due when the payment of the invoice is received. You can
then also define the :guilabel:`Cash Basis Transition Account` where the tax amount is recorded as
long as the original invoice has not been reconciled.

.. image:: cash_basis/advanced_options.png
    :align: center
    :alt: Fill in the Cash Basis Transition Account where taxes amounts go until payment
        reconciliation.

Impact of cash basis taxes on accounting
----------------------------------------

To illustrate the impact of cash basis taxes on accounting transactions, let's take an example with
the sales of a product that costs 1,000$, with a cash basis tax of 15%.

.. image:: cash_basis/customer_invoice_with_cbt.png
    :align: center
    :alt:

The following entries are created in your accounting, and the tax report is currently empty.

+----------------------------+----------------------------+
|**Customer journal (INV)**                               |
+============================+============================+
| **Debit**                  |**Credit**                  |
+----------------------------+----------------------------+
| Receivable $1,150          |                            |
+----------------------------+----------------------------+
|                            |Income $1,000               |
+----------------------------+----------------------------+
|                            |Temporary tax account $150  |
+----------------------------+----------------------------+

When the payment is then received, it is registered as below :

+----------------------------+----------------------------+
| **Bank journal (BANK)**                                 |
+============================+============================+
| **Debit**                  |**Credit**                  |
+----------------------------+----------------------------+
| Bank $1,150                |                            |
+----------------------------+----------------------------+
|                            |Receivable $1,150           |
+----------------------------+----------------------------+

.. note::
    Once the payment is registered, you can use the :guilabel:`Cash Basis Entries` smart button on
    the invoice to access them directly.

Finally, upon reconciliation of the invoice with the payment, the below entry is automatically
created:

+----------------------------+----------------------------+
| **Tax Cash Basis Journal (Caba)**                       |
+============================+============================+
| **Debit**                  |**Credit**                  |
+----------------------------+----------------------------+
| Income account $1,000      |                            |
+----------------------------+----------------------------+
| Temporary tax account $150 |                            |
+----------------------------+----------------------------+
|                            |  Income account $1,000     |
+----------------------------+----------------------------+
|                            | Tax Received $150          |
+----------------------------+----------------------------+

The journal items :guilabel:`Income account` vs. :guilabel:`Income account` are neutral, but they
are needed to ensure correct tax reports in Odoo with accurate base tax amounts.

Using a default :guilabel:`Base Tax Received Account` is recommended so your balance is at zero and
your income account is not polluted by unnecessary accounting movements. To do so, go to
:menuselection:`Configuration --> Settings --> Taxes`, and select a
:guilabel:`Base Tax Received Account` under :guilabel:`Cash Basis`.


==================================================
SECTION: cash_discounts.rst
PATH: applications/finance/accounting/customer_invoices/cash_discounts.rst
==================================================

================================
Cash discounts and tax reduction
================================

**Cash discounts** are reductions in the amount a customer must pay for goods or services offered as
an incentive for paying their invoice promptly. These discounts are typically a percentage of the
total invoice amount and are applied if the customer pays within a specified time. Cash discounts
can help a company maintain a steady cash flow.

.. example::
   You issue a €100 invoice on the 1st of January. The full payment is due within 30 days, and you
   also offer a 2% discount if your customer pays you within seven days.

   The customer can pay €98 up to the 8th of January. After that date, they would have to pay €100
   by the 31st of January.

A :ref:`tax reduction <cash-discounts/tax-reductions>` can also be applied depending on the country
or region.

.. seealso::
   - :doc:`payment_terms`
   - :doc:`../payments`

.. _cash-discounts/configuration:

Configuration
=============

To grant cash discounts to customers, you must first verify the :ref:`gain and loss accounts
<cash-discounts/gain-loss-accounts>`. Then, configure :ref:`payment terms
<cash-discounts/payment-terms>` and add a cash discount by checking the :guilabel:`Early Discount`
checkbox and filling in the discount percentage, discount days, and :ref:`tax
reduction <cash-discounts/tax-reductions>` fields.

.. _cash-discounts/gain-loss-accounts:

Cash discount gain/loss accounts
--------------------------------

With a cash discount, the amount you earn depends on whether the customer benefits from the cash
discount or not. This inevitably leads to gains and losses, which are recorded on default accounts.

To modify these accounts, go to :menuselection:`Accounting --> Configuration --> Settings`, and, in
the :guilabel:`Default Accounts` section, select the accounts you want to use for the
:guilabel:`Cash Discount Gain account` and :guilabel:`Cash Discount Loss account`.

.. _cash-discounts/payment-terms:

Payment terms
-------------

Cash discounts are defined on :doc:`payment terms <payment_terms>`. Configure them to your liking by
going to :menuselection:`Accounting --> Configuration --> Payment Terms`, and make sure to fill out
the discount percentage, discount days, and :ref:`tax reduction <cash-discounts/tax-reductions>`
fields.

.. image:: cash_discounts/payment-terms.png
   :alt: Configuration of payment terms named "2/7 Net 30". The field "Description on Invoices"
         reads: "Payment terms: 30 Days, 2% Early Payment Discount under 7 days".

.. _cash-discounts/tax-reductions:

Tax reductions
--------------

Depending on the country or region, the base amount used to compute the tax can vary, which can lead
to a **tax reduction**. Since tax reductions are set on individual payment terms, each term can use
a specific tax reduction.

To configure how the tax reduction is applied, go to a payment term with the :guilabel:`Early
Discount` checkbox enabled, and select one of the three following options:

- Always (upon invoice)
    The tax is always reduced. The base amount used to compute the tax is the discounted amount,
    whether the customer benefits from the discount or not.

- On early payment
    The tax is reduced only if the customer pays early. The base amount used to compute the tax is the
    same as the sale: if the customer benefits from the reduction, then the tax is reduced. This means
    that, depending on the customer, the tax amount can vary after the invoice is issued.

- Never
    The tax is never reduced. The base amount used to compute the tax is the full amount, whether the
    customer benefits from the discount or not.

.. example::

   You issue a €100 invoice (tax-excluded) on the 1st of January, with a 21% tax rate. The full
   payment is due within 30 days, and you also offer a 2% discount if your customer pays you within
   seven days.

   .. tabs::

      .. tab:: Always (upon invoice)

         .. list-table::
            :header-rows: 1

            * - Due date
              - Total amount due
              - Computation
            * - 8th of January
              - €118.58
              - €98 + (21% of €98)
            * - 31st of January
              - €120.58
              - €100 + (21% of €98)

      .. tab:: On early payment

         .. list-table::
            :header-rows: 1

            * - Due date
              - Total amount due
              - Computation
            * - 8th of January
              - €118.58
              - €98 + (21% of €98)
            * - 31st of January
              - €121.00
              - €100 + (21% of €100)

      .. tab:: Never

         .. list-table::
            :header-rows: 1

            * - Due date
              - Total amount due
              - Computation
            * - 8th of January
              - €119.00
              - €98 + (21% of €100)
            * - 31st of January
              - €121.00
              - €100 + (21% of €100)

.. note::
   - :ref:`Tax grids <accounting/tax-returns/tax-grids>`, which are used for the tax report, are
     correctly computed according to the :ref:`type of tax reduction
     <cash-discounts/tax-reductions>` you configured.
   - The **type of cash discount tax reduction** may be correctly pre-configured, depending on your
     :ref:`fiscal localization package <fiscal_localizations/packages>`.

.. _cash-discounts/customer-invoice:

Apply a cash discount to a customer invoice
===========================================

On a customer invoice, apply a cash discount by selecting the :ref:`payment terms you created
<cash-discounts/payment-terms>`. Odoo automatically computes the correct amounts, tax amounts, due
dates, and accounting records.

Under the :guilabel:`Journal Items` tab, you can display the discount details by clicking on the
"toggle" button and adding the :guilabel:`Discount Date` and :guilabel:`Discount Amount` columns.

.. image:: cash_discounts/invoice-journal-entry.png
   :alt: An invoice of €100.00 with "2/7 Net 30" selected as payment terms. The "Journal Items" tab
         is open, and the "Discount Date" and "Discount Amount" columns are displayed.

The discount amount and due date are also displayed on the generated invoice report sent to the
customer if the :guilabel:`Show installment dates` option is checked on the payment terms.

.. image:: cash_discounts/invoice-print.png
   :alt: An invoice of €100.00 with the following text added to the terms and conditions: "30
         Days, 2% Early Payment Discount under 7 days. 118.58 € due if paid before 01/08/2023."

Payment reconciliation
----------------------

When you record a :doc:`payment <../payments>` or :doc:`reconcile your bank transactions
<../bank/reconciliation>`, Odoo takes the customer payment's date into account to determine if the
customer can benefit from the cash discount or not.

.. note::
   If your customer pays the discount amount *after* the discount date, you can always decide to
   mark the invoice as fully paid with a write-off or as partially paid.


==================================================
SECTION: cash_rounding.rst
PATH: applications/finance/accounting/customer_invoices/cash_rounding.rst
==================================================

=============
Cash rounding
=============

**Cash rounding** is required when the lowest physical denomination
of currency, or the smallest coin, is higher than the minimum unit
of account.

For example, some countries require their companies to round up or
down the total amount of an invoice to the nearest five cents, when
the payment is made in cash.

Configuration
=============

Go to :menuselection:`Accounting --> Configuration --> Settings`
and enable *Cash Rounding*, then click on *Save*.

.. image:: cash_rounding/cash_rounding01.png
    :align: center

Go to :menuselection:`Accounting --> Configuration --> Cash Roundings`,
and click on *Create*.

Define here your *Rounding Precision*, *Rounding Strategy*, and
*Rounding Method*.

Odoo supports two **rounding strategies**:

1. **Add a rounding line**: a *rounding* line is added on the invoice.
   You have to define which account records the cash roundings.

2. **Modify tax amount**: the rounding is applied in the taxes section.

Apply roundings
===============

When editing a draft invoice, open the *Other Info* tab, go to the
*Accounting Information* section, and select the appropriate *Cash
Rounding Method*.


==================================================
SECTION: chart_of_accounts.rst
PATH: applications/finance/accounting/get_started/chart_of_accounts.rst
==================================================

=================
Chart of accounts
=================

The **chart of accounts (COA)** is the list of all the accounts used to record financial
transactions in the general ledger of an organization. The chart of accounts can be found under
:menuselection:`Accounting --> Configuration --> Chart of Accounts`.

When browsing your chart of accounts, you can sort the accounts by :guilabel:`Code`,
:guilabel:`Account Name`, or :guilabel:`Type`, but other options are available in the drop-down menu

.. image:: chart_of_accounts/drop-down.png
   :alt: Drop-down toggle button

.. image:: chart_of_accounts/chart-of-accounts-sort.png
   :alt: Group the accounts by type in Odoo Accounting

.. _chart-of-account/create:

Configuration of an account
===========================

The country you select during the creation of your database (or additional company in your database)
determines which :doc:`fiscal localization package <../../fiscal_localizations>` is installed by
default. This package includes a standard chart of accounts already configured according to the
country's regulations. You can use it directly or set it according to your company's needs.

To create a new account, go to :menuselection:`Accounting --> Configuration --> Chart of Accounts`,
click :guilabel:`Create`, and fill in (at the minimum) the required fields
(:guilabel:`Code, Account Name, Type`).

.. warning::
   It is not possible to modify the **fiscal localization** of a company once a journal entry has
   been posted.

Code and name
-------------

Each account is identified by its :guilabel:`Code` and :guilabel:`Name`, which also indicate the
account's purpose.

.. _chart-of-account/type:

Type
----

Correctly configuring the **account type** is critical as it serves multiple purposes:

- Information on the account's purpose and behavior
- Generate country-specific legal and financial reports
- Set the rules to close a fiscal year
- Generate opening entries

To configure an account type, open the :guilabel:`Type` field's drop-down selector and select the
corresponding type from the following list:

+---------------+-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
| Report        | Category    | Account Types           | Description                                                                                                     |
+===============+=============+=========================+=================================================================================================================+
| Balance Sheet | Assets      | Receivable              | Money owed to the company by customers for goods or services delivered                                          |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Bank and Cash           | Funds held in company bank accounts or on hand as cash                                                          |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Current Assets          | Short-term assets expected to be converted into cash within a year                                              |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Non-current Assets      | Long-term assets not expected to be converted to cash within a year                                             |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Prepayments             | Payments made in advance for goods or services to be received in the future                                     |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Fixed Assets            | Tangible long-term assets like buildings, machinery, and vehicles used in operation and subject to depreciation |
|               +-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               | Liabilities | Payable                 | Money the company owes to suppliers or vendors                                                                  |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Credit Card             | Balances and transactions associated with company credit card usage                                             |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Current Liabilities     | Obligations due within one year, such as short-term loans or accrued expenses                                   |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Non-current Liabilities | Long-term debts and financial obligations due beyond one year                                                   |
|               +-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               | Equity      | Equity                  | The owner's residual interest in the company after liabilities are deducted from assets                         |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Current Year Earnings   | The company's net profit or loss accumulated in the current fiscal year                                         |
+---------------+-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
| Profit & Loss | Income      | Income                  | Revenue generated from the company's primary business activities                                                |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Other Income            | Revenue from secondary or non-operational sources, like interest or asset sales                                 |
|               +-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               | Expense     | Expense                 | Costs incurred during operations to generate revenue                                                            |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Depreciation            | The allocation of the cost of tangible assets over their useful life                                            |
|               |             +-------------------------+-----------------------------------------------------------------------------------------------------------------+
|               |             | Cost of Revenue         | Direct costs attributable to the production or delivery of goods and services                                   |
+---------------+-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+
| Other         | Other       | Off-Balance Sheet       | Transactions not displayed on the balance sheet or profit and loss report                                       |
+---------------+-------------+-------------------------+-----------------------------------------------------------------------------------------------------------------+

Assets
~~~~~~

Some **account types** can **automate** the creation of :ref:`asset <assets-automation>` entries.
To **automate** entries, click :guilabel:`View` on an account line and go to the
:guilabel:`Automation` tab.

You have three choices for the :guilabel:`Automation` tab:

#. :guilabel:`No`: this is the default value. Nothing happens.
#. :guilabel:`Create in draft`: whenever a transaction is posted on the account, a draft entry is
   created but not validated. You must first fill out the corresponding form.
#. :guilabel:`Create and validate`: you must also select a :guilabel:`Deferred Expense Model`.
   Whenever a transaction is posted on the account, an entry is created and immediately validated.

Default taxes
-------------

In the :guilabel:`View` menu of an account, select a **default tax** to be applied when this
account is chosen for a product sale or purchase.

.. _chart-of-account/tags:

Tags
----

Some accounting reports require **tags** to be set on the relevant accounts. To add a tag, under
:guilabel:`View`, click the :guilabel:`Tags` field and select an existing tag or :guilabel:`Create`
a new one.

Account groups
--------------

**Account groups** are useful to list multiple accounts as *sub-accounts* of a bigger account and
thus consolidate reports such as the **Trial Balance**. By default, groups are handled automatically
based on the code of the group. For example, a new account `131200` is going to be part of the group
`131000`. You can attribute a specific group to an account in the :guilabel:`Group` field under
:guilabel:`View`.

Create account groups manually
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::
   Regular users should not need to create account groups manually. The following section is only
   intended for rare and advanced use cases.

To create a new account group, activate :ref:`developer mode <developer-mode>` and head to
:menuselection:`Accounting --> Configuration --> Account Groups`. Here, create a new group and enter
the :guilabel:`name, code prefix, and company` to which that group account should be available. Note
that you must enter the same code prefix in both :guilabel:`From` and :guilabel:`to` fields.

.. image:: chart_of_accounts/account-groups.png
   :alt: Account groups creation.

To display your **Trial Balance** report with your account groups, go to
:menuselection:`Accounting --> Reporting --> Trial Balance`, then open the :guilabel:`Options` menu
and select :guilabel:`Hierarchy and Subtotals`.

.. image:: chart_of_accounts/chart-of-accounts-groups.png
   :alt: Account Groups in the Trial Balance in Odoo Accounting

Allow reconciliation
--------------------

To keep the reconciliation process simple, when reconciling a bank, cash, or credit card transaction
with an existing journal item, only journal items that debit or credit accounts with the
:guilabel:`Allow reconciliation` option enabled are displayed as possible matches.

To enable this option on an account, tick the :guilabel:`Allow Reconciliation` checkbox in the
account's settings, and :guilabel:`Save`; or enable the button from the chart of accounts view.

.. _coa_shared_accounts:

Shared Accounts
---------------

The **Shared Accounts** feature allows the creation of a single account for a specific purpose and
sharing it between multiple companies. It is especially useful for multi-company environments where
a similar account might be used across different companies.

Deprecated
----------

It is not possible to delete an account once a transaction has been recorded on it. You can make
them unusable by using the **Deprecated** feature: check the :guilabel:`Deprecated` box in the
account's settings, and :guilabel:`Save`.

.. seealso::
   * :doc:`cheat_sheet`
   * :doc:`../vendor_bills/assets`
   * :doc:`../vendor_bills/deferred_expenses`
   * :doc:`../customer_invoices/deferred_revenues`
   * :doc:`../../fiscal_localizations`
   * `Odoo Tutorials: Chart of accounts <https://www.odoo.com/slides/slide/chart-of-accounts-6834>`_
   * `Odoo Tutorials: Update your chart of accounts
     <https://www.odoo.com/slides/slide/update-your-chart-of-accounts-6391>`_


==================================================
SECTION: cheat_sheet.rst
PATH: applications/finance/accounting/get_started/cheat_sheet.rst
==================================================

:code-column:
:custom-css: accounting.css
:custom-js: accounts.js,chart-of-accounts.js,entries.js,misc.js,reconciliation.js

======================
Accounting cheat sheet
======================

.. h:div:: intro-list

   .. rst-class:: intro-balance

   The **Balance Sheet** is a snapshot of the company's finances at a specific date (as opposed to
   the Profit and Loss, which is an analysis over a period).

   * .. rst-class:: intro-assets

     **Assets** represent the company's wealth and the goods it owns. Fixed assets include buildings
     and offices, while current assets include bank accounts and cash. The money owed by a client is
     an asset. An employee is not an asset.

   * .. rst-class:: intro-liabilities

     **Liabilities** are obligations from past events that the company will have to pay in the
     future (utility bills, debts, unpaid suppliers). Liabilities could also be defined as a source
     of financing which is provided to the company, also called *leverage*.

   * .. rst-class:: intro-equity

     **Equity** is the amount of the funds contributed by the owners of the company (founders or
     shareholders) plus previously retained earnings (or losses). Each year, net profits (or losses)
     may be reported as retained earnings or distributed to the shareholders (as a dividend).

What is owned (an asset) has been financed through debts to reimburse (liabilities) or equity
(profits, capital).

A difference is made between **assets** and **expenses**:
   - An **asset** is a resource with economic value that an individual, corporation, or country owns
     or controls with the expectation that it will provide a future benefit. Assets are reported on
     a company's balance sheet. They are bought or created to increase a firm's value or benefit its
     operations.
   - An **expense** is the costs of operations a company bears to generate revenues.

.. h:div:: intro-list

   .. rst-class:: intro-p-l

    The **profit and loss** (P&L) report shows the company's performance over a specific period of
    time, usually a quarter or a fiscal year.

     * .. rst-class:: intro-gross-profit

         The **revenue** refers to the money earned by the company by selling goods and/or services.

     * .. rst-class:: intro-gross-profit

         The **cost of goods sold** (COGS, or also known as "Cost of Sale") refers to the sale of
         goods' costs (e.g., the cost of the materials and labor used to create the goods).

       * .. rst-class:: intro-gross-profit

         The **Gross profit** equals the revenues from sales minus the cost of goods sold.

       * .. rst-class:: intro-opex

         **Operating expenses** (OPEX) include administration, sales and R&D salaries, rent and
         utilities, miscellaneous costs, insurances, and anything beyond the costs of products sold
         or the cost of sale.

.. h:div:: doc-aside accounts-table

   .. placeholder

.. rst-class:: doc-aside

.. highlights:: Assets = Liabilities + Equity

Chart of accounts
=================

The **chart of accounts** lists all the company's accounts: both Balance sheet accounts and P&L
accounts. Every transaction is recorded by debiting and crediting multiple accounts in a journal
entry. In a way, a chart of accounts is like a company's DNA!

Every account listed in the chart of accounts belongs to a specific category. In Odoo, each account
has a unique code and belongs to one of these categories:

- **Equity and subordinated debts**
     - **Equity** is the amount of money invested by a company's shareholders to finance the
       company's activities.
     - **Subordinated debts** are the amount of money lent by a third party to a company to finance
       its activities. In the event of the dissolution of a company, these third parties are
       reimbursed before the shareholders.
- **Fixed assets** are tangible (i.e., physical) items or properties that a company purchases and
  uses to produce its goods and services. Fixed assets are long-term assets. This means the assets
  have a useful life of more than one year. They also include properties, plants, and equipments
  (also known as "PP&E") and are recorded on the balance sheet with that classification.
- **Current assets and liabilities**
     - The **current assets** account is a balance sheet line item listed under the Assets section,
       which accounts for all company-owned assets that can be converted to cash within one year.
       Current assets include cash, cash equivalents, accounts receivable, stock inventory,
       marketable securities, prepaid liabilities, and other liquid assets.
     - **Current liabilities** are a company's short-term financial obligations due within one year.
       An example of a current liability is money owed to suppliers in the form of accounts payable.
- **Bank and cash accounts**
     - A **bank account** is a financial account maintained by a bank or other financial institution
       in which the financial transactions between the bank and a customer are recorded.
     - A **cash account**, or cash book, may refer to a ledger in which all cash transactions are
       recorded. The cash account includes both the cash receipts and the cash payment journals.
- **Expenses and income**
     - An **expense** is the costs of operations a company bears to generate revenues. It is simply
       defined as the cost one is required to spend on obtaining something. Common expenses include
       supplier payments, employee wages, factory leases, and equipment depreciation.
     - The term "**income**" generally refers to the amount of money, property, and other transfers
       of value received over a set period of time in exchange for services or products.

Example
-------

.. h:div:: example

   \*: Customer Refund and Customer Payment boxes cannot be simultaneously selected as they are contradictory.

.. h:div:: doc-aside

   .. highlights:: Balance = Debit - Credit

   .. h:div:: chart-of-accounts

      .. placeholder

.. _cheat_sheet/journals:

Journal entries
===============

Every financial document of the company (e.g., an invoice, a bank statement, a pay slip, a capital
increase contract) is recorded as a journal entry, impacting several accounts.

For a journal entry to be balanced, the sum of all its debits must be equal to the sum of all its
credits.

.. h:div:: doc-aside journal-entries

   examples of accounting entries for various transactions. (see entries.js)

.. _accounting/reconciliation:

Reconciliation
==============

:doc:`Reconciliation <../../accounting/bank/reconciliation>` is the process of linking
journal items of a specific account and matching credits and debits.

Its primary purpose is to link payments to their related invoices to mark them as paid. This is done
by doing a reconciliation on the accounts receivable account and/or the accounts payable account.

Reconciliation is performed automatically by the system when:

- the payment is registered directly on the invoice
- the links between the payments and the invoices are detected at the bank matching process

.. h:div:: doc-aside reconciliation-example

   .. rubric:: Customer Statement Example

   .. rst-class:: table-sm d-c-table

   +-------------------------+-------------------------+-----------------------+
   |Accounts Receivable      |Debit                    |Credit                 |
   +=========================+=========================+=======================+
   |Invoice 1                |100                      |                       |
   +-------------------------+-------------------------+-----------------------+
   |Partial payment 1/2      |                         |70                     |
   +-------------------------+-------------------------+-----------------------+
   |Invoice 2                |65                       |                       |
   +-------------------------+-------------------------+-----------------------+
   |Partial payment 2/2      |                         |30                     |
   +-------------------------+-------------------------+-----------------------+
   |Payment 2                |                         |65                     |
   +-------------------------+-------------------------+-----------------------+
   |Invoice 3                |50                       |                       |
   +-------------------------+-------------------------+-----------------------+
   |                         |                         |                       |
   +-------------------------+-------------------------+-----------------------+
   |Total to pay             |50                       |                       |
   +-------------------------+-------------------------+-----------------------+

Bank Reconciliation
===================

Bank reconciliation is the matching of bank statement lines (provided by your bank) with
transactions recorded internally (payments to suppliers or from customers). For each line in a bank
statement, it can be:

- **matched with a previously recorded payment**: a payment is registered when a check is received
  from a customer, then matched when checking the bank statement.
- **recorded as a new payment**: the payment's journal entry is created and reconciled with the
  related invoice when processing the bank statement.
- **recorded as another transaction**: bank transfer, direct charge, etc.

Odoo should automatically reconcile most transactions; only a few should need manual review. When
the bank reconciliation process is finished, the balance on the bank account in Odoo should match
the bank statement's balance.

.. rst-class:: checks-handling

Checks Handling
===============

There are two approaches to managing checks and internal wire transfers:

- Two journal entries and a reconciliation
- One journal entry and a bank reconciliation

.. h:div:: doc-aside

   The first journal entry is created by registering the payment on the
   invoice. The second one is created when registering the bank statement.

   .. rst-class:: table-sm d-c-table

   +-------------------------+--------------+------------+---------------+
   |Account                  |Debit         |Credit      |Reconciliation |
   +=========================+==============+============+===============+
   |Account Receivable       |              |100         |Invoice ABC    |
   +-------------------------+--------------+------------+---------------+
   |Undeposited funds        |100           |            |Check 0123     |
   +-------------------------+--------------+------------+---------------+

   .. rst-class:: table-sm d-c-table

   +-------------------------+--------------+------------+---------------+
   |Account                  |Debit         |Credit      |Reconciliation |
   +=========================+==============+============+===============+
   |Undeposited funds        |              |100         |Check 0123     |
   +-------------------------+--------------+------------+---------------+
   |Bank                     |100           |            |               |
   +-------------------------+--------------+------------+---------------+

.. h:div:: doc-aside

   A journal entry is created by registering the payment on the invoice. When
   reconciling the bank statement, the statement line is linked to the
   existing journal entry.

   .. rst-class:: table-sm d-c-table

   +-------------------------+--------------+------------+---------------+---------------+
   |Account                  |Debit         |Credit      |Reconciliation |Bank Statement |
   +=========================+==============+============+===============+===============+
   |Account Receivable       |              |100         |Invoice ABC    |               |
   +-------------------------+--------------+------------+---------------+---------------+
   |Bank                     |100           |            |               |Statement XYZ  |
   +-------------------------+--------------+------------+---------------+---------------+


==================================================
SECTION: chile.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/chile.rst
==================================================

:orphan:

==================================
Odoo electronic invoicing in Chile
==================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Chile's regulatory requirements and compatible with standards set by the
`Servicio de Impuestos Internos (SII) <https://homer.sii.cl/>`_.

Legal framework for e-invoicing in Chile
========================================

Chile is a pioneer in mandatory electronic invoicing, with comprehensive regulations to ensure tax
compliance and enhance transparency. Key elements include:

-  **Factura Electrónica**: Mandatory for most businesses to issue invoices digitally through the
   :abbr:`SII (Servicio de Impuestos Internos)`'s system.
-  **Boleta Electrónica**: Required for retail transactions to report sales and tax information.
-  **Guía de Despacho Electrónica**: Necessary for tracking the transport of goods.
-  **Integration with SII**: All electronic invoices must be validated by the :abbr:`SII (Servicio
   de Impuestos Internos)`, assigned a unique Folio authorization code, and reported for tax
   purposes.

Compliance with Chilean e-invoicing regulations
===============================================

Odoo Invoicing simplifies adherence to Chile's e-invoicing requirements with features designed to
ensure compliance:

-  **Supported formats**: Odoo supports all major Chilean e-invoice formats, including Factura
   Electrónica, Boleta Electrónica, and Guía de Despacho Electrónica, ensuring :abbr:`SII (Servicio
   de Impuestos Internos)` compatibility with digital validation and Folio assignment.
-  **Integration with SII**: Odoo seamlessly connects with :abbr:`SII (Servicio de Impuestos
   Internos)`'s systems, automating invoice submission and ensuring real-time validation for
   compliant issuance.
-  **Secure storage and retrieval**: Complying with Chile's mandatory storage period of six years,
   Odoo provides tamper-proof archiving for invoices, enabling easy access for audits or tax
   inspections.
-  **Automatic tax calculation and reporting**: Odoo automates calculations for VAT (IVA) and other
   applicable taxes, ensuring accurate invoicing and adherence to Chile's tax reporting standards.

.. seealso::
   :doc:`Chilean fiscal localization documentation <../../../fiscal_localizations/chile>`

.. admonition:: Disclaimer

   This page provides a general overview of Chilean e-invoicing laws and how Odoo supports
   compliance with :abbr:`SII (Servicio de Impuestos Internos)` regulations. It is not intended as
   legal or tax advice. We recommend consulting a tax advisor or legal professional familiar with
   Chilean e-invoicing regulations to ensure compliance tailored to your specific business needs.


==================================================
SECTION: colombia.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/colombia.rst
==================================================

:orphan:

=====================================
Odoo electronic invoicing in Colombia
=====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Colombia's regulatory requirements and fully compatible with the
guidelines established by the `Dirección de Impuestos y Aduanas Nacionales (DIAN)
<https://www.dian.gov.co/>`_.

Legal framework for e-invoicing in Colombia
===========================================

Colombia has implemented mandatory e-invoicing for most businesses to enhance tax compliance and
improve transparency. Key elements include:

-  **Factura Electrónica**: Mandatory for B2B, B2C, and :abbr:`B2G (business-to-government)`
   transactions, requiring compliance with :abbr:`DIAN (Dirección de Impuestos y Aduanas
   Nacionales)`'s technical specifications.
-  **Integration with DIAN**: All electronic invoices must be submitted to :abbr:`DIAN (Dirección de
   Impuestos y Aduanas Nacionales)` for validation, where they are assigned a unique :abbr:`CUFE
   (Código Único de Factura Electrónica)` authorization code.
-  **Adoption of XML Standards**: Colombian e-invoicing uses XML as the standard format for
   electronic invoices, ensuring interoperability and standardized reporting.

Compliance with Colombian e-invoicing regulations
=================================================

Odoo Invoicing simplifies the complexities of e-invoicing compliance in Colombia, offering tailored
features:

- **Supported formats**: Odoo supports Factura Electrónica in :abbr:`DIAN (Dirección de Impuestos y
  Aduanas Nacionales)`-compliant XML formats, including legally required :abbr:`CUFE (Código Único
  de Factura Electrónica)` codes and additional fields for B2B, B2C, and :abbr:`B2G
  (business-to-government)` transactions.
- **Secure storage and retrieval**: In compliance with Colombia's six-year mandatory storage
  requirement, Odoo provides tamper-proof invoice archiving, ensuring easy access for audits or
  inspections.
- **Automatic tax calculation and reporting**: Odoo automates tax calculations for VAT (IVA) and
  other applicable taxes, ensuring accuracy and compliance with DIAN's tax reporting standards.

.. seealso::
   :doc:`Colombian fiscal localization documentation <../../../fiscal_localizations/colombia>`

.. admonition:: Disclaimer

   This page provides a general overview of Colombian e-invoicing regulations and how Odoo supports
   compliance with DIAN requirements. It is not intended as legal or tax advice. We recommend
   consulting with a tax advisor or legal professional familiar with Colombian e-invoicing
   regulations to ensure compliance tailored to your specific business needs.


==================================================
SECTION: consolidation.rst
PATH: applications/finance/accounting/get_started/consolidation.rst
==================================================

=============
Consolidation
=============

Consolidation allows combining financial data from **multiple separate companies**, each with its
own books, into a unified view, providing a "fair image" of the entire group's financial health.

It helps create a clear, comprehensive view of the group's financial performance by combining data
from multiple companies.

.. note::
   Consolidating companies involves **legally separate entities**, whereas :ref:`branches
   <general/branches>` are **subdivisions** of a single legal entity which often share the
   head office's resources (journals, taxes, accounts, fiscal positions) and are not consolidated in
   the same way.

.. _consolidation_tools:

Consolidation tools
===================

**Several tools** combined together will contribute to the construction of the financial
consolidation:

.. _consolidation_account_mapping:

#. **Account Mapping:** Similar accounts from different companies can be mapped together. This
   allows Odoo to combine them correctly in consolidated reports. To map accounts, go to
   :menuselection:`Accounting --> Configuration --> Chart of Accounts`.  Click :guilabel:`View`
   on the account line. In the :guilabel:`Mapping` tab, enter a code in the corresponding company
   :guilabel:`Code` column to map the account.

   .. image:: consolidation/multi_company_mapping.png
      :alt: Mapping different codes to different companies.

   .. note:: :ref:`Import mapping <consolidation_import_account_mapping>` or merge existing
      accounts using the :ref:`merging tool <consolidation_merge_tool>` can simplify the process.

   When multiple accounts from one company are mapped to a single account in another, it is then
   possible to group the multiple accounts into a single line in the other company's reporting by
   :ref:`grouping by <customize-reports/lines-group-by>` the *account code* (`account_code`) rather
   than the *account ID* (`account_id`).

   .. note::
      Some reports, such as the :ref:`profit and loss <accounting/reporting/profit-and-loss>`, split
      the lines into different sections by account type. When these reports are grouped by account
      code, the section splits are maintained, but within each section, line grouping by account
      code is respected.

   .. example::
      Belgian Company is a parent company with a subsidiary, American Company. American Company has
      five income accounts:

      - 400000 Product Sales - Domestic
      - 400100 Product Sales - International
      - 410000 Service Revenue - Consulting
      - 420000 Subscription Revenue
      - 430000 Freight & Handling Revenue

      All five of the US income accounts correspond to one single income account (700000 Income) in
      the Belgian Company.

      For the Belgian Company's profit and loss report to show one line for all of the American
      Company's combined income accounts related to the Belgian Company's single income account, all
      five income accounts from the American Company must be mapped to The Belgian Company's 700000
      Income account, and the report's lines must be :ref:`grouped by
      <customize-reports/lines-group-by>` the account code.

   .. _consolidation_multi_ledgers:

#. **Multi-Ledgers:** Ledgers are fundamental to the process of consolidation. They are either:

   - *Regular Ledgers:* Each company in the consolidation scope has its own standard accounting
     ledger where all the regular day-to-day transactions are recorded. It excludes the company's
     consolidation adjustment journals.

   - *Multi-Ledger for Consolidation:* The company doing the actual consolidation also has a
     special multi-ledger. This one includes all the other companies' consolidation adjustments
     journals (the ones excluded from their own ledgers). This allows for viewing the total impact
     of all the adjustments.

   To create a new ledger, go to :menuselection:`Accounting --> Configuration --> Multi-Ledgers`
   and hit the :guilabel:`New` button. Enter a name, pick the company the ledger is linked to and
   most importantly, determine which journals are to be excluded from the ledger.

   .. _consolidation_company_selector:

#. **Multi-Company Selector:** The consolidated view can be accessed using the multi-company
      selector. Selecting the consolidating company as the current company and making the other
      companies visible in the selector, all the journal items are displayed from the consolidating
      company's perspective.

   .. image:: consolidation/multi_company_selector.png
      :alt: Selecting the main company and activating others.

   .. _consolidation_horizontal_groups:

#. **Horizontal Groups:** Odoo's reporting tools allow for combining multi-ledgers and using
      horizontal groups to view the consolidated Balance Sheet or P&L. They also show how much each
      company contributes to the overall consolidated figures.

      Follow these steps to create an :guilabel:`Horizontal Group`:

      - Activate the :ref:`developer mode <developer-mode>`.
      - Go to :menuselection:`Accounting --> Configuration --> Horizontal Groups` and click
        :guilabel:`New`.
      - Add a :guilabel:`Group Name` and select the :guilabel:`Reports` where the horizontal group
        can be used.
      - In the :guilabel:`Field` column, click :guilabel:`Add a line`.
      - In the :guilabel:`Create rules` window, add a :guilabel:`Field` and create a new
        :guilabel:`Domain` rule if needed. Then, click :guilabel:`Save & Close`.

   .. image:: consolidation/horizontal_groups.png
      :alt: Using horizontal groups to see each company's contribution.

   .. important::
      When opened, financial reports usually default to a statutory view, using the company's
      regular ledger (including its consolidation adjustment). To see the full consolidation picture,
      **make sure to select the multi-ledger** that includes all the consolidation adjustments.

   .. _consolidation_currency_translation:

#. **Cumulative Translation Adjustments:** When consolidating companies with different currencies,
   Odoo handles the translation.

   - *Equity accounts:* Use the historical exchange rate.

   - *Profit & Loss (P&L) accounts:* Use the average exchange rate.

   - *Balance sheet accounts (excluding equity):* Use the closing exchange rate.

   .. important::
      The rates used are those of the company currently selected.

.. _consolidation_merge_tool:

Account merging
===============

Accounts can be merged to reduce the number of accounts and standardize them across companies. This
is optional; consolidation works without it.

To use the merge tool, select all the companies with an account that needs to be merged in the
company selector in the top right corner of the screen.

.. image:: consolidation/shared_accounts_merge_tool_select_companies.png
   :alt: Selecting all companies that have accounts to be merged.

Then, go to :menuselection:`Accounting --> Configuration --> Chart of Accounts` and select the
accounts to merge. Click the :icon:`fa-cog` :guilabel:`Actions` menu and select :guilabel:`Merge
accounts`.

In the :guilabel:`Merge accounts` window, enable the :guilabel:`Group by name?` option if needed and
click :guilabel:`Merge`.

The selected accounts are then merged into a single shared account, accessible by all the chosen
companies, just as if the account had been directly created to be shared.

.. _consolidation_unmerge_tool:

Account unmerging
=================

Accounts can also be unmerged if needed.

.. warning::

   Note that unmerging accounts **will not unmerge the chatters** of the accounts. Once merged, the
   changes' histories are permanently merged.

To unmerge accounts, select a company with a shared account in the company selector at the top
right corner of the screen. Then, go to :menuselection:`Accounting --> Configuration --> Chart of
Accounts` and select the account to unmerge. Click the :icon:`fa-cog` :guilabel:`Actions` menu and
select :guilabel:`Unmerge accounts`.

An :guilabel:`Odoo Warning` confirmation pop-up window will appear, listing how the accounts will
be split.

.. image:: consolidation/shared_accounts_unmerge_tool_confirmation_wizard.png
   :alt: Confirmation wizard for the Unmerge Tool of the shared accounts feature.

Click :guilabel:`Unmerge`. A new account linked to each company will be created for the previously
shared account.

.. _consolidation_import_account_mapping:

Import a mapping
================

To **import an account mapping**, select all the related companies in the company selector at the
top right corner of the screen and go to :menuselection:`Accounting --> Configuration --> Chart of
Accounts`.

First, to choose the fields to export, select the accounts, click the :icon:`fa-cog`
:guilabel:`Actions` button and select :guilabel:`Export`. Then, in the :guilabel:`Export data`
window, add the :guilabel:`Code mapping/Code`, :guilabel:`Code Mapping/Company` and
:guilabel:`External ID` fields using the :icon:`fa-plus` icon and click :guilabel:`Export`. No other
field is required.

Second, rework it in a spreadsheet adding the desired code for each company on desired accounts.

Third, to reimport the file (xlsx or csv format) in Odoo, click :guilabel:`Import` and, in the
:guilabel:`Import Chart of Accounts` section, click :guilabel:`Import CoA`. In the
:guilabel:`Accounting Import Guide`, drop or click :guilabel:`Upload Data File` to import the file.
Then, click :guilabel:`Import`.

Finally, the codes now take into account the mapping company per company.


==================================================
SECTION: credit_notes.rst
PATH: applications/finance/accounting/customer_invoices/credit_notes.rst
==================================================

========================
Credit notes and refunds
========================

A credit/debit note, or credit/debit memo, is a document sent to a customer to inform them that they
have been *credited/debited* a certain amount.

Several use cases can lead to a credit note, such as:

 - a mistake in the invoice or vendor bill
 - a return of the goods, or a rejection of the services
 - the goods delivered are damaged

Debit notes are less common but are most frequently used to track debts owed by customers or to
vendors because of modifications to confirmed customer invoices or vendor bills.

.. note::
   Issuing a credit/debit note is the only legal method for canceling, refunding, or modifying a
   validated invoice. Make sure to **register the payment** afterward if money is being refunded to
   the customer and/or validate the
   :doc:`return </applications/sales/sales/products_prices/returns>` if a storable product is being
   returned.

.. _accounting/credit_notes/issue-credit-note:

Issue a customer credit note
============================

In most cases, credit notes are created directly from the corresponding invoices. To do so,
go to :menuselection:`Accounting --> Customers --> Invoices`, open the relevant invoice, and click
:guilabel:`Credit Note`.

In the :guilabel:`Credit Note` window, fill in the :guilabel:`Reason displayed on Credit Note` and
update the :guilabel:`Journal` and :guilabel:`Reversal date` if needed.
There are two options:

- Click :guilabel:`Reverse` to open a draft credit note prefilled with the exact details from the
  original invoice. Update the :guilabel:`Product` and :guilabel:`Quantity` and click
  :guilabel:`Confirm`. This option allows for a partial refund or modifications to the credit note.
- Click :guilabel:`Reverse and Create invoice` to create a credit note, validate it automatically,
  reconcile it with the related invoice, and open a new draft invoice prefilled with the exact
  details from the original invoice.

To create a credit note from scratch, go to :menuselection:`Accounting --> Customers --> Credit
Notes`, and click :guilabel:`New`. Filling out a credit note follows the same process as completing
an :ref:`invoice <accounting/invoice/creation>`.

.. note::
   A credit note sequence starts with `R` and is followed by the related document number (e.g.,
   RINV/2025/0004 is associated with the invoice INV/2025/0004).

.. _accounting/credit_notes/issue-debit-note:

Issue a customer debit note
===========================

In most cases, debit notes are created directly from the corresponding invoices. To do so,
go to :menuselection:`Accounting --> Customers --> Invoices`, open the relevant invoice, and click
:guilabel:`Debit Note`. Then, follow these steps:

#. In the :guilabel:`Create Debit Note` window, fill in the :guilabel:`Reason` and update the
   :guilabel:`Use Specific Journal` and :guilabel:`Debit Note Date` fields if needed.
#. Enable the :guilabel:`Copy Lines` option to copy the invoice lines and click :guilabel:`Create
   Debit Note`.
#. In the debit note, update the :guilabel:`Product` and :guilabel:`Quantity` and click
   :guilabel:`Confirm`.

.. tip::
   To create a debit note from the invoice list view, select the desired invoice(s), click
   :icon:`fa-cog` :guilabel:`Actions`, and select :guilabel:`Create Debit Note`.

.. _accounting/credit_notes/record-vendor-refund:

Record a vendor refund
======================

Vendor refunds or vendor credit notes are recorded the same way as :ref:`credit notes
<accounting/credit_notes/issue-credit-note>`:

To record a vendor refund or a vendor credit note directly from the corresponding vendor bill, go to
:menuselection:`Accounting --> Vendors --> Bills`, open the relevant vendor bill, and click
:guilabel:`Credit Note`.

To record it from scratch, go to :menuselection:`Accounting --> Vendors --> Refund`, and click on
:guilabel:`New`.

.. _accounting/credit_notes/record-debit-note:

Record a vendor debit note
==========================

Debit notes from vendors are recorded the same way :ref:`debit notes are issued to customers
<accounting/credit_notes/issue-debit-note>`.

To record a debit note, go to :menuselection:`Accounting --> Vendors --> Bills` open the relevant
vendor bill, and click :guilabel:`Debit Note`.

.. tip::
   To create a debit note from the vendor bill list view, select the desired vendor bill(s), click
   :icon:`fa-cog` :guilabel:`Actions` and select :guilabel:`Create Debit Note`.

.. _accounting/credit_notes/credit-notes-journal-entries:

Journal entries
===============

Creating a credit/debit note from an invoice/bill generates a **reverse entry** that cancels out the
journal items from the original invoice/bill.

.. example::
   The journal entry of an invoice:

   .. image:: credit_notes/journal-entries-invoice.png
      :alt: Invoice journal entry

   The credit note's journal entry generated to reverse the original invoice above:

   .. image:: credit_notes/journal-entries-credit-note.png
      :alt: Credit note journal entry reverses the invoice journal entry


==================================================
SECTION: croatia.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/croatia.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Croatia
====================================

Odoo Invoicing is our trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Croatia's regulatory standards.

Legal framework for e-invoicing in Croatia
==========================================

In Croatia, businesses must comply with e-invoicing regulations to ensure secure, authentic, and
storable transactions. The main legal framework governing e-invoicing in Croatia is the
Fiscalization Act and its related requirements for public procurement, which are aligned with `EU
Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_ on
e-invoicing in public procurement. Under these regulations, all businesses involved in :abbr:`B2G
(business-to-government)` transactions are required to use electronic invoicing via the :abbr:`CIS
(Central Invoice System)`, Croatia’s official platform for public sector e-invoicing. Croatia is
also part of the Peppol network, facilitating standardized cross-border e-invoicing within the
European Union. Furthermore, e-invoicing is increasingly encouraged for B2B transactions, promoting
greater transparency and tax compliance.

Compliance with Croatian e-invoicing regulations
================================================

Odoo Invoicing makes it easy for businesses to send, store, and ensure the integrity of their
invoices. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports standard e-invoice formats, such as PDF with digital
  signatures and XML in :abbr:`UBL (Universal Business Language)` format, which are fully compatible
  with Croatia's :abbr:`CIS (Central Invoice System)` for public procurement transactions.
  Additionally, Odoo enables transmission of e-invoices through any platform connected to the Peppol
  network, as the *Servis eRačun za državu* reached via Peppol, ensuring compliance with both
  Croatian and EU standards.
- **Secure storage and retrieval**: In accordance with Croatian regulations to store invoices for a
  minimum of eleven years, Odoo securely archives all invoices in a tamper-proof system, ensuring
  they can be easily retrieved during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing helps businesses stay in line with
  Croatian VAT requirements by automatically calculating and including VAT in invoices and ensuring
  that each invoice follows the legal format for both B2B and :abbr:`B2G (business-to-government)`
  transactions.

.. admonition:: Disclaimer

   This page provides an overview of Croatian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Fiscalization Act, Peppol standards, and other relevant regulations. It does
   not constitute legal adviceWe recommend consulting with a tax advisor or legal professional
   familiar with Croatian e-invoicing regulations to ensure compliance tailored to your specific
   business needs.


==================================================
SECTION: customer_addresses.rst
PATH: applications/finance/accounting/customer_invoices/customer_addresses.rst
==================================================

==============================
Delivery and invoice addresses
==============================

Companies often have multiple locations, and it is common that a customer invoice should be sent to
one address and the delivery should be sent to another. Odoo's **Customer Addresses** feature is
designed to handle this scenario by making it easy to specify which address to use for each case.

.. seealso::
   :doc:`overview`

Configuration
=============

To specify a sales order's invoice and delivery addresses, first go to :menuselection:`Accounting
--> Configuration --> Settings`. In the :guilabel:`Customer Invoices` section, enable
:guilabel:`Customer Addresses` and click :guilabel:`Save`.

On quotations and sales orders, there are now fields for :guilabel:`Invoice Address` and
:guilabel:`Delivery Address`. If the customer has an invoice or delivery address listed on their
:ref:`contact record <sales/send_quotations/contact-form-config>`, the corresponding field uses that
address, by default, but any contact's address can be used instead.

.. seealso::
   For more information, refer to the documentation on :ref:`Contact Form Configuration
   <sales/send_quotations/contact-form-config>`.


Invoice and deliver to different addresses
==========================================

Delivery orders and their delivery slip reports use the address set as the :guilabel:`Delivery
Address` on the sales order. By default, invoice reports show both the shipping address and the
invoice address to assure the customer that the delivery is going to the correct location.

Emails also go to different addresses. The quotation and sales order are sent to the main contact's
email, as usual, but the invoice is sent to the email of the address set as the
:guilabel:`Invoice Address` on the sales order.

.. note::
   - Reports, such as the delivery slip and invoice report, can be :doc:`customized using Studio
     </applications/studio/pdf_reports>`.
   - If :doc:`Send by Post <snailmail>` is checked when you click :guilabel:`Send & Print`, the
     invoice will be mailed to the invoice address.


==================================================
SECTION: customer_invoices.rst
PATH: applications/finance/accounting/customer_invoices.rst
==================================================

:show-content:

=================
Customer invoices
=================

A customer invoice is a document issued by a company for products and/or services sold to a
customer. It records receivables as they are sent to customers. Customer invoices can include
amounts due for the goods and/or services provided, applicable sales taxes, shipping and handling
fees, and other charges. Odoo supports multiple invoicing and payment workflows.

.. seealso::
   :doc:`/applications/finance/accounting/customer_invoices/overview`

From draft invoice to profit and loss report, the process involves several steps once the goods (or
services) have been ordered/shipped (or rendered) to a customer, depending on the invoicing policy:

- :ref:`accounting/invoice/creation`
- :ref:`accounting/invoice/confirmation`
- :ref:`accounting/invoice/sending`
- :ref:`accounting/invoice/paymentandreconciliation`
- :ref:`accounting/invoice/followup`
- :ref:`accounting/invoice/reporting`

.. _accounting/invoice/creation:

Invoice creation
================

Draft invoices can be created directly from documents like sales orders or purchase orders or
manually from the :guilabel:`Customer Invoices` journal in the :guilabel:`Accounting Dashboard`.

An invoice must include the required information to enable the customer to pay promptly for their
goods and services. Make sure the following fields are appropriately completed:

- :guilabel:`Customer`: When a customer is selected, Odoo automatically pulls information from the
  customer record like the invoice address,
  :doc:`preferred payment terms <customer_invoices/payment_terms>`,
  :doc:`fiscal positions <taxes/fiscal_positions>`, receivable account, and more onto the invoice.
  To change these values for this specific invoice, edit them directly on the invoice. To change
  them for future invoices, change the values on the contact record.
- :guilabel:`Invoice Date`: If not set manually, this field is automatically set as the current date
  upon confirmation.
- :guilabel:`Due Date` or :doc:`payment terms <customer_invoices/payment_terms>`: To specify when
  the customer has to pay the invoice.
- :guilabel:`Journal`: Automatically set and can be changed if needed.
- :doc:`Currency <get_started/multi_currency>`. If the invoice's currency differs from the
  company's currency, the currency exchange rate is automatically displayed.

In the :guilabel:`Invoice Lines` tab:

- :guilabel:`Product`: Click :guilabel:`Add a line`, then search for and select the product.
- :guilabel:`Quantity`
- :guilabel:`Price`
- :doc:`Taxes <taxes>` (if applicable)

To access the product catalog and view all items in an organized display, click :doc:`Catalog
</applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/product_catalog>`.
When the products and quantities are selected, click :guilabel:`Back to Invoice` to return to the
invoice; the selected catalog items will appear in the invoice lines.

.. tip::
   To display the total amount of the invoice in words, go to :menuselection:`Accounting -->
   Configuration --> Settings` and activate the :guilabel:`Total amount of invoice in letters`
   option.

The :guilabel:`Journal Items` tab displays the accounting entries created. Additional invoice
information such as the :guilabel:`Customer Reference`, :guilabel:`Payment Reference`, :doc:`Fiscal
Positions <taxes/fiscal_positions>`, :doc:`Incoterms <customer_invoices/incoterms>`, and more can be
added or modified in the :guilabel:`Other Info` tab.

.. note::
   Odoo initially creates invoices in :guilabel:`Draft` status. Draft invoices have no accounting
   impact until they are :ref:`confirmed <accounting/invoice/confirmation>`.

.. seealso::
   :doc:`/applications/sales/sales/invoicing/proforma`

.. _accounting/invoice/confirmation:

Invoice confirmation
====================

Click :guilabel:`Confirm` when the invoice is completed. The invoice's status changes to
:guilabel:`Posted`, and a journal entry is generated based on the invoice configuration. On
confirmation, Odoo assigns each invoice a unique number from a defined :doc:`sequence
<customer_invoices/sequence>`.

.. note::
   - Once confirmed, an invoice can no longer be updated. Click :guilabel:`Reset to draft` if
     changes are needed.
   - If required, invoices and other journal entries can be locked once posted using the
     :ref:`Secure posted entries with hash <data-inalterability/restricted>` feature.

.. _accounting/invoice/sending:

Invoice sending
===============

To set a preferred :guilabel:`Invoice sending` method for a customer, go to
:menuselection:`Accounting --> Customers --> Customers` and select the customer. In the
:guilabel:`Accounting` tab of the contact form, select the preferred :guilabel:`Invoice sending`
method in the :guilabel:`Customer Invoices` section.

.. note::
   Sending letters in Odoo requires :doc:`In-App Purchase (IAP) <../../essentials/in_app_purchase>`
   credit or tokens.

To send the invoice to the customer, navigate back to the invoice record and follow these steps:

#. Click :guilabel:`Send`.
#. If the :ref:`default invoice layout <studio/pdf-reports/default-layout>` has not been customized
   yet, a :guilabel:`Configure your document layout` pop-up window appears. Configure the layout and
   click :guilabel:`Continue`.

   .. note::
      - The document layout can be changed at any time in the general settings.
      - To add a QR code for banking app payments to the invoice, enable the :guilabel:`QR Code`
        option in the :guilabel:`Configure Your Document Layout` window. To modify this option, go
        to :menuselection:`Accounting --> Configuration --> Settings`, scroll down to the
        :guilabel:`Customer Payments` section, and enable/disable the :guilabel:`QR Codes` option.

#. In the :guilabel:`Send` window:

   - If a preferred :guilabel:`Invoice sending` method was set in the contact form, it is selected
     by default. Select another one if needed.
   - If no preferred :guilabel:`Invoice sending` method was set in the contact form, select the
     method to use for sending the invoice to the customer.

#. Click :guilabel:`Send` if the :guilabel:`by Email` option is selected, or click
   :guilabel:`Download`.

.. _accounting/invoice/sending-multiple-invoices:

Sending multiple invoices
-------------------------

To send and print multiple invoices, go to :menuselection:`Accounting --> Customers --> Invoices`,
select them in the :guilabel:`Invoices` list view and click :guilabel:`Send`. The
:guilabel:`Send` window displays the selected invoice sending methods based on the preferred
method set.

A banner is added to the selected invoices to indicate they are part of an ongoing send and print
batch. This helps prevent the process from being triggered manually again, as it may take some time
to complete for exceptionally large batches.

To check all invoices that have not yet been sent, go to :menuselection:`Accounting --> Customers
--> Invoices`. In the :guilabel:`Invoices` list view, click into the search bar and filter on
:guilabel:`Not Sent`.

.. _accounting/invoice/paymentandreconciliation:

Payment and reconciliation
==========================

In Odoo, an invoice is considered :guilabel:`Paid` when the associated accounting entry has been
reconciled with a corresponding bank transaction.

.. seealso::
   - :doc:`payments`
   - :doc:`bank/reconciliation`

.. _accounting/invoice/followup:

Payment follow-up
=================

Odoo's :doc:`follow-up actions <payments/follow_up>` help companies follow up on customer invoices.
Different actions can be set up to remind customers to pay their outstanding invoices, depending on
how much the customer is overdue. These actions are bundled into follow-up levels that trigger when
an invoice is overdue by a certain number of days. If there are multiple overdue invoices for the
same customer, the actions are performed on the most overdue invoice.

.. _accounting/invoice/reporting:

Reporting
=========

.. _accounting/invoice/partner-reports:

Partner reports
---------------

.. _accounting/invoices/partner-ledger:

Partner Ledger
~~~~~~~~~~~~~~

The :guilabel:`Partner Ledger` report shows the balance of customers and suppliers. To access it,
go to :menuselection:`Accounting --> Reporting --> Partner Ledger`.

.. _accounting/invoices/aging-report:

Aged Receivable
~~~~~~~~~~~~~~~

To review outstanding customer invoices and their related due dates, use the :ref:`Aged Receivable
<accounting/reporting/aged-receivable>` report. To access it, go to :menuselection:`Accounting -->
Reporting --> Aged Receivable`.

.. _accounting/invoices/aged-payable:

Aged Payable
~~~~~~~~~~~~

To review outstanding vendor bills and their related due dates, use the :ref:`Aged Payable
<accounting/reporting/aged-payable>` report. To access it, go to :menuselection:`Accounting -->
Reporting --> Aged Payable`.

.. _accounting/invoices/profit-and-loss:

Profit and Loss
---------------

The :ref:`Profit and Loss <accounting/reporting/profit-and-loss>` statement shows details of income
and expenses.

.. _accounting/invoices/balance-sheet:

Balance sheet
-------------

The :ref:`Balance Sheet <accounting/reporting/balance-sheet>` summarizes the company's assets,
liabilities, and equity at a specific time.

.. toctree::
   :titlesonly:

   customer_invoices/overview
   customer_invoices/customer_addresses
   customer_invoices/payment_terms
   customer_invoices/terms_conditions
   customer_invoices/cash_discounts
   customer_invoices/credit_notes
   customer_invoices/cash_rounding
   customer_invoices/deferred_revenues
   customer_invoices/electronic_invoicing
   customer_invoices/sequence
   customer_invoices/snailmail
   customer_invoices/epc_qr_code
   customer_invoices/incoterms


==================================================
SECTION: customize.rst
PATH: applications/finance/accounting/reporting/customize.rst
==================================================

==============
Custom reports
==============

Odoo comes with a powerful and easy-to-use reporting framework. The engine allows you to create new
reports, such as tax reports, balance sheets, and income statements with specific groupings and
layouts.

.. important::
   Activate the :ref:`developer mode <developer-mode>` to access the accounting report
   configuration.

To create a new report, go to :menuselection:`Accounting --> Configuration --> Accounting Reports`.
From here, create either a :ref:`root report <customize-reports/root>` or a :ref:`variant
<customize-reports/variants>`.

.. tip::
   - Consider saving modified reports as report variants to keep their root reports intact.
   - To access an existing report's management interface from the report itself, click on the
     :icon:`fa-cogs` :guilabel:`(gears)` icon.

.. _customize-reports/root:

Root reports
============

Root reports can be regarded as generic, neutral accounting reports. They serve as models on which
local accounting versions are built. If a report has no root report, it is considered to be a root
report itself.

.. example::
   A tax report for Belgium and the US would both use the same generic version as a base and adapt
   it for their domestic regulations.

Creating a menu item is required to access a new root report. To do so, open the report's
configuration, click :guilabel:`Action`, :guilabel:`Create Menu Item`, and refresh the page. The
report is now available under :menuselection:`Accounting --> Reporting`.

.. note::
   Cases that require creating a new root report are rare, such as when a country's tax authorities
   require a new and specific type of report.

.. _customize-reports/variants:

Variants
========

Variants are country-specific versions of root reports and, therefore, always refer to a root
report. To create a variant, select a generic (root) report in the :guilabel:`Root Report` field
when creating a new report.

When a root report is opened from the Accounting app's :guilabel:`Reporting` menu, all of its
variants are displayed in the report variant selector in the top right corner of the view.

.. example::
   :guilabel:`VAT Report (BE)` is a variant of the root :guilabel:`Generic Tax report`.

   .. image:: customize/engine-variant.png
      :alt: Report variant selection.

.. _accounting/customize/lines:

Lines
=====

After creating a report (either root or variant), the next step is to fill it with lines. To create
a new line, click on :guilabel:`Add a line`. To modify an existing line, click on the line itself
and edit the popup. All lines require a :guilabel:`Name` and can have an optional :guilabel:`Code`
which allows using the line's value in formulas.

.. image:: customize/engine-lines-options.png
   :alt: Engine lines options.

Expressions
===========

Each line can contain one or multiple **expressions**. Expressions can be seen as **sub-variables**
needed by a report line. To create an expression, click on :guilabel:`Add a line` *within* a line's
popup.

When creating an expression, you must enter a :guilabel:`Label` used to refer to that expression.
The label must be unique among the expressions of each report line. Both the :guilabel:`Computation
Engine` and the :guilabel:`Formula` fields must also be completed. The **computation engine**
defines how the **formula(s)** and **subformula(s)** are interpreted. It is possible to mix
expressions using different computation engines under the same line if needed.

.. note::
   Depending on the engine, :guilabel:`subformulas` may also be required.

Odoo Domain computation engine
------------------------------

When using the :guilabel:`Odoo Domain` computation engine, a formula is interpreted as an :ref:`Odoo
domain <reference/orm/domains>` targeting `account.move.line` objects.

The subformula allows you to define how the move lines matching the domain are used to compute the
value of the expression:

`sum`
   The result is the sum of all the balances of the matched move lines.

`sum_if_pos`
   The result is the sum of all the balances of the matched move lines if this amount is positive.
   Otherwise, it is `0`.

`sum_if_neg`
   The result is the sum of all the balances of the matched move lines if this amount is negative.
   Otherwise, it is `0`.

`count_rows`
   The result is the number of sub-lines of this expression. If the parent line has a :ref:`group-by
   <customize-reports/lines-group-by>` value, this will correspond to the number of distinct
   grouping keys in the matched move lines. Otherwise, it will be the number of matched move lines.

.. tip::
   To **reverse** the sign of the result, put a `-` sign at the beginning of the subformula.

.. image:: customize/engine-expressions.png
   :alt: Expression line within a line report

Tax Tags computation engine
---------------------------

When using the :guilabel:`Tax Tags` computation engine, the contents of the :guilabel:`Formula`
field are matched to tax tags. If such tags do not exist when creating the expression, they will be
created.

When evaluating the expression, the expression computation can roughly be expressed as: **(amount of
the move lines with** `+` **tag)** `-` **(amount of the move lines with** `-` **tag)**.

.. example::
   If the :guilabel:`Formula` is set to `tag_name`, the engine matches tax tags `+tag_name` and
   `-tag_name`, creating them if necessary. To exemplify further: two tags are matched by the
   formula. If the formula is `A`, it will require (and create, if needed) tags `+A` and `-A`.

Aggregate Other Formulas computation engine
-------------------------------------------

The :guilabel:`Aggregate Other Formulas` computation engine performs arithmetic operations on the
amounts obtained from other expressions. Formulas here are composed of references to expressions
separated by one of the four basic arithmetic operators (addition `+`, subtraction `-`, division
`/`, and multiplication `*`). To refer to an expression, type in its parent line's **code** followed
by a period `.` and the expression's **label** (ex. **code.label**).

**Subformulas** can be one of the following:

`if_above(CUR(amount))`
   The value of the arithmetic expression will be returned only if it is greater than the provided
   bound. Otherwise, the result will be `0`.

`if_below(CUR(amount))`
   The value of the arithmetic expression will be returned only if it is lower than the provided
   bound. Otherwise, the result will be `0`.

`if_between(CUR1(amount1), CUR2(amount2))`
   The value of the arithmetic expression will be returned only if it is strictly between the
   provided bounds. Otherwise, it will be brought back to the closest bound.

`if_other_expr_above(LINE_CODE.EXPRESSION_LABEL, CUR(amount))`
   The value of the arithmetic expression will be returned only if the value of the expression
   denoted by the provided line code and expression label is greater than the provided bound.
   Otherwise, the result will be `0`.

`if_other_expr_below(LINE_CODE.EXPRESSION_LABEL, CUR(amount))`
   The value of the arithmetic expression will be returned only if the value of the expression
   denoted by the provided line code and expression label is lower than the provided bound.
   Otherwise, the result will be `0`.

`CUR` is the currency code in capital letters, and `amount` is the amount of the bound expressed in
that currency.

`cross_report(xml_id | report_id)`
   Used to match an expression from another report targeted by the xml_id or the report ID itself.

Prefix of Account Codes computation engine
------------------------------------------

The :guilabel:`Prefix of Account Codes` computation engine is used to match amounts made on accounts
using the prefixes of these accounts' codes as variables in an arithmetic expression.

.. example::
   | `21`
   | Arithmetic expressions can also be a single prefix, such as here.

.. example::
   | `21 + 10 - 5`
   | This formula adds the balances of the move lines made on accounts whose codes start with `21`
     and `10`, and subtracts the balance of the ones on accounts with the prefix `5`.

It is also possible to ignore a selection of sub-prefixes.

.. example::
   | `21 + 10\\(101, 102) - 5\\(57)`
   | This formula works the same way as the previous example but ignores the prefixes `101`, `102`,
     and `57`.

You can apply 'sub-filtering' on **credits and debits** using the `C` and `D` suffixes. In this
case, an account will only be considered if its prefix matches, *and* if the total balance of the
move lines made on this account is **credit/debit**.

.. example::
   Account `210001` has a balance of -42 and account `210002` has a balance of 25. The formula
   `21D` only matches the account `210002`, and hence returns 25. `210001` is not matched, as its
   balance is *credit*.

Prefix exclusions can be mixed with the `C` and `D` suffixes.

.. example::
   | `21D + 10\\(101, 102)C - 5\\(57)`
   | This formula adds the balances of the move lines made on accounts whose code starts with `21`
     *if* it is debit (`D`) and `10` *if* it is credit (`C`), but ignores prefixes `101`, `102`, and
     subtracts the balance of the ones on accounts with the prefix `5`, ignoring the prefix `57`.

To match the letter `C` or `D` in a prefix and not use it as a suffix, use an empty exclusion `()`.

.. example::
   | `21D\\()`
   | This formula matches accounts whose code starts with `21D`, regardless of their balance sign.

In addition to using code prefixes to include accounts, you can also match them with **account
tags**. This is especially useful, for example, if your country lacks a standardized chart of
accounts, where the same prefix might be used for different purposes across companies.

.. example::
   | `tag(25)`
   | This formula matches accounts whose associated tags contain the one with ID *25*.

If the tag you reference is defined in a data file, an XMLID can be used instead of the ID.

.. example::
   | `tag(my_module.my_tag)`
   | This formula matches accounts whose associated tags include the tag denoted by
     *my_module.my_tag*.

You can also use arithmetic expressions with tags, possibly combining them with prefix selections.

.. example::
   | `tag(my_module.my_tag) + tag(42) + 10`
   | The balances of accounts tagged as *my_module.my_tag* will be summed with those of accounts
     linked to the tag with ID *42* and accounts with the code prefix `10`

`C` and `D` suffixes can be used in the same way with tags.

.. example::
   | `tag(my_module.my_tag)C`
   | This formula matches accounts with the tag *my_module.my_tag* and a credit balance.

Prefix exclusion also works with tags.

.. example::
   | `tag(my_module.my_tag)\\(10)`
   | This formula matches accounts with the tag *my_module.my_tag* and a code not starting with
     `10`.

External Value computation engine
---------------------------------

The :guilabel:`External Value` computation engine is used to refer to **manual** and **carryover
values**. Those values are not stored using `account.move.line`, but with
`account.report.external.value`. Each of these objects directly points to the expression it impacts,
so very little needs to be done about their selection here.

**Formulas** can be one of the following:

`sum`
   If the result must be the sum of all the external values in the period.

`most_recent`
   If the result must be the value of the latest external value in the period.

In addition, **subformulas** can be used in two ways:

`rounding=X`
   Replacing `X` with a number instructs to round the amount to X decimals.

`editable`
   Indicates this expression can be edited manually, triggering the display of an icon in the
   report, allowing the user to perform this action.

.. note::
   Manual values are created at the `date_to` currently selected in the report.

Both subformulas can be mixed by separating them with a `;`.

.. example::
   | `editable;rounding=2`
   | This subformula shows the correct way to mix both behaviors.

Custom Python Function computation engine
-----------------------------------------

The :guilabel:`Custom Python Function` computation engine is a means for developers to introduce
custom computation of expressions on a case-by-case basis. The :guilabel:`Formula` is the name of a
**python function** to call, and the :guilabel:`Subformula` is a **key** to fetch in the
**dictionary** returned by this function. Use this computation engine only if making a custom
module.

Columns
=======

Reports can have an **indefinite number** of columns to display. Each column gets its values from
the **expressions** declared on the **lines**. The field :guilabel:`expression_label` of the column
gives the label of the expressions whose value is displayed. If a line has no **expression** in that
field, then nothing is displayed for it in this column. If multiple columns are required, you must
use different **expression** labels.

.. image:: customize/engine-columns.png
   :alt: Columns of report.

When using the **period comparison** feature found under the :guilabel:`Options` tab of an
accounting report, all columns are repeated in and for each period.

.. _customize-reports/lines-group-by:

Line grouping
=============

Non-standard grouping is possible by adding or using existing fields on the *Journal Item* model,
provided that the fields are related and non-stored.

.. note::
   Grouping lines requires the report to have explicit report lines that can be edited. The deferred
   reports, for example, do not support grouping lines as they use dynamic lines that are generated.

Create a new field on journal item
----------------------------------

To create a non-stored, related field in the *Journal Item* model, first go to
:menuselection:`Accounting --> Journal Items`, and click the :icon:`fa-bug` :guilabel:`(bug)` icon,
then click :guilabel:`Fields`. Click :guilabel:`New` to create a new field, and complete the
following fields:

- :guilabel:`Field Name`: a technical name for the field
- :guilabel:`Field Label`: the label to be displayed for the field
- :guilabel:`Field Type`: the type of field that this related field should point to
- :guilabel:`Stored`: Leave this field unchecked as only non-stored fields can be used to group
  lines.
- :guilabel:`Related Model`: If the field type is :guilabel:`one2many`, :guilabel:`many2many`, or
  :guilabel:`many2one`, select the model of the original field to group by.
- :guilabel:`Related Field Definition`: the technical path to the field you want to group by

  .. example::
     To group by the sales team of the commercial partner, set the related field definition to
     `move_id.team_id`.

Group lines
-----------

To group lines, go to the :ref:`Lines <accounting/customize/lines>` tab of the desired report, click
on the line you want to group, and edit the :guilabel:`Group by` field. Enter the technical name
(:guilabel:`Field Name`) of the field to use as the grouping key.

.. tip::
   To find a list of all the model's fields and their technical names, go to
   :menuselection:`Accounting --> Journal Items`, and click the :icon:`fa-bug` :guilabel:`(bug)`
   icon, then click :guilabel:`Fields`. The technical name of each field is listed in the
   :guilabel:`Field Name` column.

.. seealso::
   :ref:`Consolidation via grouping by account code <consolidation_account_mapping>`


==================================================
SECTION: data_inalterability.rst
PATH: applications/finance/accounting/reporting/data_inalterability.rst
==================================================

================================
Data inalterability check report
================================

Tax authorities in some countries require companies to **prove their posted accounting entries are
unaltered**, meaning that once an entry has been secured, it can no longer be changed.

To do so, Odoo creates a unique fingerprint for each secured entry thanks to the **SHA-256 algorithm**.
This fingerprint is called a hash. The hash is generated by taking an entry's essential data
(the values of the `name`, `date`, `journal_id`, `company_id`, `debit`, `credit`, `account_id`, and
`partner_id` fields), concatenating it, and inputting it to the SHA-256 hash function, which then
outputs a fixed size (256-bit) string of characters. The hash function is deterministic (:dfn:`the
same input always creates the same output`): any minor modification to the original data would
completely change the resulting hash. Consequently, the SHA-256 algorithm is often used, among
others, for data integrity verification purposes.

In addition, the previous entry's hash is always added to the next entry to form a **hash chain**.
This is used to ensure a new entry is not added afterward between two secured entries, as doing so
would break the hash chain.

.. note::
   Hashes generated by the SHA-256 algorithm are theoretically not unique, as there is a finite
   number of possible values. However, this number is exceptionally high: 2²⁵⁶, which is a lot
   bigger than the number of atoms in the known universe. This is why hashes are considered unique
   in practice.

.. _data-inalterability/inalterability_features:

Inalterability features
=======================

Inalterability features can be enabled by activating the :ref:`secure posted entries with hash
<data-inalterability/restricted>` option on any journal or using the :ref:`secure entries wizard
<data-inalterability/wizard>`.

- Two indicators are added to the journal entry's form view.
  They show whether the entry is secured or not.

  - A :icon:`fa-lock` or :icon:`fa-unlock` (:guilabel:`lock icon`) next to the :guilabel:`Posted` state.
  - A :guilabel:`Secured` checkbox in the :guilabel:`Other info` tab.

- A :guilabel:`Not Secured` filter is available on journal entries and journal items' list views.
  It can be used to find posted journal entries that are not secured yet.
- The option to open the :ref:`secure entries wizard <data-inalterability/wizard>` is displayed in the
  :guilabel:`Accounting` menu.

.. _data-inalterability/restricted:

Secure posted entries with hash
===============================

To activate the hashing function on a specific journal, go to :menuselection:`Accounting -->
Configuration --> Journals`. Open a sales, purchase, or miscellaneous journal, go to the
:guilabel:`Advanced Settings` tab, and enable :guilabel:`Secure Posted Entries with Hash`.
Journals for which the feature is activated are called "restricted".

To compute the hash of an entry, Odoo retrieves the predecessor entries of the chain (i.e., the
entries with the same sequence prefix) and hashes them in a continuous way from the last hashed
entry to the new entry to hash.

.. warning::
   Once you post an entry in a restricted journal, you cannot disable the feature anymore, nor edit
   any secured entry.

.. _data-inalterability/wizard:

Secure entries wizard
=====================

You can also use the :guilabel:`Secure Entries` Wizard to secure all journal entries,
in **all** journals, up to a specific date.

.. note::
   The wizard operates independently of the journal settings and journal types.

To open it, activate the :ref:`developer mode <developer-mode>`, go to :menuselection:`Accounting
--> Accounting`, and click on :guilabel:`Secure Entries`. If the :ref:`inalterability features
<data-inalterability/inalterability_features>` are activated, it is also visible outside the debug
mode.

To secure entries, select a date up to which all entries should be secured and press
:guilabel:`Secure Entries`.

.. warning::
   After securing the entries, you can no longer edit them.

.. note::
   It can happen that entries that are past the selected date are secured.
   This is possible since the hash chain corresponds to the sequence prefix,
   ordered by sequence number.

.. _data-inalterability/report:

Report download
===============

To download the data inalterability check report, go to :menuselection:`Accounting --> Configuration
--> Settings --> Reporting` and click on :guilabel:`Download the Data Inalterability Check Report`.

The report's first section is an overview of all journal sequence prefixes containing hashed entries.
In the :guilabel:`Restricted` column, you can see whether or not a journal has the :ref:`secure
posted entries with hash <data-inalterability/restricted>` option (V) activated or not (X). The
:guilabel:`Check` column tells you whether all entries are correctly hashed.

.. image:: data_inalterability/journal-overview.png
   :align: center
   :alt: Configuration report for two journals

The second section gives a more detailed result of the data consistency check for each hashed
journal sequence prefix. You can view the first hashed entry and its corresponding hash,
as well as the last hashed entry and its corresponding hash.

.. image:: data_inalterability/data-consistency-check.png
   :align: center
   :alt: Data consistency check report for a journal


==================================================
SECTION: deferred_expenses.rst
PATH: applications/finance/accounting/vendor_bills/deferred_expenses.rst
==================================================

=================
Deferred expenses
=================

**Deferred expenses** and **prepayments** (also known as **prepaid expenses**) are both costs that
have already occurred for products or services yet to be received.

Such costs are **assets** for the company that pays them since it already paid for products and
services but has either not yet received them or not yet used them. The company cannot report them
on the current **profit and loss statement**, or *income statement*, since the payments will be
effectively expensed in the future.

These future expenses must be deferred on the company's balance sheet until the moment in time they
can be **recognized**, at once or over a defined period, on the profit and loss statement.

For example, let's say we pay $1200 at once for one year of insurance. We already pay the cost now
but haven't used the service yet. Therefore, we post this new expense in a *prepayment account* and
decide to recognize it on a monthly basis. Each month, for the next 12 months, $100 will be
recognized as an expense.

Odoo Accounting handles deferred expenses by spreading them across multiple entries that are
posted periodically.

.. note::
   The server checks once a day if an entry must be posted. It might then take up to 24 hours before
   you see a change from :guilabel:`Draft` to :guilabel:`Posted`.

Configuration
=============

Make sure the default settings are correctly configured for your business. To do so, go to
:menuselection:`Accounting --> Configuration --> Settings`. The following options are available:

Journal
  The deferral entries are posted in this journal.
Deferred Expense
  Expenses are deferred on this Current Asset account until they are recognized.
Generate Entries
  By default, Odoo :ref:`automatically generates <vendor_bills/deferred/generate_on_validation>`
  the deferral entries when you post a vendor bill. However, you can also choose to
  :ref:`generate them manually <vendor_bills/deferred/generate_manually>` by selecting the
  :guilabel:`Manually & Grouped` option instead.
Based on
  Suppose a bill of $1200 must be deferred over 12 months.

  - The :guilabel:`Months` option accounts for $100 each month prorated to the number of days in
    that month (e.g., $50 for the first month if the :guilabel:`Start Date` is set to the 15th of
    the month).

  - The :guilabel:`Full Months` option considers each month started to be full (e.g., $100 for the
    first month even if the :guilabel:`Start Date` is set to the 15th of the month); this means that
    with the :guilabel:`Full Months` option, a full $100 is recognized in the first partial month,
    eliminating the need for a 13th month to recognize any remainder as would be the case when using
    the :guilabel:`Months` option.

  - The :guilabel:`Days` option accounts for different amounts depending on the number of days in
    each month (e.g., ~$102 for January and ~$92 for February).

.. _vendor_bills/deferred/generate_on_validation:

Generate deferral entries on validation
=======================================

.. tip::
   Make sure the :guilabel:`Start Date` and :guilabel:`End Date` fields are visible in the
   :guilabel:`Invoice Lines` tab. In most cases, the :guilabel:`Start Date` should be in the same
   month as the :guilabel:`Bill Date`. Deferred expense entries are posted from the bill date and
   are displayed in the report accordingly.

For each line of the bill that should be deferred, specify the start and end dates of the deferral
period.

If the :guilabel:`Generate Entries` field is set to :guilabel:`On invoice/bill validation`, Odoo
automatically generates the deferral entries when the bill is validated. Click on the
:guilabel:`Deferred Entries` smart button to see them.

One entry, dated on the same day as the bill's accounting date, moves the bill amounts from the
expense account to the deferred account. The other entries are deferral entries which will, month
after month, move the bill amounts from the deferred account to the expense account to recognize
the expense.

.. example::
   You can defer a January bill of $1200 over 12 months by specifying a start date of 01/01/2023
   and an end date of 12/31/2023. At the end of August, $800 is recognized as an expense,
   whereas $400 remains on the deferred account.

Reporting
=========

The deferred expense report computes an overview of the necessary deferral entries for each account.
To access it, go to :menuselection:`Accounting --> Reporting --> Deferred Expense`.

To view the journal items of each account, click on the account name and then :guilabel:`Journal
Items`.

.. image:: deferred_expenses/deferred_expense_report.png
   :alt: Deferred expense report

.. note::
    Only bills whose accounting date is before the end of the period of the report
    are taken into account.

.. _vendor_bills/deferred/generate_manually:

Generate grouped deferral entries manually
==========================================

If you have a lot of deferred revenues and wish to reduce the number of journal entries created, you
can generate deferral entries manually. To do so, set the :guilabel:`Generate Entries` field in the
**Settings** to :guilabel:`Manually & Grouped`. Odoo then aggregates the deferred amounts in a
single entry.

At the end of each month, go to the Deferred Expenses report and click the
:guilabel:`Generate Entries` button. This generates two deferral entries:

- One dated at the end of the month which aggregates, for each account, all the deferred amounts
  of that month. This means that at the end of that period, a part of the deferred expense is
  recognized.
- The reversal of this created entry, dated on the following day (i.e., the first day of the
  next month) to cancel the previous entry.

.. example::

   There are two bills:

   - Bill A: $1200 to be deferred from 01/01/2023 to 12/31/2023
   - Bill B: $600 to be deferred from 01/01/2023 to 12/31/2023

   In January
      At the end of January, after clicking the :guilabel:`Generate Entries` button,
      there are the following entries:

      - Entry 1 dated on the 31st January:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both bills)
        - Line 2: Expense account 100 + 50 = **150** (recognizing 1/12 of bill A and bill B)
        - Line 3: Deferred account 1800 - 150 = **1650** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st February, the reversal of the previous entry:

        - Line 1: Expense account **1800**
        - Line 2: Deferred account **-150**
        - Line 3: Expense account **-1650**

   In February
      At the end of February, after clicking the :guilabel:`Generate Entries` button,
      there are the following entries:

      - Entry 1 dated on the 28th February:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both bills)
        - Line 2: Expense account 200 + 100 = **300** (recognizing 2/12 of bill A and bill B)
        - Line 3: Deferred account 1800 - 300 = **1500** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st March, the reversal of the previous entry.

   From March to October
      The same computation is done for each month until October.

   In November
      At the end of November, after clicking the :guilabel:`Generate Entries` button,
      there are the following entries:

      - Entry 1 dated on the 30th November:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both bills)
        - Line 2: Expense account 1100 + 550 = **1650** (recognizing 11/12 of bill A and bill B)
        - Line 3: Deferred account 1800 - 1650 = **150** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st December, the reversal of the previous entry.

   In December
      There is no need to generate entries in December. Indeed, if we do the computation for
      December, we will have an amount of 0 to be deferred.

   In total
      If we aggregate everything, we would have:

      - bill A and bill B
      - two entries (one for the deferral and one for the reversal) for each month from January to
        November

      Therefore, at the end of December, bills A and B are fully recognized as expense only once in
      spite of all the created entries thanks to the reversal mechanism.


==================================================
SECTION: deferred_revenues.rst
PATH: applications/finance/accounting/customer_invoices/deferred_revenues.rst
==================================================

=================
Deferred revenues
=================

**Deferred revenues**, or **unearned revenues**, are invoices addressed to customers
for goods yet to be delivered or services yet to be rendered.

The company cannot report them on the current **profit and loss statement**, or *income statement*,
since the goods and services will be effectively delivered/rendered in the future.

These future revenues must be deferred on the company's balance sheet among the current liabilities
until they can be **recognized**, at once or over a defined period, on the profit and loss
statement.

For example, let's say a business sells a software license of $1200 for 1 year. They immediately
invoice it to the customer but can't consider it earned yet, as the future months of licensing have
not yet been delivered. Therefore, they post this new revenue in a deferred revenue account and
recognize it on a monthly basis. Each month, for the next 12 months, $100 will be recognized as
revenue.

Odoo Accounting handles deferred revenues by spreading them in multiple entries that are posted
periodically.

.. note::
   The server checks once a day if an entry must be posted. It might then take up to 24 hours before
   you see a change from :guilabel:`Draft` to :guilabel:`Posted`.

Configuration
=============

Make sure the default settings are correctly configured for your business. To do so, go to
:menuselection:`Accounting --> Configuration --> Settings`. The following options are available:

Journal
  The deferral entries are posted in this journal.
Deferred Revenue
  Revenues are deferred on this Current Liability account until they are recognized.
Generate Entries
  By default, Odoo :ref:`automatically generates <customer_invoices/deferred/generate_on_validation>`
  the deferral entries when you post a customer invoice. However, you can also choose to
  :ref:`generate them manually <customer_invoices/deferred/generate_manually>` by selecting the
  :guilabel:`Manually & Grouped` option instead.
Based on
  Suppose an invoice of $1200 must be deferred over 12 months.

  - The :guilabel:`Months` option accounts for $100 each month prorated to the number of days in
    that month (e.g., $50 for the first month if the :guilabel:`Start Date` is set to the 15th of
    the month).

  - The :guilabel:`Full Months` option considers each month started to be full (e.g., $100 for the
    first month even if the :guilabel:`Start Date` is set to the 15th of the month); this means that
    with the :guilabel:`Full Months` option, a full $100 is recognized in the first partial month,
    eliminating the need for a 13th month to recognize any remainder as would be the case when using
    the :guilabel:`Months` option.

  - The :guilabel:`Days` option accounts for different amounts depending on the number of days in
    each month (e.g., ~$102 for January and ~$92 for February).

.. _customer_invoices/deferred/generate_on_validation:

Generate deferral entries on validation
=======================================

.. tip::
   Make sure the :guilabel:`Start Date` and :guilabel:`End Date` fields are visible in the
   :guilabel:`Invoice Lines` tab. In most cases, the :guilabel:`Start Date` should be in the same
   month as the :guilabel:`Invoice Date`. Deferred revenue entries are posted from the invoice
   date and are displayed in the report accordingly.

For each line of the invoice that should be deferred, specify the start and end dates of the
deferral period.

If the :guilabel:`Generate Entries` field in the **Settings** is set to :guilabel:`On invoice/bill
validation`, Odoo automatically generates the deferral entries when the invoice is validated. Click
the :guilabel:`Deferred Entries` smart button to see them.

One entry, dated on the same day as the invoice's accounting date, moves the invoice amounts from
the income account to the deferred account. The other entries are deferral entries which, month
after month, move the invoice amounts from the deferred account to the income account to recognize
the revenue.

.. example::
   You can defer a January invoice of $1200 over 12 months by specifying a start date of 01/01/2023
   and an end date of 12/31/2023. At the end of August, $800 is recognized as an income,
   whereas $400 remains on the deferred account.

Reporting
=========

The deferred revenue report computes an overview of the necessary deferral entries for each account.
To access it, go to :menuselection:`Accounting --> Reporting --> Deferred Revenue`.

To view the journal items of each account, click on the account name and then :guilabel:`Journal
Items`.

.. image:: deferred_revenues/deferred_revenue_report.png
   :alt: Deferred revenue report

.. note::
    Only invoices whose accounting date is before the end of the period of the report
    are taken into account.

.. _customer_invoices/deferred/generate_manually:

Generate grouped deferral entries manually
==========================================

If you have a lot of deferred revenues and wish to reduce the number of journal entries created, you
can generate deferral entries manually. To do so, set the :guilabel:`Generate Entries` field in the
**Settings** to :guilabel:`Manually & Grouped`. Odoo then aggregates the deferred amounts in a
single entry.

At the end of each month, go to :menuselection:`Accounting --> Reporting --> Deferred Revenue` and
click the :guilabel:`Generate Entries` button. This generates two deferral entries:

- One dated at the end of the month which aggregates, for each account, all the deferred amounts
  of that month. This means that a part of the deferred revenue is recognized at the end of that
  period.
- The reversal of this created entry, dated on the following day (i.e., the first day of the
  next month) to cancel the previous entry.

.. example::
   There are two invoices:

   - Invoice A: $1200 to be deferred from 01/01/2023 to 12/31/2023
   - Invoice B: $600 to be deferred from 01/01/2023 to 12/31/2023

   In January
      At the end of January, after clicking the :guilabel:`Generate Entries` button, there are the
      following entries:

      - Entry 1 dated on the 31st January:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both invoices)
        - Line 2: Expense account 100 + 50 = **150** (recognizing 1/12 of invoice A and invoice B)
        - Line 3: Deferred account 1800 - 150 = **1650** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st February, the reversal of the previous entry:

        - Line 1: Expense account **1800**
        - Line 2: Deferred account **-150**
        - Line 3: Expense account **-1650**

   In February
      At the end of February, after clicking the :guilabel:`Generate Entries` button, there are the
      following entries:

      - Entry 1 dated on the 28th February:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both invoices)
        - Line 2: Expense account 200 + 100 = **300** (recognizing 2/12 of invoice A and invoice B)
        - Line 3: Deferred account 1800 - 300 = **1500** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st March, the reversal of the previous entry.

   From March to October
      The same computation is done for each month until October.

   In November
      At the end of November, after clicking the :guilabel:`Generate Entries` button, there are the
      following entries:

      - Entry 1 dated on the 30th November:

        - Line 1: Expense account -1200 -600 = **-1800** (cancelling the total of both invoices)
        - Line 2: Expense account 1100 + 550 = **1650** (recognizing 11/12 of invoice A and invoice
          B)
        - Line 3: Deferred account 1800 - 1650 = **150** (amount that has yet to be deferred later
          on)

      - Entry 2 dated on the 1st December, the reversal of the previous entry.

   In December
      There is no need to generate entries in December. Indeed, if we do the computation for
      December, we have an amount of 0 to be deferred.

   In total
      If we aggregate everything, we would have:

      - invoice A and invoice B
      - two entries (one for the deferral and one for the reversal) for each month from January to
        November

      Therefore, at the end of December, invoices A and B are fully recognized as income
      only once in spite of all the created entries thanks to the reversal mechanism.


==================================================
SECTION: ecuador.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/ecuador.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Ecuador
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Ecuador's regulatory requirements and fully compatible with the
guidelines established by the `Servicio de Rentas Internas (SRI)
<https://www.sri.gob.ec/web/intersri/home>`_.

Legal framework for e-invoicing in Ecuador
==========================================

Ecuador has implemented mandatory electronic invoicing for most businesses aimed to enhance tax
compliance and transparency. Key elements include:

- **Factura Electrónica**: All businesses must issue electronic invoices in XML format for B2B, B2C,
  and :abbr:`B2G (business-to-government)` transactions, ensuring compliance with :abbr:`SRI
  (Servicio de Rentas Internas)`'s technical specifications.
- **Transmission Requirements**: E-invoices must be transmitted to the SRI within 24 hours of
  issuance.
- **Record Storage**: E-invoices, including the :abbr:`SRI (Servicio de Rentas Internas)`'s
  acceptance messages, must be stored for a minimum of seven years.

Compliance with Ecuadorian e-invoicing regulations
==================================================

Odoo Invoicing simplifies compliance with Ecuador's e-invoicing requirements by offering tailored
features:

- **Supported formats**: Odoo supports the Ecuadorian e-invoice format (XML) and ensures
  compatibility with the :abbr:`SRI (Servicio de Rentas Internas)`'s system for validation and
  authorization, including the necessary digital signature.
- **Secure storage and retrieval**: In compliance with Ecuador's seven-year storage requirement,
  Odoo offers tamper-proof archiving so that invoices can be easily accessed during audits or
  inspections.
- **Automatic tax calculation and reporting**: Odoo automates tax calculations for VAT (IVA) and
  other applicable taxes, ensuring accurate invoicing and adherence to Ecuador's tax reporting
  standards.

.. seealso::
   :doc:`Ecuadorian fiscal localization documentation <../../../fiscal_localizations/ecuador>`

.. admonition:: Disclaimer

  This page provides a general overview of Ecuadorian e-invoicing regulations and how Odoo supports
  compliance with SRI requirements. It is not intended as legal or tax advice. We recommend
  consulting with a tax advisor or legal professional familiar with Ecuador's e-invoicing
  regulations to ensure compliance tailored to your specific business needs.


==================================================
SECTION: electronic_invoicing.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing.rst
==================================================

================================================================
Electronic invoicing (:abbr:`EDI (electronic data interchange)`)
================================================================

EDI, or electronic data interchange, is the inter-company communication of business documents, such
as purchase orders and invoices, in a standard format. Sending documents according to an EDI
standard ensures that the system receiving the message can interpret the information correctly.
Various EDI file formats are available depending on your company's country.

The EDI feature allows companies to automate administrative processes. It may also be required by
some governments for fiscal control or to support administrative procedures. Electronic sending of
documents such as customer invoices, credit notes, or vendor bills is one application of EDI.

Odoo supports e-invoicing in many countries. Refer to the :ref:`country's page
<accounting/e-invoicing/peppol-country-specific>` for more details.

.. seealso::
   :doc:`Fiscal localizations documentation <../../fiscal_localizations>`

.. _accounting/e-invoicing/configuration:

Configuration
=============

By default, the format available in the :ref:`send window <accounting/e-invoicing/generation>`
depends on the customer's country.

To define a specific e-invoicing format for a customer, go to :menuselection:`Accounting -->
Customers --> Customers`, access the customer form, go to the :guilabel:`Accounting` tab, and select
the appropriate :guilabel:`Format` in the :guilabel:`Customer invoices` section.

.. _accounting/e-invoicing/generation:

E-invoice generation
====================

From a confirmed invoice, click :guilabel:`Send`. In the :guilabel:`Print & Send` window, enable the
relevant e-invoicing format option (e.g., :guilabel:`by Peppol`), then click :guilabel:`Send` to
generate and attach the corresponding e-invoicing XML file.

.. _accounting/e-invoicing/peppol:

Peppol
======

The `Peppol <https://peppol.org/about/>`_ network ensures the exchange of documents and information
between companies and governmental authorities. It is primarily used for electronic invoicing, and
its access points (connectors to the Peppol network) allow companies to send electronic documents
such as customer invoices and credit notes and receive documents like vendor bills and refunds.

In this case, Odoo acts as both an **access point** and an :abbr:`SMP (Service Metadata Publisher)`
and enables electronic invoicing transactions without the need to send invoices or bills by email or
post.

.. note::
   - Peppol registration is **free** and available in Odoo Community.
   - Supported formats for sending documents include **BIS Billing 3.0, XRechnung CIUS, and
     NLCIUS**.
   - | The following **countries** are eligible for **Peppol registration in Odoo**:
     | Andorra, Albania, Austria, Bosnia and Herzegovina, Belgium, Bulgaria, Switzerland, Cyprus,
       Czech Republic, Germany, Denmark, Estonia, Spain, Finland, France, United Kingdom, Greece,
       Croatia, Hungary, Ireland, Iceland, Italy, Liechtenstein, Lithuania, Luxembourg, Latvia,
       Monaco, Montenegro, North Macedonia, Malta, Netherlands, Norway, Poland, Portugal, Romania,
       Serbia, Sweden, Slovenia, Slovakia, San Marino, Turkey, Holy See (Vatican City State).

.. _accounting/e-invoicing/peppol-registration:

Registration
------------

To register on Peppol, go to :menuselection:`Accounting --> Configuration --> Settings` and scroll
to the :guilabel:`PEPPOL Electronic Invoicing` section. Then, follow these steps:

#. Click :guilabel:`Activate Electronic Invoicing` and fill in the following fields:

   - Using the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon, make sure the relevant
     country-specific Peppol endpoint identifier is selected in the dropdown list, then enter your
     Peppol endpoint (usually a Company Registry or VAT number).
   - :guilabel:`Email`
   - :guilabel:`Phone`, including the country code (e.g., `+32` in Belgium)

#. Click :guilabel:`Activate Peppol`. The registration is then pending activation and should be
   automatically activated within a day.

   .. seealso::
      `Peppol endpoint - OpenPeppol eDEC Code Lists <https://docs.peppol.eu/edelivery/codelists/>`_
      (open the "Participant Identifier Schemes" as HTML page)

#. Define where documents should be received:

   - :guilabel:`Receive in Journal`: If necessary, select another purchase journal in the
     :guilabel:`Incoming Invoices Journal` field.
   - :doc:`Receive in Documents <../../../productivity/documents>`: Select a folder in the
     :guilabel:`Document Workspace` field if multiple purchase journals are used.

#. Click :guilabel:`Save`.

All invoices and vendor bills can then be sent/received directly using Peppol.

.. note::
   - To update the :guilabel:`Primary contact email`, click :icon:`oi-arrow-right`
     :guilabel:`Advanced Configuration`, modify it, and click :guilabel:`Save`.
   - If you are using an access point from a previous provider, make sure to deregister from it
     first, then register with your new access point, unless it's Hermes (BOSA). If using Hermes
     (BOSA), no action is needed; the migration is handled automatically.

.. tip::
   - To manually trigger the scheduled action used to check the Peppol registration status, enable
     :ref:`developer mode <developer-mode>`, open the Settings app, go to :menuselection:`Settings
     --> Technical --> Scheduled actions`, and search for :guilabel:`Peppol: update participant
     status`. Open the scheduled action, then click :guilabel:`Run Manually`.
   - To try Peppol without sending real data, enable demo mode by selecting :guilabel:`Odoo Demo
     ID` as the Peppol endpoint identifier. To switch back to production mode, :ref:`deregister from
     the demo mode <accounting/e-invoicing/peppol-deregister>` and :ref:`register
     <accounting/e-invoicing/peppol-registration>` in production.

.. _accounting/e-invoicing/contact-verification:

Contact verification
--------------------

Before sending an invoice to a contact using Peppol, make sure the contact is registered as a Peppol
participant. To do so, follow these steps:

#. Go to :menuselection:`Accounting --> Customers --> Customers` and access the customer's form.
#. In the :guilabel:`Accounting tab`, check the following information in the :guilabel:`Customer
   invoices` section:

   - :guilabel:`eInvoice format`: Select the relevant format.
   - Using the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon, make sure the relevant
     country-specific Peppol endpoint identifier is selected in the dropdown list, then enter the
     customer's endpoint identifier, usually a Company Registry or VAT number.

#. To verify the contact, enable :ref:`developer mode <developer-mode>` and click
   :guilabel:`Verify`. Its :guilabel:`Peppol endpoint verification` is marked as :guilabel:`Valid`
   if the contact is found on the Peppol network.

.. image:: electronic_invoicing/customer-form.png
   :alt: verify contact registration

.. important::
   While Odoo prefills the endpoint number based on the information available for a contact,
   verifying these details with the contact is recommended.

.. _accounting/e-invoicing/send-invoices:

Send invoices
-------------

All posted invoices that are ready to be sent via Peppol can be viewed in the :guilabel:`Invoices`
list view in the following ways:

- Use the :icon:`oi-settings-adjust` (:guilabel:`adjust settings`) button to add the
  :guilabel:`Peppol status` column.
- Apply the :guilabel:`Peppol Ready` filter in the search bar.

To send the invoice to the customer via Peppol, click :guilabel:`Send` on the confirmed invoice
form. In the :guilabel:`Send` window, enable the :guilabel:`by Peppol` option and click
:guilabel:`Send`.

.. tip::
   - :ref:`Multiple invoices <accounting/invoice/sending-multiple-invoices>` can also be sent in
     batches via Peppol.
   - Set the preferred :ref:`Invoice sending <accounting/invoice/sending>` method for a customer to
     :guilabel:`by Peppol` in the :guilabel:`Customer Invoices` section of the customer form's
     :guilabel:`Accounting` tab.

The status is updated to :guilabel:`Done` once the invoices have been successfully delivered to the
contact's access point.

.. _accounting/e-invoicing/receive-vendor-bills:

Receive vendor bills
--------------------

New documents received via Peppol are checked multiple times a day. Depending on the
:ref:`registration settings <accounting/e-invoicing/peppol-registration>`, received documents
are automatically:

- either imported into the purchase journal set in the :guilabel:`PEPPOL Electronic Invoicing`
  section, and corresponding vendor bills are created as drafts;
- or received via the :ref:`Documents app
  <accounting/e-invoicing/receive-vendor-bills-documents-app>`.

.. tip::
   To manually trigger the scheduled action used to retrieve incoming Peppol documents, enable
   :ref:`developer mode <developer-mode>`, open the Settings app, go to :menuselection:`Settings -->
   Technical --> Scheduled actions`, and search for :guilabel:`Peppol: retrieve new documents`. Open
   the scheduled action, then click :guilabel:`Run Manually`.

.. _accounting/e-invoicing/receive-vendor-bills-documents-app:

Vendor bills reception in Documents
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::
   Make sure the :guilabel:`Documents - Import from Peppol` (`documents_account_peppol`) module is
   :ref:`installed <general/install>`.

To receive vendor bills via the :doc:`Documents app <../../../productivity/documents>`, follow these
steps:

#. In the Documents app, create a specific :ref:`folder <documents/folders>` or enable :ref:`file
   centralization <documents/file-centralization>` for :guilabel:`Accounting` documents.
#. Open the Accounting app, go to :menuselection:`Accounting --> Configuration --> Settings`, and
   scroll to the :guilabel:`PEPPOL Electronic Invoicing` section.
#. In the :guilabel:`Document Workspace` field, choose the relevant folder.
#. Use the :guilabel:`Document Tags` field to add tags to incoming Peppol documents for easy
   identification.
#. Click :guilabel:`Save`.

Then, open the Document app, navigate to the appropriate folder, select the relevant vendor bills,
and click :guilabel:`Create Vendor Bill`. The corresponding vendor bill is then created.

.. _accounting/e-invoicing/peppol-deregister:

Peppol deregistration from Odoo
-------------------------------

Only one Peppol receiver registration can be active for each Peppol endpoint identifier at a time.
To stop using Odoo as the Peppol access point, e.g., to switch to another provider or reconfigure
the registration for a new database, you must first deregister from Peppol. To do so, go to
:menuselection:`Accounting --> Configuration --> Settings`, scroll down to the :guilabel:`PEPPOL
Electronic Invoicing` section, and click :icon:`oi-arrow-right` :guilabel:`Advanced Configuration`.
Then click :guilabel:`Remove from Peppol` and confirm.

Once removed, the Peppol registration is deleted from the database, and documents can no longer be
sent or received via Peppol in Odoo.

.. _accounting/e-invoicing/peppol-country-specific:

Country-specific e-invoicing details
====================================

Refer to the following pages for detailed, country-specific information:

- :doc:`Argentina <electronic_invoicing/argentina>`
- :doc:`Austria <electronic_invoicing/austria>`
- :doc:`Belgium <electronic_invoicing/belgium>`
- :doc:`Brazil <electronic_invoicing/brazil>`
- :doc:`Chile <electronic_invoicing/chile>`
- :doc:`Colombia <electronic_invoicing/colombia>`
- :doc:`Croatia <electronic_invoicing/croatia>`
- :doc:`Ecuador <electronic_invoicing/ecuador>`
- :doc:`Estonia <electronic_invoicing/estonia>`
- :doc:`Finland <electronic_invoicing/finland>`
- :doc:`Guatemala <electronic_invoicing/guatemala>`
- :doc:`Hungary <electronic_invoicing/hungary>`
- :doc:`Ireland <electronic_invoicing/ireland>`
- :doc:`Italy <electronic_invoicing/italy>`
- :doc:`Latvia <electronic_invoicing/latvia>`
- :doc:`Lithuania <electronic_invoicing/lithuania>`
- :doc:`Luxembourg <electronic_invoicing/luxembourg>`
- :doc:`Mexico <electronic_invoicing/mexico>`
- :doc:`Netherlands <electronic_invoicing/netherlands>`
- :doc:`Norway <electronic_invoicing/norway>`
- :doc:`Peru <electronic_invoicing/peru>`
- :doc:`Romania <electronic_invoicing/romania>`
- :doc:`Spain <electronic_invoicing/spain>`
- :doc:`Spain - Basque Country <electronic_invoicing/basque_country>`
- :doc:`Uruguay <electronic_invoicing/uruguay>`


==================================================
SECTION: epc_qr_code.rst
PATH: applications/finance/accounting/customer_invoices/epc_qr_code.rst
==================================================

============
EPC QR codes
============

European Payments Council quick response codes, or **EPC QR codes**, are two-dimensional barcodes
that customers can scan with their **mobile banking applications** to initiate a **SEPA credit
transfer (SCT)** and pay their invoices instantly.

In addition to bringing ease of use and speed, it greatly reduces typing errors that would
potentially make for payment issues.

.. note::
   This feature is only available for companies in several European countries such as Austria,
   Belgium, Finland, Germany, and the Netherlands.

.. seealso::
   - :doc:`../bank`

Configuration
=============

Go to :menuselection:`Accounting --> Configuration --> Settings` and activate the :guilabel:`QR
Codes` feature in the :guilabel:`Customer Payments` section.

Configure your bank account's journal
-------------------------------------

Make sure that your :guilabel:`Bank Account` is correctly configured in Odoo with your IBAN and BIC.

To do so, go to :menuselection:`Accounting --> Configuration --> Journals`, open your bank journal,
then fill out the :guilabel:`Account Number` and :guilabel:`Bank` under the :guilabel:`Bank Account
Number` column.

.. image:: epc_qr_code/bank-journal.png
   :alt: Bank account number column in the bank journal

Issue invoices with EPC QR codes
================================

EPC QR codes are added automatically to your invoices. Customers whose bank supports making payments
via EPC QR codes will be able to scan the code and pay the invoice.

Go to :menuselection:`Accounting --> Customers --> Invoices`, and create a new invoice.

Before posting it, open the :guilabel:`Other Info` tab. Odoo automatically fills out the
:guilabel:`Recipient Bank` field with your IBAN.

.. note::
   In the :guilabel:`Other Info` tab, the account indicated in the :guilabel:`Recipient Bank` field
   is used to receive your customer's payment. Odoo automatically populates this field with your
   IBAN by default and uses it to generate the EPC QR code.

When the invoice is printed or previewed, the QR code is included at the bottom.

.. image:: epc_qr_code/invoice-qr-code.png
   :alt: QR code on a customer invoice

.. tip::
   If you want to issue an invoice without an EPC QR code, remove the IBAN indicated in the
   :guilabel:`Recipient Bank` field, under the :guilabel:`Other Info` tab of the invoice.


==================================================
SECTION: estonia.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/estonia.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Estonia
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Estonia's regulatory standards.

Legal framework for e-invoicing in Estonia
==========================================

In Estonia, businesses must comply with e-invoicing regulations to ensure secure, authentic, and
storable transactions. The main legal framework governing e-invoicing in Estonia is the `Accounting
Act <https://www.riigiteataja.ee/en/eli/ee/514052021001/consolide/current>`_ and its provisions
related to e-invoicing, which align with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_
on e-invoicing in public procurement. Since 2019, :abbr:`B2G (business-to-government)` transactions
must use electronic invoices via Estonia's Rik's e-Invoicing System, the government's platform for
public sector e-invoicing. Estonia is also part of the Peppol network, which ensures standardized
cross-border e-invoicing across Europe. Additionally, the use of e-invoicing is encouraged for B2B
transactions, promoting better transparency, efficiency, and compliance with VAT requirements.

Compliance with Estonian e-invoicing regulations
================================================

Odoo Invoicing makes it easy for businesses to send, store, and ensure the integrity of their
invoices. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports standard e-invoice formats, such as XML in :abbr:`UBL
  (Universal Business Language)` format, which is fully compatible with Estonia's Rik’s e-Invoicing
  System for public procurement transactions. Additionally, Odoo enables seamless transmission of
  e-invoices through platforms connected to the Peppol network, ensuring compliance with Estonian
  and EU e-invoicing standards.
- **Secure storage and retrival**: In accordance with Estonian regulations to store invoices for a
  minimum of seven years, Odoo securely archives all invoices in a tamper-proof system, making them
  easily retrievable during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices are formatted to meet Denmark’s legal requirements for :abbr:`B2G
  (business-to-government)` and B2B transactions, helping businesses compliant with local tax laws.

.. admonition:: Disclaimer

   This page provides an overview of Estonian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Accounting Act, Peppol standards, and other relevant regulations. It does not
   constitute legal advice. We recommend consulting with a tax advisor or legal professional
   familiar with Estonian e-invoicing regulations to ensure compliance tailored to your specific
   business needs.


==================================================
SECTION: eu_distance_selling.rst
PATH: applications/finance/accounting/taxes/eu_distance_selling.rst
==================================================

===================================
EU intra-community distance selling
===================================

EU intra-community distance selling involves the cross-border trade of goods and services from
vendors registered for VAT purposes to individuals (B2C) located in a European Union member state.
The transaction is conducted remotely, typically through online platforms, mail orders, telephone,
or other means of communication.

EU intra-community distance selling is subject to specific VAT rules and regulations. The vendor
must charge VAT per the VAT rate applicable in the buyer's country.

.. note::
   This remains applicable even if the vendor is located outside of the European Union.

Configuration
=============

The **EU Intra-community Distance Selling** feature helps you comply with this regulation by
creating and configuring new **fiscal positions** and **taxes** based on your company's country. To
enable it, go to :menuselection:`Accounting --> Configuration --> Settings --> Taxes`, tick
:guilabel:`EU Intra-community Distance Selling`, and :guilabel:`Save`.

.. image:: eu_distance_selling/enable-feature.png
   :alt: EU intra-community Distance Selling feature in Odoo Accounting settings

.. tip::
   Whenever you add or modify taxes, you can automatically update your fiscal positions. To do so,
   go to :menuselection:`Accounting/Invoicing --> Settings --> Taxes --> EU Intra-community Distance
   Selling` and click on the :guilabel:`Refresh tax mapping`.

.. note::
   We highly recommend checking that the proposed mapping is suitable for the products and services
   you sell before using it.

.. seealso::
   - :doc:`../taxes`
   - :doc:`../../fiscal_localizations`
   - :doc:`fiscal_positions`

One-Stop Shop (OSS)
===================

The :abbr:`OSS (One-Stop Shop)` system introduced by the European Union simplifies VAT collection
for **cross-border** sales of goods and services. It primarily applies to business-to-consumer
**(B2C)** cases. With the OSS, businesses can register for VAT in their home country and use a
single online portal to handle VAT obligations for their sales within the EU. There are **two
primary schemes**: the **Union OSS** scheme for cross-border services and the **Import OSS** scheme
for goods valued at or below €150.

Reports
-------

To generate **OSS sales** or **OSS imports** reports and submit them onto the OSS portal, go to
:menuselection:`Accounting --> Reporting --> Tax Report`, click :guilabel:`Report: Generic Tax
report`, and select either :guilabel:`OSS Sales` or :guilabel:`OSS Imports`. Once selected, click on
:guilabel:`PDF`, :guilabel:`XLSX`, or :guilabel:`XML` in the top-left corner. This generates the
currently-opened report in the selected format. Once generated, log into the platform of your
competent federal authority to submit it onto the OSS portal.

.. image:: eu_distance_selling/oss-report.png
   :alt: OSS reports view

.. seealso::
   - `European Commission: OSS | Taxation and Customs Union <https://ec.europa.eu/taxation_customs/business/vat/oss_en>`_


==================================================
SECTION: finland.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/finland.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Finland
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Finland's regulatory standards.

Legal framework for e-invoicing in Finland
==========================================

In Finland, businesses must comply with e-invoicing regulations to ensure secure, authentic, and
storable transactions. The primary legal framework governing e-invoicing is the `Act on Electronic
Invoicing (241/2019) <https://www.finlex.fi/fi/laki/alkup/2019/20190241#Pidp446241968>`_, which
aligns with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_
on electronic invoicing in public procurement. Under Finnish law, all :abbr:`B2G
(business-to-government)` transactions require the use of electronic invoices via Apix Messaging or
other Peppol-connected platforms, Finland’s standard for public sector e-invoicing. Finland is also
part of the Peppol network, ensuring interoperability and standardization for cross-border
e-invoicing within the EU. Additionally, e-invoicing is widely adopted for B2B transactions,
promoting efficient processes and improved tax compliance.

Compliance with Finnish e-invoicing regulations
===============================================

Odoo invoicing module makes it easy for businesses to adhere to Finland's e-invoicing regulations.
Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the standardized XML in :abbr:`UBL (Universal Business
  Language)` format required for Peppol compliance. This ensures compatibility with regulations for
  sending invoices to the Finnish government, as well as sending invoices to customers and receiving
  invoices from vendors.
- **Secure storage and retrieval**: In accordance with Finnish regulations requiring businesses to
  store invoices for a minimum of seven years, Odoo securely archives all invoices in a tamper-proof
  system, allowing for easy retrieval during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing ensures compliance with Finnish VAT
  requirements by automatically calculating and including VAT in invoices and formatting them to
  meet the legal standards for both B2B and :abbr:`B2G (business-to-government)` transactions.

.. admonition:: Disclaimer

   This page provides an overview of Finnish e-invoicing laws and how Odoo Invoicing supports
   compliance with the Act on Electronic Invoicing, Peppol standards, and other relevant
   regulations. It is not intended as legal advice. We recommend consulting with a tax advisor or
   legal professional familiar with Finnish e-invoicing regulations to ensure compliance tailored to
   your specific business needs.


==================================================
SECTION: fiscal_positions.rst
PATH: applications/finance/accounting/taxes/fiscal_positions.rst
==================================================

==========================================
Fiscal positions (tax and account mapping)
==========================================

Default taxes and accounts are set on products and customers to create new transactions on the fly.
However, depending on the customers' and vendors' location and business type, using different
taxes and accounts for a transaction might be necessary.

**Fiscal positions** allow the creation of rules to adapt the taxes and the income and expense
accounts used for a transaction automatically.

They can be applied :ref:`automatically <fiscal_positions/automatic>`, :ref:`manually
<fiscal_positions/manual>`, or :ref:`assigned to a partner <fiscal_positions/partner>`.

.. note::
   Several default fiscal positions are available as part of your :ref:`fiscal localization
   package <fiscal_localizations/packages>`.

.. _fiscal_positions/configuration:

Configuration
=============

To edit or create a fiscal position, go to :menuselection:`Accounting --> Configuration --> Fiscal
Positions`, and open the record to modify or click :guilabel:`New`.

.. tip::
   If any notes are legally required when using this fiscal position, add them in the
   :guilabel:`Legal Notes...` field below the :ref:`tax mapping <fiscal_positions/tax-mapping>`
   section to display them on quotations, sales orders, invoices, and bills.

.. _fiscal_positions/tax-mapping:

Tax mapping
-----------

Fiscal positions are required to map taxes. :ref:`Tax mapping <taxes/tax-mapping>` is configured on
taxes themselves.

.. _fiscal_positions/account-mapping:

Account mapping
---------------

Account mapping is based on the income and expense accounts defined on the product or product
category. To map to another account, select the account to be replaced in the left column
(:guilabel:`Account on Product`) and select the account to use instead in the right column
(:guilabel:`Account to Use Instead`).

.. image:: fiscal_positions/fiscal-positions-account-mapping.png
   :alt: Example of a fiscal position's account mapping

Application
===========

.. _fiscal_positions/automatic:

Automatic application
---------------------

To automatically apply a fiscal position following a set of conditions, go to
:menuselection:`Accounting --> Configuration --> Fiscal Positions`, open the fiscal position to
modify, and tick :guilabel:`Detect Automatically`.

From there, several conditions can be activated:

- :guilabel:`VAT Required`: the customer's VAT number must be present on their contact form.
- :guilabel:`Country Group` and :guilabel:`Country`: the fiscal position is only applied to the
  selected country or country group.

.. image:: fiscal_positions/fiscal-positions-automatic.png
   :alt: Example of a fiscal position automatic application settings

.. note::
   - If the :doc:`Verify VAT Numbers <vat_verification>` feature is enabled, any fiscal positions
     with :guilabel:`VAT required` enabled will require Intra-Community valid VAT numbers to apply
     automatically.
   - Taxes on **eCommerce orders** are automatically updated once the customer has logged in or
     filled out their billing details.

.. important::
   The fiscal positions' **sequence** defines which fiscal position is applied if all conditions
   set on multiple fiscal positions are met simultaneously.

   For example, suppose the first fiscal position in a sequence targets *country A* while the second
   fiscal position targets a *country group* that comprises *country A*. In that case, only the
   first fiscal position will be applied to customers from *country A*.

.. _fiscal_positions/manual:

Manual application
------------------

To manually select a fiscal position, open a sales order, purchase order, invoice, or bill, go to
the :guilabel:`Other Info` tab and select the desired :guilabel:`Fiscal Position` before adding
product lines.

.. image:: fiscal_positions/fiscal-positions-manual.png
   :alt: Selection of a fiscal position on a sales order, invoice, or bill

.. _fiscal_positions/partner:

Assign to a partner
-------------------

To define which fiscal position must be used by default for a specific partner, go to
:menuselection:`Accounting --> Customers --> Customers`, select the partner, open the
:guilabel:`Sales & Purchase` tab, and select the :guilabel:`Fiscal Position`.

.. image:: fiscal_positions/fiscal-positions-customer.png
   :alt: Selection of a fiscal position on a customer

.. tip::
   To view all partners at once instead of only customers, remove the :guilabel:`Customer Invoices`
   filter or use the **Contacts** application.

.. seealso::

  * :doc:`../taxes`
  * :doc:`B2B_B2C`


==================================================
SECTION: follow_up.rst
PATH: applications/finance/accounting/payments/follow_up.rst
==================================================

=====================
Follow-up on invoices
=====================

Follow-up messages can be sent to customers when payments are overdue. Odoo helps identify late
payments and allows scheduling and sending the appropriate reminders using **follow-up actions**
according to the number of overdue days. Follow-ups can be sent through different methods, including
email, WhatsApp message, SMS, or post.

.. seealso::
   - `Odoo Tutorials: Payment Follow-up <https://www.youtube.com/watch?v=50qy2ygS7eM>`_
   - :doc:`/applications/finance/accounting/customer_invoices/payment_terms`

.. _accounting/follow_up/configuration:

Configuration
=============

To configure :guilabel:`Follow-up actions`, go to :menuselection:`Accounting --> Configuration
--> Follow-up Levels`. In the :guilabel:`Follow-up Levels` list view, several follow-up levels and
actions are configured by default.

To modify a follow-up level, click on the record. From the form view, edit the
:guilabel:`Description` or adjust the number of days before a reminder is sent. In the
:guilabel:`Notification` tab, select :guilabel:`Actions` such as :guilabel:`Send Email`,
:doc:`Send WhatsApp message </applications/productivity/whatsapp>`, :ref:`Send SMS Message
<pricing/pricing_and_faq>`, and :ref:`Send a Letter <customer_invoices/snailmail>`.

.. note::
   Sending letters and WhatsApp or SMS messages in Odoo requires :doc:`In-App Purchase (IAP)
   </applications/essentials/in_app_purchase>` credit or tokens.

To use a pre-filled template when sending an email or letter, select a :guilabel:`Content Template`.
To modify it, click the :icon:`oi-arrow-right` :guilabel:`(internal link arrow)` icon next to the
:guilabel:`Content Template` field. If enabled, WhatsApp and SMS messages use a
specific :guilabel:`WhatsApp Template` or :guilabel:`Sms Template` field that can be modified by
clicking the :icon:`oi-arrow-right` :guilabel:`(internal link arrow)` icon.

Other options can be enabled in the :guilabel:`Options` section within the specific follow-up level:

- Automate the reminder with the :guilabel:`Automatic` option.
- :guilabel:`Attach Invoices` that are overdue in the reminder.
- :guilabel:`Add followers` on the related customer to receive notifications about any email reply
  made on the reminder's email.

In the :guilabel:`Activity` tab, enable the option to automatically schedule :doc:`activities
</applications/essentials/activities>` when the follow-up level is triggered. Select the
:guilabel:`Responsible` user and the :guilabel:`Activity Type`, and enter a :guilabel:`Summary`.

To add a new :guilabel:`Follow-up Level`, click :guilabel:`New` and fill in the fields.

.. tip::
   Set a negative number of days to send a reminder before the invoice due date.

.. _accounting/follow_up/invoice-follow-ups:

Invoice follow-ups
==================

.. note::
   Reconcile all bank transactions before starting the follow-up process to avoid sending reminders
   for invoices that have already been paid.

To view all overdue invoices, go to :menuselection:`Accounting --> Customers --> Invoices`. In the
:guilabel:`Invoices` list view, click into the search bar and filter on :guilabel:`Overdue`.

.. _accounting/follow_up/follow-ups-for-one-customer:

Follow-ups for one customer
---------------------------

For a detailed overview of a customer's invoice follow-up status, go to :menuselection:`Accounting
--> Customers --> Customers`. Open the customer's form and click the :guilabel:`Accounting` tab. In
the :guilabel:`Invoice follow-ups` section, click on the different levels to view the
:guilabel:`Follow-up Status` of each level. If actions are needed, click :guilabel:`Overdue
Invoices` to have a detailed list of the overdue invoices.

Additional options can be set:

- :guilabel:`Reminders`: These are either :guilabel:`Automatic` or :guilabel:`Manual`.
- :guilabel:`Next reminder`: The date by which the next follow-up actions should be taken is
  automatically set when follow-ups are processed, but can be manually adjusted if needed.
- :guilabel:`Responsible`: The user who handles the follow-up actions.

To manually send a payment reminder to a customer, click :guilabel:`Send` and select the actions in
the :guilabel:`Send and Print` window:

- :guilabel:`Print`
- :guilabel:`Email`
- :guilabel:`WhatsApp`
- :guilabel:`Sms`
- :guilabel:`By post`

Enable the :guilabel:`Attach Invoices` option, and change the :guilabel:`Content Template`,
:guilabel:`WhatsApp Template`, or :guilabel:`Phone` if needed. Then, click :guilabel:`Send` or
:guilabel:`Send & Print` to send the :ref:`follow-up report
<accounting/follow_up/follow-up-report>`.

.. seealso::
   :doc:`/applications/essentials/in_app_purchase`

.. note::
   - The contact information on the invoice or the contact form is used to send the reminder.
   - The chatter keeps a full record of all follow-up actions.

.. _accounting/follow_up/follow-ups-for-all-customers:

Follow-ups for all customers due for action
-------------------------------------------

After setting up the additional :ref:`follow-up
<accounting/follow_up/follow-ups-for-one-customer>` options, review which customers have
overdue invoices or require follow-up. To do so, go to :menuselection:`Accounting --> Customers -->
Customers`. In the :guilabel:`Customers` kanban view, click the search bar and filter by
:guilabel:`Overdue Invoices` or :guilabel:`Requires Follow-up`.

To take follow-up actions for all relevant customers, switch to the list view and select the
customers requiring follow-up. Then, click :icon:`fa-cog` :guilabel:`(Actions)` and select
:guilabel:`Process Follow-ups` to send them the :ref:`follow-up report
<accounting/follow_up/follow-up-report>`.

.. _accounting/follow_up/reports:

Reports
=======

.. _accounting/follow_up/customer-statement:

Customer statement
------------------

To get a comprehensive overview of a customer's account status, click the :guilabel:`Customer
Statement` smart button on the customer's form. This statement corresponds to the :ref:`Partner
Ledger <accounting/invoices/partner-ledger>` report's portion specific to that customer.

To send it to the customer, click :guilabel:`Send`, change the :guilabel:`Email Template` if needed,
and click :guilabel:`Print & Send`.

To view the customer statements for multiple customers at once, select the customers from the
:guilabel:`Customers` list view, click :icon:`fa-cog` :guilabel:`(Actions)`, and select
:guilabel:`Open Customer Statements`.

Click :guilabel:`PDF` or :guilabel:`XLSX` to generate a PDF or XLSX file, respectively.

.. _accounting/follow_up/follow-up-report:

Follow-up report
----------------

To get a complete overview of a customer's due invoices, separating those that are due from those
that are overdue, click the :ref:`Customer Statement <accounting/follow_up/customer-statement>`
smart button on the customer's form. Then, click :icon:`fa-book` :guilabel:`Report: Customer
Statement` and select :guilabel:`Follow-Up Report`.

To view the follow-up report for all customers at once, go to :menuselection:`Accounting -->
Reporting --> Partner Ledger`. Then, click :icon:`fa-book` :guilabel:`Report:` and select
:guilabel:`Follow-Up Report`.

Click :guilabel:`PDF` or :guilabel:`XLSX` to generate a PDF or XLSX file, respectively.


==================================================
SECTION: forecast.rst
PATH: applications/finance/accounting/payments/forecast.rst
==================================================

============================
Forecast future bills to pay
============================

In Odoo, you can manage payments by setting automatic **Payments Terms** and **follow-ups**.

Configuration: payment terms
============================

In order to track vendor conditions, we use **Payment Terms** in Odoo. They allow keeping track of
due dates on invoices. Examples of **Payment Terms** are:

-  50% within 30 days
-  50% within 45 days

To create them, go to :menuselection:`Accounting --> Configuration --> Invoicing: Payment Terms` and
click on :guilabel:`Create` to add new terms or click existing ones to modify them.

.. seealso::
   `Odoo Tutorials: Payment Terms
   <https://www.odoo.com/slides/slide/payment-terms-terms-and-conditions-6852>`_

Once **Payment Terms** are defined, you can assign them to your vendor by default. To do so, go to
:menuselection:`Vendors --> Vendors`, select a vendor, click the :guilabel:`Sales & Purchase` tab,
and select a specific **Payment Term**. This way, every time you purchase from this vendor, Odoo
automatically proposes the chosen Payment Term.

.. note::
   If you do not set a specific Payment Term on a vendor, you can still set one on the vendor bill.

Forecast bills to pay with the aged payable report
==================================================

To track amounts to be paid to the vendors, use the **Aged Payable** report. To access it, go to
:menuselection:`Accounting --> Reporting --> Partner Reports: Aged Payable`. This report gives you a
summary per vendor of the amounts to pay, compared to their due date (the due date being computed on
each bill using the terms). This report tells you how much you will have to pay within the following
months.

Select bills to pay
===================

You can get a list of all your vendor bills by going to :menuselection:`Vendors --> Bills`. To view
only the bills that you need to pay, click :menuselection:`Filters --> Bills to Pay`. To view only
overdue payments, select the :guilabel:`Overdue` filter instead.

You can also group bills by their due date by clicking :menuselection:`Group By --> Due Date` and
selecting a time period.


==================================================
SECTION: foreign_currency.rst
PATH: applications/finance/accounting/bank/foreign_currency.rst
==================================================

===========================================
Manage a bank account in a foreign currency
===========================================

In Odoo, every transaction is recorded in the default currency of the company, and reports are all
based on that default currency. When you have a bank account in a foreign currency, for every
transaction, Odoo stores two values:

-  The debit/credit in the currency of the *company*;
-  The debit/credit in the currency of the *bank account*.

Currency rates are updated automatically using the web services of a banking institution. By
default, Odoo uses the European Central Bank's web services but other options are available.

Configuration
=============

Activate multi-currencies
-------------------------

To work with multiple currencies, go to :menuselection:`Accounting --> Configuration --> Settings
--> Currencies` and tick :guilabel:`Multi-Currencies`. Under :guilabel:`Post Exchange difference
entries in:`, provide a :guilabel:`Journal`, a :guilabel:`Gain Account`, a :guilabel:`Loss Account`,
and then click on :guilabel:`Save`.

Configure currencies
--------------------

Once Odoo is configured to support multiple currencies, they are all created by default, but not
necessarily active. To activate the new currencies, click on :guilabel:`Activate Other Currencies`
under the :guilabel:`Multi-Currencies` setting or go to :menuselection:`Accounting --> Configuration
--> Accounting: Currencies`.

When the currencies are activated, you can choose to **automate** the currency rate update, or leave
it on **manual**. To configure the rate update, go back to :menuselection:`Accounting -->
Configuration --> Settings --> Currencies`, check :guilabel:`Automatic Currency Rates`, set
:guilabel:`Interval` to your desired frequency, and then click on :guilabel:`Save`. You also have
the option to choose the :guilabel:`Service` you wish to obtain currency rates from.

Click on the Update now button (:guilabel:`🗘`) besides the :guilabel:`Next Run` field to update
the currency rates manually.

Create a new bank account
-------------------------

In the accounting application, go to :menuselection:`Accounting --> Configuration --> Journals` and
create a new one. Enter a :guilabel:`Journal Name` and set the :guilabel:`Type` to `Bank`. In the
:guilabel:`Journal Entries` tab, enter a **short code**, a **currency**, and then finally click on
the :guilabel:`Bank Account` field to create a new account. In the pop-up window of the account
creation, enter a name, a code (ex.: 550007), set its type to `Bank and Cash`, set a currency type,
and save. When you are back on the **journal**, click on the :guilabel:`Account Number` field, and
in the pop-up window, fill out the :guilabel:`Account Number`, :guilabel:`Bank` of your account, and
save.

.. image:: foreign_currency/foreign-journal.png
   :align: center
   :alt: Example of a created bank journal.

Upon creation of the journal, Odoo automatically links the bank account to the journal. It can be
found under :menuselection:`Accounting --> Configuration --> Accounting: Chart of Accounts`.

Vendor bill in a foreign currency
=================================

To pay a bill in a foreign currency, simply select the currency next to the :guilabel:`Journal`
field and register the payment. Odoo automatically creates and posts the foreign **exchange gain or
loss** as a new journal entry.

.. image:: foreign_currency/foreign-bill-currency.png
   :align: center
   :alt: How to set a bill currency.

.. note::
   Note that you can pay a foreign bill with another currency. In that case, Odoo automatically
   converts between the two currencies.

Unrealized Currency Gains/Losses Report
=======================================

This report gives an overview of all unrealized amounts in a foreign currency on your balance sheet,
and allows you to adjust an entry or manually set an exchange rate. To access this report, go to
:menuselection:`Reporting --> Management: Unrealized Currency Gains/Losses`. From here, you have
access to all open entries in your **balance sheet**.

.. image:: foreign_currency/foreign-gains-losses.png
   :align: center
   :alt: View of the Unrealized Gains/Losses journal.

If you wish to use a different currency rate than the one set in :menuselection:`Accounting -->
Configuration --> Settings --> Currencies`, click the :guilabel:`Exchange Rates` button and change
the rate of the foreign currencies in the report.

.. image:: foreign_currency/foreign-exchange-rates.png
   :align: center
   :alt: Menu to manually change exchange rates.

When manually changing **exchange rates**, a yellow banner appears allowing you to reset back to
Odoo's rate. To do so, simply click on :guilabel:`Reset to Odoo's Rate`.

.. image:: foreign_currency/foreign-reset-rates.png
   :align: center
   :alt: Banner to reset back to Odoo's rates.

In order to update your **balance sheet** with the amount of the :guilabel:`adjustment` column,
click on the :guilabel:`Adjustment Entry` button. In the pop-up window, select a
:guilabel:`Journal`, :guilabel:`Expense Account` and :guilabel:`Income Account` to calculate and
process the **unrealized gains and losses**.

You can set the date of the report in the :guilabel:`Date` field. Odoo automatically reverses the
booking entry to the date set in :guilabel:`Reversal Date`.

Once posted, the :guilabel:`adjustment` column should indicate `0.00`, meaning all **unrealized
gains/losses** have been adjusted.

.. image:: foreign_currency/foreign-adjustment.png
   :align: center
   :alt: Unrealized Currency Gains/Losses report once adjusted.


==================================================
SECTION: get_started.rst
PATH: applications/finance/accounting/get_started.rst
==================================================

:show-content:

===========
Get started
===========

When you first open your Odoo Accounting app, the :guilabel:`Accounting Dashboard` welcomes you with
a step-by-step onboarding banner, a wizard that helps you get started. This onboarding banner is
displayed until you choose to close it.

The settings visible in the onboarding banner can still be modified later by going to
:menuselection:`Accounting --> Configuration --> Settings`.

.. note::
   Odoo Accounting automatically installs the appropriate **Fiscal Localization Package** for your
   company, according to the country selected at the creation of the database. This way, the right
   accounts, reports, and taxes are ready-to-go. :ref:`Click here <fiscal_localizations/packages>`
   for more information about Fiscal Localization Packages.

Accounting onboarding banner
============================

The step-by-step Accounting onboarding banner is composed of four steps:

.. image:: get_started/accounting-onboarding-banner.png
   :alt: Step-by-step onboarding banner in Odoo Accounting

#. :ref:`accounting-setup-periods`
#. :ref:`accounting-setup-bank`
#. :ref:`accounting-setup-taxes`
#. :ref:`accounting-setup-chart`

.. _accounting-setup-periods:

Accounting Periods
------------------

Define the **Fiscal Years**’ opening and closing dates, which are used to generate reports
automatically, and set your **Tax Return Periodicity**, along with a reminder to never miss a tax
return deadline.

By default, the opening date is set on the 1st of January and the closing date on the 31st of
December, as this is the most common use.

.. note::
   You can also change these settings by going to :menuselection:`Accounting --> Configuration -->
   Settings --> Fiscal Periods` and updating the values.

.. _accounting-setup-bank:

Bank Account
------------

Connect your bank account to your database and have your bank statements synced automatically. To do
so, find your bank in the list, click :guilabel:`Connect`, and follow the instructions on-screen.

.. note::
   :doc:`Click here <bank/bank_synchronization>` for more information about this feature.

If your Bank Institution can’t be synchronized automatically, or if you prefer not to sync it with
your database, you can also configure your bank account manually by typing its name, clicking
:guilabel:`Create your Bank Account`, and filling out the form.

- :guilabel:`Name`: the bank account's name, as displayed in Odoo.
- :guilabel:`Account Number`: your bank account number (IBAN in Europe).
- :guilabel:`Bank`: click :guilabel:`Create and edit` to configure the bank's details. Add the
  bank institution's :guilabel:`Name` and its :guilabel:`Identifier Code` (BIC or SWIFT).
- :guilabel:`Code`: this code is your Journal's :guilabel:`Short Code`, as displayed in Odoo.
  By default, Odoo creates a new Journal with this short code.
- :guilabel:`Journal`: This field is displayed if you have an existing bank journal that is not
  linked yet to a bank account. If so, then select the :guilabel:`Journal` you want to use to record
  the financial transactions linked to this bank account or create a new one by clicking
  :guilabel:`Create and Edit`.

.. note::
   - You can add as many bank accounts as needed with this tool by going to
     :menuselection:`Accounting --> Configuration --> Add a Bank Account`.
   - :doc:`Click here <bank>` for more information about Bank Accounts.

.. _accounting-setup-taxes:

Taxes
-----

This menu allows you to create new taxes, (de)activate, or modify existing taxes. Depending on the
:doc:`localization package <../fiscal_localizations>` installed on your database, taxes required for
your country are already configured.

.. note::
   :doc:`Click here <taxes>` for more information about taxes.

.. _accounting-setup-chart:

Chart of Accounts
-----------------

With this menu, you can add accounts to your **Chart of Accounts** and indicate their initial
opening balances.

Basic settings are displayed on this page to help you review your Chart of Accounts. To access all
the settings of an account, click on the :guilabel:`Setup` button at the end of the line.

.. image:: get_started/setup_chart_of_accounts.png
   :alt: Setup of the Chart of Accounts and their opening balances in Odoo Accounting

.. note::
   :doc:`Click here <get_started/chart_of_accounts>` for more information on how to configure your
   Chart of Accounts.

Invoicing onboarding banner
===========================

There is another step-by-step onboarding banner that helps you take advantage of your Odoo Invoicing
and Accounting apps. The Invoicing onboarding banner is the one that welcomes you if you use the
Invoicing app rather than the Accounting app.

If you have Odoo Accounting installed on your database, you can reach it by going to
:menuselection:`Accounting --> Customers --> Invoices`.

The Invoicing onboarding banner consists of four main steps:

.. image:: get_started/invoicing-onboarding-banner.png
   :alt: Step-by-step onboarding banner in Odoo Invoicing

#. :ref:`invoicing-setup-company`
#. :ref:`invoicing-setup-layout`
#. :ref:`invoicing-setup-invoice`
#. :ref:`invoicing-setup-payments`

.. _invoicing-setup-company:

Company Data
------------

Add your company’s details, such as the name, address, logo, website, phone number, email address,
and Tax ID or VAT number. These details are then displayed on your documents, such as invoices.

.. note::
   You can also change the company's details by going to :menuselection:`Settings --> General
   Settings`, scrolling down to the :guilabel:`Companies` section, and :guilabel:`Update Info`.

.. _invoicing-setup-layout:

Documents Layout
----------------

Customize the :ref:`default invoice layout <studio/pdf-reports/default-layout>`.

.. note::
   You can also change the invoice layout by going to :menuselection:`Settings --> General
   Settings`, scrolling down to the :guilabel:`Companies` section, and clicking :guilabel:`Configure
   Document Layout`.

.. _invoicing-setup-invoice:

Create Invoice
--------------

Create your first invoice.

.. tip::
   Add your **bank account number** and a link to your **General Terms & Condition** in the footer.
   This way, your contacts can find the full content of your GT&C online without having to print
   them on the invoices you issue.

.. _invoicing-setup-payments:

Online Payments
---------------

Get started with Stripe and enable secure integrated credit and debit card payments within Odoo.

.. tip::
   To use other payment providers, go to
   :guilabel:`Invoicing --> Configuration --> Payment Providers` and
   :doc:`enable the desired providers <../payment_providers>`.


.. seealso::
   * :doc:`bank`
   * :doc:`get_started/chart_of_accounts`
   * :doc:`get_started/consolidation`
   * :doc:`bank/bank_synchronization`
   * :doc:`../fiscal_localizations`
   * `Odoo Tutorials: Accounting and Invoicing - Getting started [video]
     <https://www.odoo.com/slides/slide/getting-started-7063>`_

.. toctree::
   :titlesonly:

   get_started/cheat_sheet
   get_started/chart_of_accounts
   get_started/consolidation
   get_started/journals
   get_started/multi_currency
   get_started/avg_price_valuation
   get_started/tax_units


==================================================
SECTION: guatemala.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/guatemala.rst
==================================================

:orphan:

======================================
Odoo electronic invoicing in Guatemala
======================================

The Odoo **Invoicing** and **Accounting** applications offer legally compliant e-invoicing solutions
tailored to meet Guatemala's regulatory requirements, including those established by the
`Superintendencia de Administración Tributaria (SAT) <https://portal.sat.gob.gt/>`_.

Legal framework for e-invoicing in Guatemala
============================================

Guatemala has mandated electronic invoicing under the :abbr:`FEL (Factura Electrónica en Línea)`
system, which applies to most businesses to enhance fiscal control and modernize tax administration.
Key elements include:

- **Factura Electrónica en Línea (FEL)**: A mandatory e-invoicing system required for B2B, B2C, and
  :abbr:`B2G (business-to-government)` transactions, regulated by the :abbr:`SAT (Superintendencia
  de Administración Tributaria)`. Each authorized document must be digitally signed and contain a
  unique certification code.
- **Integration with SAT**: All electronic documents must be issued through a certified certifier
  `(Proveedor de Certificación)` and validated by the :abbr:`SAT (Superintendencia de Administración
  Tributaria)` before being delivered to the customer. Once validated, the document receives a
  certification date and unique UUID.
- **XML Format**: Guatemala mandates the use of XML for electronic documents, following SAT's
  official XSD schema to ensure interoperability and traceability.
- **Adoption Timeline**: The transition to FEL has been implemented gradually by economic activity
  and taxpayer profile, but it is now mandatory for most business sectors in the country.

Compliance with Guatemalan e-invoicing regulations
==================================================

Odoo Invoicing simplifies compliance with Guatemala's e-invoicing requirements by offering native
FEL integration and automation features:

- **Supported formats**: Odoo supports most mandatory FEL document types in SAT-compliant XML,
  including invoices (:abbr:`FACT`), credit notes (:abbr:`NCRE`), and debit notes (:abbr:`NDEB`).
  Each document is automatically submitted to a certified certifier (Infile), digitally signed, and
  validated by the SAT in real time.
- **Secure storage and retrieval**: In accordance with Guatemalan regulations, Odoo provides
  centralized and secure storage of certified documents, including their XML and PDF graphical
  representations, with full access for audits and control processes.
- **Automatic tax calculation and reporting**: Odoo automates VAT (IVA) and applicable tax
  computations, ensuring compliance with local tax rates, exemption rules, and reporting structures
  as defined by the SAT.

.. seealso::
   :doc:`Guatemalan fiscal localization documentation <../../../fiscal_localizations/guatemala>`

.. admonition:: Disclaimer

   This page provides a general overview of Guatemalan e-invoicing regulations and how Odoo supports
   compliance with SAT requirements. It is not intended as legal or tax advice. We recommend
   consulting with a tax advisor or legal professional familiar with Guatemala's e-invoicing
   regulations to ensure full compliance tailored to your specific business requirements.


==================================================
SECTION: hungary.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/hungary.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Hungary
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Hungary's regulatory standards.

Legal framework for e-invoicing in Hungary
==========================================

In Hungary, businesses must adhere to e-invoicing regulations to ensure secure, authentic, and
storable transactions. The primary legal framework is the Hungarian VAT Act (Act CXXVII of 2007),
which mandates real-time reporting of invoices to the NAV Online invoice system, Hungary's
government e-invoicing platform. As of 2021, all B2B and B2C invoices must be reported in real-time,
regardless of value. Hungary's regulations do not currently require :abbr:`B2G
(business-to-government)` e-invoicing, but public sector invoicing is encouraged via the Peppol
network. Common formats for e-invoicing include XML for NAV submissions and other structured formats
to streamline compliance.

Compliance with Hungarian e-invoicing regulations
=================================================

Odoo invoicing module is designed to help businesses meet Hungary's e-invoicing and VAT reporting
requirements. Here is how Odoo ensures compliance:

- **Supported Formats**: Odoo supports the standardized XML format required for integration with the
  NAV (Nemzeti Adó és Vámhivatal) Online Invoice System, ensuring seamless real-time invoice
  reporting. The module also supports formats compatible with Peppol for cross-border transactions,
  promoting compliance with EU e-invoicing standards. Odoo enables businesses to automatically
  report invoices to the Hungarian tax authorities in real-time, as required by law.
- **Secure storage and retrieval**: In accordance with Hungarian regulations, which mandate storing
  invoices for a minimum of eight years, Odoo securely archives all invoices in a tamper-proof
  system, allowing for easy retrieval during audits.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices meet the strict requirements of the Hungarian VAT Act, simplifying compliance for B2B and
  B2C transactions.

.. admonition:: Disclaimer

   This page provides an overview of Hungarian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Hungarian VAT Act, NAV Online Invoice System, Peppol standards, and other
   relevant regulations. It does not constitute legal advice. We recommend consulting with a tax
   advisor or legal professional familiar with Hungarian e-invoicing regulations to ensure
   compliance tailored to your specific business needs.


==================================================
SECTION: incoterms.rst
PATH: applications/finance/accounting/customer_invoices/incoterms.rst
==================================================

=========
Incoterms
=========

:abbr:`Incoterms (International Commercial Terms)` are standardized trade terms used in
international transactions to define the rights and responsibilities of buyers and sellers. They
establish the obligations related to the delivery of goods, the transfer of risks, and the
distribution of costs between the parties involved. Incoterms specify important details, such as the
point at which the risk and costs transfer from the seller to the buyer, the responsibility for
transportation, insurance, customs clearance, and other relevant aspects of the transaction.

.. note::
   By default, all 11 Incoterms are available in Odoo:

   - **EXW**: Ex works
   - **FCA**: Free carrier
   - **FAS**: Free alongside ship
   - **FOB**: Free on board
   - **CFR**: Cost and freight
   - **CIF**: Cost, insurance and freight
   - **CPT**: Carriage paid to
   - **CIP**: Carriage and insurance paid to
   - **DPU**: Delivered at place unloaded
   - **DAP**: Delivered at place
   - **DDP**: Delivered duty paid

.. seealso::
   - :doc:`../reporting/intrastat`
   - :doc:`../customer_invoices`
   - :doc:`../vendor_bills`

.. _incoterms/invoices:

Define an Incoterm
==================

To define an Incoterm manually, create an invoice or bill, click the :guilabel:`Other Info` tab, and
select the :guilabel:`Incoterm`.

Incoterm location
-----------------

A location relevant to the chosen Incoterm can be added to the invoice or bill under
:guilabel:`Other Info` in the :guilabel:`Incoterm Location` field.

.. example::
   If the chosen Incoterm code is `CIF` (Cost, Insurance, Freight), the associated location might be
   the destination port where the goods will be delivered.

.. _incoterms/default:

Default Incoterm configuration
==============================

You can set a default Incoterm rule to **automatically** populate the Incoterm field on all newly
created invoices and bills. Under :menuselection:`Accounting/Invoicing --> Configuration -->
Settings`, scroll down to the :guilabel:`Customer Invoices` section, and select an Incoterm in the
:guilabel:`Default Incoterm` field.


==================================================
SECTION: internal_transfers.rst
PATH: applications/finance/accounting/bank/internal_transfers.rst
==================================================

==================
Internal transfers
==================

Internal money transfers can be handled in Odoo. At least two bank or cash accounts are needed to
make internal transfers.

.. seealso::
   :ref:`How to add an additional bank account <accounting/bank/create>`

Configuration
=============

An internal transfer account is automatically created on your database based on your company's
:doc:`localization <../../fiscal_localizations>` and depending on your country’s legislation. To
modify the default :guilabel:`Internal Transfer` account, go to :menuselection:`Accounting -->
Configuration --> Settings` and scroll down to the :guilabel:`Default Accounts` section.

Register an internal transfer from one bank to another
======================================================

When money is transferred from one bank or cash account to another, that amount appears as two
transactions on the corresponding journals, whether the transactions are created manually, via
import, or via :doc:`bank synchronization <bank_synchronization>`. When reconciling the transaction,
select the :guilabel:`Internal Transfers` :doc:`reconciliation model <reconciliation_models>`
button. This reconciliation model button writes the transaction off to the :guilabel:`Internal
Transfer` account.

.. important::
   Remember to reconcile the transaction for both the outgoing transaction on the journal that sends
   the payment and the incoming transaction on the journal that receives the payment.

.. example::
   Take, for example, a transfer of $1000 from Bank A to Bank B:

   - Bank journal (Bank A)

     .. list-table::
        :header-rows: 1
        :stub-columns: 1

        * - **Account**
          - **Debit**
          - **Credit**
        * - Bank A account
          -
          - $1,000
        * - **Internal transfer account**
          - **$1,000**
          -

   - Bank journal (Bank B)


     .. list-table::
        :header-rows: 1
        :stub-columns: 1

        * - **Account**
          - **Debit**
          - **Credit**
        * - Bank B account
          - $1,000
          -
        * - **Internal transfer account**
          -
          - **$1,000**

.. seealso::
   - :doc:`reconciliation`
   - :doc:`reconciliation_models`


==================================================
SECTION: intrastat.rst
PATH: applications/finance/accounting/reporting/intrastat.rst
==================================================

=========
Intrastat
=========

Intrastat is the data collection and statistics production system for goods traded among EU member
states. It collects data on:

- Commercial transactions of goods for use, consumption, investment, or resale with ownership
  transfer;
- Goods movements without transfer of ownership (e.g., stock relocations or moves of goods
  before or after outsourced production or processing, and after maintenance or repair);
- Returns of goods.

.. note::
   Although the Intrastat system continues to be used, the term Intrastat is not used in the `latest
   legislation <http://data.europa.eu/eli/reg/2019/2152/2022-01-01>`_, referring instead to
   *intra-Union trade in goods statistics*.

.. seealso::
   `Eurostat Statistics Explained - Glossary: Intrastat
   <https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Glossary:Intrastat>`_

.. _intrastat/general-configuration:

General configuration
=====================

Enable the Intrastat report by going to :menuselection:`Accounting --> Configuration --> Settings`.
Under the :guilabel:`Customer Invoices` section, tick :guilabel:`Intrastat` and then
:guilabel:`Save`.

.. _intrastat/default-transaction-codes:

Default transaction codes: invoice and refund
---------------------------------------------

You can set a default :ref:`transaction code <intrastat/transaction-code>` for all newly created
invoice and refund transactions. Under :menuselection:`Accounting --> Configuration --> Settings`,
select a :guilabel:`Default invoice transaction code` and/or a :guilabel:`Default refund transaction
code` and then :guilabel:`Save`. The code will be set automatically on all respective invoice lines.

.. _intrastat/region-code:

Region code
-----------

The region code is **only used by Belgian companies**. Under :menuselection:`Accounting -->
Configuration --> Settings`, select the :guilabel:`Company Intrastat Region` where the company is
located and then :guilabel:`Save`.

.. tip::
   If your warehouses are located in more than one region, you can define the region code at the
   level of each warehouse instead. To do so, go to :menuselection:`Inventory --> Configuration -->
   Warehouses`, select a warehouse, set its :guilabel:`Intrastat region`, and then :guilabel:`Save`.

   .. image:: intrastat/warehouse-region.png
      :align: center
      :alt: Adding the Intrastat region to a warehouse

.. _intrastat/product-configuration:

Product configuration
=====================

All products must be properly configured to be included in the Intrastat report.

.. _intrastat/commodity-code:

Commodity code
--------------

Commodity codes are internationally recognized reference numbers used to classify goods depending on
their **nature**. Intrastat uses the `Combined Nomenclature <https://taxation-customs.ec.europa.eu/customs-4/calculation-customs-duties/customs-tariff/combined-nomenclature_en>`_.

To add a commodity code, go to :menuselection:`Accounting --> Customers --> Products` and select a
product. Under the :guilabel:`Accounting` tab, set the product's :guilabel:`Commodity Code`.

.. seealso::
   `National Bank of Belgium - Intrastat commodity codes
   <https://www.nbb.be/en/statistics/foreign-trade/nomenclature-and-codes>`_

.. _intrastat/quantity:

Quantity: weight and supplementary unit
---------------------------------------

Depending on the nature of the goods, it is necessary to specify either the product's weight in
kilos (without packaging) or the product's supplementary unit, such as square meter (`m2`), number
of items (`p/st`), liter (`l`), or gram (`g`).

To add a product's weight or supplementary unit, go to :menuselection:`Accounting --> Customers -->
Products` and select a product. Under the :guilabel:`Accounting` tab, depending on the commodity
code set, either fill in the product :guilabel:`Weight` or its :guilabel:`Supplementary Units`.

.. _intrastat/origin-country:

Country of origin
-----------------

To add the product's country of origin, go to :menuselection:`Accounting --> Customers --> Products`
and select a product. Under the :guilabel:`Accounting` tab, set the :guilabel:`Country of Origin`.

.. _intrastat/invoice-bill-configuration:

Invoices and bills configuration
================================

Once products are properly configured, several settings must be configured on the invoices and bills
you create.

.. _intrastat/transaction-code:

Transaction code
----------------

Transaction codes are used to identify a transaction's nature. :ref:`Default transaction codes
<intrastat/default-transaction-codes>` can be set for invoice and refund transactions.

To set a transaction code on an invoice line, create an invoice or a bill, click the columns
selection button, tick :guilabel:`Intrastat`, and use the newly-added :guilabel:`Intrastat` column
to select a transaction code.

.. image:: intrastat/intrastat-column.png
   :align: center
   :alt: Adding the Intrastat column to an invoice or bill

.. seealso::
   `National Bank of Belgium - Intrastat: Nature of transactions from January 2022
   <https://www.nbb.be/doc/dd/onegate/data/new_natures_of_transaction_2022_en.pdf>`_

.. _intrastat/partner-country:

Partner country
---------------

The partner country represents the vendor's country for bills and the customer's country for
invoices. It is automatically filled in using the country set in the contact's :guilabel:`Country`
field.

To edit the partner country manually, create an invoice or a bill, click the :guilabel:`Other Info`
tab, and select the :guilabel:`Intrastat Country`.

.. _intrastat/transport-code:

Transport code
--------------

The transport code identifies the presumed **mode of transport** used to send the goods (arrival or
dispatch).

To add the transport code, create an invoice or a bill, go to the :guilabel:`Other info` tab,
and select the :guilabel:`Intrastat Transport Mode`.

.. _intrastat/value:

Value of the goods
------------------

The value of a good is the untaxed :guilabel:`Subtotal` (:guilabel:`Price` multiplied by
:guilabel:`Quantity`) of an invoice line.

.. _intrastat/partner:

Partner configuration
=====================

Two fields from the partner's contact form are used with Intrastat: :guilabel:`VAT` and
:guilabel:`Country`. The country can be :ref:`manually set <intrastat/partner-country>` on the
invoice or bill.

Generate the Intrastat report
=============================

Generate the report by going to :menuselection:`Accounting --> Reporting --> Audit Reports:
Intrastat Report`. It is automatically computed based on the :ref:`default configuration
<intrastat/general-configuration>` and the information found on the :ref:`products
<intrastat/product-configuration>`, :ref:`invoices and bills
<intrastat/invoice-bill-configuration>`, and :ref:`partners <intrastat/partner>`.

Export the report as a PDF, XLSX, or XML file to post it to your legal administration.

Each report line refers to a single invoice line and contains the following information:

- Invoice or bill reference number;
- System, which is a code automatically generated depending on whether the document is an invoice
  (dispatch) or a bill (arrival);
- :ref:`Country <intrastat/partner-country>`, which is the vendor's country for arrivals and the
  customer's country for dispatches;
- :ref:`Transaction Code <intrastat/transaction-code>`;
- (If your company is located in Belgium) :ref:`Region Code <intrastat/region-code>`;
- :ref:`Commodity Code <intrastat/commodity-code>`;
- :ref:`Origin Country <intrastat/origin-country>`;
- :ref:`Partner VAT <intrastat/partner>`;
- :ref:`Transport Code <intrastat/transport-code>`;
- :doc:`Incoterm Code <../customer_invoices/incoterms>`;
- :ref:`Weight <intrastat/quantity>`;
- :ref:`Supplementary Units <intrastat/quantity>`; and
- :ref:`Value <intrastat/value>`, which is always expressed in euros even if the original invoice or
  bill used another currency.


==================================================
SECTION: invoice_digitization.rst
PATH: applications/finance/accounting/vendor_bills/invoice_digitization.rst
==================================================

=====================
Document digitization
=====================

Document digitization refers to the process of converting paper or digital documents into records
in a database. Using :abbr:`OCR (optical character recognition)` and artificial intelligence
technologies, Odoo reads the content and automatically creates and fills in the record's details.
This process is mainly used for vendor bills (or refunds).

.. note::
   Although less common, this digitization process can also be applied to customer invoices and
   credit notes. The :ref:`settings <accounting/bill-digitization/configuration>` need to be
   adjusted accordingly.

.. seealso::
   - `Test Odoo's invoice digitization <https://www.odoo.com/app/invoice-automation>`_
   - `Odoo Tutorials: Vendor Bill Digitization
     <https://www.odoo.com/slides/slide/vendor-bill-digitization-7065>`_
   - :doc:`/applications/essentials/in_app_purchase`

.. _accounting/bill-digitization/configuration:

Configuration
=============

Go to :menuselection:`Accounting --> Configuration --> Settings` and navigate to the
:guilabel:`Digitization` section. Enable the :guilabel:`Document Digitization` option and choose
whether :guilabel:`Vendor Bills` should be processed automatically or on demand.

.. note::
   If the :guilabel:`Single Invoice Line Per Tax` option is enabled, only one line is created per
   tax in the new vendor bill, regardless of the number of lines on it.

.. _accounting/bill-digitization/vendor-bills-upload:

Vendor bills upload
===================

Vendor bills are :ref:`uploaded manually <accounting/bill-digitization/manual-upload>` or sent to a
:ref:`designated email alias <accounting/bill-digitization/email-alias>` to be digitized. They can
also be :ref:`automatically posted <accounting/bill-digitization/auto-post-bills>` for selected
vendors.

.. note::
   Once the bill is uploaded, the document preview appears on the right side of the screen.

.. seealso::
   :doc:`Vendor bills <../vendor_bills>`

.. _accounting/bill-digitization/manual-upload:

Manual upload
-------------

In the Accounting dashboard, drag and drop vendor bills into the desired purchase journal or click
:guilabel:`Upload` on the purchase journal.

.. _accounting/bill-digitization/email-alias:

Upload via email alias
----------------------

Vendor bills can be uploaded via an email alias associated with the relevant journal in two ways:

- scanned from a connected scanner configured to send email to an email alias;
- sent directly to an email alias.

Each PDF attached to the email is automatically converted into a new draft vendor bill.

.. note::
   - Only PDF and XML formats are processed via an email alias associated with a journal.
   - JPEG files must be processed via :ref:`email alias in the Documents app
     <documents/email-aliases>`.

To add an email alias to a journal, follow these steps:

#. Make sure an :doc:`alias domain <../../../websites/website/configuration/domain_names>` has been
   configured.
#. The default email alias `vendor-bills@` followed by the alias domain is automatically created
   and available in the :guilabel:`Advanced Settings` tab of the :guilabel:`Vendor Bills` journal.
#. To change a default email alias, go to :menuselection:`Accounting --> Configuration -->
   Journals`, select the corresponding journal, and edit the :guilabel:`Email Alias` in the
   :guilabel:`Advanced Settings` tab.
#. Configure the connected scanner to send scanned documents to the email alias, if needed.

.. note::
   Alternatively, an :ref:`email alias in the Documents app <documents/email-aliases>` can be used
   to automatically send vendor bills to the :guilabel:`Finance` :ref:`folder
   <documents/folders>` (e.g., `inbox-financial@example.odoo.com`).

.. _accounting/bill-digitization/auto-post-bills:

Automatic vendor bill posting
-----------------------------

.. note::
   To use the :guilabel:`Auto-post bills` option, the :guilabel:`Digitize automatically` setting in
   the :ref:`Document Digitization <accounting/bill-digitization/configuration>` section must be
   enabled for vendor bills.

To automatically post digitized vendor bills for specific vendors, go to :menuselection:`Accounting
--> Vendors --> Vendors` and click the desired vendor. In the :guilabel:`Accounting` tab of the
contact form, select an :guilabel:`Auto-post bills` option in the :guilabel:`Automation` section:

- :guilabel:`Always`
- :guilabel:`Ask after 3 validations without edits`: When the third uploaded bill is confirmed
  without any edits, an :guilabel:`Autopost Bills` window appears. The following options can be
  chosen: :guilabel:`Activate auto-validation`, :guilabel:`Ask me later`, or :guilabel:`Never for
  this vendor`.
- :guilabel:`Never`

.. note::
   Since automation is triggered after three validated bills without edits, the contact name must
   already exist in the database, and each uploaded vendor bill must include a bill date.

.. _accounting/bill-digitization/digitization:

Digitization and data recognition with AI
=========================================

Depending on the :ref:`settings <accounting/bill-digitization/configuration>`, documents are either
automatically digitized or require manual processing if digitization is set to on-demand only.

To manually digitize an :ref:`uploaded document
<accounting/bill-digitization/vendor-bills-upload>`, click :guilabel:`Digitize document`.

Once the document has been digitized, a blue banner appears; click :icon:`oi-arrow-right`
:guilabel:`Refresh`. Review and correct any information uploaded during digitization: click on the
related field(s) to edit them, or click :guilabel:`Reload AI data` to refresh the data.

Then, click :guilabel:`Confirm` to post the document.

.. tip::
   Once a document has been digitized, the :guilabel:`Vendor` field remains empty if the vendor
   doesn't exist in the database. To add it, click the :icon:`fa-caret-down` :guilabel:`(down arrow)`
   in the :guilabel:`Vendor` field; the vendor name appears highlighted in the document preview on
   the right. Click it to open a new vendor form with the name pre-filled.

.. note::
   The following vendor bill fields are recognized by OCR:

   - :guilabel:`Vendor`, :guilabel:`Bill Reference`, :guilabel:`Bill Date`, :guilabel:`Payment
     Reference` (only in the Belgian +++xxx/xxxx/xxxxx+++ format), :guilabel:`Recipient Bank`,
     :guilabel:`Due Date`, and the currency (in a :doc:`multi-currency
     <../get_started/multi_currency>` environment and if the currency is activated).
   - From the :guilabel:`Invoices Lines` tab: :guilabel:`Product` description/label,
     :guilabel:`Quantity`, unit :guilabel:`Price`, :guilabel:`Taxes` (if the :ref:`tax is activated
     <taxes/list_activation>`; this field is not recognized by OCR for the :doc:`Indian
     localization <../../fiscal_localizations/india>`), :guilabel:`Untaxed Amount`, and
     :guilabel:`Total`.

.. _accounting/bill-digitization/vendor-bills-matching-po:

Purchase order matching
=======================

When a digitized vendor bill is recognized by :abbr:`OCR (optical character recognition)`, Odoo
searches the database for a matching purchase order. If found, the vendor bill can be manually
matched with the existing open purchase order lines.

Once a vendor bill has been :ref:`uploaded <accounting/bill-digitization/vendor-bills-upload>` and
:ref:`digitized <accounting/bill-digitization/digitization>`, click the :guilabel:`Purchase
matching` smart button to access the :guilabel:`Purchase matching` list view, displaying all
purchase order lines linked to the vendor assigned to the vendor bill. Then, select the relevant
purchase order lines and the draft vendor bill (shown in grey), and click :guilabel:`Match`.

.. tip::
   In the :guilabel:`Purchase Matching` list view, update the :guilabel:`Quantity` and
   :guilabel:`Price` in the purchase order lines, if necessary.

If there is no existing purchase order related to the vendor of the uploaded vendor bill, a new
purchase order can be directly created from the vendor bill lines. To do so, follow these steps:

#. Once the vendor bill is uploaded, make sure the :guilabel:`Vendor` field is filled in with the
   correct vendor.
#. Click the :guilabel:`Purchase matching` smart button, select the draft vendor bill in the list
   (shown in grey), and click :guilabel:`Add to PO`.
#. In the :guilabel:`Add to Purchase Order` window, start typing in the :guilabel:`Purchase Order`
   field and select :guilabel:`Create and edit`.
#. In the :guilabel:`Create Purchase Order` window, select the vendor assigned to the vendor bill,
   then complete all :ref:`required fields <purchase/manage_deals/create-new-rfq>` and click
   :guilabel:`Confirm`.
#. In the :guilabel:`Purchase Matching` list view, select the relevant purchase order lines and the
   draft vendor bill (shown in grey), and click :guilabel:`Match`.

.. Note::
   If any information required for the purchase order fields is missing, click :guilabel:`Save and
   Close` in the :guilabel:`Create Purchase Order` window. Then, open the Purchase app to fill in
   the fields and :ref:`confirm the purchase order <purchase/manage_deals/confirm-order>`.

.. tip::
   - Electronic vendor bills with embedded XML ensure more accurate and efficient processing.
   - Alternatively, the :ref:`Auto-complete <accounting/vendor_bills/bill-completion>` feature
     can transfer information from the purchase order to the vendor bill, without requiring OCR.

.. _accounting/bill-digitization/pricing:

Pricing
=======

The document digitization feature is an In-App Purchase (IAP) service requiring prepaid credits.
Digitizing one document uses one credit.

To buy credits, :ref:`go to the Settings app <iap/buying_credits>` or :menuselection:`Accounting -->
Configuration --> Settings`, navigate to the :guilabel:`Digitization` section, and click
:guilabel:`Buy credits`.

.. note::
   - Odoo Enterprise users with a valid subscription get free credits to test IAP features before
     purchasing more credits for the database. This includes demo/training databases, educational
     databases, and one-app-free databases.
   - XML files don't require OCR credits because they contain structured data that can be processed
     directly, without OCR.

.. seealso::
   - `Odoo In-App Purchase Privacy Policy <https://iap.odoo.com/privacy#header_6>`_
   - :doc:`/applications/essentials/in_app_purchase`


==================================================
SECTION: ireland.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/ireland.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Ireland
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Ireland's regulatory standards.

Legal framework for e-invoicing in Ireland
==========================================

In Ireland, businesses must comply with e-invoicing regulations to ensure secure, authentic, and
storable transactions. The legal framework for e-invoicing is primarily shaped by `EU Directive
2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_, which
mandates the use of electronic invoicing in :abbr:`B2G (business-to-government)` transactions. Irish
public sector bodies must accept electronic invoices that comply with the European Standard EN
16931. E-invoicing in the public sector is facilitated through the Peppol network, providing a
streamlined and standardized platform for invoicing. While not mandatory for B2B transactions,
e-invoicing is increasingly encouraged to enhance efficiency, transparency, and compliance.

Compliance with Irish e-invoicing regulations
=============================================

Odoo Invoicing is equipped to meet Ireland's e-invoicing requirements, ensuring businesses
can operate with confidence. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the XML and :abbr:`UBL (Universal Business Language)` formats
  required for Peppol compliance and ensures compatibility with the European Standard EN 16931,
  which is the basis for public sector e-invoicing in Ireland. Odoo seamlessly integrates with the
  Peppol network, enabling businesses to send compliant e-invoices directly to Irish public sector
  bodies and facilitating cross-border invoicing in line with EU standards.
- **Secure storage and retrieval**: In accordance with Irish regulations that require businesses to
  retain invoices for a minimum of six years, Odoo securely archives all invoices in a tamper-proof
  system, ensuring they can be easily accessed during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing ensures full compliance with Irish VAT
  regulations by automatically calculating and including VAT in invoices, while formatting them to
  meet the legal requirements for both B2B and :abbr:`B2G (business-to-government)` transactions.

.. admonition:: Disclaimer

   This page provides an overview of Irish e-invoicing laws and how Odoo Invoicing supports
   compliance with EU Directive 2014/55/EU, Peppol standards, and other relevant regulations. It
   does not constitute legal advice. We recommend consulting with a tax advisor or legal
   professional familiar with Irish e-invoicing regulations to ensure compliance tailored to your
   specific business needs.


==================================================
SECTION: italy.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/italy.rst
==================================================

:orphan:

==================================
Odoo electronic invoicing in Italy
==================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Italy's regulatory standards.

Legal framework for e-invoicing in Italy
========================================

Italy has one of the most advanced e-invoicing frameworks in Europe, governed by the `Italian budget
law <https://www.gazzettaufficiale.it/eli/id/2022/12/29/22G00211/sg>`_ and regulations issued by the
Agenzia delle Entrate. Since 2019, e-invoicing is mandatory for B2B, B2C, and :abbr:`B2G
(business-to-government)` transactions. All e-invoices must be submitted through the :abbr:`Sdi
(Sistema di Interscambio)`, the Italian government's centralized exchange system. The format for
e-invoices is FatturaPA, a structured XML format specifically designed for compliance with Italian
regulations. As part of its compliance with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
Italy also supports Peppol standards for cross-border e-invoicing.

Compliance with Italian e-invoicing regulations
===============================================

Odoo Invoicing is fully equipped to meet Italy's e-invoicing requirements. Here is how Odoo ensures
compliance:

- **Supported formats**: Odoo supports the FatturaPA XML format required by the :abbr:`Sdi (Sistema
  di Interscambio)` for all domestic e-invoices, as well as :abbr:`UBL (Universal Business
  Language)` XML for cross-border invoicing via the Peppol network, ensuring compliance with both
  Italian and EU standards. Odoo has an easy access to the :abbr:`Sdi (Sistema di Interscambio)`
  platform, allowing businesses to send, validate, and track invoices in real-time, ensuring
  seamless compliance with Italian regulations.
- **Secure storage and retrieval**: In accordance with Italian law, which requires invoices to be
  stored for a minimum of ten years, Odoo securely archives all invoices in a tamper-proof system,
  ensuring they can be easily retrieved for audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices adhere to the strict formatting and reporting requirements of Italian law for B2B, B2C,
  and :abbr:`B2G (business-to-government)` transactions.

.. seealso::
   :doc:`Italy fiscal localization documentation <../../../fiscal_localizations/italy>`

 .. admonition:: Disclaimer

    This page provides an overview of Italian e-invoicing laws and how Odoo Invoicing supports
    compliance with the Italian Budget Law, :abbr:`Sdi (Sistema di Interscambio)`, FatturaPA format,
    Peppol standards, and other relevant regulations. It does not constitute legal advice. We
    recommend consulting with a tax advisor or legal professional familiar with Italian e-invoicing
    regulations to ensure compliance tailored to your specific business needs.


==================================================
SECTION: journals.rst
PATH: applications/finance/accounting/get_started/journals.rst
==================================================

========
Journals
========

Journal entries are recorded in different **journals** to maintain an organized record of a
company's financial transactions. Odoo uses six different types of journals to organize accounting
records:

- :ref:`Bank <accounting/journals/bank>`
- :ref:`Cash <accounting/journals/cash>`
- :ref:`Credit Card <accounting/journals/credit>`
- :ref:`Sales <accounting/journals/sales>`
- :ref:`Purchase <accounting/journals/purchase>`
- :ref:`Miscellaneous <accounting/journals/misc>`

.. note::
   It is possible to have multiple journals of the same type, such as two separate bank journals,
   each for a unique bank account, or two separate sales journals to track :abbr:`B2B (business to
   business)` versus :abbr:`B2C (business to customer)` income.

Each card on the :guilabel:`Accounting Dashboard` represents a journal. To edit the configuration of
a journal, click the :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` on the journal card, then
click :guilabel:`Configuration`. Alternatively, go to :menuselection:`Accounting --> Configuration
--> Journals` to select and edit an existing journal or to create a new one.

While different journal types have slightly different fields to configure, some fields are
consistent across all the journal types:

- :guilabel:`Short Code`: Each journal must have a unique code (from 1 to 5 characters long). The
  short code is used as the prefix for all journal entries belonging to this journal.
- :guilabel:`Currency`: If desired, set the currency of this journal. For bank and cash journals,
  this is the currency of the journal's :doc:`transactions <../bank/transactions>`. This field is
  only visible when :doc:`multiple currencies <multi_currency>` are enabled.

The :guilabel:`Advanced Settings` tab contains more technical options:

- :guilabel:`Allowed accounts`: Limit which accounts are available when recording journal entries in
  this journal. Leave this field blank to allow all accounts.
- :guilabel:`Email Alias`: Set an email address to create journal entries by digitizing PDFs sent
  to this address. This is most commonly used to create :ref:`customer invoices and vendor bills
  <accounting/bill-digitization/email-alias>`.
- :guilabel:`Secure Posted Entries with Hash`: Restrict the :doc:`alterability
  <../reporting/data_inalterability>` of this journal's entries to comply with tax authorities in
  certain countries.

.. warning::
   The :guilabel:`Secure Posted Entries with Hash` option cannot be removed from a journal once the
   journal has a posted journal entry.

.. note::
   - Bank and cash journals do not have the :guilabel:`Secure Posted Entries with Hash` or
     :guilabel:`Email Alias` fields.
   - If an :ref:`alias domain <email-inbound-custom-domain>` has not yet been configured, a link to
     :icon:`fa-arrow-right` :guilabel:`Configure Alias Domain` is displayed instead of the
     :guilabel:`Email Alias` field.

.. _accounting/journals/bank-cash-cc:

Bank, cash, and credit card journals
====================================

Bank, cash, and credit card journals share the following features:

- :guilabel:`Suspense Account`: :doc:`../bank/transactions` on this journal are posted on this
  account until they are reconciled, at which point this account is replaced with the account the
  transaction was reconciled against. At any moment, the suspense account's balance in the general
  ledger shows the balance of transactions that have not yet been reconciled.

  .. note::
     When a bank transaction is reconciled, the journal entry is modified to replace the bank
     suspense account with the account of the journal item it is reconciled with. This account is
     usually either:

     - the :ref:`outstanding receipts or payments account
       <accounting/journals/outstanding-accounts>` if reconciling with a registered payment; or
     - the account receivable or payable if reconciling with an invoice or bill directly.

- :guilabel:`Dedicated Payment Sequence`: Tick this field to use separate sequences for payments
  and transactions posted on this journal.

  .. note::
     If the :guilabel:`Dedicated Payment Sequence` field is ticked, payments that use an
     :ref:`outstanding account <accounting/journals/outstanding-accounts>` will have references that
     add :guilabel:`P` before the journal's short code. Otherwise, the references will begin with
     :guilabel:`PAY`.

The :guilabel:`Incoming Payments` and :guilabel:`Outgoing Payments` tabs contain the :ref:`payment
methods <accounting/payments/payment-methods>` of this journal. Different payment methods are
available depending on the journal type. If desired, set :ref:`outstanding accounts
<accounting/journals/outstanding-accounts>` on the payment methods.

.. seealso::
   - :doc:`../bank`
   - :doc:`multi_currency`
   - :doc:`../bank/transactions`
   - `Bank configuration <https://www.youtube.com/watch?v=tVhhXw-VnGE>`_

.. _accounting/journals/outstanding-accounts:

Outstanding accounts
--------------------

By default, payments in Odoo do not create journal entries, but they can be configured to create
journal entries by using **outstanding accounts** on :ref:`bank <accounting/journals/bank>` and
:ref:`cash <accounting/journals/cash>` journals.

- An **outstanding receipts account** is where incoming payments are posted until they are linked
  with incoming bank transactions.
- An **outstanding payments account** is where outgoing payments are posted until they are linked
  with outgoing bank transactions.

These accounts are usually of :ref:`type <chart-of-account/type>` :guilabel:`Current Assets` and
:guilabel:`Current Liabilities`.

Payments that are registered in Odoo are posted to the outstanding receipts and outstanding payments
accounts until they are reconciled. At any moment, the outstanding receipts account's balance in the
general ledger shows the balance of registered incoming payments that have not yet been reconciled,
and the outstanding payments account's balance in the general ledger shows the balance of registered
outgoing payments that have not yet been reconciled.

Configuration
~~~~~~~~~~~~~

To configure outstanding accounts, go to :menuselection:`Accounting --> Configuration --> Journals`
and select or create a bank or cash journal. In the :guilabel:`Incoming Payments` and
:guilabel:`Outgoing Payments` tabs, set :guilabel:`Outstanding Receipts accounts` and
:guilabel:`Outstanding Payments accounts` for each payment method that you want to create journal
entries.

.. note::
   - If the main bank account of the journal is added as an outstanding receipts account or
     outstanding payments account, when a payment is registered, the invoice or bill's status is
     directly set to :guilabel:`Paid`.
   - If the outstanding receipts or outstanding payments account for a payment method is left blank,
     registering a payment with that payment method will not create any journal entry.

.. _accounting/journals/bank:

Bank
----

Bank journals are used to record journal entries related to :doc:`bank transactions
<../bank/transactions>` and incoming and outgoing :doc:`payments <../payments>`. The following
fields are specific to bank journals:

- :guilabel:`Bank Account`: This :guilabel:`Bank and Cash` type account is the default account for
  this bank journal.
- :guilabel:`Account Number`: The bank account's number is used when registering payments and is
  required for generating outgoing payment files, such as :doc:`SEPA <../payments/pay_sepa>` or
  :ref:`NACHA <l10n_us/nacha>`. To edit the bank account details, click on the
  :icon:`oi-arrow-right` :guilabel:`(Internal link)` button next to the :guilabel:`Account Number`
  and update the account information accordingly.
- :guilabel:`Bank`: The bank name is used when registering payments and is required for generating
  outgoing payment files. To edit the bank account details, click on the :icon:`oi-arrow-right`
  :guilabel:`(Internal link)` button next to the :guilabel:`Bank` name and update the account
  information accordingly.
- :guilabel:`Bank Feeds`: Define the method of creating bank :doc:`transactions
  <../bank/transactions>`, whether :guilabel:`Manual` or via :doc:`Online Synchronization
  <../bank/bank_synchronization>`.
- :guilabel:`Split Transactions`: Split collective payments for CODA files.

Multiple payment methods are available for bank journals, as are configurations for generating
outgoing payment files, such as :doc:`SEPA <../payments/pay_sepa>` or :ref:`NACHA <l10n_us/nacha>`.

.. _accounting/journals/cash:

Cash
----

Cash journals are used to record journal entries related to cash :doc:`transactions
<../bank/transactions>`. The following fields are specific to cash journals:

- :guilabel:`Cash Account`: This :guilabel:`Bank and Cash` type account is the default account for
  this cash journal.
- :guilabel:`Profit Account`: This :guilabel:`Income` or :guilabel:`Other Income` type account is
  used to register a profit when the ending balance of a cash register is greater than expected.
- :guilabel:`Loss Account`: This :guilabel:`Expenses` type account is used to register a loss when
  the ending balance of a cash register is less than expected.

Only manual payment methods are available for cash journals.

.. _accounting/journals/credit:

Credit card
-----------

Credit card journals are used to record journal entries related to credit cards. The following
fields are specific to credit card journals:

- :guilabel:`Journal Account`: This :guilabel:`Credit Card` type account is the default account for
  this credit card journal.
- :guilabel:`Bank Feeds`: Define the method of creating credit card transactions, whether manual or
  via :doc:`Online Synchronization <../bank/bank_synchronization>`.

Only manual payment methods are available for credit card journals.

.. _accounting/journals/sales-purchase-misc:

Sales, purchase, and miscellaneous journals
===========================================

.. _accounting/journals/sales:

Sales
-----

Sales journals, also known as income journals, are used to record journal entries related to
:doc:`customer invoices <../customer_invoices>`. The following fields are specific to customer
invoice journals:

- :guilabel:`Default Income Account`: Invoices in this journal use this :guilabel:`Income` or
  :guilabel:`Other Income` type account unless overwritten by another income account set on the
  product category, product, or invoice line itself.
- :guilabel:`Dedicated Credit Note Sequence`: Check this box to use a separate sequence for the
  reference of credit notes that increments separately from the main invoice sequence and adds an
  `R` to the reference before the journal's short code.
- :guilabel:`Dedicated Debit Note Sequence`: Check this box to use a separate sequence for the
  reference of credit notes that increments separately from the main invoice sequence and adds a `D`
  before the journal's short code.

Sales journals have additional fields in the :guilabel:`Advanced Settings` tab that allow you to set
the default communication format that will appear on customer invoices so that the customer can
refer to that particular invoice when making a payment:

- :guilabel:`Communication Type`: Choose if the format of the payment reference communicated to the
  customer should be based on the invoice number or the customer's number.
- :guilabel:`Communication Standard`: Choose the format of the payment reference itself that is
  communicated to the customer.

.. _accounting/journals/purchase:

Purchase
--------

Purchase journals are used to record journal entries related to :doc:`vendor bills
<../vendor_bills>`. The following fields are specific to purchase journals:

- :guilabel:`Default Expense Account`: Vendor bills in this journal use this :guilabel:`Expense`
  type account unless overwritten by another expense account set on the product category, product,
  or expense.
- :guilabel:`Private Part Account`: Select the account to be used to register the private part of
  mixed expenses.
- :guilabel:`Dedicated Credit Note Sequence`: Check this box to use a separate sequence for the
  reference of credit notes that increments separately from the main vendor bill sequence and adds
  an `R` to the reference before the journal's short code.
- :guilabel:`Dedicated Debit Note Sequence`: Check this box to use a separate sequence for the
  reference of credit notes that increments separately from the main invoice sequence and adds a `D`
  before the journal's short code.

.. _accounting/journals/misc:

Miscellaneous
-------------

Miscellaneous journals are used to record journal entries that are not related to any of the other
journal types such as tax closing journal entries.

.. seealso::
   - `Tax return eLearning <https://www.odoo.com/slides/slide/tax-return-10564>`_
   - :doc:`../reporting/tax_returns`
   - :doc:`../taxes`


==================================================
SECTION: latvia.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/latvia.rst
==================================================

:orphan:

===================================
Odoo electronic invoicing in Latvia
===================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Latvia's regulatory standards.

Legal framework for e-invoicing in Latvia
=========================================

In Latvia, electronic invoicing is governed by the `Law on Accounting <https://eur-lex.europa.eu/legal-content/LV/TXT/PDF/?uri=CELEX:72014L0055LVA_270633>`_
and regulations aligned with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
mandating the use of e-invoicing in :abbr:`B2G (business-to-government)` transactions. All public
sector invoices must be sent in the European Standard EN 16931 format through platforms such as
eInvoicing.lv, Latvia’s official e-invoicing infrastructure. Latvia is also connected to the Peppol
network, facilitating standardized cross-border e-invoicing across the European Union.

Compliance with Latvian e-invoicing regulations
===============================================

Odoo Invoicing is designed to help businesses comply with Latvia's specific e-invoicing
requirements. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the XML :abbr:`UBL (Universal Business Language)` format,
  compliant with European Standard EN 16931, which is required for public sector e-invoicing in
  Latvia. Odoo also facilitates e-invoicing through the Peppol network, ensuring seamless
  cross-border compatibility. Odoo integrates with Latvian e-invoicing platforms, such as
  eInvoicing.lv, allowing businesses to send compliant e-invoices directly to government entities
  while adhering to legal standards.
- **Secure storage and retrieval**: In accordance with Latvian regulations requiring invoices to be
  stored for a minimum of five years, Odoo securely archives all invoices in a tamper-proof system,
  ensuring they can be easily accessed during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices adhere to the legal requirements for :abbr:`B2G (business-to-government)` and B2B
  transactions, helping businesses comply with Latvian VAT laws.

.. admonition:: Disclaimer

   This page provides an overview of Latvian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Law on Accounting, European Standard EN 16931, eInvoicing.lv, Peppol
   standards, and other relevant regulations. It does not constitute legal advice. We recommend
   consulting with a tax advisor or legal professional familiar with Latvian e-invoicing regulations
   to ensure compliance tailored to your specific business needs.


==================================================
SECTION: lithuania.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/lithuania.rst
==================================================

:orphan:

======================================
Odoo electronic invoicing in Lithuania
======================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Lithuania's regulatory standards.

Legal framework for e-invoicing in Lithuania
============================================

In Lithuania, e-invoicing is regulated under the `Law on Accounting <https://www.e-tar.lt/portal/lt/legalAct/207ad17030a011e78397ae072f58c508>`_
and aligned with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_
for mandatory :abbr:`B2G (business-to-government)` e-invoicing. Lithuania participates in the
Peppol network, enabling seamless cross-border e-invoicing. While B2B e-invoicing is currently
optional, its use is encouraged to enhance tax compliance and operational efficiency.

Compliance with Lithuanian e-invoicing regulations
==================================================

Odoo invoicing module is fully equipped to meet Lithuania's e-invoicing requirements and ensure
compliance with local and EU standards. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports Peppol BIS Billing 3.0 and XML formats ensuring e-invoices
  meet the mandatory standards for public procurement and cross-border transactions.
- **Secure storage and retrieval**: In compliance with Lithuanian regulations, which require
  invoices to be stored for a minimum of ten years, Odoo securely archives all invoices in a
  tamper-proof system, ensuring they are accessible for audits and tax inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices meet Lithuania’s VAT requirements for both B2G and B2B transactions, reducing the risk of
  non-compliance.

.. admonition:: Disclaimer

   This page provides an overview of Lithuanian e-invoicing laws and how Odoo Invoicing supports
   compliance with Peppol standards, and other relevant regulations. It does not constitute legal
   advice. We recommend consulting with a tax advisor or legal professional familiar with Lithuanian
   e-invoicing regulations to ensure compliance tailored to your specific business needs.


==================================================
SECTION: loans.rst
PATH: applications/finance/accounting/bank/loans.rst
==================================================

================
Loans management
================

Odoo's loan management gives a comprehensive list of all loans undertaken by your company in order
to maintain a holistic and forecasted view of upcoming due dates (e.g., cash forecast). Set up
amortization schedules—or import them—and let Odoo automatically handle monthly interest and
principal adjustments so that your financial reports are always accurate with minimal effort.

Create a new loan
-----------------

Create a new loan by going to :menuselection:`Accounting --> Accounting --> Loans`. When creating a
new loan, there are three options for how to create amortization schedules:

- importing it from a supported file;
- calculating it from multiple input values (e.g., the :guilabel:`Amount Borrowed`, the
  :guilabel:`Duration`, etc.) using the :guilabel:`Compute` button;
- manually filling in the lines of the schedule.

In each case, three different fields are required for each line of the amortization schedule: the
:guilabel:`Date`, the :guilabel:`Principal`, and the :guilabel:`Interest`.

The :guilabel:`Amount Borrowed`, :guilabel:`Interest`, and :guilabel:`Duration` fields will be red
if the sum of the lines does not match the total of the amortization schedule lines.

Loan entries mechanism
----------------------

When the amount borrowed is credited to a bank account, it should be transferred to a long-term
account (defined in the :guilabel:`Loan Settings` tab). Then, upon the validation of the loan, Odoo
creates the necessary journal entries so that there is always a holistic and forecasted view of
upcoming due dates. The entire process is completely automated with a long-term and short-term
principal reclassification mechanism.

For each line of the amortization schedule, Odoo creates the following entries:

A payment entry on the same date that
  - debits the principal amount to the long-term account;
  - debits the interest amount to the expense account;
  - credits the payment amount to the short-term account: this is the amount that will be
    withdrawn by the bank.

A reclassification entry on the same date that
  - debits the sum of the principal amounts of the next 12 months to the long-term account;
  - credits the sum of the principal amounts of the next 12 months to the short-term account.

A reversed entry of the reclassification entry on *the next day* that simply reverses the previous
one.

With this mechanism, month after month, the short-term account is always up to date with the
current short-term due amounts.

Closing a loan
--------------

By default, a loan will be closed whenever its last payment entry is posted. However, it can also
be manually closed (e.g., because it is being paid off early) by clicking on the :guilabel:`Close`
button. A wizard will appear asking from which date the loan should be closed. All draft entries
after this date will be deleted too.

A loan can also be cancelled. In that case, all entries will be deleted even if they were already
posted.

Loans Analysis Report
---------------------

By going to :menuselection:`Accounting --> Review --> Loans Analysis`, you can access a
report with a pivot view of your ongoing loans. By default, the report shows the principal,
interest, and total payment for each year for the duration of the loan.


==================================================
SECTION: luxembourg.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/luxembourg.rst
==================================================

:orphan:

=======================================
Odoo electronic invoicing in Luxembourg
=======================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Luxembourg's regulatory standards.

Legal framework for e-invoicing in Luxembourg
=============================================

In Luxembourg, e-invoicing is regulated in accordance with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
requiring the use of electronic invoicing in :abbr:`B2G (business-to-government)` transactions.
Public sector entities in Luxembourg must accept e-invoices in the European Standard EN 16931
format. The government supports e-invoicing through the Peppol network, ensuring streamlined
communication and compliance for cross-border transactions. While e-invoicing is not yet mandatory
for B2B transactions, its adoption is encouraged to promote operational efficiency and tax
compliance across industries.

Compliance with Luxembourgish e-invoicing regulations
=====================================================

Odoo invoicing is equipped to support businesses in adhering to Luxembourg's e-invoicing standards.
Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the XML :abbr:`UBL (Universal Business Language)` format,
  compliant with European Standard EN 16931, meeting the requirements for public sector e-invoicing
  in Luxembourg. It also facilitates e-invoicing through the Peppol network, ensuring
  interoperability for cross-border invoicing.
- **Secure storage and retrieval**: In line with Luxembourg’s requirement to retain invoices for a
  minimum of ten years, Odoo securely archives all invoices in a tamper-proof system, ensuring easy
  access during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing ensures full compliance with
  Luxembourg's VAT regulations by automating VAT calculations and formatting invoices to meet the
  legal standards for :abbr:`B2G (business-to-government)` and B2B transactions.

.. seealso::
   :doc:`Luxembourg fiscal localization documentation <../../../fiscal_localizations/luxembourg>`

.. admonition:: Disclaimer

   This page provides an overview of Luxembourg's e-invoicing laws and how Odoo Invoicing supports
   compliance with EU Directive 2014/55/EU, European Standard EN 16931, Peppol standards, and other
   relevant regulations. It does not constitute legal advice. We recommend consulting with a tax
   advisor or legal professional familiar with Luxembourg’s e-invoicing regulations to ensure
   compliance tailored to your specific business needs.


==================================================
SECTION: mexico.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/mexico.rst
==================================================

:orphan:

===================================
Odoo electronic invoicing in Mexico
===================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Mexico's regulatory requirements and fully compatible with the guidelines
established by the :abbr:`SAT (Servicio de Administración Tributaria)`.

Legal framework for e-invoicing in Mexico
=========================================

Mexico has one of the most advanced e-invoicing systems globally, with electronic invoicing
:abbr:`CFDI (Comprobante Fiscal Digital por Internet)` being mandatory for most taxpayers. Key
elements include:

-  **CFDI**: A mandatory electronic invoice format for B2B, B2C, and :abbr:`B2G
   (business-to-government)` transactions, fully compliant with SAT requirements.
-  **Digital tax receipt validation**: All :abbr:`CFDIs (Comprobante Fiscal Digital por Internet)`
   must be digitally signed and validated by :abbr:`SAT (Servicio de Administración
   Tributaria)`-authorized :abbr:`PACs (authorized certification providers)` before issuance.
-  **Complementos**: Specific complements are required for certain transaction types, such as
   payroll or foreign trade.
-  **XML Format**: The XML format is mandatory, ensuring interoperability and compliance with
   :abbr:`SAT (Servicio de Administración Tributaria)`'s technical standards.

Compliance with Mexican e-invoicing regulations
===============================================

Odoo Invoicing simplifies compliance with Mexico’s e-invoicing requirements by offering tailored
features:

-  **Supported formats**: Odoo supports :abbr:`CFDI (Comprobante Fiscal Digital por Internet)` in
   :abbr:`SAT (Servicio de Administración Tributaria)`-compliant XML formats, including all
   mandatory fields, digital signatures, and complements for specialized transactions.
-  **Integration with PACs**: Odoo integrates with :abbr:`SAT (Servicio de Administración
   Tributaria)`-authorized :abbr:`PACs (authorized certification providers)` to automate the
   validation, certification, and issuance of :abbr:`CFDIs (Comprobante Fiscal Digital por
   Internet)`, ensuring real-time compliance.
-  **Secure storage and retrieval**: In compliance with Mexico's five-year mandatory storage
   requirement, Odoo provides tamper-proof archiving for easy access to invoices during audits
   or inspections.
-  **Automatic tax calculation and reporting**: Odoo automates tax calculations for VAT (IVA) and
   other applicable taxes, ensuring accuracy and compliance with :abbr:`SAT (Servicio de
   Administración Tributaria)`'s tax reporting standards.

.. seealso::
   :doc:`Mexican fiscal localization documentation <../../../fiscal_localizations/mexico>`

.. admonition:: Disclaimer

   This page provides a general overview of Mexican e-invoicing regulations and how Odoo supports
   compliance with :abbr:`SAT (Servicio de Administración Tributaria)` requirements. It is not
   intended as legal or tax advice. We recommend consulting with a tax advisor or legal professional
   familiar with Mexico's e-invoicing regulations to ensure compliance tailored to your specific
   business needs.


==================================================
SECTION: multi_currency.rst
PATH: applications/finance/accounting/get_started/multi_currency.rst
==================================================

=====================
Multi-currency system
=====================

Odoo allows you to issue invoices, receive bills, and record transactions in currencies other than
the main currency configured for your company. You can also set up bank accounts in other currencies
and run reports on your foreign currency activities.

.. seealso::
   - :doc:`../bank/foreign_currency`

.. _multi-currency/config:

Configuration
=============

.. _multi-currency/config-main-currency:

Main currency
-------------

The **main currency** is defined by default according to the company's country. You can change it by
going to :menuselection:`Accounting --> Configuration --> Settings --> Currencies` and changing the
currency in the :guilabel:`Main Currency` setting.

.. _multi-currency/config-enable:

Enable foreign currencies
-------------------------

Go to :menuselection:`Accounting --> Configuration --> Currencies`, and enable the currencies you
wish to use by toggling the :guilabel:`Active` button.

.. image:: multi_currency/enable-foreign-currencies.png
   :align: center
   :alt: Enable the currencies you wish to use.

.. _multi-currency/config-rates:

Currency rates
--------------

Manual update
~~~~~~~~~~~~~

To manually create and set a currency rate, go to :menuselection:`Accounting --> Configuration -->
Currencies`, click on the currency you wish to change the rate of, and under the :guilabel:`Rates`
tab, click :guilabel:`Add a line` to create a new rate.

.. image:: multi_currency/manual-rate-update.png
  :align: center
  :alt: Create or modify the currency rate.

Automatic update
~~~~~~~~~~~~~~~~

When you activate a second currency for the first time, :guilabel:`Automatic Currency Rates` appears
under :menuselection:`Accounting Dashboard --> Configuration --> Settings --> Currencies`. By
default, you have to click on the **Update now** button (:guilabel:`🗘`) to update the rates.

Odoo can update the rates at regular intervals. To do so, change the :guilabel:`Interval` from
:guilabel:`Manually` to :guilabel:`Daily`, :guilabel:`Weekly`, or :guilabel:`Monthly`. You can also
select the web service from which you want to retrieve the latest currency rates by clicking on the
:guilabel:`Service` field.

.. _multi-currency/config-exch-diff:

Exchange difference entries
---------------------------

Odoo automatically records exchange differences entries on dedicated accounts, in a dedicated
journal.

You can define which journal and accounts to use to **post exchange difference entries** by
going to :menuselection:`Accounting --> Configuration --> Settings --> Default Accounts` and editing
the :guilabel:`Journal`, :guilabel:`Gain Account`, and :guilabel:`Loss Account`.

.. example::
   If you receive a payment for a customer invoice one month after it was issued, the exchange rate
   has likely changed since. Therefore, this fluctuation implies some profit or loss due to the
   exchange difference, which Odoo automatically records in the default **Exchange Difference**
   journal.

.. _multi-currency/config-coa:

Chart of accounts
-----------------

Each account can have a set currency. By doing so, all moves relevant to the account are forced to
have that account's currency.

To do so, go to :menuselection:`Accounting --> Configuration --> Charts of Accounts` and select a
currency in the field :guilabel:`Account Currency`. If left empty, all active currencies are handled
instead of just one.

.. _multi-currency/config-journals:

Journals
--------

If a currency is set on a **journal**, that journal only handles transactions in that currency.

To do so, go to :menuselection:`Accounting --> Configuration --> Journals`, open the journal you
want to edit, and select a currency in the field :guilabel:`Currency`.

.. image:: multi_currency/journal-currency.png
   :align: center
   :alt: Select the currency for the journal to handle.

.. _multi-currency/mca:

Multi-currency accounting
=========================

.. _multi-currency/mca-documents:

Invoices, bills, and other documents
------------------------------------

For all documents, you can select the currency and journal to use for the transaction on the
document itself.

.. image:: multi_currency/currency-field.png
   :align: center
   :alt: Select the currency and journal to use.

.. _multi-currency/mca-payment:

Payment registration
--------------------

To register a payment in a currency other than your company's main currency, click on the
:guilabel:`Register Payment` payment button of your document and, in the pop-up window, select a
**currency** in the :guilabel:`Amount` field.

.. image:: multi_currency/register-payment.png
  :align: center
  :alt: Select the currency and journal to use before registering the payment.

.. _multi-currency/mca-statements:

Bank transactions
-----------------

When creating or importing bank transactions, the amount is in the company's main currency. To input
a **foreign currency**, select a currency in the :guilabel:`Foreign Currency`. Once selected, enter
the :guilabel:`Amount` in your main currency for it to automatically get converted in the foreign
currency in the :guilabel:`Amount in Currency field`.

.. image:: multi_currency/foreign-fields.png
  :align: center
  :alt: The extra fields related to foreign currencies.

When reconciling, Odoo displays both the foreign currency amount and the equivalent amount in your
company's main currency.

.. _multi-currency/mca-exch-entries:

Exchange rate journal entries
-----------------------------

To see **exchange difference journal entries**, go to :menuselection:`Accounting Dashboard -->
Accounting --> Journals: Miscellaneous`.

.. image:: multi_currency/exchange-journal-currency.png
   :align: center
   :alt: Exchange rate journal entry.


==================================================
SECTION: netherlands.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/netherlands.rst
==================================================

:orphan:

============================================
Odoo electronic invoicing in the Netherlands
============================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to the Netherlands' regulatory standards.

Legal framework for e-invoicing in the Netherlands
==================================================

In the Netherlands, e-invoicing is regulated under `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
requiring :abbr:`B2G (business-to-government)` transactions to adhere to the European Standard EN
16931. Public sector entities must accept e-invoices through platforms such as Digipoort, the Dutch
government's official gateway for electronic data exchange. The Netherlands is also a prominent
member of the Peppol network, which enables secure and standardized e-invoicing for cross-border
transactions across Europe. While e-invoicing is not yet mandatory for B2B transactions, it is
strongly encouraged to enhance transparency and efficiency in business processes.

Compliance with Dutch e-invoicing regulations
=============================================

Odoo invoicing is equipped to support businesses with the Netherlands' e-invoicing requirements.
Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports :abbr:`UBL (Universal Business Language)` XML, which is the
  standard format for e-invoicing in the Netherlands. It ensures compatibility with both Digipoort
  for domestic B2G transactions and the Peppol network for international e-invoicing.
- **Secure storage and retrieval**: In accordance with Dutch regulations, which require businesses
  to store invoices for a minimum of seven years, Odoo securely archives all invoices in a
  tamper-proof system, ensuring they are accessible during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and formats
  invoices to meet Dutch VAT requirements, ensuring compliance with legal standards for both
  :abbr:`B2G (business-to-government)` and B2B transactions.

.. seealso::
   :doc:`Netherlands fiscal localization documentation <../../../fiscal_localizations/netherlands>`

.. admonition:: Disclaimer

   This page provides an overview of Dutch e-invoicing laws and how Odoo Invoicing supports
   compliance with EU Directive 2014/55/EU, Digipoort, Peppol standards, and other relevant
   regulations. It does not constitute legal advice. We recommend consulting with a tax advisor or
   legal professional familiar with Dutch e-invoicing regulations to ensure compliance tailored to
   your specific business needs.


==================================================
SECTION: norway.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/norway.rst
==================================================

:orphan:

===================================
Odoo electronic invoicing in Norway
===================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Norway's regulatory standards.

Legal framework for e-invoicing in Norway
=========================================

In Norway, e-invoicing is governed by regulations aligned with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
requiring :abbr:`B2G (business-to-government)` transactions to comply with mandatory e-invoicing
standards. Norwegian public sector entities mandate the use of the EHF (Elektronisk Handelsformat)
standard for e-invoices, ensuring uniformity and security. Norway is a member of the Peppol network,
which supports standardized and interoperable cross-border e-invoicing throughout Europe. Although
not mandatory for B2B transactions, e-invoicing is widely encouraged and adopted across the private
sector to boost efficiency, transparency, and compliance.

Compliance with Norwegian e-invoicing regulations
=================================================

Odoo invoicing is designed to fully support businesses in meeting Norway's e-invoicing standards.
Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the EHF (Elektronisk Handelsformat) standard, which is
  required for public sector e-invoicing in Norway. Odoo is also compatible with :abbr:`UBL
  (Universal Business Language)` XML for transactions through the Peppol network, ensuring adherence
  to both Norwegian and EU e-invoicing requirements.
- **Secure storage and retrieval**: In compliance with Norwegian regulations that mandate the
  retention of invoices for a minimum of five years, Odoo securely archives all invoices in a
  tamper-proof system, ensuring accessibility and security during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations, ensuring
  that invoices meet Norwegian VAT requirements while adhering to the correct format for both
  :abbr:`B2G (business-to-government)` and B2B transactions.

.. admonition:: Disclaimer

   This page provides an overview of Norwegian e-invoicing laws and how Odoo Invoicing supports
   compliance with the EHF standard, Peppol network, and other relevant regulations. It does not
   constitute legal advice. We recommend consulting with a tax advisor or legal professional
   familiar with Norwegian e-invoicing regulations to ensure compliance tailored to your specific
   business needs.


==================================================
SECTION: online.rst
PATH: applications/finance/accounting/payments/online.rst
==================================================

:show-content:

===============
Online payments
===============

To make it more convenient for your customers to pay the invoices you issue, you can activate the
**Invoice Online Payment** feature, which adds a *Pay Now* button on their **Customer Portal**. This
allows your customers to see their invoices online and pay directly with their favorite payment
method, making the payment process much easier.

.. image:: online/online-payment-providers.png
   :align: center
   :alt: Payment provider choice after having clicked on "Pay Now"

Configuration
=============

Make sure your :doc:`payment providers are correctly configured <../../payment_providers>`.

.. note::
   By default, :ref:`Wire Transfer <payment_providers/bank_payments/wire_transfer>` is the
   only payment provider activated, but you still have to fill out the payment details.

To activate the Invoice Online Payment, go to :menuselection:`Accounting --> Configuration -->
Settings --> Customer Payments`, enable **Invoice Online Payment**, and click on *Save*.

Customer Portal
===============

After issuing the invoice, click on *Send & Print* and send the invoice by email to the customer.
They will receive an email with a link that redirects them to the invoice on their **Customer
Portal**.

.. image:: online/view-invoice.png
   :alt: Email with a link to view the invoice online on the Customer Portal.

They can choose which Payment Provider to use by clicking on *Pay Now*.

.. image:: online/pay-now.png
   :alt: "Pay now" button on an invoice in the Customer Portal.

.. seealso::

   - :doc:`/applications/finance/payment_providers`


==================================================
SECTION: overview.rst
PATH: applications/finance/accounting/customer_invoices/overview.rst
==================================================

===================
Invoicing processes
===================

Depending on your business and the application you use, there are
different ways to automate the customer invoice creation in Odoo.
Usually, draft invoices are created by the system (with information
coming from other documents like sales order or contracts) and
accountant just have to validate draft invoices and send the invoices in
batch (by regular mail or email).

Depending on your business, you may opt for one of the following way to
create draft invoices:

Sales
=====

.. _accounting/inv-process/so:

Sales Order ‣ Invoice
---------------------

In most companies, salespeople create quotations that become sales order
once they are validated. Then, draft invoices are created based on the
sales order. You have different options like:

-  Invoice manually: use a button on the sale order to trigger the draft
   invoice

-  Invoice before delivery: invoice the full order before triggering the
   delivery order

-  Invoice based on delivery order: see next section

Invoice before delivery is usually used by the eCommerce application
when the customer pays at the order and we deliver afterwards.
(pre-paid)

For most other use cases, it's recommended to invoice manually. It
allows the salesperson to trigger the invoice on demand with options:
invoice the whole order, invoice a percentage (advance), invoice some
lines, invoice a fixed advance.

This process is good for both services and physical products.

.. seealso::
   - :doc:`/applications/sales/sales/invoicing/proforma`

.. note::
    Invoices can also be generated from sales orders created in the :doc:`Repairs
    app </applications/inventory_and_mrp/repairs>` for invoicing after-sales
    services.

Sales Order ‣ Delivery Order ‣ Invoice
--------------------------------------

Retailers and eCommerce usually invoice based on delivery orders,
instead of sales order. This approach is suitable for businesses where
the quantities you deliver may differs from the ordered quantities:
foods (invoice based on actual Kg).

This way, if you deliver a partial order, you only invoice for what you
really delivered. If you do back orders (deliver partially and the rest
later), the customer will receive two invoices, one for each delivery
order.

.. seealso::
   - :doc:`/applications/sales/sales/invoicing/invoicing_policy`

eCommerce Order ‣ Invoice
-------------------------

An eCommerce order will also trigger the creation of the order when it
is fully paid. If you allow paying orders by check or wire transfer,
Odoo only creates an order and the invoice will be triggered once the
payment is received.

Contracts
=========

Regular Contracts ‣ Invoices
----------------------------

If you use contracts, you can trigger invoice based on time and material
spent, expenses or fixed lines of services/products. Every month, the
salesperson will trigger invoice based on activities on the contract.

Activities can be:

-  fixed products/services, coming from a sale order linked to this contract
-  materials purchased (that you will re-invoice)
-  time and material based on timesheets or purchases (subcontracting)
-  expenses like travel and accommodation that you re-invoice to the customer

You can invoice at the end of the contract or trigger intermediate
invoices. This approach is used by services companies that invoice
mostly based on time and material. For services companies that invoice
on fix price, they use a regular sales order.

.. seealso::
   - :doc:`/applications/sales/sales/invoicing/time_materials`
   - :doc:`/applications/sales/sales/invoicing/expense`
   - :doc:`/applications/sales/sales/invoicing/milestone`

Recurring Contracts ‣ Invoices
------------------------------

For subscriptions, an invoice is triggered periodically, automatically.
The frequency of the invoicing and the services/products invoiced are
defined on the contract.

.. seealso::
   - :doc:`/applications/sales/subscriptions`

Others
======

Creating an invoice manually
----------------------------

Users can also create invoices manually without using contracts or a
sales order. It's a recommended approach if you do not need to manage
the sales process (quotations), or the delivery of the products or
services.

Even if you generate the invoice from a sales order, you may need to
create invoices manually in exceptional use cases:

-  if you need to create a refund

-  If you need to give a discount

-  if you need to change an invoice created from a sales order

-  if you need to invoice something not related to your core business

Resequencing of the invoices
----------------------------

It remains possible to resequence the invoices but with some restrictions:

#. The feature does not work when entries are previous to a lock date.
#. The feature does not work if the sequence is inconsistent with the month of the entry.
#. It does not work if the sequence leads to a duplicate.
#. The order of the invoice remains unchanged.
#. It is useful for people who use a numbering from another software and who want to continue the
   current year without starting over from the beginning.

Invoice digitization with optical character recognition (OCR)
-------------------------------------------------------------

**Invoice digitization** is the process of automatically encoding traditional paper invoices into
invoices forms in your accounting.

Odoo uses OCR and artificial intelligence technologies to recognize the content of the documents.
Vendor bills and customer invoices forms are automatically created and populated based on scanned
invoices.

.. seealso::
   - :doc:`/applications/finance/accounting/vendor_bills/invoice_digitization`


==================================================
SECTION: pay_checks.rst
PATH: applications/finance/accounting/payments/pay_checks.rst
==================================================

=============
Pay by checks
=============

Once you decide to pay a supplier bill, you can select to pay by check. You can then print all the
payments registered by check. Finally, the bank reconciliation process will match the checks you
sent to suppliers with actual bank statements.

Configuration
=============

Activate checks payment methods
-------------------------------

To activate the checks payment method, go to :menuselection:`Accounting --> Configuration -->
Settings`, and scroll down to the :guilabel:`Vendor Payments` section. There, you can activate the
payment method as well as set up the :guilabel:`Check Layout`.

.. note::
   - Once the :guilabel:`Checks` setting is activated, the **Checks** payment method is
     automatically set up in the :guilabel:`Outgoing Payments` tabs of **bank** journals.
   - Some countries require specific modules to print checks; such modules may be installed by
     default. For instance, the :guilabel:`U.S. Checks Layout` module is required to print U.S.
     checks.

Compatible check stationery for printing checks
===============================================

United States
-------------

For the United States, Odoo supports by default the check formats of:

- **Quickbooks & Quicken**: check on top, stubs in the middle and bottom;
- **Peachtree**: check in the middle, stubs on top and bottom;
- **ADP**: check in the bottom, and stubs on the top.

Pay a supplier bill with a check
================================

Paying a supplier with a check is done in three steps:

1. registering a payment
2. printing checks in batch for all registered payments
3. reconciling bank statements

Register a payment by check
---------------------------

To register a payment, open any supplier bill from the menu :menuselection:`Purchases --> Vendor
Bills`.
Once the supplier bill is validated, you can register a payment. Set the :guilabel:`Payment Method`
to :guilabel:`Checks` and validate the payment.

Print checks
------------

On your :guilabel:`Accounting Dashboard` in the :guilabel:`Bank` Journal, you can see the
number of checks registered. By clicking on :guilabel:`Checks to print` you have got the possibility
to print the reconciled checks.

To print all checks in batch, select all payments from the list view and click on :guilabel:`Print`.


==================================================
SECTION: pay_sepa.rst
PATH: applications/finance/accounting/payments/pay_sepa.rst
==================================================

=============
Pay with SEPA
=============

SEPA, the Single Euro Payments Area, is a payment-integration initiative of the European Union to
simplify bank transfers denominated in euros. SEPA allows you to send payment orders to your
bank to automate bank wire transfers.

SEPA is supported by the banks of the 27 EU member states, as well as:

EFTA countries:

- Iceland;
- Liechtenstein;
- Norway;
- Switzerland.

Non-EEA SEPA countries:

- Andorra;
- Monaco;
- San Marino;
- United Kingdom;
- Vatican City State.

Non-EEA territories:

- Saint-Pierre-et-Miquelon;
- Guernsey;
- Jersey;
- Isle of Man.

When paying a bill in Odoo, you can select SEPA mandates as a payment option. At the end of the day,
you can generate the SEPA file containing all bank wire transfers and upload it to your online
banking interface to process the payments.

By default, the file follows the SEPA Credit Transfer **'pain.001.001.03'** specifications. This is
a well-defined standard among banks. However, for Swiss and German companies, other formats are used
**'pain.001.001.03.ch.02'** for Switzerland and **'pain.001.003.03'** for Germany.

Once the payments are processed by your bank, you can directly import the account statement in
Odoo. The bank reconciliation process will seamlessly match the SEPA orders you sent to your bank
with actual bank statements.

Configuration
=============

.. _accounting/pay_sepa/activate-sepa:

Activate SEPA Credit Transfer (SCT)
-----------------------------------

To pay suppliers with SEPA, you must activate the **SEPA Credit Transfer** setting. To do so, go to
:menuselection:`Accounting --> Configuration --> Settings --> Vendor Payments: SEPA Credit Transfer
(SCT)`. By activating the setting and filling out your company data, you will be able to use the
SCT option when paying your vendor.

.. note::
   According to the localization package installed, the **SEPA Direct Debit** and **SEPA Credit
   Transfer** modules may be installed by default. If not, they need to be :ref:`installed <general/install>`.

.. _accounting/pay_sepa/activate-sepa-bank-journal:

Activate SEPA payment methods on banks
--------------------------------------

From the accounting dashboard, click on the drop-down menu (:guilabel:`⋮`) on your bank journal and
select :guilabel:`Configuration`. Click the :guilabel:`Outgoing Payments` tab, and, if not already
present, add :guilabel:`SEPA Credit Transfer` under :guilabel:`Payment Method`.

Make sure to specify the IBAN account number (domestic account numbers do not work with SEPA) and
the BIC (bank identifier code) in the :guilabel:`Journal Entries` tab.

.. _accounting/pay_sepa/registering-payments-sepa:

Registering payments
--------------------

You can register any vendor payments made with SEPA. To do so, go to :menuselection:`Accounting -->
Vendors --> Payments`. When creating your payment, select :guilabel:`SEPA Credit Transfer` as the
:guilabel:`Payment Method`.

The first time you pay a vendor with SEPA, you have to fill in the :guilabel:`Recipient Bank
Account` field with the bank name, IBAN, and BIC (Bank Identifier Code). Odoo automatically verifies
if the IBAN format is respected.

For future payments to this vendor, Odoo will automatically suggest you the bank account, but it
remains possible to select a new one.

Once your payment is registered, do not forget to confirm it. You can also pay vendor bills from the
bill directly using the :guilabel:`Register Payment` button at the top of a vendor bill.
The form is the same, but the payment is directly linked to the bill and will be automatically
reconciled with it.


==================================================
SECTION: payment_terms.rst
PATH: applications/finance/accounting/customer_invoices/payment_terms.rst
==================================================

===================================
Payment terms and installment plans
===================================

**Payment terms** specify all the conditions of a sale's payment to help ensure customers pay their
invoices correctly and on time.

Payment terms are generally defined on documents such as sales orders, customer invoices, and
vendor bills. Payment terms cover:

- The due date(s)
- Early payment discounts
- Any other conditions on the payment

An **installment plan** allows the customers to pay an invoice in parts, with the amounts and
payment dates defined beforehand by the seller.

.. example::
   Immediate Payment
     The full payment is due on the day of the invoice's issuance.
   15 Days (or Net 15)
     The full payment is due 15 days after the invoice date.
   21 MFI
     The full payment is due by the 21st of the month following the invoice date.
   30% Advance End of Following Month
     30% is due on the day of the invoice's issuance. The remaining balance is due at the end of the
     following month.
   2% 10, Net 30 EOM
     A 2% :doc:`cash discount <cash_discounts>` if the payment is received within ten days.
     Otherwise, the full payment is due at the end of the month following the invoice date.

.. note::
   - Payment terms are not to be confused with :doc:`down payment invoices
     </applications/sales/sales/invoicing/down_payment>`. If, for a specific order, you issue
     multiple invoices to your customer, that is neither a payment term nor an installment plan but
     an invoicing policy.
   - This page is about the *payment terms* feature, not :doc:`terms & conditions
     <terms_conditions>`, which can be used to declare contractual obligations regarding content
     use, return policies, and other policies surrounding the sale of goods and services.

.. seealso::
   - `Odoo Tutorials: payment terms <https://www.odoo.com/slides/slide/payment-terms-1679>`_
   - :doc:`cash_discounts`

.. _accounting/payment-terms/configuration:

Configuration
=============

To create new payment terms, follow these steps:

#. Go to :menuselection:`Accounting --> Configuration --> Payment Terms` and click on
   :guilabel:`New`.
#. Enter a name in the :guilabel:`Payment Terms` field. This field is the name displayed both
   internally and on sales orders.
#. Tick the :guilabel:`Early Discount` checkbox and fill out the discount percentage, discount days,
   and :ref:`tax reduction <cash-discounts/tax-reductions>` fields to add a :doc:`cash discount
   <cash_discounts>`, if desired.
#. In the :guilabel:`Due Terms` section, add a set of rules (terms) to define what needs to be paid
   and by which due date(s). Defining terms automatically calculates the payments' due date(s). This
   is particularly helpful for managing **installment plans** (:dfn:`payment terms with multiple
   terms`).

   To add a term, click on :guilabel:`Add a line`, define the discount's value and type in the
   :guilabel:`Due` fields, then fill out the :guilabel:`After` fields to determine the due date.

   .. tip::
      The :guilabel:`Days end of the month on the` option allows you to add a :ref:`buffer period
      <accounting/payment-terms/buffer>` so that an invoice registered at the end of the month isn't
      due at the beginning of the month that immediately follows.

#. Enter the text to be displayed on the document (sales order, invoice, etc.) in the gray textbox
   in the :guilabel:`Preview` column.
#. Tick the :guilabel:`Show installment dates` checkbox to display a breakdown of each payment and
   its due date on the invoice report, if desired.

.. tip::
   To instead specify a number of days *before the end of the month*, use a negative value in the
   :guilabel:`After` field.

To test that your payment terms are configured correctly, enter an invoice date on the
:guilabel:`Example` line to generate the payments that would be due and their due dates
using these payment terms.

.. important::
   Terms are computed in the order of their due dates.

.. example::
   In the following example, 30% is due on the day of issuance, and the remaining 70% is due at the
   end of the following month.

   .. image:: payment_terms/configuration.png
      :alt: Example of Payment Terms. The first line is the 30% due immediately. The second line is
            the remaining 70% due at the end of the following month.

.. _accounting/payment-terms/buffer:

End of the month buffer
-----------------------

The :guilabel:`Days end of the month on the` option allows users to add a buffer period so that an
invoice registered at the end of the month isn't due at the beginning of the month that immediately
follows.

When using this option, Odoo calculates the due date by taking the invoice date, adding the integer
in the :guilabel:`After` field, going to the end of the resulting month, and then adding the integer
from the :guilabel:`Days on the next month` field.

.. example::
   For example, take two invoices, one dated 5 March and the other dated 28 March. Both use the same
   payment terms with a single :guilabel:`Due Terms` line for 100% of the due amount, due `5`
   :guilabel:`Days end of the month on the` `1`.

   For the invoice dated 5 March, the due date is computed as **1 April** with the following
   calculations:

   - 5 March + 5 days = 10 March
   - 10 March + end of the month = 31 March
   - 31 March + on the 1 = 1 April


   For the invoice dated 28 March, the due date is computed as **1 May** with the following
   calculations:

   - 28 March + 5 days = 2 April
   - 2 April + end of the month = 30 April
   - 30 April + on the 1 = 1 May

.. _accounting/payment-terms/use:

Using payment terms
===================

Payment terms can be defined using the :guilabel:`Payment Terms` field on:

- **Contacts:** To automatically set default payment terms on a contact's new sales orders,
  invoices, and bills. This can be modified in the contact form, under the :guilabel:`Sales &
  Purchase` tab.
- **Quotations/Sales Orders:** To set specific payment terms automatically on all invoices generated
  from a quotation or sales order.

Payment terms can be defined using the :guilabel:`Due Date` field, with the :guilabel:`Terms`
drop-down list on:

- **Customer invoices:** To set specific payment terms on an invoice.
- **Vendor bills:** To set specific payment terms on a bill.

.. tip::
   Setting payment terms on a vendor bill is mostly useful for managing vendor terms with multiple
   installments or cash discounts. Otherwise, manually setting the **due date** is enough. If
   payment terms are already defined, empty the field to select a date.

.. _accounting/payment-terms/journal-entries:

Journal entries
===============

Invoices with specific payment terms generate different *journal entries*, with one *journal item*
for every computed *due date*.

This makes for easier :doc:`follow-ups </applications/finance/accounting/payments/follow_up>` and
:doc:`reconciliation </applications/finance/accounting/bank/reconciliation>` since Odoo takes each
due date into account, rather than just the balance due date. It also helps to get an accurate
:ref:`aged receivable report <accounting/invoices/aging-report>`.

.. example::
   .. image:: payment_terms/journal-entry.png
      :alt: The amount debited to the account receivable is split into two journal items with
            distinct due dates

   In this example, an invoice of $1000 has been issued with the following payment terms: *30% is
   due on the day of issuance, and the remaining 70% is due at the end of the following month.*

   +----------------------+-------------+---------+---------+
   | Account              | Due date    | Debit   | Credit  |
   +======================+=============+=========+=========+
   | Account Receivable   | February 21 | 300     |         |
   +----------------------+-------------+---------+---------+
   | Account Receivable   | March 31    | 700     |         |
   +----------------------+-------------+---------+---------+
   | Product Sales        |             |         | 1000    |
   +----------------------+-------------+---------+---------+

   The $1000 debited to the account receivable is split into two distinct journal items. Both of
   them have their own due date.


==================================================
SECTION: payments.rst
PATH: applications/finance/accounting/payments.rst
==================================================

:show-content:

========
Payments
========

In Odoo, payments can either be automatically linked to an invoice or bill or be stand-alone records
for use at a later date:

- If a payment is **linked to an invoice or bill**, it reduces/settles the amount due on the
  invoice. Multiple payments on the same invoice are possible.

- If a payment is **not linked to an invoice or bill**, the customer has an outstanding credit with
  the company, or the company has an outstanding debit with a vendor. Those outstanding amounts
  reduce/settle unpaid invoices/bills.

.. seealso::
   - :doc:`Internal transfers <bank/internal_transfers>`
   - :doc:`bank/reconciliation`
   - `Odoo Tutorials: Bank Configuration
     <https://www.odoo.com/slides/slide/bank-configuration-6832>`_

.. _accounting/payments/payment-methods:

Payment methods
===============

Several payment methods are available in Odoo to allow different configurations for different types
of payments. Examples of payment methods include manual payments (such as cash), :doc:`checks
<payments/pay_checks>`, and batch payment files (such as :ref:`NACHA
<l10n_us/ach-electronic-transfers>` and :doc:`SEPA <payments/pay_sepa>`). Payment methods can be
configured in the :guilabel:`Incoming Payments` and :guilabel:`Outgoing Payments` tabs of a bank or
cash journal.

.. seealso::
   :doc:`../../sales/point_of_sale/payment_methods` for Point of Sale

.. _accounting/payments/preferred-payment-methods:

Preferred payment method
------------------------

A contact's preferred payment method can be set so that when a payment is created for that contact,
the payment method is automatically selected by default. Invoices and bills can be filtered by
:guilabel:`Payment Method` to simplify :ref:`group <accounting/payments/group-payments>` payments.

To set a preferred :guilabel:`Payment Method` for a customer or a vendor, go to
:menuselection:`Accounting --> Customers --> Customers` or :menuselection:`Accounting --> Vendors
--> Vendors` and select the customer or vendor. In the :guilabel:`Sales & Purchase` tab of the
contact form, select the preferred :guilabel:`Payment Method` in the :guilabel:`Sales` section for
invoice payments or for vendor bill payments in the :guilabel:`Purchase` section.

.. tip::
   Access a full list of all contacts from the :guilabel:`Customers` or :guilabel:`Vendors` list
   view by removing the :guilabel:`Customers` or :guilabel:`Vendors` filter. Alternatively, access
   the full contact list through the Contacts app.

.. _accounting/payments/checks:

Checks
------

:doc:`Vendor bills can be paid by check <payments/pay_checks>` using a dedicated outgoing payment
method, which allows check numbers to be tracked and checks to be printed directly from Odoo.

For incoming customer check payments, you can use the default :guilabel:`Manual Payment` payment
method, or you can create a payment method specifically for checks to help identify such payments
quickly. To create a *Check* payment method, follow these steps:

#. Go to :menuselection:`Accounting --> Configuration --> Journals` and select the :guilabel:`Bank`
   journal.
#. In the :guilabel:`Incoming Payments` tab, click :guilabel:`Add a line`.
#. As :guilabel:`Payment Method`, select :guilabel:`Manual`, then enter `Check` as the
   :guilabel:`Name`.

When registering a customer payment :ref:`on an invoice <accounting/payments/from-invoice-bill>` or
:ref:`not related to an invoice <accounting/payments/not-tied>`, use the new :guilabel:`Check`
payment method.

.. note::
   Registering a customer payment by check in Odoo does not move funds. Checks must be deposited in
   order to make the payment. Once deposited to your bank, the check should appear as a :doc:`bank
   transaction <bank/transactions>`, at which point it can be :doc:`reconciled
   <bank/reconciliation>` with the registered payment.

.. tip::
   - For best practice, enter the check number as the :guilabel:`Memo` when registering a customer
     payment by check.
   - :doc:`Batch payments <payments/batch>` can simplify reconciling deposits containing multiple
     checks.

.. _accounting/payments/from-invoice-bill:

.. _finance/accounting/register-payment-invoice-bill:

Registering payment from an invoice or bill
===========================================

To register a payment for an invoice or a bill, follow these steps:

#. Click :guilabel:`Pay` on a customer invoice or vendor bill. In the :guilabel:`Pay` window, select
   the :guilabel:`Journal` and the :guilabel:`Payment Date`.
#. If previously set, the contact's preferred :guilabel:`Payment Method` is automatically selected
   by default but can be updated if necessary.
#. If using :doc:`payment terms <customer_invoices/payment_terms>`, the :guilabel:`Amount` is
   automatically set based on the installment amounts defined by the payment term. To pay the full
   amount instead, click :guilabel:`full amount`.
#. If necessary, edit the :guilabel:`Memo`.
#. Click :guilabel:`Create Payment`.

After the payment is registered, the customer invoice or vendor bill is marked as
:guilabel:`In payment`.

.. tabs::

   .. group-tab:: Without outstanding accounts

      If no :ref:`outstanding accounts <accounting/journals/outstanding-accounts>` are configured,
      no journal entry is created. To display more information about the payment, click the
      :guilabel:`Payments` smart button.

      When the invoice or vendor bill is :doc:`reconciled <bank/reconciliation>` with a bank
      transaction, its status is updated to :guilabel:`Paid`.

      .. note::
         - If a bank transaction is reconciled in a different currency, a journal entry is
           automatically created to post the currency exchange gains/loss amount.
         - When a bank transaction is reconciled with an invoice with cash-basis, a journal entry is
           automatically created to post the cash-basis tax amount.

   .. group-tab:: Using outstanding accounts

      By default, payments in Odoo do not create journal entries, but they can easily be configured
      to create journal entries using :ref:`outstanding accounts
      <accounting/journals/outstanding-accounts>`.

      Registering a payment on a customer invoice or vendor bill generates a new journal entry and
      reduces the :guilabel:`Amount Due` based on the payment amount. The counterpart is
      reflected in an :ref:`outstanding <accounting/journals/outstanding-accounts>` **receipts** or
      **payments** account. At this point, the customer invoice or vendor bill is marked as
      :guilabel:`In payment`. Then, when the payment is :doc:`reconciled <bank/reconciliation>` with
      a bank transaction, the invoice or vendor bill status changes to :guilabel:`Paid`.

      The :icon:`fa-info-circle` information icon next to the payment line displays more
      information about the payment. To access additional information, such as the related journal,
      click :guilabel:`View`.

      .. image:: payments/information-icon.png
         :alt: See detailed information of a payment.

      .. note::
         - Unreconciling a payment unlinks it from the invoice or bill but does not delete the
           payment.
         - If a payment is (un)reconciled in a different currency, a journal entry is automatically
           created to post the currency exchange gains/losses (reversal) amount.
         - If a payment is (un)reconciled on an invoice with cash-basis taxes, a journal entry is
           automatically created to post the cash-basis tax (reversal) amount.

      .. tip::
         If the main bank account is set as the outstanding account on the bank journal's payment
         method, registering the full payment on an invoice or bill moves the invoice/bill directly
         to the :guilabel:`Paid` status without requiring bank reconciliation.

.. _accounting/payments/not-tied:

Registering payments not tied to an invoice or bill
===================================================

When a new payment is registered via :menuselection:`Customers / Vendors --> Payments`, it is not
directly linked to an invoice or bill.

.. tabs::

   .. group-tab:: Without outstanding accounts

      Payments that are not linked to an invoice or bill should not be registered without using
      :ref:`outstanding accounts <accounting/journals/outstanding-accounts>`, as there is no way to
      associate the payment with the invoice or bill since no journal entry is created for the
      payment. The amount paid or received is not reflected in the accounting and the
      :guilabel:`Amount Due` is not updated based on the payment amount.

   .. group-tab:: Using outstanding accounts

      Instead, the payment's journal entry matches the :guilabel:`outstanding account` with the
      account receivable or the account payable until the payment is manually matched with its
      related invoice or bill. Then, :doc:`reconciling <bank/reconciliation>` the payment with the
      bank transaction completes the payment workflow.

.. _accounting/payments/payments-matching:

Payments matching
-----------------

.. note::
   During the :doc:`bank reconciliation <bank/reconciliation>` process, a remaining balance is
   identified if the total debits and credits do not match when records are compared with bank
   transactions. This balance must either be reconciled later or written off immediately.

.. _accounting/payments/matching-invoices-bills:

For a single invoice or bill
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. tabs::

   .. group-tab:: Without outstanding accounts

      By default, payments in Odoo do not create journal entries. As a result, there is no payment
      to match.

   .. group-tab:: Using outstanding accounts

      A blue banner appears when validating a new invoice/bill and an **outstanding payment** exists
      for this specific customer or vendor. To match it with the invoice or bill, click
      :guilabel:`Add` under :guilabel:`Outstanding Credits` or :guilabel:`Outstanding Debits`.

      .. image:: payments/add-option.png
         :alt: Shows the Add option to reconcile an invoice or a bill with a payment.

      The invoice or bill is then marked as :guilabel:`In payment` until the payment is
      :doc:`reconciled <bank/reconciliation>` with its corresponding :doc:`bank transaction(s)
      <bank/transactions>`.

.. _accounting/payments/auto-reconcile-tool:

For multiple invoices or bills
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. tabs::

   .. group-tab:: Without outstanding accounts

      By default, payments in Odoo do not create journal entries. As a result, there is no payment
      to match, but this feature can still be used to match miscellaneous journal items.

   .. group-tab:: Using outstanding accounts

      The :guilabel:`Payments matching` or :guilabel:`Auto-reconcile` tool allows reconciling
      journal items with each other (i.e., payments with customer invoices or vendor bills) either
      individually or in batches. Access the :guilabel:`Accounting Dashboard`, click the
      :icon:`fa-ellipsis-v` (:guilabel:`ellipsis`) button from the :guilabel:`Customer
      Invoices` or :guilabel:`Vendor Bills` journals, and select :guilabel:`Payments Matching`.
      Alternatively, go to :menuselection:`Accounting --> Accounting --> Reconcile`.

      To manually :guilabel:`Reconcile` journal items, select the individual items from the list
      view and click :guilabel:`Reconcile`.

.. _accounting/payments/auto-reconcile-feature:

Auto-Reconcile Feature
**********************

.. tabs::

   .. group-tab:: Without outstanding accounts

      To use the :guilabel:`Auto-Reconcile` feature, follow these steps:

      #. In the :guilabel:`Journal Items to reconcile` list view, click :guilabel:`Auto-Reconcile`
         next to the receivable or payable account (or a specific contact's group of journal items
         in that account).
      #. In the :guilabel:`Reconcile automatically` window, click :guilabel:`Reconcile`.

   .. group-tab:: Using outstanding accounts

      To use the :guilabel:`Auto-Reconcile` feature, follow these steps:

      #. In the :guilabel:`Journal Items to reconcile` list view, click :guilabel:`Auto-Reconcile`
         next to the receivable or payable account (or a specific contact's group of journal items
         in that account).
      #. In the :guilabel:`Reconcile Automatically` window, set the
         :guilabel:`Reconcile` field depending on how you want to match journal items:

         - :guilabel:`Perfect Match`: Each debit journal item will be matched with
           the corresponding credit journal item of the same value.
         - :guilabel:`Clear Accounts`: All reconciled journal items will have the same
           matching number, as they are selected from the same account.

      #. Click :guilabel:`Reconcile`.

      Invoices and bills are automatically matched to their corresponding payments and marked as
      :guilabel:`In payment` until they are :doc:`reconciled <bank/reconciliation>` with their
      corresponding :doc:`bank transactions <bank/transactions>`.

.. _accounting/payments/group-payments:

Registering payments on multiple invoices/credit notes or bills/refunds (group payments)
========================================================================================

To register payments on multiple invoices/credit notes or bills/refunds, follow these steps:

#. Go to :menuselection:`Accounting --> Customers --> Invoices/Credit Notes` or
   :menuselection:`Accounting --> Vendors --> Bills/Refunds`.
#. In the list view, click into the search bar, group by :guilabel:`Payment Method`, select the
   relevant invoices/credit notes or bills/refunds and click :guilabel:`Pay`.
#. In the :guilabel:`Pay` window, select the :guilabel:`Journal` and the :guilabel:`Payment Date`.
#. If previously set, the contact's preferred :guilabel:`Payment Method` is automatically selected
   by default but can be updated if necessary.
#. If using :doc:`payment terms <customer_invoices/payment_terms>`, the :guilabel:`Amount` is
   automatically set based on the installment amounts defined by the payment term. To pay the full
   amount instead, click :guilabel:`full amount`.
#. To combine all payments from the same contact into a single payment, enable the :guilabel:`Group
   Payments` option, or leave it unchecked to create separate payments.
#. Click :guilabel:`Create payment`.

.. tabs::

   .. group-tab:: Without outstanding accounts

      The invoices or bills are then marked as :guilabel:`In payment` until they are
      :doc:`reconciled <bank/reconciliation>` with the bank transactions.

   .. group-tab:: Using outstanding accounts

      The invoices or bills are then marked as :guilabel:`In payment` until the bank transactions
      are :doc:`reconciled <bank/reconciliation>` with the payments.

.. _accounting/payments/batch-payments:

Registering a single payment for multiple customers or vendors (batch payments)
===============================================================================

Batch payments allow grouping payments from multiple customers to ease :doc:`reconciliation
<bank/reconciliation>`. They are also useful when depositing :ref:`checks
<accounting/payments/checks>` or cash payments to the bank or for generating bank payment files such
as :doc:`SEPA <payments/pay_sepa>` or :ref:`NACHA <l10n_us/nacha>`.

.. seealso::
   :doc:`payments/batch`

.. _accounting/payments/matching:

Payments matching
-----------------

The :guilabel:`Payments matching` tool opens all unreconciled journal items and allows them to be
processed individually, matching all payments and journal items. Go to the
:guilabel:`Accounting Dashboard`, go to :menuselection:`Accounting --> Accounting --> Reconcile` or
click the :icon:`fa-ellipsis-v` (:guilabel:`ellipsis`) button from the :guilabel:`Customer
Invoices` or :guilabel:`Vendor Bills` journals, and select :guilabel:`Payments Matching`.

.. image:: payments/payments-journal.png
   :alt: Payments matching menu in the drop-down menu.

.. note::
   During the :doc:`reconciliation <bank/reconciliation>`, if the sum of the debits and credits does
   not match, there is a remaining balance. This either needs to be reconciled at a later date or
   written off directly.

.. _accounting/payments/partial-payment:

Registering a partial payment
=============================

To register a partial payment, click on :guilabel:`Pay` from the related invoice or bill.

.. tabs::

   .. group-tab:: Without outstanding accounts

      In the case of a partial payment (when the :guilabel:`Amount` paid is less than the total
      remaining amount on the invoice or the bill), fill in the :guilabel:`Amount` in the
      :guilabel:`Pay` window.

   .. group-tab:: Using outstanding accounts

      In the case of a partial payment (when the :guilabel:`Amount` paid is less than the total
      remaining amount on the invoice or the bill), the :guilabel:`Payment Difference` field
      displays the outstanding balance. There are two options:

      - :guilabel:`Keep open`: Keep the invoice or the bill open and mark it with a
        :guilabel:`Partial` banner;
      - :guilabel:`Mark as fully paid`: Select an account in the :guilabel:`Post Difference In`
        field and change the :guilabel:`Label` if needed. A journal entry will be created to balance
        the accounts payable or receivable with the selected account.

      .. image:: payments/partial-payment.png
         :alt: register a partial payment

.. _accounting/payments/reconciling-payments:

Reconciling payments with bank transactions
===========================================

.. tabs::

   .. group-tab:: Without outstanding accounts

      Once a payment has been registered, the status of the invoice or bill is :guilabel:`In
      payment`. The next step is :doc:`reconciling <bank/reconciliation>` the related :doc:`bank
      transaction <bank/transactions>` line with the invoice or bill to finalize the payment
      workflow and mark the invoice or bill as :guilabel:`Paid`.

   .. group-tab:: Using outstanding accounts

      Once a payment has been registered, the status of the invoice or bill is :guilabel:`In
      payment`. The next step is :doc:`reconciling <bank/reconciliation>` the payment with the
      related :doc:`bank transaction <bank/transactions>` line to finalize the payment workflow and
      mark the invoice or bill as :guilabel:`Paid`.

.. toctree::
   :titlesonly:

   payments/online
   payments/batch
   payments/batch_sdd
   payments/follow_up
   payments/pay_sepa
   payments/pay_checks
   payments/forecast
   payments/trusted_accounts


==================================================
SECTION: peru.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/peru.rst
==================================================

:orphan:

=================================
Odoo electronic invoicing in Peru
=================================

Odoo Invoicing provides secure, efficient, and legally compliant e-invoicing solutions tailored to
meet Peru’s regulatory requirements and fully compatible with the guidelines established by the
`Superintendencia Nacional de Aduanas y de Administración Tributaria (SUNAT)
<https://www.sunat.gob.pe/>`_.

Legal framework for e-invoicing in Peru
=======================================

Peru has mandated electronic invoicing for most taxpayers to enhance tax compliance, reduce fraud,
and improve transparency. Key elements include:

- **Comprobante de Pago Electrónico (CPE)**: A mandatory electronic document required for B2B, B2C,
  and :abbr:`B2G (business-to-government)` transactions, fully compliant with :abbr:`SUNAT
  (Superintendencia Nacional de Aduanas y de Administración Tributaria)`'s technical specifications.
- **Integration with SUNAT**: E-invoices must be submitted to :abbr:`SUNAT (Superintendencia
  Nacional de Aduanas y de Administración Tributaria)` for validation and authorization. Upon
  approval, :abbr:`SUNAT (Superintendencia Nacional de Aduanas y de Administración Tributaria)`
  assigns a unique identification code to the invoice.
- **XML Format**: All electronic invoices must be issued in XML format, ensuring standardization and
  interoperability.
- **Mandatory adoption timeline**: Electronic invoicing is mandatory for most businesses, with
  specific deadlines for smaller entities.

Compliance with Peruvian e-invoicing regulations
================================================

Odoo Invoicing simplifies compliance with Peru’s e-invoicing requirements by offering tailored
features:

- **Supported formats**: Odoo supports the Peruvian :abbr:`CPE (Comprobante de Pago Electrónico` in
  :abbr:`SUNAT (Superintendencia Nacional de Aduanas y de Administración Tributaria)`-compliant XML
  formats, including all required fields and authorization codes.
- **Secure storage and retrieval**: In compliance with Peru's five-year mandatory storage
  requirement, Odoo offers tamper-proof archiving, ensuring easy access for audits or inspections.
- **Automatic tax calculation and reporting**: Odoo automates tax calculations for :abbr:`IGV
  (Impuesto General a las Ventas) and other applicable taxes, ensuring accuracy and compliance
  with :abbr:`SUNAT (Superintendencia Nacional de Aduanas y de Administración Tributaria)`'s
  reporting standards.

.. seealso::
   :doc:`Peruvian fiscal localization documentation <../../../fiscal_localizations/peru>`

.. admonition:: Disclaimer

   This page provides a general overview of Peruvian e-invoicing regulations and how Odoo supports
   compliance with :abbr:`SUNAT (Superintendencia Nacional de Aduanas y de Administración
   Tributaria)` requirements. It is not intended as legal or tax advice. We recommend consulting
   with a tax advisor or legal professional familiar with Peru's e-invoicing regulations to ensure
   compliance tailored to your specific business needs.


==================================================
SECTION: ponto.rst
PATH: applications/finance/accounting/bank/bank_synchronization/ponto.rst
==================================================

=====
Ponto
=====

`Ponto <https://myponto.com/>`_ is a paid third-party service that enables companies and
professionals to connect multiple bank accounts to a single platform. It provides a unified view of
all transactions within a single interface. When integrated with Odoo, it automatically synchronizes
bank transactions directly into its database.

.. note::
   Using Ponto is subject to applicable fees.

.. seealso::
   - :doc:`../bank_synchronization`
   - `Financial institutions connected to Ponto <https://www.isabelgroup.eu/banks>`_

.. _accounting/bank-synchronization/ponto/configuration:

Configuration
=============

To connect a bank with Odoo using Ponto as the third-party provider, follow these steps:

#. Set up your email address: Click the profile icon in the upper-right corner, select
   :guilabel:`My profile`, and fill in the :guilabel:`Email` field.
#. :ref:`Create a Ponto account <accounting/bank-synchronization/ponto/ponto-account-creation>` if
   needed.
#. :ref:`Connect Odoo to your bank <accounting/bank-synchronization/ponto/odoo-connection>`.

.. _accounting/bank-synchronization/ponto/ponto-account-creation:

Ponto account creation
----------------------

#. Access the `Ponto website <https://myponto.com>`_.
#. Click :guilabel:`Login`, then :guilabel:`Not a user yet?` and follow the instructions to create a
   new account.

   .. note::
      Use the same email address as the one :ref:`used for your Odoo profile
      <accounting/bank-synchronization/ponto/configuration>`.

#. After logging in, create an :guilabel:`Organization` and provide the necessary contact details.
#. Give consent to Ponto to access the bank account data.
#. Click :guilabel:`Accounts`, :guilabel:`Add account`, then :guilabel:`Choose your bank`, enter the
   bank account reference, and follow the on-screen steps to complete the linking process.
#. Add all relevant bank accounts that need to be synchronized with Odoo, then proceed to the next
   steps.

.. _accounting/bank-synchronization/ponto/odoo-connection:

Connection with Odoo
--------------------

When :ref:`connecting a bank to Odoo <accounting/bank-synchronization/first-synchronization>` using
Ponto as the third-party provider, follow these steps:

#. When connecting to the desired bank, make sure Ponto is selected as the third-party
   :guilabel:`Provider`.
#. Select the account(s) to grant Ponto access to account balances and transactions, then confirm
   the selection.
#. Authorize Odoo to request account information and initiate payment orders.
#. Select the specific bank account to connect.

.. tip::
   - Make sure to check the consent checkbox to allow information to be shared with Odoo.
   - Select all accounts that need access and synchronization, including those from other banking
     institutions.

.. seealso::
   :ref:`Update synchronization credentials <accounting/bank-synchronization/update-credentials>`

.. _accounting/bank-synchronization/ponto/payments:

Vendor payments with Ponto
==========================

.. important::
   Before managing vendor payments with Ponto, make sure the following steps are completed:

   - :ref:`SEPA Credit Transfer is activated (SCT) <accounting/pay_sepa/activate-sepa>`.
   - :ref:`The SEPA Credit Transfer payment method has been added to the bank journal
     <accounting/pay_sepa/activate-sepa-bank-journal>`.
   - :doc:`The vendor's bank account has been marked as trusted <../../payments/trusted_accounts>`.
   - The :guilabel:`Account Online Payment` (`account_online_payment`) module is :ref:`installed
     <general/install>`.

To register a vendor payment using Ponto, follow these steps:

#. Go to :menuselection:`Accounting --> Vendors --> Payments` and create the payment. Fill in the
   relevant bank :guilabel:`Journal` field, select :ref:`SEPA Credit Transfer
   <accounting/pay_sepa/registering-payments-sepa>` as the :guilabel:`Payment Method`, and enter the
   :guilabel:`Vendor Bank Account`. Then click :guilabel:`Confirm`.
#. Go to :menuselection:`Accounting --> Vendors --> Batch Payments` and :ref:`create a batch
   <accounting/batch/creation>`. Select the same bank :guilabel:`Journal` and :guilabel:`Payment
   Method`, and click :guilabel:`Add a line` to select the payment created in the previous step.
#. Click :guilabel:`Initiate Payment` to connect to Ponto and follow the steps to sign the payment.

.. _accounting/bank-synchronization/ponto/troubleshooting:

Troubleshooting
===============

.. seealso::
   :ref:`Bank synchronization troubleshooting <accounting/bank-synchronization/troubleshooting>`

.. _accounting/bank-synchronization/ponto/troubleshooting/expired-authorization:

Why has the authorization expired?
----------------------------------

Every six months (180 days), the connection between a bank account and Ponto must be re-authorized
via the `Ponto website <https://myponto.com>`_. Failure to do so will result in synchronization
stopping for those accounts.


==================================================
SECTION: reconciliation.rst
PATH: applications/finance/accounting/bank/reconciliation.rst
==================================================

===================
Bank reconciliation
===================

**Bank reconciliation** is the process of validating :doc:`bank transactions <transactions>`. Many
of these transactions are matched with counterpart items related to business records such as
:doc:`customer invoices <../customer_invoices>`, :doc:`vendor bills <../vendor_bills>`, and
:doc:`payments <../payments>`, while others that may not have a matching counterpart item (such as
bank fees) can be written off :ref:`manually <accounting/reconciliation/set-account>` or with
:ref:`reconciliation models <accounting/reconciliation/model>`. Not only is bank reconciliation
compulsory for most businesses, but it also offers several benefits, such as reduced risk of errors
in financial reports, detection of fraudulent activities, and improved cash flow management.

Thanks to the :ref:`default matching rules <accounting/reconciliation/reconcile>` and customizable
bank :doc:`reconciliation models <reconciliation_models>`, Odoo selects the matching items
automatically when possible.

.. seealso::
   - `Odoo Tutorials: Bank reconciliation
     <https://www.odoo.com/slides/slide/bank-reconciliation-6562>`_
   - :doc:`bank_synchronization`
   - :doc:`transactions`

.. _accounting/reconciliation/access:

Bank reconciliation view
========================

To access a journal's :guilabel:`Bank Matching` view, go to the :guilabel:`Accounting Dashboard` and
either:

- click the journal name (e.g., :guilabel:`Bank`) or its :guilabel:`Transactions` button to display
  all transactions, including those previously reconciled, or
- click the :guilabel:`x to reconcile` button to display only unreconciled transactions. To include
  previously reconciled transactions, remove the :guilabel:`Not Matched` filter from the search bar.

.. image:: reconciliation/bank-card.png
   :alt: Reaching the bank reconciliation tool from the accounting dashboard

The :guilabel:`Bank Matching` view is composed of lines for each transaction of the journal with the
newest displayed first. Each transaction has a date, a label, a partner (if set), :ref:`action
buttons <accounting/reconciliation/action-buttons>`, and the transaction amount. Each line can be
expanded to show additional information and buttons.

.. image:: reconciliation/user-interface.png
   :alt: The user interface of the bank matching view of a bank journal.

.. note::
   Once a :doc:`transaction <transactions>` is reconciled, the suggested action button(s) is
   replaced with the counterpart entry/entries it was matched with or the account(s) it was written
   off to.

.. _accounting/reconciliation/transactions:

Transactions
------------

Every :doc:`transaction <transactions>` is linked to a journal entry that debits/credits the
journal's main account and its suspense account until it is fully reconciled. At that point, the
suspense account is replaced with the account of the counterpart item or, in the case of
:ref:`manual matching <accounting/reconciliation/set-account>`, the selected account.

.. seealso::
   - :ref:`Duplicate transactions <accounting/bank-synchronization/duplicate-transactions>`
   - :ref:`Missing transactions <accounting/bank-synchronization/missing-transactions>`

.. _accounting/reconciliation/action-buttons:

Possible action buttons
~~~~~~~~~~~~~~~~~~~~~~~

Up to two suggested action buttons are available as primary buttons, but all available action
buttons are displayed when the transaction is expanded. The following action buttons are available
depending on the details of the transaction:

- :guilabel:`Set Partner`: Open a search view to add a partner to the transaction.
- :guilabel:`Set Account`: Open a search view to manually select an account to write off the full
  amount of the transaction with this account. If necessary, :ref:`edit the line
  <accounting/reconciliation/edit>` to change the amount.
- :guilabel:`Receivable`: Write off the transaction to the receivable account of the partner.
- :guilabel:`Sales`: Open a list view of sales orders belonging to the transaction's
  :guilabel:`Partner` (or proceed directly to the form view if only one relevant sales order
  exists). Select the relevant sales order(s) and click :guilabel:`Create Invoices`, then return to
  the :guilabel:`Bank Matching` view and match the invoice(s) using the :guilabel:`Reconcile` action
  button.
- :guilabel:`Payable`: Write off the transaction to the payable account of the partner.
- :guilabel:`Reconcile`: Open a search view of existing items from records such as customer
  invoices, vendor bills, and payments. Select one or multiple items to add counterpart items with
  the corresponding accounts of those items.
- :guilabel:`Batches`: Open a short list of :doc:`batch payments <../payments/batch>`. To view all
  batch payments, click :guilabel:`Search More ...`. Select a batch payment to add a counterpart
  item for each payment of the batch with the corresponding account of each payment.
- :doc:`reconciliation_models`: Each manual reconciliation model that could apply to the transaction
  is displayed. Click the reconciliation model's action button to generate the counterpart items
  defined on the reconciliation model.

.. note::
   To remove the partner from a transaction, click the :icon:`fa-times` :guilabel:`(close)` icon
   next to the partner's name.

Click the :icon:`fa-chevron-down` :guilabel:`(chevron down)` button next to the possible action
buttons of an expanded line to display any of the above action buttons that are hidden due to space
limitations, as well as the following:

- :guilabel:`Upload bills`: Upload one or more bills to be :doc:`digitized
  <../vendor_bills/invoice_digitization>`. After digitization, the bills are available for matching
  via the :guilabel:`Reconcile` action button.
- :guilabel:`Manage Models`: Open the list view of :doc:`reconciliation_models`.
- :guilabel:`Open Journal Entry`: Open the journal entry of this transaction.
- :guilabel:`Delete Transaction`: Delete this transaction.

.. note::
   Uploading bills from the :guilabel:`Bank Matching` view does not automatically reconcile them
   with the active transaction.

.. seealso::
   :doc:`../../../essentials/in_app_purchase`

.. _accounting/reconciliation/reconcile:

Reconcile transactions
======================

When possible, Odoo automatically reconciles transactions based on their fields.

If no partner is set on the transaction, the transaction's :guilabel:`Label` is compared with the
:guilabel:`Number`, :guilabel:`Customer Reference`, :guilabel:`Bill Reference`, and
:guilabel:`Payment Reference` of existing invoices, bills, and payments.

If a partner is set on the transaction, the transaction is instead matched with invoices, bills, and
payments of the partner based on the :guilabel:`Amount`. The following rules are used in a
sequential order to identify and apply a match:

- Exact match
- Discounted match: for payment terms with discounts for early payments
- Tolerance match: within 3% to account for merchant fees, rounding differences, and user errors
- Currency match: when the transaction is in a different currency than the invoice, bill, or
  payment (with a 3% tolerance for exchange rate differences)
- Amount in label: if the invoice :guilabel:`Amount` is found in the transaction's
  :guilabel:`Label`

In addition to using these fixed matching rules, transactions can be matched automatically with the
use of :doc:`reconciliation models <reconciliation_models>`. Otherwise, reconcile transactions
manually by following these steps:

#. Expand the desired line among unmatched bank transactions to display all available action
   buttons.
#. Define the counterpart. There are several options for defining a counterpart, including
   :ref:`matching existing items <accounting/reconciliation/existing-items>`, :ref:`manually setting
   the account <accounting/reconciliation/set-account>`, matching with :doc:`batch payments
   <../payments/batch>`, and using :ref:`reconciliation model buttons
   <accounting/reconciliation/model>`.
#. If the resulting entry is not fully balanced, add another existing counterpart item or write it
   off by :ref:`setting the account <accounting/reconciliation/set-account>` of the remaining
   amount.

.. _accounting/reconciliation/existing-items:

Existing items
--------------

To reconcile transactions with existing items related to records such as customer invoices, vendor
bills, and payments, click the :guilabel:`Reconcile` action button, select the matching journal
item(s) in the list, and click :guilabel:`Select`.

.. note::
   If the :guilabel:`Partner` is set, this list is automatically filtered to only include items
   related to that partner.

.. tip::
   Use the search bar within the :guilabel:`Search: Journal Items to Match` window to search for
   specific journal items.

If a transaction amount is lower than the invoice or bill it is reconciled with, the transaction is
fully reconciled, but the difference remains open on the counterpart item. The remaining amount can
be left open to be reconciled later or the invoice or bill can be marked as fully paid. To mark the
invoice or bill as fully paid, :ref:`edit <accounting/reconciliation/edit>` the line, click
:guilabel:`fully paid`, and :guilabel:`Save`. To reverse this, :ref:`edit
<accounting/reconciliation/edit>` the line again, click :guilabel:`partial payment`, and
:guilabel:`Save`.

If a transaction amount is greater than the invoice or bill it is reconciled with, the transaction
is only partially reconciled. The remaining balance can be reconciled as any other transaction
amount.

.. note::
   Existing items of draft entries can be matched. Eventual automatic moves (like currency exchange
   or cash basis moves) are created in draft simultaneously with the reconciliation. Posting the
   original entry also posts the automatic move.

.. _accounting/reconciliation/set-account:

Set account
-----------

If no existing item matches the selected transaction, you can still write off the transaction
manually: Click :guilabel:`Set Account`, then choose the appropriate account. To write off only part
of the transaction, :ref:`edit the line <accounting/reconciliation/edit>` to reflect the correct
value and reconcile the remaining amount as desired.

.. tip::
   If the partner is set, write the amount off to their receivable or payable account directly by
   clicking the :guilabel:`Receivable` or :guilabel:`Payable` :ref:`action button
   <accounting/reconciliation/action-buttons>`.

.. _accounting/reconciliation/model:

Reconciliation models
---------------------

Use :doc:`reconciliation models <reconciliation_models>` to create custom rules that can be applied
automatically or manually via custom buttons for operations that are frequently repeated. These
custom buttons allow you to quickly reconcile bank transactions manually and can also be combined
with other reconciliation models and with counterpart items when reconciling transactions.

.. example::
   An outgoing bank transaction for $103 is partially matched with a vendor bill for $100, leaving
   $3 of the transaction still unreconciled. Use the :guilabel:`Bank Fees` reconciliation model to
   create a new counterpart item for $3 and reconcile it with the remaining $3 of the bank
   transaction.

.. _accounting/reconciliation/edit:

Edit lines and unreconcile transactions
=======================================

To edit a counterpart item, expand the line, click the :icon:`fa-pencil` :guilabel:`(pencil)` icon,
and edit the necessary fields in :guilabel:`Edit Line` window.

.. note::
   When the counterpart item is an existing journal item, some fields are read-only.

If a transaction is partially matched with a counterpart item, use the link to mark the invoice as
:guilabel:`fully paid` or to switch back to a :guilabel:`partial payment`.

To unreconcile a transaction, delete all counterpart items associated with the transaction by
clicking on the :icon:`fa-trash` :guilabel:`(trash)` icon.

.. _accounting/reconciliation/netting:

Netting
=======

Netting (also known as AP/AR offsetting) is the process of balancing incoming debts from and
outgoing debts to the same partner. Reconciling the incoming and outgoing debts creates a new
journal entry that balances the debts. Two main scenarios exist:

- :ref:`A bank transaction balances <accounting/reconciliation/net-transaction>` (either fully or
  partially) the incoming and outgoing debts.
- :ref:`No bank transaction balances <accounting/reconciliation/net-no-transaction>` the incoming
  and outgoing debts. This situation can occur either when the debts balance each other completely
  or when the debts remain unbalanced.

.. _accounting/reconciliation/net-transaction:

Netting with bank transactions
------------------------------

When a bank transaction balances (either fully or partially) the incoming and outgoing debts,
reconcile the bank transaction from the :guilabel:`Bank Matching` view like any other :ref:`existing
items <accounting/reconciliation/existing-items>`:

#. Click :guilabel:`Reconcile` on the transaction.
#. Select all the relevant counterpart items on both the payable and receivable side.
#. Click :guilabel:`Select`.
#. If a balance remains, depending on the details, the following situations are possible:

   - An invoice, bill, or other item is not fully reconciled, and the remaining balance can be
     :ref:`reconciled <accounting/reconciliation/reconcile>` with other bank transactions.
   - The bank transaction itself is not fully reconciled, and the remaining balance can be
     :ref:`reconciled <accounting/reconciliation/reconcile>` as in any other situation.

.. _accounting/reconciliation/net-no-transaction:

Netting without bank transactions
---------------------------------

When no bank transaction balances the incoming and outgoing debts, there is nothing to reconcile
from the :guilabel:`Bank Matching` view. However, the debt amount is visible in both the account
receivable and the account payable. To balance these debts so that they no longer appear on the
partner ledger, follow these steps:

#. Go to :menuselection:`Accounting --> Accounting --> Reconcile`.
#. Select the journal items that debit or credit the account receivable and account payable and
   represent the debts to be netted.
#. Click :guilabel:`Reconcile`.
#. If the debts don't balance each other perfectly, a :guilabel:`Write-Off Entry` popup window
   appears, allowing you to decide how to resolve the remaining balance:

   - Select :guilabel:`Allow partials` to only partially reconcile the account receivable and
     account payable and leave the remaining balance open.
   - Use a :doc:`reconciliation model button <reconciliation_models>` to write off the balance.
   - Manually choose an :guilabel:`Account`, and optionally adjust the :guilabel:`Tax`,
     :guilabel:`Journal`, :guilabel:`Label`, :guilabel:`Date`, and :guilabel:`To Check` fields.

The items are then matched, and their balance is removed from the partner ledger, representing that
no payment is due for these debts.

.. note::
   The workflow is the same whether there are only two equal debts in the receivable and payable
   accounts or multiple debts in each account.


==================================================
SECTION: reconciliation_models.rst
PATH: applications/finance/accounting/bank/reconciliation_models.rst
==================================================

=====================
Reconciliation models
=====================

Reconciliation models are custom rules that complement the :ref:`default set of matching rules
<accounting/reconciliation/reconcile>` and enable more advanced automation of the :doc:`bank
reconciliation <reconciliation>` process. These models are especially useful when dealing with
recurring flows like writing off bank fees or :doc:`cash discounts
<../customer_invoices/cash_discounts>`.

.. seealso::
   `Odoo Tutorials: Reconciliation models <https://www.odoo.com/slides/slide/reconciliation-models-6858>`_

.. _accounting/rec-models/config:

Configuration
=============

To access reconciliation models, go to the :guilabel:`Accounting Dashboard`, click the
:icon:`fa-ellipsis-v` :guilabel:`(dropdown menu)` menu on the bank journal, and select
:guilabel:`Models` under the :guilabel:`Reconciliation` section.

To create a new reconciliation model, click :guilabel:`New`.

Reconciliation models can be either :guilabel:`Manual` or :guilabel:`Automated`. Manual
reconciliation models appear as :ref:`possible action buttons
<accounting/reconciliation/action-buttons>` when :doc:`reconciling <reconciliation>`. Automatic
reconciliation models apply automatically to transactions that meet the reconciliation model's
:ref:`matching conditions <accounting/rec-models/conditions>`.

Each reconciliation model is configured with :ref:`matching conditions
<accounting/rec-models/conditions>` to identify the relevant bank transactions and :ref:`Counterpart
Items <accounting/rec-models/counterpart>` to be generated during reconciliation.

.. tip::
   To create an activity on the transaction, select which type of activity to create in the
   :guilabel:`Next Activity` field.

.. important::
   If a record matches with several reconciliation models, the first one in the *sequence* of models
   is applied. Rearrange the order by dragging and dropping the handle next to the name.

   .. image:: reconciliation_models/list-view.png
      :alt: Rearrange the sequence of models in the list view.

.. _accounting/rec-models/conditions:

Matching conditions
-------------------

A reconciliation model's matching conditions determine to which transactions it applies.

The following fields can be used to restrict the reconciliation model's availability to transactions
that meet the conditions:

- :guilabel:`Journals`
- :guilabel:`Partners`
- :guilabel:`Amount`: Select :guilabel:`Is lower than or equal to`, :guilabel:`Is greater than or
  equal to`, or :guilabel:`Is between` and enter the amount(s).
- :guilabel:`Label`: Select :guilabel:`Contains`, :guilabel:`Not Contains`, or :guilabel:`Match
  Regex` and enter the transaction label's matching condition.

.. tip::
   `Regular expressions <https://regexone.com/>`_, often abbreviated as **regex**, can be used in
   Odoo in various ways to search, validate, and manipulate data. Regex can be powerful but also
   complex, so it's essential to use it judiciously.

   To use regular expressions in a reconciliation model, set the :guilabel:`Label` to
   :guilabel:`Match Regex` and add an expression. Odoo automatically retrieves the transactions
   that match the regex expression and the conditions specified in the reconciliation model.

.. note::
   A transaction must meet all conditions for the reconciliation model to be available for it. If no
   condition is defined (i.e., if all fields are left blank), the reconciliation model will be
   available for all transactions.

.. _accounting/rec-models/counterpart:

Counterpart items
-----------------

Each line in the :guilabel:`Counterpart items` tab creates a journal item with the specified
details:

- :guilabel:`Partner`: Select the partner, if any, to set on the journal item.
- :guilabel:`Account`: Select the account, if any, to set on the journal item.
- :guilabel:`Amount Type`: Select how the amount of the journal item should be calculated:

  - :guilabel:`Fixed`: Use a fixed amount.
  - :guilabel:`Percentage of balance`: Use a percentage of the remaining balance of the
    transaction, regardless of the transaction total.
  - :guilabel:`Percentage of statement line`: Use a percentage of the transaction total, regardless
    of the remaining balance of the transaction.
  - :guilabel:`From label`: Use a percentage from the transaction's label using regex.

- :guilabel:`Amount`: Enter the amount to be used on the journal item. This field will be either a
  fixed amount, percentage amount, or regex depending on the :guilabel:`Account Type`.
- :guilabel:`Taxes`: Select a tax, if any, to set on the journal item. This field is hidden behind
  the :icon:`oi-settings-adjust` :guilabel:`(settings adjust)` icon by default.
- :guilabel:`Analytic`: Select an analytic distribution, if any, to set on the journal item.
- :guilabel:`Label`: Enter a label, if any, to set on the journal item.

.. note::
   - While neither the :guilabel:`Partner` nor :guilabel:`Account` fields are mandatory, at least
     one of the two must be set for the reconciliation model to work correctly.
   - The reconciliation model can be used for :ref:`partner mapping <accounting/rec-models/partner>`
     if the :guilabel:`Counterpart Items` include a :guilabel:`Partner` but no :guilabel:`Account`.

.. _accounting/rec-models/defaults:

Default reconciliation models
=============================

In Odoo, different models are available by default depending on the company's :doc:`fiscal
localization <../../fiscal_localizations>`. These can be updated if needed. The following
reconciliation models exist across most fiscal localizations.

Internal Transfers
------------------

The :guilabel:`Internal Transfers` reconciliation model is used for making :doc:`internal transfers
<internal_transfers>` from one bank or cash account to another by moving the entire transaction's
balance to a liquidity or internal transfer account. To fully transfer the amount from one account
to another, this reconciliation model must be used on both the incoming journal's transaction and
the outgoing journal's transaction.

.. seealso::
   :doc:`internal_transfers`

Bank Fees
---------

The :guilabel:`Bank Fees` reconciliation model generates a counterpart item that moves the remaining
balance of a transaction to a bank fees account (that varies by :doc:`fiscal localization
<../../fiscal_localizations>`) and includes "Bank Fees" in the :guilabel:`Label` of the new item
that it creates. This reconciliation model is only applicable to transactions whose label contains
"Bank Fees" due to its :ref:`matching conditions <accounting/rec-models/conditions>`.

.. example::
   An outgoing bank transaction for $103 is partially matched with a vendor bill for $100, leaving
   $3 of the transaction still unreconciled. Use the :guilabel:`Bank Fees` reconciliation model to
   create a new counterpart item for $3 and reconcile it with the remaining $3 of the bank
   transaction.

Cash Discount
-------------

The :guilabel:`Cash Discount` reconciliation model generates a counterpart item that moves the
remaining balance of a transaction to a cash discount account (that varies by :doc:`fiscal
localization <../../fiscal_localizations>`) and includes "Cash Discount" in the :guilabel:`Label` of
the new item that it creates.

.. seealso::
   :doc:`../customer_invoices/cash_discounts`

.. _accounting/rec-models/partner:

Partner mapping
===============

Partner mapping allows you to establish rules for automatically matching transactions to the correct
partner account, saving time and reducing the risk of errors that can occur during manual
reconciliation. For example, you can create a partner mapping rule for incoming payments with
specific reference numbers or keywords in the transaction description. When an incoming payment
meets these criteria, Odoo automatically maps it to the corresponding customer's account.

To create a partner mapping rule, configure any :ref:`matching conditions
<accounting/rec-models/conditions>`, such as a specific transaction label, and then configure the
:guilabel:`Partner` and any other relevant fields in the :ref:`Counterpart Items
<accounting/rec-models/counterpart>` tab. Setting an :guilabel:`Account` is not mandatory for
partner mapping.


==================================================
SECTION: reporting.rst
PATH: applications/finance/accounting/reporting.rst
==================================================

:show-content:

=========
Reporting
=========

Odoo includes **generic** and **dynamic** reports available for all countries, regardless of the
:doc:`localization package <../../finance/fiscal_localizations>` installed:

-  :ref:`accounting/reporting/balance-sheet`
-  :ref:`accounting/reporting/profit-and-loss`
-  :ref:`accounting/reporting/executive-summary`
-  :ref:`accounting/reporting/general-ledger`
-  :ref:`accounting/reporting/aged-receivable`
-  :ref:`accounting/reporting/aged-payable`
-  :ref:`accounting/reporting/cash-flow-statement`
-  :ref:`accounting/reporting/tax-report`

To expand the lines of a report and view its details, click the :icon:`fa-caret-right`
(:guilabel:`right arrow`) on the left. Then click the :icon:`fa-caret-down` (:guilabel:`down arrow`)
to the right of the account, journal entry, payment, invoice, etc. to :guilabel:`Annotate` and view
the details.

.. image:: reporting/reporting-annotate.png
   :alt: Annotate reports.

To export reports in PDF or XLSX format, click :guilabel:`PDF` at the top or click the
:icon:`fa-caret-down` (:guilabel:`down arrow`) icon next to the :guilabel:`PDF` button and
select :guilabel:`XLSX`.

To compare values across periods, click the :guilabel:`Comparison` menu and select the periods you
want to compare.

.. image:: reporting/reporting-comparison.png
   :alt: Comparison menu to compare time periods.

.. _accounting/reporting/balance-sheet:

Balance Sheet
=============

The :guilabel:`Balance Sheet` shows a snapshot of your organization's assets, liabilities, and
equity at a particular date.

.. _accounting/reporting/profit-and-loss:

Profit and Loss
===============

The :guilabel:`Profit and Loss` report (or **Income Statement**) shows your company's net income by
deducting expenses from revenue for the reporting period.

.. _accounting/reporting/executive-summary:

Executive Summary
=================

The :guilabel:`Executive Summary` provides an overview of all the important figures for overseeing
your company's performance.

It includes the following items:

- :guilabel:`Performance`:
    - :guilabel:`Gross profit margin`:
        The contribution of all sales your business makes **minus** any direct costs needed to
        make those sales (labor, materials, etc.).
    - :guilabel:`Net profit margin`:
        The contribution of all sales made by your business **minus** any direct costs needed to
        make those sales *and* fixed overheads your company has (electricity, rent, taxes
        to be paid as a result of those sales, etc.).
    - :guilabel:`Return on investment (per annum)`:
        The ratio of the net profit to the amount of assets the company used to make those profits.
- :guilabel:`Position`:
    - :guilabel:`Average debtors days`:
        The average number of days it takes your customers to (fully) pay you across all your
        customer invoices.
    - :guilabel:`Average creditors days`:
        The average number of days it takes you to (fully) pay your suppliers across all your bills.
    - :guilabel:`Short-term cash forecast`:
        How much cash is expected in or out of your business in the next month, i.e., the balance of
        your **Sales account** for the month **minus** the balance of your **Purchases account** for
        the month.
    - :guilabel:`Current assets to liabilities`:
        Also referred to as the **current ratio**, this is the ratio of current assets (:dfn:`assets
        that could be turned into cash within a year`) to the current liabilities (:dfn:`liabilities
        that will be due in the next year`). It is typically used to measure a company's ability to
        service its debt.

.. _accounting/reporting/general-ledger:

General Ledger
==============

The :guilabel:`General Ledger` report shows all transactions from all accounts for a selected date
range. The initial summary report shows the totals for each account. To expand an account and view
its details, click the :icon:`fa-caret-right` (:guilabel:`right arrow`) on the left.
This report is useful for reviewing each transaction that occurred during a specific period.

.. _accounting/reporting/aged-receivable:

Aged Receivable
===============

The :guilabel:`Aged Receivable` report shows the sales invoices awaiting payment during a selected
month and several months prior.

.. _accounting/reporting/aged-payable:

Aged Payable
============

The :guilabel:`Aged Payable` report displays information on individual bills, credit notes, and
overpayments you owe and how long these have gone unpaid.

.. _accounting/reporting/cash-flow-statement:

Cash Flow Statement
===================

The :guilabel:`Cash Flow Statement` shows how changes in balance sheet accounts and income affect
cash and cash equivalents and breaks the analysis down to operating, investing, and financing
activities.

.. _accounting/reporting/tax-report:

Tax Report
==========

The :guilabel:`Tax Report` shows the :guilabel:`NET` and :guilabel:`TAX` amounts for all the
taxes grouped by type (:guilabel:`Sales`/:guilabel:`Purchases`).

.. toctree::
   :titlesonly:

   reporting/tax_returns
   reporting/tax_carryover
   reporting/analytic_accounting
   reporting/budget
   reporting/intrastat
   reporting/data_inalterability
   reporting/silverfin
   reporting/customize
   reporting/year_end


==================================================
SECTION: retention.rst
PATH: applications/finance/accounting/taxes/retention.rst
==================================================

=================
Withholding taxes
=================

A **withholding tax**, also known as retention tax, mandates the payer of a customer invoice to
deduct a tax from the payment and remit it to the government. Typically, a tax is included in the
subtotal to calculate the total amount paid, while withholding taxes are directly subtracted from
the payment.

Configuration
=============

In Odoo, a withholding tax is defined by creating a negative tax. To create one, go
to :menuselection:`Accounting --> Configuration --> Taxes` and, in the :guilabel:`Amount` field,
enter a negative amount.

.. image:: retention/negative-amount.png
   :alt:  negative tax amount in field

Then, go to the :menuselection:`Advanced Options` tab and create a retention :guilabel:`Tax Group`.

.. image:: retention/tax-group.png
   :alt: tax group for retention tax.

.. tip::
   If the retention is a percentage of a regular tax, create a :guilabel:`Tax` with a
   :guilabel:`Tax Computation` as a :guilabel:`Group of Taxes`. Then, set both the regular tax and
   the retention one in the :guilabel:`Definition` tab.

Retention taxes on invoices
===========================

Once the retention tax has been created, it can be used on customer forms, sales orders, and
customer invoices.
Several taxes can be applied on a single customer invoice line.

.. image:: retention/invoice-tax.png
   :alt: invoice lines with taxes

.. seealso::

   :doc:`../taxes`


==================================================
SECTION: romania.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/romania.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Romania
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Romania's regulatory standards.

Legal framework for e-invoicing in Romania
==========================================

In Romania, e-invoicing is regulated under the `Fiscal Code <http://www.dreptonline.ro/carti/start_carte.php?id_carte=324>`_
and aligned with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
which mandates e-invoicing for :abbr:`B2G (business-to-government)` transactions. Romania has
implemented the RO e-Factura system, the national platform for issuing and receiving electronic
invoices in a standardized format. The use of RO e-Factura is mandatory for :abbr:`B2G
(business-to-government)` transactions and for specific high-risk B2B sectors, with further
expansion anticipated. Romania is also integrated with the Peppol network, facilitating cross-border
e-invoicing and compliance within the European Union.

Compliance with Romanian e-invoicing regulations
================================================

Odoo invoicing module is fully equipped to help businesses comply with Romania’s specific
e-invoicing requirements. Here’s how Odoo supports compliance:

- **Supported formats**: Odoo supports XML in :abbr:`UBL (Universal Business Language)` and the
  structured formats required by RO e-Factura, ensuring compliance with Romania's e-invoicing
  standards for B2G and high-risk B2B transactions. Additionally, Odoo supports formats compatible
  with the Peppol network, enabling seamless cross-border invoicing. Odoo integrates with the RO
  e-Factura system, allowing businesses to generate, validate, and submit e-invoices directly to
  Romanian public authorities or private entities as required by law. Odoo helps businesses comply
  with eTransport requirements by generating and managing the data necessary for reporting the
  movement of high-fiscal risk goods. This includes shipment details such as the nature of the
  goods, vehicle information, and delivery destinations, ensuring timely submission to the
  :abbr:`ANAF (Romanian National Agency for Fiscal Administration)`.
- **Secure storage and retrieval**: In compliance with Romanian regulations, which require invoices
  to be stored for a minimum of ten years, Odoo securely archives all invoices in a tamper-proof
  system, ensuring accessibility during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and formats
  invoices to comply with Romanian VAT requirements, ensuring accuracy and adherence to legal
  standards for both :abbr:`B2G (business-to-government)` and B2B transactions.

.. seealso::
   :doc:`Romania fiscal localization documentation <../../../fiscal_localizations/romania>`

.. admonition:: Disclaimer

   This page provides an overview of Romanian e-invoicing laws and how Odoo Invoicing supports
   compliance with the Fiscal Code, RO e-Factura, Peppol standards, and other relevant regulations.
   It does not constitute legal advice. We recommend consulting with a tax advisor or legal
   professional familiar with Romanian e-invoicing regulations to ensure compliance tailored to your
   specific business needs.


==================================================
SECTION: sequence.rst
PATH: applications/finance/accounting/customer_invoices/sequence.rst
==================================================

================
Invoice sequence
================

When confirming an invoice, Odoo generates a unique invoice reference number. By default, it uses
the sequence format `INV/year/incrementing-number` (e.g., `INV/2025/00001`), which restarts from
`00001` each year.

However, it is possible to :ref:`change the sequence format <accounting/invoice/resequencing>` and
its periodicity, and to :ref:`mass-resequence invoices <accounting/invoice/mass-resequencing>`.

.. note::
   Changes made to reference numbers are logged in the chatter.

.. _accounting/invoice/resequencing:

Changing the default sequence
=============================

To customize the default sequence, open the last confirmed invoice, click :guilabel:`Reset to
Draft`, and edit the invoice's reference number.

.. image:: sequence/reference-number.png
   :alt: Editing the reference number of an invoice.

Odoo then explains how the detected format will be applied to all future invoices. For example, if
the current invoice's month is added, the sequence's periodicity will change to every month instead
of every year.

.. image:: sequence/sequence-dialog.png
   :alt: Editing the reference number of an invoice.

.. tip::
   The sequence format can be edited directly when creating the first invoice of a given sequence
   period.

.. _accounting/invoice/mass-resequencing:

Mass-resequencing invoices
==========================

It can be helpful to resequence multiple invoice numbers. For example, when importing invoices from
another invoicing or accounting system and the reference originates from the previous software,
continuity for the current year must be maintained without restarting from the beginning.

.. note::
   This feature is only available to users with administrator or advisor access.

Follow these steps to resequence invoice numbers:

#. Activate the :ref:`developer mode <developer-mode>`.
#. From the :guilabel:`Accounting Dashboard`, open the :guilabel:`Customer Invoices` journal.
#. Select the invoices that need a new sequence.
#. Click the :icon:`fa-cog` :guilabel:`Actions` menu and select :guilabel:`Resequence`.
#. In the :guilabel:`Ordering` field, choose to

   - :guilabel:`Keep current order`: The order of the numbers remains the same.
   - :guilabel:`Reorder by accounting date`: The number is reordered by accounting date.

#. Set the :guilabel:`First New Sequence`.
#. :guilabel:`Preview Modifications` and click :guilabel:`Confirm`.

.. image:: sequence/invoice-sequencing.png
   :alt: Resequence options window

.. note::
   - To indicate where the sequence change began, the first invoice in the new sequence is
     highlighted in red in the :guilabel:`Customer Invoices` list. This visual marker is permanent
     and purely informational.
   - If there are any irregularities in the new sequence, such as gaps, cancelled, or deleted
     entries within the open period, a :guilabel:`Gaps in the sequence` message appears in the
     :guilabel:`Customer Invoices` journal on the Accounting dashboard. To view more details about
     the related invoice(s), click :guilabel:`Gaps in the sequence`. This visual marker is temporary
     and will disappear once the entry's accounting date is on or after the lock date.

.. tip::
   Resequencing is not possible:

   - When entries are before a lock date.
   - When the sequence leads to a duplicate.
   - When the range is invalid. For example, if the :guilabel:`Invoice Date` doesn't align with the
     date in the new sequence, such as using a 2024 sequence (INV/2024/XXXXX) for an invoice dated
     in 2025.

   In these cases, a :guilabel:`Validation Error` message appears.


==================================================
SECTION: sequence.rst
PATH: applications/finance/accounting/vendor_bills/sequence.rst
==================================================

====================
Vendor bill sequence
====================

When confirming a vendor bill, Odoo generates a unique vendor bill reference number. By default, it
uses the sequence format `BILL/year/month/incrementing-number` (e.g., `BILL/2025/01/00001`), which
restarts from `00001` each year.

However, it is possible to :ref:`change the sequence format <accounting/vendor_bills/resequencing>`
and its periodicity, and to :ref:`mass-resequence vendor bills
<accounting/vendor_bills/mass-resequencing>`.

.. note::
   Changes made to reference numbers are logged in the chatter.

.. _accounting/vendor_bills/resequencing:

Changing the default sequence
=============================

To customize the default sequence, open the last confirmed vendor bill, click :guilabel:`Reset to
Draft`, and edit the vendor bill's reference number.

.. image:: sequence/sequence-reference-number.png
   :alt: Editing the reference number of a vendor bill.

Odoo then explains how the detected format will be applied to all future vendor bills. For example,
if the current vendor bill's month is withdrawn, the sequence's periodicity will change to every
year instead of every month.

.. image:: sequence/sequence-dialog.png
   :alt: Editing the reference number of a vendor bill.

.. tip::
   The sequence format can be edited directly when creating the first vendor bill of a given
   sequence period.

.. _accounting/vendor_bills/mass-resequencing:

Mass-resequencing vendor bills
==============================

It can be helpful to resequence multiple vendor bill numbers. For example, when importing vendor
bills from another accounting system and the reference originates from the previous software,
continuity for the current year must be maintained without restarting from the beginning.

.. note::
   This feature is only available to users with administrator or advisor access.

Follow these steps to resequence vendor bill numbers:

#. Activate the :ref:`developer mode <developer-mode>`.
#. In the vendor bills list view, select the vendor bills that need a new sequence.
#. Click the :icon:`fa-cog` :guilabel:`Actions` menu and select :guilabel:`Resequence`.
#. In the :guilabel:`Ordering` field, choose to

   - :guilabel:`Keep current order`: The order of the numbers remains the same.
   - :guilabel:`Reorder by accounting date`: The number is reordered by accounting date.

#. Set the :guilabel:`First New Sequence`.
#. :guilabel:`Preview Modifications` and click :guilabel:`Confirm`.

.. image:: sequence/sequence-bill-sequencing.png
   :alt: Resequence options window

.. note::
   - To indicate where the sequence change began, the first vendor bill in the new sequence is
     highlighted in red in the :guilabel:`Vendor Bills` list. This visual marker is permanent
     and purely informational.
   - If there are any irregularities in the new sequence, such as gaps, cancelled, or deleted
     entries within the open period, a :guilabel:`Gaps in the sequence` message appears in the
     :guilabel:`Vendor Bills` journal on the Accounting dashboard. To view more details about the
     related vendor bill(s), click :guilabel:`Gaps in the sequence`. This visual marker is temporary
     and will disappear once the entry's accounting date is on or after the lock date.

.. tip::
   Resequencing is not possible:

   - When entries are before a lock date.
   - When the sequence leads to a duplicate.
   - When the range is invalid. For example, if the :guilabel:`Bill Date` doesn't align with the
     date in the new sequence, such as using a 2024 sequence (BILL/2024/MM/XXXX) for an vendor bill
     dated in 2025.

   In these cases, a :guilabel:`Validation Error` message appears.


==================================================
SECTION: silverfin.rst
PATH: applications/finance/accounting/reporting/silverfin.rst
==================================================

=====================
Silverfin integration
=====================

`Silverfin <https://www.silverfin.com>`_ is a third-party service provider that offers a cloud
platform for accountants.

Odoo and Silverfin provide an integration to automate the synchronization of data.

Configuration
=============

To configure this integration, you need to input the following data into your Silverfin account:

- user's email address
- :ref:`Odoo API key <silverfin/api-key>`
- URL of the Odoo database
- name of your Odoo database

.. _silverfin/api-key:

Odoo API key
------------

You can create Odoo external API keys either :ref:`for a single database <silverfin/api-singledb>`
(hosting: Odoo Online, On-premise, and Odoo.sh) or :ref:`for all databases managed by a single user
<silverfin/api-multipledb>` (hosting: Odoo Online).

.. important::
   - These API keys are personal and provide full access to your user account. Store it securely.
   - You can copy the API key only at its creation. It is not possible to retrieve it later.
   - If you need it again, create a new API key (and delete the old one).

.. seealso::
   :doc:`/developer/reference/external_api`

.. _silverfin/api-singledb:

Per database
~~~~~~~~~~~~

To add an API key to a **single** database, connect to the database, enable the :ref:`developer
mode <developer-mode>`, click on the user menu, and then :guilabel:`My Profile` /
:guilabel:`Preferences`. Under the :guilabel:`Account Security` tab, click on :guilabel:`New API
Key`, confirm your password, give a descriptive name to your new key, and copy the API key.

.. image:: silverfin/api-key-db.png
   :alt: creation of an Odoo external API key for a database

.. seealso::
   :ref:`api/external_api/keys`

.. _silverfin/api-multipledb:

For all databases (fiduciaries)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To add an API key to **all** databases managed by a single user at the same time **(the easiest
method for fiduciaries)**, navigate to `Odoo's website <https://www.odoo.com>`_  and sign in with
your administrator account. Next, open `your account security settings in developer mode
<https://www.odoo.com/my/security?debug=1>`_, click on :guilabel:`New API Key`, confirm your
password, give a descriptive name to your new key, and copy the new API key.

.. tip::
   Open the `database manager <https://www.odoo.com/my/databases>`_ to view all databases that will
   be linked to the single API key.

.. image:: silverfin/api-key-user.png
   :alt: creation of an Odoo external API key for an Odoo user


==================================================
SECTION: snailmail.rst
PATH: applications/finance/accounting/customer_invoices/snailmail.rst
==================================================

.. _customer_invoices/snailmail:

=========
Snailmail
=========

Sending direct mail can be an effective strategy for grabbing people's attention, especially when
their email inboxes are overflowing. With Odoo, you have the ability to send invoices and follow-up
reports through postal mail worldwide, all from within your database.

Configuration
=============

Go to :menuselection:`Accounting --> Configuration --> Settings` and scroll down to the
:guilabel:`Customer Invoices` section to activate :guilabel:`Snailmail`.

.. tip::
   Set a preferred :ref:`invoice sending <accounting/invoice/sending>` method in the
   :guilabel:`Accounting` tab of a contact to use it by default.

Sending invoices by post
========================

In the invoice form view, ensure the :guilabel:`Customer` address is correct and has the country
set. Click :guilabel:`Send`, select :guilabel:`by Post`, then :guilabel:`Send` the letter.

.. important::
   Documents sent via snailmail must respect the following rules:

   - The paper format must be **A4**.
   - Margins must be at least **5 mm** on all sides. To configure margins, activate the
     :ref:`developer mode <developer-mode>` and go to :menuselection:`Settings --> Technical -->
     Paper Format`.
   - A square of **15mm by 15mm** on the bottom left corner must remain clear.
   - Odoo fills these areas with white before sending the letter; any overflowing content will be
     cut.
   - The **postage area** must remain clear (download the :download:`snailmail PDF template
     <snailmail/snailmail-template.pdf>` for details).
   - Pingen (Odoo's snailmail service provider) scans the **address area** to obtain the address.
     Any text outside the address area is not considered part of the address.

Pricing
=======

Snailmail is an :doc:`/applications/essentials/in_app_purchase` service that requires prepaid stamps
(credits) to work. Sending one document consumes one stamp.

To buy stamps, go to :menuselection:`Accounting --> Configuration --> Settings`, scroll down to the
:guilabel:`Snailmail` section, and click :guilabel:`Buy credits`.

.. seealso::
   - :ref:`accounting/invoice/sending`
   - `Odoo's IAP Privacy Policy <https://iap.odoo.com/privacy#header_4>`_
   - `Pingen's layout requirements <https://help.pingen.com/en/templates-and-postal-requirements/
     letter-standards>`_


==================================================
SECTION: spain.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/spain.rst
==================================================

:orphan:

==================================
Odoo electronic invoicing in Spain
==================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to Spain's regulatory standards.

Legal framework for e-invoicing in Spain
========================================

In Spain, e-invoicing is governed by the `Ley de Facturación Electrónica <https://www.facturae.gob.es/face/Paginas/FACE.aspx>`_
and aligned with `EU Directive 2014/55/EU <https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A32014L0055>`_,
mandating e-invoicing for :abbr:`B2G (business-to-government)` transactions. All invoices to public
sector entities must be submitted through the FACe platform, Spain’s official electronic invoicing
hub, using the required Facturae format. Additionally, the :abbr:`SII (Immediate Supply of
Information)` system mandates near real-time reporting of VAT-related invoice data for certain
companies, reinforcing transparency and compliance. While e-invoicing is not yet mandatory for B2B
transactions, its adoption is expected to expand in the near future.

Compliance with Spanish e-invoicing regulations
===============================================

Odoo Invoicing is fully equipped to help businesses meet Spain's e-invoicing and VAT reporting
requirements. Here is how Odoo ensures compliance:

- **Supported formats**: Odoo supports the Facturae (XML) format required by the FACe platform for
  public sector e-invoicing in Spain. It is also compatible with XML in :abbr:`UBL (Universal
  Business Language)` formats used within the Peppol network for cross-border transactions. Odoo
  integrates with FACe, allowing businesses to submit e-invoices directly to Spanish public
  authorities. Odoo also facilitates compliance with the SII system, enabling automated and near
  real-time reporting of VAT-related data to the Spanish Tax Agency.
- **Secure storage and retrieval**: In compliance with Spanish regulations requiring invoices to be
  stored for a minimum of four years, Odoo securely archives all invoices in a tamper-proof system,
  ensuring easy access during audits or inspections.
- **Automatic VAT calculation and reporting**: Odoo Invoicing automates VAT calculations and ensures
  invoices are formatted to meet Spanish requirements for both :abbr:`B2G (business-to-government)`
  and B2B transactions, helping businesses comply with national and EU standards.

.. seealso::
   :doc:`Spain fiscal localization documentation <../../../fiscal_localizations/spain>`

.. admonition:: Disclaimer

   This page provides an overview of Spanish e-invoicing laws and how Odoo Invoicing supports
   compliance with the Ley de Facturación Electrónica, FACe platform, SII system, Peppol standards,
   and other relevant regulations. It does not constitute legal advice. We recommend consulting with
   a tax advisor or legal professional familiar with Spanish e-invoicing regulations to ensure
   compliance tailored to your specific business needs.


==================================================
SECTION: tax_carryover.rst
PATH: applications/finance/accounting/reporting/tax_carryover.rst
==================================================

=============
Tax carryover
=============

When performing tax reports, the **tax carryover** feature allows carrying amounts from one period
to another without creating new entries.

It has been created to meet the legal requirements of specific locations, where amounts must be
transferred from period to period (for example, because the total of the line is negative).

The feature is activated by default in countries where it is required, such as Belgium, France, and
Italy. There is no specific configuration required.

Let’s take an example of a Belgian company that created a credit note of 100 for one of their
customers. The due tax is 21%.

.. image:: tax_carryover/belgian-example.png
   :align: center
   :alt: Illustration with a credit note

In this case, as per local regulation, grid 81 of the tax report may contain a negative amount. But
it must be declared to the government as zero, and the negative amount should be carried over to the
next period.

If we go to :menuselection:`Accounting app --> Reporting --> Tax Report`, a pop-up on line 81
explains that the amount will be carried over in the next period.

.. image:: tax_carryover/pop-up.png
   :align: center
   :alt: pop-up message stating the amount will be carried over to the next period

At the time of the tax closing period, the tax report shows that the amount was carried over from
the previous period. It also indicates the amount that will be carried over to this line in the next
period based on the existing transactions and the carryover from the previous period.

.. image:: tax_carryover/tax-return.png
   :align: center
   :alt: Illustration of the tax return


==================================================
SECTION: tax_computation.rst
PATH: applications/finance/accounting/taxes/tax_computation.rst
==================================================

===============
Tax computation
===============

.. _taxes/computation:

Tax computation
---------------

The :guilabel:`Tax Computation` field determines the relation between the tax amount and the base
the tax is based on. The following options are available:

- :ref:`Group of Taxes <taxes/computation/group-of-taxes>`: a combination of several other taxes
- :ref:`Fixed <taxes/computation/fixed>`: a fixed amount
- :ref:`Percentage of Price <taxes/computation/percentage-of-price>`: a percentage of the
  tax-excluded sales price
- :ref:`Percentage of Price Tax Included <taxes/computation/percentage-of-price-tax-included>`: a
  percentage of the tax-included total
- :ref:`Custom Formula <taxes/computation/python-code>`: a custom, user-defined formula

.. _taxes/computation/group-of-taxes:

Group of taxes
~~~~~~~~~~~~~~

The tax is a combination of multiple sub-taxes. You can add as many taxes as you want, in the order
you want them to be applied.

.. important::
   Make sure the tax sequence is correct, as the display order determines the application order and
   may affect tax computation, particularly if a tax :ref:`affects the base of subsequent taxes
   <taxes/base-subsequent>`.

.. _taxes/computation/fixed:

Fixed
~~~~~

The tax has a fixed amount in the default currency. The amount remains the same per unit,
regardless of the sales price.

The computation is :math:`\text{tax amount} = \text{fixed tax amount} \times \text{quantity}`.

.. example::
   A product has a sales price of $1000, and we apply a $10 :guilabel:`Fixed` tax. We then have:

   +-------------+-------------+----------+----------+
   | Product     | Price       | Tax      | Total    |
   | sales price | without tax |          |          |
   +=============+=============+==========+==========+
   | 1,000       | 1,000       | 10       | 1,010.00 |
   +-------------+-------------+----------+----------+

.. _taxes/computation/percentage-of-price:

Percentage of price
~~~~~~~~~~~~~~~~~~~

The tax rate is a percentage of the **tax-excluded** subtotal.

The exact tax computation depends on the :ref:`Included in Price <taxes/included-in-price>` field,
which determines whether the tax amount is included in the sales price.

.. tabs::
   .. tab:: Tax-excluded

      If :guilabel:`Included in Price` is :guilabel:`Tax Excluded`, the computation is
      :math:`\text{tax amount} = \text{sales price} \times \text{tax rate}`.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax that is :guilabel:`Tax Excluded`. We then have:

         +-------------+-------------+----------+----------+
         | Product     | Price       | Tax      | Total    |
         | sales price | without tax |          |          |
         +=============+=============+==========+==========+
         | 1,000       | 1,000       | 100      | 1,100.00 |
         +-------------+-------------+----------+----------+

   .. tab:: Tax-included

      If :guilabel:`Included in Price` is :guilabel:`Tax Included`, the computation is
      :math:`\text{tax amount} = \text{sales price} \times \frac{\text{tax rate}}{1 +
      \text{tax rate}}`.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax that is :guilabel:`Tax Included`. We then have:

         +-------------+-------------+----------+----------+
         | Product     | Price       | Tax      | Total    |
         | sales price | without tax |          |          |
         +=============+=============+==========+==========+
         | 1,000       | 909.09      | 90.91    | 1,000.00 |
         +-------------+-------------+----------+----------+

.. _taxes/computation/percentage-of-price-tax-included:

Percentage of price tax included
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. important::
   This tax computation is rarely used and only useful in countries (e.g., Brazil, Bolivia) that
   quote tax rates as a percentage of the tax-included total.
   For the more common need to compute tax amounts from a tax-included price, use the
   :ref:`Percentage of Price <taxes/computation/percentage-of-price>` tax computation with
   :ref:`Included in Price <taxes/included-in-price>` set to :guilabel:`Tax Included`.

The tax rate is a percentage of the **tax-included** total.

The exact tax computation depends on the :ref:`Included in Price <taxes/included-in-price>` field,
which determines whether the tax amount is included in the sales price.

.. tabs::
   .. tab:: Tax-excluded
      If :guilabel:`Included in Price` is set to :guilabel:`Tax Excluded`, the computation is
      :math:`\text{tax amount} = \text{sales price} \times \frac{\text{tax rate}}{1 -
      \text{tax rate}}`.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price
         Tax Included` tax that is :guilabel:`Tax Excluded`. We then have:

         +-------------+-------------+----------+----------+
         | Product     | Price       | Tax      | Total    |
         | sales price | without tax |          |          |
         +=============+=============+==========+==========+
         | 1,000       | 1,000       | 111.11   | 1,111.11 |
         +-------------+-------------+----------+----------+

         Note that the real tax rate in terms of the tax-excluded price is
         :math:`\frac{111.11}{1000} = 11.111\%`.

   .. tab:: Tax-included

      If :guilabel:`Included in Price` is set to :guilabel:`Tax Included`, the computation is
      :math:`\text{tax amount} = \text{sales price} \times \text{tax rate}`.

      .. example::
         A product has a sales price of $1000, and we apply a 10%
         :guilabel:`Percentage of Price Tax Included` tax that is :guilabel:`Tax Included`.
         We then have:

         +-------------+-------------+----------+----------+
         | Product     | Price       | Tax      | Total    |
         | sales price | without tax |          |          |
         +=============+=============+==========+==========+
         | 1,000       | 900         | 100      | 1,000.00 |
         +-------------+-------------+----------+----------+

         Note that the real tax rate in terms of the tax-excluded price is
         :math:`\frac{100}{900} = 11.111\%`.

.. _taxes/computation/python-code:

Custom formula
~~~~~~~~~~~~~~

.. important::
   If a tax can be expressed as a multiple of the quantity of the product to which it applies, it
   can be defined as a :ref:`Fixed <taxes/computation/fixed>` tax. Doing so is strongly recommended
   over defining a :guilabel:`Custom Formula` tax.

.. note::
   To use :guilabel:`Custom Formula` taxes, :ref:`install <general/install>` the :guilabel:`Define
   Taxes as Python Code` (`account_python_tax`) module.

For a :guilabel:`Custom Formula` tax, the tax amount is computed according to a Python expression
defined in the :guilabel:`Formula` field. The Python expression may contain the following tokens:

- any of the following variables:

  - `price_unit`: the unit price of the product
  - `base`: the taxable basis on which the tax is applied - may differ from the `price_unit` if
    other taxes are applied first
  - `quantity`: the quantity of the product
  - `product`: the product record - product fields can also be accessed

- integers and floating-point numbers

- the following permitted tokens: `(`, `)`, `+`, `-`, `*`, `/`, `,`, `<`, `>`, `<=`, `>=`, `and`,
  `or`, `None`, `min`, and `max`

.. example::
   A product has a sales price of $1000, and we apply a :guilabel:`Custom Formula` tax with a
   :guilabel:`Formula` of `min(base, 500) * 0.10 + max(base - 500, 0) * 0.20`

   We then have:

   +-------------+-------------+----------+----------+
   | Product     | Price       | Tax      | Total    |
   | sales price | without tax |          |          |
   +=============+=============+==========+==========+
   | 1,000       | 1,000       | 150      | 1,150.00 |
   +-------------+-------------+----------+----------+

.. _taxes/included-in-price:

Included in price
-----------------

.. tip::
   To set a company-wide default for this setting, go to :menuselection:`Accounting -->
   Configuration --> Settings`, find the :guilabel:`Taxes` section, and set the :guilabel:`Prices`
   setting to :guilabel:`Tax Excluded` or :guilabel:`Tax Included`. This setting cannot be changed
   once invoices have been created.

:guilabel:`Default` indicates that the tax follows the company-wide default.

:guilabel:`Tax Excluded` indicates that the tax amount is not included in the sales price. The tax
computation will therefore compute a tax amount on top of the sales price.

:guilabel:`Tax Included` indicates that the tax amount is included in the sales price. The tax
computation will therefore split the sales price into a tax-excluded base and the tax amount. This
makes it suitable for B2C sales in most countries, where prices are quoted tax-inclusive.

.. example::
   A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price` tax
   with :guilabel:`Included in Price` set to :guilabel:`Tax Included`. We then have:

   +-------------+-------------+----------+----------+
   | Product     | Price       | Tax      | Total    |
   | sales price | without tax |          |          |
   +=============+=============+==========+==========+
   | 1,000       | 909.09      | 90.91    | 1,000.00 |
   +-------------+-------------+----------+----------+

.. note::
   For a guide on configuring tax-excluded and tax-included prices for B2B and B2C customers,
   see :doc:`B2B_B2C`.

.. _taxes/base-subsequent:

Affect base of subsequent taxes
-------------------------------

This setting controls how multiple taxes on a product line affect each other.

If this setting is enabled, this tax's tax amount is included in the base of any subsequent tax
applied on the same product line that has its :ref:`taxes/base-affected` setting enabled. As such,
the subsequent tax's base is the sum of the tax-excluded base and this tax's tax amount.

.. tabs::
   .. tab:: Tax-excluded
      If :guilabel:`Affect base of subsequent taxes` is enabled and :guilabel:`Included in Price` is
      set to :guilabel:`Tax Excluded`, subsequent taxes with the :guilabel:`Base affected by
      preceding taxes` setting enabled will be based on a modified sales price equal to the original
      sales price plus the tax amount.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax where the :guilabel:`Included in Price` setting is set to :guilabel:`Tax Excluded` and
         the :guilabel:`Affect base of subsequent taxes` setting is enabled. Any subsequent tax with
         its :guilabel:`Base affected by preceding taxes` will be based on a modified sales price of
         $1100.

   .. tab:: Tax-included
      If :guilabel:`Affect base of subsequent taxes` is enabled and :guilabel:`Included in Price` is
      set to :guilabel:`Tax Included`, subsequent taxes with the :guilabel:`Base affected by
      preceding taxes` setting enabled will be based on the original sales price.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax where the :guilabel:`Included in Price` setting is set to :guilabel:`Tax Included` and
         the :guilabel:`Affect base of subsequent taxes` setting is enabled. Any subsequent tax with
         its :guilabel:`Base affected by preceding taxes` will be based on the original sales price
         of $1000.

If this setting is disabled, the tax amount will not be included in the base of any subsequent tax
applied on the same product line.

.. tabs::
   .. tab:: Tax-excluded
      If :guilabel:`Affect base of subsequent taxes` is disabled and :guilabel:`Included in Price`
      is set to :guilabel:`Tax Excluded`, subsequent taxes with the :guilabel:`Base affected by
      preceding taxes` setting enabled will be based on the original sales price.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax where the :guilabel:`Included in Price` setting is set to :guilabel:`Tax Excluded` and
         the :guilabel:`Affect base of subsequent taxes` setting is enabled. Any subsequent tax with
         its :guilabel:`Base affected by preceding taxes` will be based on the original sales price
         of $1000.

   .. tab:: Tax-included
      If :guilabel:`Affect base of subsequent taxes` is disabled and :guilabel:`Included in Price`
      is set to :guilabel:`Tax Included`, subsequent taxes with the :guilabel:`Base affected by
      preceding taxes` setting enabled will be based on a modified sales price equal to the original
      sales price minus the tax amount.

      .. example::
         A product has a sales price of $1000, and we apply a 10% :guilabel:`Percentage of Price`
         tax where the :guilabel:`Included in Price` setting is set to :guilabel:`Tax Included` and
         the :guilabel:`Affect base of subsequent taxes` setting is enabled. Any subsequent tax with
         its :guilabel:`Base affected by preceding taxes` will be based on a modified sales price of
         $909.09.

This setting is considered any time multiple taxes are applied to the same product line, whether
via a :ref:`group of taxes <taxes/computation>` or multiple taxes added directly to a product line.

.. note::
   The order in which taxes are applied depends only on the order in which they appear in the
   :guilabel:`Taxes` list, not on the order in which they are added to a product line.

   To modify the order, go to :menuselection:`Accounting --> Configuration --> Taxes`, and drag and
   drop taxes using the handles to the left of the tax names.

   .. image:: tax_computation/list-sequence.png
      :alt: The order of appearance of taxes in the Taxes list determines which tax is applied first

   Regardless of the order in the :guilabel:`Taxes` list, :guilabel:`Tax Excluded` taxes do not
   affect the base of subsequent :guilabel:`Tax Included` taxes (see the note in
   :ref:`taxes/base-affected`).

.. example::
   In the following example:

   - the Ecotax is a :guilabel:`Fixed` tax of €0.90 per unit, with the :guilabel:`Affect base of
     subsequent taxes` setting enabled.
   - The 21% VAT tax is a 21% :guilabel:`Percentage of Price` tax with the :guilabel:`Base affected
     by preceding taxes` setting enabled.
   - In the :guilabel:`Taxes` list, the 21% VAT tax comes after the Ecotax, as shown in the
     configuration above.

   When applying both taxes to a product line, the Ecotax amount is added to the basis of the 21%
   VAT tax.

   .. image:: tax_computation/subsequent-line.png
      :alt: The Ecotax is added to the basis of the 21% VAT tax

.. _taxes/base-affected:

Base affected by preceding taxes
--------------------------------

This setting, which is only visible in :doc:`developer mode <../../../general/developer_mode>`,
determines whether any previous tax that :ref:`affects the base of subsequent taxes
<taxes/base-subsequent>` will modify the sales price that this tax is based on.

.. note::
   Taxes with :ref:`Included in Price <taxes/included-in-price>` set to :guilabel:`Tax Included` do
   not have this setting. Such taxes are never affected by previous :guilabel:`Tax Excluded` taxes,
   except if they have the :guilabel:`Fixed` :ref:`tax computation <taxes/computation>` type.


==================================================
SECTION: tax_returns.rst
PATH: applications/finance/accounting/reporting/tax_returns.rst
==================================================

=======================
Tax return (VAT report)
=======================

Companies with a registered :abbr:`VAT (Value Added Tax)` number are required to submit a tax return
monthly or quarterly, depending on their turnover and the applicable regulatory requirements. A tax
return - or VAT report - provides the tax authorities with information about the taxable
transactions made by the company. The **output tax** is charged on the sale of goods and services,
while the **input tax** refers to the tax included in the price of purchased goods or services.
Based on these values, the company can calculate the tax amount they must pay or be refunded.

.. seealso::
   - `European Commission documentation on VAT
     <https://ec.europa.eu/taxation_customs/business/vat/what-is-vat_en>`_.
   - :doc:`../taxes`
   - :doc:`../get_started`
   - :doc:`../../fiscal_localizations`

.. _accounting/tax-returns/configuration:

Configuration
=============

.. _accounting/tax-returns/periodicity:

Tax return periodicity
----------------------

The configuration of the tax return periodicity allows Odoo to compute tax returns correctly and
automatically send reminders to make sure that deadlines are met.

To do so, go to :menuselection:`Accounting --> Configuration --> Settings`, navigate to the
:guilabel:`Tax Return Periodicity` section, and update the following fields, if needed:

- :guilabel:`Periodicity`: Define the tax return periodicity.
- :guilabel:`Deadline`: Define when Odoo should send reminders to submit the tax return.
- :guilabel:`Journal`: Update the journal where the tax return is recorded, if needed.

.. note::
   This information is usually configured during the :doc:`app's initial setup <../get_started>`.

.. _accounting/tax-returns/tax-grids:

Tax grids
---------

Odoo generates tax reports based on the :guilabel:`Tax Grids` settings configured for each tax. All
recorded transactions must apply the correct tax rates to ensure accurate reporting.

:guilabel:`Tax Grids` are displayed in the :guilabel:`Journal Items` tab of any invoice or bill.

.. image:: tax_returns/tax-return-grids.png
   :alt: example of tax grids used on an invoice

To configure tax grids for taxes, go to :menuselection:`Accounting --> Configuration --> Taxes`,
open the relevant tax, and edit the tax settings and the tax grids used to record invoices or
refunds.

.. note::
   Taxes and reports are usually pre-configured according to the country selected for the
   :doc:`company <../../../general/companies>`.

.. _accounting/tax-returns/tax-return-journal:

Tax returns journal
-------------------

On the Accounting dashboard, complete the following actions displayed in the :guilabel:`Tax Returns`
journal before creating tax returns:

- :guilabel:`Set Company Data`: :ref:`Configure the company details <general/companies/company>`.
- :guilabel:`Set Periods`: In the :guilabel:`Accounting Periods` window, fill in the
  :guilabel:`Opening date`, :guilabel:`Fiscal Year End`, and update the :guilabel:`Periodicity` if
  needed.
- :guilabel:`Review Chart of Accounts`

.. _accounting/tax-returns/close:

Close a tax period
==================

.. _accounting/tax-returns/lock-date:

Tax return lock date
--------------------

Setting a tax lock date prevents changes that could impact VAT-related journal entries. Locking the
period before processing the :guilabel:`Closing Journal Entry` helps ensure the accuracy of the
final report and reduces the risk of tax errors.

To view or edit the current :guilabel:`Lock Tax Return` date, go to :menuselection:`Accounting -->
Accounting --> Lock Dates`.

.. note::
   Any new transaction whose accounting date is before the :guilabel:`Lock Tax Return` date has its
   tax values moved to the next open tax period, preventing any changes to a report after its period
   is closed.

.. _accounting/tax-returns/report:

Tax return
----------

On the Accounting Dashboard, the :guilabel:`Tax Returns` journal displays automatic reminders to
avoid missing important tasks and deadlines.

After completing all :ref:`configurations <accounting/tax-returns/configuration>` and posting all
tax-related transactions for the reporting period, click :guilabel:`Tax Returns` on the
:guilabel:`Tax Returns` journal from the Accounting dashboard. Alternatively, go to
:menuselection:`Accounting --> Accounting --> Tax Returns`.

The :guilabel:`Tax Return` view displays a chronological list of all pending :ref:`tax returns (VAT
report) <accounting/tax-returns/vat-report>` and :ref:`advance payments
<accounting/tax-returns/advance-payments>` (based on the :doc:`fiscal localization
<../../fiscal_localizations>`). Each item on the list includes:

- A period (month or quarter).
- A deadline date.
- The related company and :ref:`branch(es) <general/branches>`, if applicable.
- Action steps, such as :ref:`Review <accounting/tax-returns/vat-return-review>`, :ref:`Submit
  <accounting/tax-returns/vat-return-submit>`, and :ref:`Pay
  <accounting/tax-returns/vat-return-pay>`, which turn green when completed.
- Action buttons: These are displayed as primary (purple) and secondary (grey) buttons to indicate
  their priority.
- A :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` menu for additional options.

.. image:: tax_returns/tax-return-view.png
   :alt: Tax return tool overview

.. note::
   - Before the tax return is reviewed, the number of :guilabel:`Pending` or :guilabel:`Passed` tax
     validation checks is displayed in red or green, respectively.
   - If the :guilabel:`Deadline` date has passed, it appears in red.

.. tip::
   To export all tax returns from the selected period, click the :icon:`fa-cog` (:guilabel:`gear`)
   icon, then click :icon:`fa-upload` :guilabel:`Export All` to download the tax returns XLSX.

.. _accounting/tax-returns/vat-report:

VAT report
~~~~~~~~~~

Each pending tax return (VAT report) follows these steps: :ref:`review
<accounting/tax-returns/vat-return-review>`, :ref:`submit
<accounting/tax-returns/vat-return-submit>`, and :ref:`pay <accounting/tax-returns/vat-return-pay>`.

To access a tax return, click the local VAT report button (e.g., :guilabel:`VAT Return (BE)` or
:guilabel:`Tax Report (US)`, depending on the :doc:`fiscal localization
<../../fiscal_localizations>`) or the :guilabel:`Generic Tax report` button on the tax return line
in the :guilabel:`Tax Return` view.

.. Tip::
   - Click :guilabel:`PDF` or :guilabel:`XLSX` to generate a PDF or XLSX file, respectively.
   - Click the :icon:`fa-cog` (:guilabel:`gear`) icon and :guilabel:`Copy to Documents` to save the
     report to the :doc:`Documents <../../../productivity/documents>` app. Select the format to
     :guilabel:`Export to`, the :guilabel:`Documents Name`, the :guilabel:`Folder` to store it in,
     and add any :guilabel:`Tags`. Then click :guilabel:`Export`.

To create a new return, click :guilabel:`New`, select the relevant :guilabel:`Return Type`, and
fill in the required :guilabel:`Dates`. Then, click :guilabel:`Generate Return`. The following
returns can be generated:

- :guilabel:`Annual Closing: Corporate Tax`
- :guilabel:`VAT` (return)/:guilabel:`Tax`
- :guilabel:`VAT Listing` (Belgium-specific)
- :guilabel:`EC Sales List` (EU-specific)
- :guilabel:`Advance Payment` (Belgium-specific)
- :guilabel:`Intrastat` (EU-specific)

.. _accounting/tax-returns/vat-return-review:

Review
******

To start the review of a tax return, click on the relevant tax return line:

- If all automatic tax validation checks have passed, click :guilabel:`Validate` to complete the
  :guilabel:`Review` step. The :ref:`Lock Tax Return <accounting/tax-returns/lock-date>` date is
  automatically updated, and the closing journal entry is posted in the :guilabel:`Tax Returns`
  journal. The tax return can then be :ref:`submitted <accounting/tax-returns/vat-return-submit>`.
- If any automatic tax validation checks are pending, the :guilabel:`Tax Checks` view displays the
  following, depending on the :doc:`fiscal localization <../../fiscal_localizations>`:

  - :guilabel:`Bank Matching`: This check is used to identify any missing bills; it is optional for
    VAT reports.
  - :guilabel:`Bill attachments`: Bills must have attached documents as proof in case of an audit.
  - :guilabel:`Company data`: Missing information (e.g., VAT number or country) can lead to errors
    in tax reports or exemptions.
  - :guilabel:`Draft entries`: Any draft invoices and bills within the corresponding period must be
    reviewed and posted, or assigned a different accounting date.
  - :guilabel:`No negative amount in VAT report`: Some countries only allow positive values in tax
    returns, as a negative amount could indicate misconfigurations.
  - :guilabel:`Taxes and countries matching`: Taxes applied on invoices and bills must match the
    customer’s country.

  Each check card is either highlighted in green (Reviewed or Supervised), red (Anomaly) or
  grey (To review). If a check fails, there are two options:

  - Click on the failed check's card to fix the issue.
  - Click :guilabel:`Anomaly` and select :guilabel:`Reviewed` or :guilabel:`Supervised` to pass the
    check without fixing the issue.

  Once all checks have passed, click :guilabel:`Validate`. Then, depending on the :doc:`fiscal
  localization <../../fiscal_localizations>`, click :guilabel:`Lock` in the :guilabel:`Lock` window.

  On validating the tax return, the :ref:`Lock Tax Return <accounting/tax-returns/lock-date>` date
  is automatically updated, and the closing journal entry is posted in the :guilabel:`Tax Returns`
  journal.

.. tip::
   - To add customized checks, activate :ref:`developer mode <developer-mode>`, and go to
     :menuselection:`Accounting --> Configuration --> Check`. Then, click :guilabel:`New` and
     complete the necessary fields.
   - All check status changes are logged in the chatter.

.. note::
   If the :guilabel:`Lock Tax Return` date is not locked before reviewing the tax return, the
   fiscal period is automatically locked on the same date as the accounting date of the closing
   journal entry. While this feature helps prevent certain fiscal errors, it is recommended to set
   the :ref:`Lock Tax Return date <accounting/tax-returns/lock-date>` manually beforehand.

.. important::
   After the tax report for a period has been posted, that period is locked to prevent new
   VAT-related journal entries from being created. Corrections to customer invoices or vendor bills
   must be recorded in the following period.

.. _accounting/tax-returns/vat-return-submit:

Submit
******

Once a tax return has completed the :ref:`Review <accounting/tax-returns/vat-return-review>` step,
proceed as follows:

#. In the :guilabel:`Tax Return` view, click the local VAT report button (e.g., :guilabel:`VAT
   Return (BE)` or :guilabel:`Tax Report (US)`, depending on the :doc:`fiscal localization
   <../../fiscal_localizations>`) or the :guilabel:`Generic Tax report` button on the relevant tax
   return line to preview the tax return report.
#. Once the tax return report has been verified, go back to the :guilabel:`Tax Return` view and
   click :guilabel:`Submit`.
#. If a :guilabel:`Submission Instructions` pop-up window appears, follow the local
   :guilabel:`Instructions`, and click :guilabel:`Mark as Submitted` or :ref:`Mark
   Paid <accounting/tax-returns/vat-return-pay>`.

The submitted tax return contains all the values tax authorities need, and the amount to be paid or
refunded.

.. tip::
   - To display all posted closing journal entries, click the :guilabel:`Tax Returns` journal in
     the Accounting dashboard.
   - To display the tax return entry posted, click the :icon:`fa-ellipsis-v` :guilabel:`(vertical
     ellipsis)` icon and select :guilabel:`View Entry`. The following options are available if
     needed:

     - :guilabel:`Reverse Entry`
     - :guilabel:`Reset to Draft`: The :guilabel:`Lock Tax Return` date must be manually removed
       using a :ref:`lock date exception <accounting/year-end/lock-date-exception>` to reset a tax
       return entry to draft.

.. _accounting/tax-returns/vat-return-pay:

Pay
***

Once a tax return is submitted, a :guilabel:`Payment` window appears if a tax payment is required.
It displays all necessary payment details to complete the transaction, including a QR code
for the banking app, if available for the country's :doc:`fiscal localization
<../../fiscal_localizations>` package. There are three options:

- Click :guilabel:`Mark Paid` after completing the payment: the corresponding tax return line
  disappears from the :guilabel:`Tax Return` view.
- Click :guilabel:`Send` to email all payment information. Once sent, the tax return completes the
  :guilabel:`Pay` step, and its corresponding line disappears from the :guilabel:`Tax Return` view.
- Click :guilabel:`Discard`: the corresponding tax return line remains visible in the
  :guilabel:`Tax Return` view, indicating the amount due. Click the :icon:`fa-paperclip`
  :guilabel:`(paperclip)` icon to access the PDF and XLSX files of the submitted tax return.

  .. image:: tax_returns/tax-return-submitted.png
     :alt: view when tax return is submitted

.. _accounting/tax-returns/advance-payments:

Advance tax payments
~~~~~~~~~~~~~~~~~~~~

.. note::
   Advance tax payments are specific to local :doc:`fiscal localizations
   <../../fiscal_localizations>` and the requirements of certain countries' tax systems.

In the :guilabel:`Tax Return` view, click :guilabel:`Pay` on the relevant advance tax payment line
that needs to be processed.

In the :guilabel:`Advance Payment` window, follow the local recommendations, fill in the required
local fields, and use the provided payment details to finalize the transaction. Two options are
available:

- Click :guilabel:`Mark Paid` once the payment is processed: The corresponding advance tax payment
  line disappears from the :guilabel:`Tax Return` view.
- Click :guilabel:`Send` to email all payment information. Once sent, the advance tax payment
  completes the :guilabel:`Pay` step, and its corresponding line disappears from the :guilabel:`Tax
  Return` view.
- Click :guilabel:`Discard`: The corresponding advance tax payment line remains visible in the
  :guilabel:`Tax Return` view.

.. tip::
   To mark a tax payment that has already been completed, click the :icon:`fa-ellipsis-v`
   :guilabel:`(vertical ellipsis)` icon and select :guilabel:`Mark as Completed`.


==================================================
SECTION: tax_units.rst
PATH: applications/finance/accounting/get_started/tax_units.rst
==================================================

=========
Tax units
=========

.. important::
   This is only applicable to multi-company environments.

A **tax unit** is a group of VAT-taxable enterprises that are legally independent of each other but
are closely linked financially, organizationally, and economically and therefore considered the same
VAT-taxable enterprise. **Tax units** are not mandatory, but if created, constituent companies of
the unit must belong to the same **country**, use the same **currency**, and one company must be
designated as the **representative** company of the **tax unit**. **Tax units** receive a specific
**tax ID** intended only for **tax returns**. **Constituent** companies keep their **tax ID** used
for **commercial purposes**.

.. example::
   Enterprise **A** owes €300.000,00 of VAT taxes and enterprise **B** can recover €280.000,00 of
   VAT taxes. They form up as a **tax unit** so that the two amounts balance out and must conjointly
   only pay €20.000,00 of VAT taxes.

Configuration
=============

To create a **tax unit**, go to :menuselection:`Accounting --> Configuration --> Tax Units`, and
click :guilabel:`New`. Enter a **name** for the unit, select a :guilabel:`Country`, the
:guilabel:`Companies` to incorporate in the unit, the :guilabel:`Main Company`, and the
:guilabel:`Tax ID` of the **constituent** company of that tax unit.

Fiscal position
---------------

As transactions between constituents of the same **tax unit** are not subject to VAT, it is possible
to create a :doc:`tax mapping (fiscal position) <../taxes/fiscal_positions>` to avoid the
application of VAT on inter-constituent transactions.

Be sure a constituent company has been selected before, then go to :menuselection:`Accounting -->
Configuration --> Fiscal Positions`, and :guilabel:`Create` a new **fiscal position**. Click the
:guilabel:`Tax Mapping` tab, select the :guilabel:`Tax on Product` usually applied for
**non-constituent** transactions, and in :guilabel:`Tax to Apply`, select the 0% tax to apply for
**constituent** transactions.

Do the same for the :guilabel:`Account Mapping` tab if required, and repeat this process for
**each** constituent company on your database.

.. Example::
   Depending on your :doc:`localization package </applications/finance/fiscal_localizations>`, taxes
   may vary from the screenshot displayed.

   .. image:: tax_units/fiscal-positions.png
      :alt: Tax mapping of fiscal position for tax unit

Then, assign the fiscal position by opening the **Contacts** app. Search for a **constituent**
company, and open the contact's **card**. Click the :guilabel:`Sales & Purchase` tab, and in the
:guilabel:`Fiscal Position` field, input the **fiscal position** created for the **tax unit**.
Repeat the process for each **constituent** company card form, on each company database.

.. seealso::
   :doc:`../taxes/fiscal_positions`.

Tax report
==========

The **representative** company can access the aggregated tax report of the **tax unit** by going to
:menuselection:`Accounting --> Reporting --> Tax Report`, and selecting the **tax unit** in
:guilabel:`Tax Unit`. This report contains the aggregated transactions of all **constituents** and
the .XML export contains the name and VAT number of the **main** company.

.. image:: tax_units/report.png
   :alt: tax unit tax report


==================================================
SECTION: taxes.rst
PATH: applications/finance/accounting/taxes.rst
==================================================

:show-content:

=====
Taxes
=====

Tax regulations generally require companies to compute tax amounts on sales, keep a record of
accumulated tax debit and credit, and periodically file this information in tax returns.

Overview
========

In general, managing taxes in Odoo involves the following steps:

1. Taxes are added on individual lines of documents created via the Sales, Purchase, Accounting, and
   Point of Sale apps.
2. Odoo automatically computes tax amounts on the documents.
3. On accounting documents, Odoo generates journal items to keep track of tax debit and tax credit.
4. The total base, tax debit, and tax credit for a period can be viewed in the tax return report
   and used to file a tax return.

Taxes on sales and purchases
----------------------------

Most sales and purchase documents have a :guilabel:`Taxes` field where taxes can be applied to
individual lines. This includes :doc:`invoices <customer_invoices>` and :doc:`vendor bills
<vendor_bills>` in the Accounting app, :doc:`sales quotations <../../sales/sales/sales_quotations>`
in the Sales app, and :doc:`purchase orders <../../inventory_and_mrp/purchase/manage_deals/rfq>` in
the Purchase app.

.. image:: taxes/invoice-tax.png
   :alt: Adding a 21% tax on an invoice line.

.. note::
   When adding a product to a sale or purchase line, the taxes :ref:`assigned to the product
   <taxes/product>` are automatically applied to the line.

   In the :doc:`Point of Sale <../../sales/point_of_sale>` app, the taxes :ref:`assigned to the
   products <taxes/product>` are applied directly to the order and cannot be changed except by a
   :doc:`fiscal position <taxes/fiscal_positions>`.

Automatic computation of tax amounts
------------------------------------

Applying a tax to a sale or purchase line allows Odoo to automatically compute the tax amount based
on the sale or purchase line's subtotal and the tax's configuration. The details of the computation
are explained in the :doc:`Tax Computation <taxes/tax_computation>` page.

.. image:: taxes/invoice-tax-amount.png
   :alt: Odoo automatically computes a tax amount for the 21% tax.

Automatic generation of tax journal items
-----------------------------------------

Upon applying a tax on an :doc:`invoice <customer_invoices>` or :doc:`vendor bill <vendor_bills>`, a
tax payable journal item is automatically generated with the tax amount. This keeps track of the tax
debit or credit associated with the transaction.

Furthermore, the tax amount is added to the amount due on the receivable or payable journal item.

Finally, :ref:`Tax Grids <accounting/tax-returns/tax-grids>` are added both to the automatically
created tax payable journal item and to the invoice line on which the tax is applied. These tags are
used to retrieve the journal items corresponding to the tax's base and tax amount in the :doc:`Tax
Return <reporting/tax_returns>` report.

.. image:: taxes/invoice-tax-items.png
   :alt: Odoo automatically generates a tax payable journal item for the 21% tax.

.. note::
   If :doc:`Cash Basis <taxes/cash_basis>` is enabled, upon reconciling the invoice or vendor bill
   with the payment, an additional journal entry is created to represent the creation of the tax
   debit or credit at that point in time.

Filing tax returns
------------------

The :doc:`Tax Return <reporting/tax_returns>` report aggregates the base and tax amounts from
invoices and vendor bills over a given period and presents it in a format tailored to the
:doc:`fiscal localization <../fiscal_localizations>`.

The amounts presented in the tax return report can be used to complete tax declarations that need to
be periodically submitted to the government. In most cases, there is a one-to-one correspondence
between the lines of the tax return and the official tax declaration, allowing amounts to simply be
copied from one to the other.

.. image:: taxes/tax-return-base.png
   :alt: The base section of the tax return report for Belgium.

.. image:: taxes/tax-return-tax.png
   :alt: The tax section of the tax return report for Belgium.

.. _taxes/configuration:

Basic tax configuration
=======================

Follow these basic steps to set up taxes:

1. Enable any relevant :ref:`company-wide options <taxes/configuration/company>`
2. Activate any needed :ref:`pre-configured taxes <taxes/list_activation>`
3. Assign taxes on your :ref:`products <taxes/product>`

.. _taxes/configuration/company:

Company-wide options
--------------------

To access these configuration options, go to :menuselection:`Accounting --> Configuration
--> Settings` and scroll down to :guilabel:`Taxes`.

.. _taxes/default:

Default taxes
~~~~~~~~~~~~~

The default :guilabel:`Sales Tax` and :guilabel:`Purchase Tax` are automatically set on products
when creating new products.

If :ref:`Accounting Firms <accounting/fiduciaries>` mode is enabled, the default sales tax is
automatically set on new invoice lines, and the default purchase tax is automatically set on new
vendor bill lines.

:guilabel:`Prices` can be changed to :guilabel:`Tax Included` to treat all taxes as :ref:`tax
included <taxes/included-in-price>` by default. This would be appropriate if all of a company's
pricing is done tax-included. If only some of a company's pricing is tax-included, individual taxes
can be set as :guilabel:`Tax Included`.

EU intra-community distance selling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Activate this option if you are based in the EU and sell to consumers in other EU countries to apply
local VAT rates.

.. seealso::
   :doc:`EU intra-community distance selling<taxes/eu_distance_selling>`

Cash basis
~~~~~~~~~~

Activate this option if taxes must be accounted for on a cash rather than accruals basis. Some
countries mandate cash basis accounting; in that case, this option will be activated by default by
the :doc:`fiscal localization package <../fiscal_localizations>`.

.. seealso::
   :doc:`Cash basis <taxes/cash_basis>`

.. _taxes/list_activation:

Activate pre-configured taxes
-----------------------------

The list of taxes can be accessed by going to :menuselection:`Accounting --> Configuration -->
Taxes`.

Generally, inactive taxes are created for most sales tax rates by the :doc:`fiscal localization
<../fiscal_localizations>` package, but only the main tax rate is active by default. To activate an
inactive tax, click the toggle in the :guilabel:`Active` column.

.. _taxes/product:

Assign taxes on products
------------------------

To configure the taxes used for each product, go to :menuselection:`Accounting --> Customers -->
Products`, select the product to configure, and fill the :guilabel:`Sales Taxes` and
:guilabel:`Purchase Taxes` fields. These taxes are automatically applied when adding the product to
an invoice, vendor bill, sales order, purchase order, or point of sale order.

.. tip::
   Use the :ref:`Default Taxes <taxes/default>` company-wide setting to automatically fill these
   fields on new products.

.. _taxes/configuration/advanced:

Advanced tax configuration
==========================

The following aspects of a tax can be customized:

- How the tax :ref:`appears in the backend <taxes/configuration/back-end>`
- How the tax :ref:`appears to customers <taxes/configuration/customer>`
- The details of the :doc:`tax computation <taxes/tax_computation>`
- How tax payable journal items are :ref:`created <taxes/definition-tab>`
- How to configure the tax to :ref:`replace <taxes/tax-mapping>` other taxes according to
  :doc:`fiscal positions <taxes/fiscal_positions>`.

To open a tax's configuration, go to :menuselection:`Accounting --> Configuration --> Taxes`, then
click the tax name.

.. _taxes/configuration/back-end:

Configure backend appearance and availability
---------------------------------------------

The following options determine how a tax is displayed to users in the Odoo back-end.

.. _taxes/name:

Tax name
~~~~~~~~

The :guilabel:`Tax Name` appears for backend users in the :guilabel:`Taxes` field in :doc:`sales
orders <../../sales/sales>`, :doc:`invoices <customer_invoices>`, product forms, etc.

.. _taxes/scope:

Tax type
~~~~~~~~

The :guilabel:`Tax Type` determines where the tax is available to be selected.

- **Sales**: Customer invoices, product customer taxes, etc.
- **Purchase**: Vendor bills, product vendor taxes, etc.
- **None**

.. tip::
   Use :guilabel:`None` for taxes that you want to include in a :ref:`Group of Taxes
   <taxes/computation>` but that you do not want to list along with other sales or purchase taxes.

Tax scope
~~~~~~~~~

The :guilabel:`Tax Scope` restricts the use of taxes to a type of product, either **goods** or
**services**.

Description
~~~~~~~~~~~

The :guilabel:`Description` can be edited for the purpose of internal documentation.

.. _taxes/configuration/customer:

Configure how the tax appears to customers
------------------------------------------

.. _taxes/label-invoices:

Label on invoices
~~~~~~~~~~~~~~~~~

The :guilabel:`Label on Invoices` appears on invoice lines in invoice PDFs and on the customer
portal.

.. image:: taxes/invoice-portal-tax.png
   :alt: The Label on Invoice shows on the invoice line when viewed in the customer portal.

.. _taxes/tax-group:

Tax group
~~~~~~~~~

The :guilabel:`Tax Group` is shown in the totals section of the invoice, in invoice PDFs and on the
customer portal. Multiple taxes that belong to the same tax group are aggregated together into a
single tax amount.

.. image:: taxes/invoice-portal-total.png
   :alt: The Tax Group shows in the totals section when viewed in the customer portal.

.. _taxes/definition-tab:

Configure how tax journal items are created
-------------------------------------------

The :guilabel:`Distribution for Invoices` and :guilabel:`Distribution for Refunds` sections control
the generation of tax payable journal items in invoices and credit notes, respectively. They also
determine which :ref:`tax grids <accounting/tax-returns/tax-grids>` are set on invoice lines when
this tax is applied.

Each of these sections should contain one :guilabel:`Base` line, one or more :guilabel:`% of tax`
lines amounting to 100% (e.g. one 100% line, or two 50% lines), and optionally, one or more
:guilabel:`% of tax` lines amounting to -100.00%.

The :guilabel:`Base` line can have one or more :guilabel:`Tax Grids` set, which are added to the
invoice line on which the tax is applied.

The :guilabel:`% of tax` lines control the creation of tax payable journal items. The tax amount is
distributed according to the percentages on these lines, and each line is then used as a template to
create a tax payable journal item with the same :guilabel:`Account` and :guilabel:`Tax Grids`. If
the :guilabel:`Account` is not specified, it defaults to the account of the original invoice line on
which the tax is applied.

Typical cases include:

- one :guilabel:`100% of tax` line: this is the most common case where the tax amount should appear
  on a single tax payable journal item.
- one :guilabel:`100% of tax` and one :guilabel:`-100% of tax` line: this is appropriate if the tax
  simultaneously generates both a tax debit and a tax credit which cancel each other out (e.g. EU
  intra-community reverse-charge VAT).
- one :guilabel:`50% of tax` line that specifies a tax payable account and another
  :guilabel:`50% of tax` line that does not specify an account: this is appropriate for partially
  deductible purchase VAT, where part of the tax must be considered an expense rather than a tax
  credit asset that can offset tax liability.

.. image:: taxes/distribution-invoices.png
   :alt: The Distribution for Invoices of a 21% VAT tax.

.. image:: taxes/distribution-refunds.png
   :alt: The Distribution for Refunds of a 21% VAT tax.

.. _taxes/tax-mapping:

Tax mapping
-----------

Taxes can be combined with :doc:`fiscal positions <taxes/fiscal_positions>` to map taxes to each
other so that the correct tax is applied based on the customer's or vendor's location and business
type.

When configuring a tax, leave the :guilabel:`Fiscal Position` field blank to make the tax
immediately available across all fiscal positions, or select specific fiscal positions where this
tax should be used to replace other taxes with it. If one or more fiscal positions are selected, use
the :guilabel:`Replaces` field to select all of the taxes that this tax should replace for the
selected fiscal position(s).

To replace one tax with multiple other taxes, configure each of the replacement taxes to replace the
default product tax.

.. example::
   As a sales tax, the :guilabel:`0% Exports` tax applies to quotations, sales orders, and invoices
   that use the :guilabel:`Foreign Trade` fiscal position. On those records, any time that the
   :guilabel:`15%` tax would be used, the :guilabel:`0% Exports` tax is used instead.

   .. image:: taxes/tax-mapping-example.png
      :alt: The **0% Exports** tax record

.. note::
   Since the first fiscal position in the sequence is considered the company's default, the taxes
   set on products are expected to be used with that fiscal position, so the :guilabel:`Replaces`
   field is not displayed on it.

.. tip::
   To more easily view which taxes are replaced, use the :icon:`oi-settings-adjust`
   :guilabel:`adjust settings` in the taxes list view and display the :guilabel:`Replaces` field.

   .. image:: taxes/tax-mapping-list.png
      :alt: The **Replaces** field shown in the list view

.. note::
   Tax mapping only works with :ref:`active <taxes/list_activation>` taxes.

Extra taxes
===========

"Extra taxes" is a broad term referring to additional taxes beyond the standard or basic taxes
imposed by governments. These extra taxes can be **luxury** taxes, **environmental** taxes,
**import** or **export duties** taxes, etc.

.. note::
   The method to compute these taxes varies across different countries. We recommend consulting your
   country's regulations to understand how to calculate them for your business.

To compute an extra tax in Odoo, :ref:`create a tax <taxes/configuration>`, enter a tax name, select
a :ref:`Tax Computation <taxes/configuration>`, set an :guilabel:`Amount`, and in the
:guilabel:`Advanced Options` tab, enable :guilabel:`Affect Base of Subsequent Taxes`. Then, drag and
drop the taxes in the :ref:`order they should be computed <taxes/base-subsequent>`.

.. example::
   - In Belgium, the formula to compute an environmental tax is: `(product price + environmental
     tax) x sales tax`. Therefore, our environmental tax has to come *before* the sales tax in the
     computation sequence.
   - In our case, we created a 5% environmental tax (Ecotax) and put it *before* the Belgian base
     tax of 21%.

   .. image:: taxes/ecotax.png
      :alt: Environmental tax sequence in Belgium.

.. seealso::
  - :doc:`taxes/tax_computation`
  - :doc:`taxes/fiscal_positions`
  - :doc:`taxes/B2B_B2C`
  - :doc:`reporting/tax_returns`

.. toctree::
   :titlesonly:

   taxes/cash_basis
   taxes/tax_computation
   taxes/retention
   taxes/vat_verification
   taxes/fiscal_positions
   taxes/avatax
   taxes/eu_distance_selling
   taxes/B2B_B2C


==================================================
SECTION: terms_conditions.rst
PATH: applications/finance/accounting/customer_invoices/terms_conditions.rst
==================================================

==================================
Default terms and conditions (T&C)
==================================

Specifying terms and conditions is essential to establish important contractual points, such as
return and refunds, warranty, and after-sale services.

You can add default terms and conditions at the bottom of all customer invoices, sales orders, and
quotations, either as text or a link to a web page.

.. seealso::
   `Odoo Tutorial: Terms & Conditions <https://www.odoo.com/slides/slide/terms-conditions-1680>`_

Configuration
=============

Go to :menuselection:`Accounting --> Configuration --> Settings`. Under the :guilabel:`Customer
Invoices`, enable :guilabel:`Default Terms & Conditions`. By default, the :guilabel:`Add a Note`
option is selected, and the terms and conditions are displayed at the bottom of the document. Enter
the terms and conditions in the text box below.

.. image:: terms_conditions/terms-note.png
   :alt: Example of terms and conditions as a note

.. tip::
   You can also add a PDF version of your terms and conditions as an attachment when sending the
   document via email. Edit the email templates if you want to include them by default.

Alternatively, to display the terms and conditions on a web page, select the :guilabel:`Add a link
to a Web Page` option and click :guilabel:`Save`. Click :guilabel:`Update Terms`, edit the
content, and click :guilabel:`Save`. The link to that page is then added as a note in your document.

.. note::
   You can edit the layout and content of the page using the :doc:`Website
   </applications/websites/website>` app. If the Website app is activated, the :guilabel:`Edit in
   Website Builder` option then replaces :guilabel:`Update Terms`.

.. image:: terms_conditions/terms-webpage.png
   :alt: Example of terms and conditions as a web page


==================================================
SECTION: transactions.rst
PATH: applications/finance/accounting/bank/transactions.rst
==================================================

============
Transactions
============

Importing transactions from your bank statements allows keeping track of bank account transactions
and reconciling them with the ones recorded in your accounting.

:doc:`Bank synchronization <bank_synchronization>` automates the process. However, if you do not
want to use it or if your bank is not yet supported, other options exist:

- :ref:`Import bank transactions <accounting/transactions/import>` delivered by your bank;
- :ref:`Register bank transactions <accounting/transactions/register>` manually.

.. note::
   :ref:`Grouping transactions by statement <accounting/transactions/statements>` is optional.

.. _accounting/transactions/view:

Transaction view
================

The list of transactions for the bank journal is displayed in the :guilabel:`Bank Matching` view. To
access it, go to the :guilabel:`Accounting Dashboard`, then either:

- click the journal name (e.g., :guilabel:`Bank`) or its :guilabel:`Transactions` button to display
  all transactions, including those previously reconciled, or
- click the :guilabel:`x to reconcile` button to display only unreconciled transactions. To include
  previously reconciled transactions, remove the :guilabel:`Not Matched` filter from the search bar.

Unreconciled transactions display the following information while collapsed:

- The date of the transaction
- A button linked to the chatter. The icon of this button can vary:

  - The :icon:`fa-comments-o` :guilabel:`(comments)` icon displays only on hover and indicates that
    there are no attachments or activities for the transaction.
  - The :icon:`fa-paperclip` :guilabel:`(attachments)` icon indicates that there is an attachment on
    the journal entry.
  - The :icon:`fa-clock-o` :guilabel:`(activities)` icon indicates that there is an activity
    scheduled on the journal entry.

- The label of the transaction
- The partner of the transaction (if one is set)
- Up to two :ref:`action buttons <accounting/reconciliation/action-buttons>`, depending on the
  details of the transaction
- The balance of the transaction

.. note::
   - When the chatter of a transaction is open, a blue tag highlights the related transaction.
   - The chatter can be opened and closed by clicking the :icon:`fa-comments-o`
     :guilabel:`(comments)` icon and the :icon:`fa-times` :guilabel:`(close)` icon in the top right
     of the view.
   - Once a transaction is :doc:`reconciled <reconciliation>`, its action buttons are replaced with
     the labels of the item(s) it was reconciled with or the account if it was reconciled with the
     :guilabel:`Set Account` action button.

.. _accounting/transactions/duplicate:

Duplicate transactions
======================

Duplicate transactions occur when either by human error or :doc:`bank sync <bank_synchronization>`
error, the same transaction is created multiple times. The duplicate transaction view identifies
potential duplicate transactions so they can be selected and deleted. To access the duplicate
transaction view, first access the :guilabel:`Bank Matching` view by going to the
:guilabel:`Accounting Dashboard` and clicking the bank journal's name, then open the :icon:`fa-cog`
:guilabel:`Actions` menu and click :guilabel:`Find Duplicate Transactions`.

Potential duplicate transactions are identified based on their amount, date, and account number, or
(if the transaction is created via :doc:`bank sync <bank_synchronization>`) the transaction ID.

Select a :guilabel:`Starting Date` to view the corresponding potential duplicate transactions, then
select the transactions to delete and click :icon:`fa-trash` :guilabel:`Delete Selected`.

.. note::
   Any transactions created by :doc:`bank sync <bank_synchronization>` that the bank sync provider
   determines to be potential duplicates are displayed in the :guilabel:`Provider Duplicates` tab.
   This tab is only visible if there are any potential duplicates according to the provider.

.. _accounting/transactions/import:

Import transactions
===================

Odoo supports multiple file formats to import transactions:

- SEPA recommended Cash Management format (CAMT.053)
- Comma-separated values (CSV)
- Excel (XLSX)
- Open Financial Exchange (OFX)
- Quicken Interchange Format (QIF)
- Belgium: Coded Statement of Account (CODA)

To import a file, go to the :guilabel:`Accounting Dashboard`, click the :icon:`fa-ellipsis-v`
:guilabel:`(ellipsis)` icon on the :guilabel:`Bank` journal, and select :guilabel:`Import file`.
Next, select the file and upload it.

.. tip::
   Alternatively, access the transaction list by:
    - clicking on the :guilabel:`Bank` journal's name, then clicking :guilabel:`Upload`
    - dragging and dropping a file on the bank journal on the :guilabel:`Accounting Dashboard`
    - dragging and dropping a file on the :guilabel:`Bank Matching` view

Certain file types such as CSV and XLSX, then require setting the necessary formatting options and
mapping the file columns with their related Odoo fields, after which you can run a :guilabel:`Test`
and :guilabel:`Import` your bank transactions. Other file types are mapped automatically.

.. seealso::
   :doc:`/applications/essentials/export_import_data`

.. _accounting/transactions/register:

Register bank transactions manually
===================================

You can also record your bank transactions manually. To do so, go to the :guilabel:`Accounting
Dashboard`, click the :guilabel:`Bank` journal's name, and then on :guilabel:`New`. The
:guilabel:`Partner` field is optional to ease the reconciliation process, but the :guilabel:`Label`
and :guilabel:`Date` fields are mandatory.

.. _accounting/transactions/statements:

Statements
==========

A **bank statement** is a document provided by a bank or financial institution that lists the
transactions that have occurred in a particular bank account over a specified period of time.

In Odoo Accounting, it is optional to group transactions by their related statement, but depending
on your business flow, you may want to record them for record-keeping and organizational purposes.

To access a list of existing statements, go to the :guilabel:`Accounting Dashboard`, click the
:icon:`fa-ellipsis-v` :guilabel:`(dropdown menu)` icon next to the bank or cash journal you want to
check, then click :guilabel:`Statements`.

.. important::
   To ensure the ending balances of your bank statements in Odoo align with the ending balances of
   the statements that are provided by your bank, create an opening transaction to record the bank
   account balance as of the date you begin synchronizing or importing transactions. This is
   necessary to ensure the accuracy of your accounting.

.. tip::
   To access a statement's transactions, click :guilabel:`Transactions` directly from the
   :guilabel:`Bank Statements` list view or open a statement and click the :guilabel:`Statement
   lines` smart button.

.. _accounting/transactions/statement-kanban:

Statement creation
------------------

The :guilabel:`Bank Matching` view displays transactions from most recent to oldest and groups them
by statement, with any recent transactions that do not belong to a statement at the top. To add
transactions to a statement, hover on the most recent transaction that should be included in the
statement, and click the :guilabel:`Statement` button that appears on the upper separator line.
Doing so creates a statement from that transaction down to the oldest transaction that is not yet
part of a statement.

.. image:: transactions/statements-kanban.png
   :alt: A "Statement" button is visible when hovering on a transaction.

In the :guilabel:`Create Statement` window, fill out the statement's :guilabel:`Reference`, verify
its :guilabel:`Starting Balance` and :guilabel:`Ending Balance`, add an attachment such as a PDF
of the statement if desired, and click :guilabel:`Save`.

.. tip::
   Transactions can also be added to statements from the list view. Select all the transactions
   corresponding to the bank statement, and, in the :guilabel:`Statement` column, select an existing
   statement or create a new one by typing its reference, clicking on :guilabel:`Create and
   edit...`, filling out the statement's details, and saving.

.. _accounting/transactions/view-edit-print:

Statement viewing, editing, and printing
----------------------------------------

To view an existing statement, click the statement amount in the :guilabel:`Bank Matching` view
or click the statement name and then the :icon:`fa-arrow-right` :guilabel:`(Internal link)` icon in
the :guilabel:`Bank Matching` list view. From here, you can edit the :guilabel:`Reference`,
:guilabel:`Starting Balance`, :guilabel:`Ending Balance`, and :guilabel:`Attachments`.

.. note::
   - Manually updating the :guilabel:`Starting Balance` automatically updates the :guilabel:`Ending
     Balance` based on the new value of the :guilabel:`Starting Balance` and the value of the
     statement's transactions.
   - If the :guilabel:`Starting Balance` doesn't equal the previous statement's :guilabel:`Ending
     Balance`, or if the :guilabel:`Ending Balance` doesn't equal the running balance
     (:guilabel:`Starting Balance` plus the statement's transactions), a warning appears explaining
     the issue. To maintain flexibility, it is still possible to save without first resolving the
     issue.

To generate and print a PDF of the bank statement, click the :icon:`fa-cog` :guilabel:`(gear)` icon
and click :icon:`fa-print` :guilabel:`Statement`.

.. note::
   When a bank statement is generated to be printed, it is automatically added to the
   :guilabel:`Attachments` if no file was attached when creating the statement.


==================================================
SECTION: trusted_accounts.rst
PATH: applications/finance/accounting/payments/trusted_accounts.rst
==================================================

=============================
Trusted accounts (send money)
=============================

To protect users from sending money to scammers, vendor bank account numbers must be marked as
trusted before you can use them to make an outgoing payment.

To do so, open the vendor bank account and click on the :guilabel:`Send Money` toggle switch button.

.. image:: trusted_accounts/send-money-toggle.png
   :align: center
   :alt: Example of a vendor bank account with the "Send Money" toggle button switched to "trusted."

.. note::
   All accounts are initially marked as untrusted.

Phishing attacks
================

A **phishing attack** is an online scam designed to trick individuals or companies into giving away
sensitive information or money by sending out fraudulent communication. Fraudsters pretend to be
legitimate companies and may use partial information to give credibility to their requests.

There are several types of phishing attacks, including **invoice fraud**. In this case, the
fraudster pretends to be a genuine supplier following up on unpaid bills or sending a new invoice,
but with different payment information than usual and with fake contact details.

To protect yourself from these types of phishing attacks, remain vigilant when you receive
unexpected invoices or payment requests.

.. important::
   In case of doubt, **we recommend contacting the vendor by phone**. Make sure to call an official
   phone number by searching yourself, as the URLs, email addresses, and phone numbers written in
   the communication you received may be fake.

Elements to check
-----------------

There are several elements you can check by yourself when you receive an outgoing payment request to
a new account:

Communication style
  Fraudulent emails and invoices often use a different communication style, such as **different
  wording**, and may include **spelling and grammatical mistakes**. Examine and **compare** them
  with previous ones that you know to be authentic (e.g., payment instructions, language, company
  logo, etc.).*

Urgency
  Invoice frauds often use **urgent or threatening language** and change the **payment deadline**.
  Check if you really received a late payment reminder previously.

Type of account
  A company is unlikely to replace a bank account with a **money transfer service**.

Email and links domain names
  Double-check the **email address domain** (`example@domain.com`). However, be wary that fraudsters
  can make their email addresses look genuine or even hack email addresses from your vendor's
  employees or even someone within your own organization.

  Hover over the links in your email and check that the URLs they redirect to are genuine. Your
  internet browser usually displays the link's target at the bottom left of the window.


==================================================
SECTION: uruguay.rst
PATH: applications/finance/accounting/customer_invoices/electronic_invoicing/uruguay.rst
==================================================

:orphan:

====================================
Odoo electronic invoicing in Uruguay
====================================

Odoo Invoicing is your trusted partner for safe, efficient, and legally compliant e-invoicing
solutions tailored to meet Uruguay's regulatory requirements and fully compatible with the
guidelines established by the `Dirección General Impositiva (DGI)
<https://www.gub.uy/direccion-general-impositiva/>`_.

Legal framework for e-invoicing in Uruguay
==========================================

Uruguay has mandated electronic invoicing under the :abbr:`CFE (Comprobante Fiscal Electrónico)`
system, which applies to most businesses to promote tax transparency and streamline financial
transactions. Key elements include:

- **Comprobante Fiscal Electrónico**: A mandatory e-invoice format required for B2B, B2C, and
  :abbr:`B2G (business-to-government)` transactions, fully compliant with :abbr:`DGI (Dirección
  General Impositiva)`'s technical standards.
- **Integration with DGI**: All :abbr:`CFE (Comprobante Fiscal Electrónico)` must be submitted to
  the :abbr:`DGI (Dirección General Impositiva)` for validation. Upon approval, the :abbr:`CFE
  (Comprobante Fiscal Electrónico)` receives a unique identification code and authorization for
  issuance.
- **XML Format**: Uruguay mandates the use of XML as the standard format for e-invoices, ensuring
  compatibility and interoperability with various systems.
- **Adoption Timeline**: E-invoicing is mandatory for most businesses, with specific deadlines for
  smaller enterprises to transition into the system.

Compliance with Uruguayan e-invoicing regulations
=================================================

Odoo Invoicing simplifies the complexities of compliance with Uruguay's e-invoicing requirements by
offering tailored features:

- **Supported formats**: Odoo supports the :abbr:`CFE (Comprobante Fiscal Electrónico)` format in
  :abbr:`DGI (Dirección General Impositiva)`-compliant XML, including all legally required fields,
  such as the unique identification code, authorization number, and digital signature. Odoo allows
  the automated submission, validation, and issuance through the :abbr:`DGI (Dirección General
  Impositiva)`'s e-invoicing platform to ensure compliance in real time.
- **Secure storage and retrieval**: In line with Uruguay’s mandatory five-year storage requirement,
  Odoo provides tamper-proof archiving solutions, ensuring easy access to invoices for audits or
  inspections.
- **Automatic tax calculation and reporting**: Odoo automates tax calculations for IVA (Value-Added
  Tax) and other applicable taxes, ensuring accuracy and compliance with :abbr:`DGI (Dirección
  General Impositiva)`'s reporting standards.

.. seealso::
   :doc:`Uruguayan fiscal localization documentation <../../../fiscal_localizations/uruguay>`

.. admonition:: Disclaimer

   This page provides a general overview of Uruguayan e-invoicing regulations and how Odoo supports
   compliance with DGI requirements. It is not intended as legal or tax advice. We recommend
   consulting with a tax advisor or legal professional familiar with Uruguay's e-invoicing
   regulations to ensure full compliance tailored to your specific business requirements.


==================================================
SECTION: vat_verification.rst
PATH: applications/finance/accounting/taxes/vat_verification.rst
==================================================

===============================
VAT numbers verification (VIES)
===============================

`VAT Information Exchange System <https://ec.europa.eu/taxation_customs/vies/#/vat-validation>`_, or
**VIES**, is a tool provided by the European Commission that allows you to check the validity of VAT
numbers for companies registered in the European Union.

Odoo's VAT Validation feature uses the VIES to verify your contacts' VAT numbers directly from
Odoo's interface.

.. note::
   Regardless of whether or not the Verify VAT Numbers feature is enabled, Odoo checks the format of
   a contact's VAT against the `expected format of VAT numbers
   <https://en.wikipedia.org/wiki/VAT_identification_number>`_ from that country.

VIES VAT number verification
============================

To activate this feature, go to :menuselection:`Accounting --> Configuration --> Settings`. In the
:guilabel:`Taxes` section, enable the :guilabel:`Verify VAT Numbers` feature, and click on
:guilabel:`Save`.

Once the :guilabel:`Verify VAT Numbers` feature is enabled, if the contact's :guilabel:`Tax ID`
field is populated *and* its country is different from your company's country, Odoo displays an
:guilabel:`Intra-Community Valid` checkbox. Odoo tests the VAT number through the VIES and
automatically checks or unchecks the :guilabel:`Intra-Community Valid` checkbox depending on the
validity of the VAT number.

.. image:: vat_verification/intra-community-valid.png
   :alt: Intra-community valid checkbox on the contact record

.. important::
   It is possible to manually override the :guilabel:`Intra-Community Valid` field on a contact in
   case the automatic VIES check is incorrect (for example, if the company was recently created and
   its VAT is not yet in the VIES). This change is logged in the chatter for transparency.

.. note::
   Odoo can :ref:`automatically apply fiscal positions <fiscal_positions/automatic>`. If the Verify VAT
   Numbers feature is enabled, any fiscal positions with VAT required enabled will require
   Intra-Community valid VAT numbers to apply automatically.


==================================================
SECTION: vendor_bills.rst
PATH: applications/finance/accounting/vendor_bills.rst
==================================================

:show-content:

============
Vendor bills
============

Vendor bills can be registered either **manually** or **automatically** in Odoo. The
:ref:`Aged Payable report <accounting/vendor_bills/age-payable-report>` provides an overview of all
outstanding bills to help ensure timely payment of the correct amounts.

.. seealso::
   - Tutorial `Registering a vendor bill <https://www.odoo.com/slides/slide/register-a-vendor-bill-6582>`_
   - :doc:`/applications/inventory_and_mrp/purchase/manage_deals/manage`
   - :doc:`../accounting/customer_invoices/credit_notes`

.. _accounting/vendor_bills/creation:

Bill creation
=============

.. _accounting/vendor_bills/creation-manual:

Manually
--------

To create a vendor bill manually, go to :menuselection:`Accounting --> Vendors --> Bills` and
click :guilabel:`New`.

.. tip::
   Alternatively, it is possible to create a vendor bill from the Accounting dashboard:

   - either click :guilabel:`New` on the :guilabel:`Purchases` journal;
   - or click the :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` icon of the
     :guilabel:`Purchases` journal, then :guilabel:`Bill` under the :guilabel:`New` section.

.. _accounting/vendor_bills/automatic:

Automatically
-------------

Vendor bills can be automatically created by sending an email to an :ref:`email alias
<accounting/bill-digitization/email-alias>` associated with the purchase journal, or by
:ref:`uploading a PDF <accounting/bill-digitization/manual-upload>`.

.. note::
   - Once the bill is uploaded, the PDF document appears on the right side of the screen, making it
     easy to fill in the bill information.
   - Bills can be :doc:`digitized <vendor_bills/invoice_digitization>` for automatic
     completion and :ref:`matched with purchase orders
     <accounting/bill-digitization/vendor-bills-matching-po>` to replace OCR-detected data with the
     existing purchase order's details.
   - Services such as digitizing scanned or PDF vendor bills in Odoo require :doc:`In-App
     Purchase (IAP) </applications/essentials/in_app_purchase>` credits.

To automatically post bills from selected vendors, go to :menuselection:`Accounting --> Vendors -->
Vendors` and select the relevant vendor. In the :guilabel:`Accounting` tab, under the
:guilabel:`General` section, update the :guilabel:`Auto-post bills` field  with one of the following
options:

- :guilabel:`Always`
- :guilabel:`Ask after 3 validations without edits`
- :guilabel:`Never`

.. seealso::
   :ref:`Vendor bills matching with purchase orders
   <accounting/bill-digitization/vendor-bills-matching-po>`

.. _accounting/vendor_bills/bill-completion:

Bill completion
===============

Whether the bill is created manually or automatically, make sure the following fields are
appropriately completed:

- :guilabel:`Vendor`: Odoo automatically fills in some information based on the information on the
  vendor's contact record as well as previous purchase orders and bills.
- :guilabel:`Bill Reference`: Add the sales order reference provided by the vendor. This field is
  used to :ref:`match <accounting/payments/payments-matching>` the products when they are received.
- :guilabel:`Auto-Complete`: Select a past bill/purchase order to complete the document
  automatically. The :guilabel:`Vendor` field should be completed before completing this field.
- :guilabel:`Bill Date`: Select the document's issuance date.
- :guilabel:`Accounting Date`: Update the document's accounting registration date if needed.
- :guilabel:`Payment Reference`: The :guilabel:`Memo` field automatically includes the payment
  reference once the payment is registered.
- :guilabel:`Recipient Bank`: Indicates the account number to which the payment will be made. This
  field is required when paying via batch payment files (such as :ref:`NACHA
  <l10n_us/ach-electronic-transfers>` and :doc:`SEPA <payments/pay_sepa>`).
- :guilabel:`Due Date` or :guilabel:`Payment Terms` must be specified for the bill payment.
- :guilabel:`Journal`: Select which journal should record the bill and in which :doc:`currency
  <get_started/multi_currency>`.

In the :guilabel:`Invoice Lines` tab:

- To access the product catalog, click :doc:`Catalog
  </applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/product_catalog>`.
- Select the products and quantities, then click :guilabel:`Back to Bill` to return to the vendor
  bill; the selected catalog items will appear in the vendor bill lines.
- Update the :guilabel:`Quantity`, :guilabel:`Price`, and :doc:`Taxes <taxes>` fields if needed.

.. tip::
   If the bill line does not correspond to an existing product in the database, click :guilabel:`Add
   a line` and enter a description for the bill line without linking it to a product.

.. note::
   Multiple bills for the same purchase order may be issued if the vendor is on back-order and sends
   invoices as products are shipped or if the vendor sends partial bills or requests a deposit. In
   this case, multiple bills may have the same :guilabel:`Bill Reference`.

.. _accounting/vendor_bills/bill-confirmation:

Bill confirmation
=================

Click :guilabel:`Confirm` when the document is completed. The status changes to :guilabel:`Posted`,
and a journal entry is generated based on the vendor bill information. On confirmation, Odoo assigns
each vendor bill a unique number from a defined :doc:`sequence <vendor_bills/sequence>`.

.. note::
   Once confirmed, a vendor bill can no longer be updated. Click :guilabel:`Reset to draft` if
   changes are required.

.. _accounting/vendor_bills/bill-payment:

Payment and reconciliation
==========================

To register a payment, click on :guilabel:`Pay`. In the :guilabel:`Pay` window, select the
:guilabel:`Journal`, the :guilabel:`Payment Method`, the :guilabel:`Amount`, and the
:guilabel:`Currency`.

When the :guilabel:`Amount` paid is less than the total remaining amount on the vendor bill, the
payment is :ref:`partial <accounting/payments/partial-payment>`, and the :guilabel:`Payment
Difference` field displays the outstanding balance.

The :guilabel:`Memo` field is filled automatically if the :guilabel:`Payment Reference` has been set
correctly on the vendor bill. If the field is empty, select the vendor invoice number as a
reference.

Then click :guilabel:`Create payment`. An :guilabel:`In Payment`/:guilabel:`Partial` banner appears
on the bill until it is :doc:`reconciled <bank/reconciliation>` and its status updates to
:guilabel:`Paid`.

.. seealso::
   - :doc:`payments`
   - :doc:`bank/reconciliation`

.. _accounting/vendor_bills/age-payable-report:

Aged payable report
===================

For an overview of the open vendor bills and their due dates, go to :menuselection:`Accounting -->
Reporting --> Aged payable`.

Click the :icon:`fa-caret-right` :guilabel:`(right arrow)` icon next to a vendor to view the details
of all their outstanding bills, including the due dates and amounts.

.. Note::
   Click :guilabel:`PDF` or :guilabel:`XLSX` to generate a PDF or XLSX file, respectively.

.. toctree::
   :titlesonly:

   vendor_bills/invoice_digitization
   vendor_bills/assets
   vendor_bills/deferred_expenses
   vendor_bills/sequence


==================================================
SECTION: year_end.rst
PATH: applications/finance/accounting/reporting/year_end.rst
==================================================

================
Year-end closing
================

Year-end closing is essential for maintaining financial accuracy, complying with regulations, making
informed decisions, and ensuring transparency in reporting.

.. seealso::
   :doc:`Tax return <tax_returns>`

.. _accounting/year-end/fiscal-years:

Fiscal years
============

By default, the fiscal year is set to last 12 months and ends on December 31st. However, its
duration and end date can vary due to cultural, administrative, and economic considerations.

To modify these values, go to :menuselection:`Accounting --> Configuration --> Settings`. Under the
:guilabel:`Fiscal Periods` section, change the :guilabel:`Last Day` field if necessary.

If the period lasts *more* than or *less* than 12 months, enable :guilabel:`Fiscal Years` and
:guilabel:`Save`. Go back to the :guilabel:`Fiscal Periods` section and click :icon:`oi-arrow-right`
:guilabel:`Fiscal Years`. Then, click :guilabel:`New`, give it a :guilabel:`Name` and both a
:guilabel:`Start Date` and :guilabel:`End Date`.

.. note::
   Once the set fiscal period is over, Odoo automatically reverts to the default periodicity,
   considering the value specified in the :guilabel:`Last Day` field.

.. _accounting/year-end/checklist:

Year-end checklist
==================

.. _accounting/year-end/before-closure:

Before closure
--------------

Before closing a fiscal year, ensure that everything is accurate and up-to-date:

- Make sure all bank accounts are fully :doc:`reconciled <../bank/reconciliation>` up to year-end
  and confirm that the ending book balances match the bank statement balances.
- Confirm that all :doc:`customer invoices <../customer_invoices>` and :doc:`vendor bills
  <../vendor_bills>` have been created and all draft entries have been either confirmed or
  cancelled, as needed.
- Ensure the accuracy of all :doc:`expenses <../../expenses>` and validate them.
- Check that all :doc:`received payments <../payments>` have been encoded and confirmed.
- Close all :ref:`suspense accounts <accounting/journals/bank-cash-cc>`.
- Ensure :doc:`loans <../bank/loans>` are properly registered for automatic amortization
  calculations.
- Review overdue payables and receivables aged over 60 days, and assess whether a provision for
  uncertain liabilities or an allowance for doubtful accounts is required.
- Book all :doc:`depreciation <../vendor_bills/assets>` and :doc:`deferred revenue
  <../customer_invoices/deferred_revenues>` entries.

.. _accounting/year-end/closing-a-fiscal-year:

Closing a fiscal year
---------------------

Then, to close the fiscal year:

- Run a :ref:`tax report <accounting/reporting/tax-report>`, and verify that all tax information is
  correct.
- Reconcile all accounts on the :ref:`balance sheet <accounting/reporting/balance-sheet>`:

  - Update the bank balances in Odoo to reflect the actual balances as per the bank statements.
  - Reconcile all transactions in the cash and bank accounts by running the :ref:`aged receivables
    <accounting/reporting/aged-receivable>` and :ref:`aged payables
    <accounting/reporting/aged-payable>` reports.
  - Audit all accounts, fully understanding all transactions and their nature, including :doc:`loans
    <../bank/loans>` and :doc:`fixed assets <../vendor_bills/assets>`.
  - Optionally, :ref:`match payments <accounting/payments/payments-matching>` to validate any open
    vendor bills and customer invoices with their payments. While this step is optional, it could
    assist the year-end closing process if all outstanding payments and invoices are reconciled,
    potentially finding errors or mistakes in the system.

Next, the accountant likely verifies balance sheet items and book entries for:

  - year-end manual adjustments,
  - work in progress,
  - depreciation journal entries,
  - loans,
  - tax adjustments,
  - etc.

During the year-end audit, the accountant may print paper copies of all balance sheet items (e.g.,
loans, bank accounts, prepayments, sales tax statements) to compare them against the balances
recorded in Odoo.

.. tip::
   As part of this process, setting a :ref:`Lock Everything
   <accounting/year-end/lock-everything-date>` date to the last day (inclusive) of the preceding
   fiscal year is good practice. This ensures that journal entries with an accounting date on or
   before the lock date cannot be created or modified during the audit. Users with *administrator*
   access rights can still create and edit entries if an :ref:`exception is configured
   <accounting/year-end/lock-date-exception>`.

.. _accounting/year-end/lock-everything-date:

Lock everything date
~~~~~~~~~~~~~~~~~~~~

Setting a lock date prevents modifications to any posted journal entries with an accounting date on
or before the lock date. It also prevents posting new entries with an accounting date on or before
the lock date. In such cases, the system automatically sets the accounting date to the day after the
lock date.

To set a :guilabel:`Lock Everything` date, go to :menuselection:`Accounting --> Accounting --> Lock
Dates`. In the :guilabel:`Lock Journal Entries` window, set the :guilabel:`Lock Everything` date and
:guilabel:`Save`.

After setting the :guilabel:`Lock Everything` date, an :ref:`exception
<accounting/year-end/lock-date-exception>` can be made if a modification is necessary.

.. _accounting/year-end/lock-date-exception:

Lock date exception
*******************

Users with :ref:`Administrator <accounting/accountant-access-rights>` access rights to the
Accounting app can create exceptions. To do so:

#. After setting and saving a lock date, go to :menuselection:`Accounting --> Accounting --> Lock
   Dates`. In the :guilabel:`Lock Journal Entries` window, remove the :guilabel:`Lock Everything`
   date.
#. In the :guilabel:`Exception` banner, choose if this exception should be set :guilabel:`for me`
   (the current user) or :guilabel:`for everyone`, and how long it should last.
#. A :guilabel:`Reason` for this exception can be added.
#. All of this information is logged in the chatter of the :doc:`company record
   </applications/general/companies>`.

.. tip::
   To remove a lock date after it has been saved, configure the exception to apply :guilabel:`for
   everyone` and set the duration to :guilabel:`forever`. This does not apply to the
   :guilabel:`Hard Lock` date, which is irreversible to ensure inalterability and to meet accounting
   requirements in certain countries.

.. _accounting/year-end/current-year-earnings:

Current year's earnings
~~~~~~~~~~~~~~~~~~~~~~~

Odoo uses a unique account type called **current year's earnings** to display the difference
between the **income** and **expense** accounts.

.. note::
   The chart of accounts can only contain one account of this type. By default, it is a 999999
   account named :guilabel:`Undistributed Profits/Losses`.

To allocate the current year's earnings, create a new miscellaneous entry with a date set to the end
of the fiscal year to book them to any equity account.

Then, verify whether the current year's earnings on the **balance sheet** correctly show a zero
balance. If so, a :guilabel:`Hard Lock date` can be set to the last day of the fiscal year in
:menuselection:`Accounting --> Accounting --> Lock Dates`.

.. tip::
   The :guilabel:`Hard Lock date` field is irreversible and is intended to ensure data
   inalterability required to comply with accounting regulations in certain countries. If such
   compliance is not applicable, setting this field may not be necessary. However, if required, the
   date should only be set once it is confirmed to be correct, as it **cannot be changed or
   overridden**, regardless of access rights.

.. _accounting/year-end/annual-closing:

Annual closing
==============

To complete the fiscal year-end process and finalize the annual closing, go to the Accounting
dashboard and click :guilabel:`Tax Returns` on the :guilabel:`Tax Returns` journal from the
Accounting dashboard. Alternatively, go to :menuselection:`Accounting --> Accounting --> Tax
Returns`.

This view displays a chronological list of all pending returns including :ref:`tax returns
<accounting/tax-returns/vat-report>`, :ref:`advance payments
<accounting/tax-returns/advance-payments>` (based on the :doc:`fiscal localization
<../../fiscal_localizations>`), and annual closings. A pending :guilabel:`Annual Closing` follows
two steps: :ref:`review <accounting/year-end/annual-closing/review>` and :ref:`submit
<accounting/year-end/annual-closing/submit>`. The :guilabel:`Annual Closing` item includes:

- A period (year).
- A deadline date.
- The related company and :ref:`branch(es) <general/branches>`, if applicable.
- Action steps, such as :ref:`Review <accounting/year-end/annual-closing/review>` and :ref:`Submit
  <accounting/year-end/annual-closing/submit>`, which turn green when completed.
- Action buttons for key tasks.
- A :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` menu for additional options.

.. note::
   - Before the annual closing is reviewed, the number of :guilabel:`Pending` or :guilabel:`Passed`
     closing validation checks is displayed in red or green, respectively.
   - If the :guilabel:`Deadline` date has passed, it appears in red.

.. _accounting/year-end/annual-closing/review:

Review
------

To start reviewing an annual closing, click the annual closing line. The annual closing checks view
displays the following, depending on the :doc:`fiscal localization <../../fiscal_localizations>`:

  - :guilabel:`Aged payables per partner`: Review payables without a partner.
  - :guilabel:`Aged receivables per partner`: Review receivables without a partner.
  - :guilabel:`Bank Reconciliation`: Reconcile all bank account transactions up to year-end.
  - :guilabel:`Deferred Entries`: Ensure start and end dates are correctly set on bills and
    invoices.
  - :guilabel:`Earnings Allocation`: After adjustments, transfer the undistributed profits/losses to
    an equity account.
  - :guilabel:`Fixed Assets`: Ensure assets are properly registered for automatic depreciation
    calculation.
  - :guilabel:`Loans`: Ensure loans are properly registered for automatic amortization calculations.
  - :guilabel:`Manual Adjustments`: Complete any necessary manual adjustments and internal checks.
  - :guilabel:`No draft entries`: Review and post draft invoices, bills, and entries in the period,
    or change their accounting date.
  - :guilabel:`Overdue payables`: Review overdue payables aged over 60 days and assess the need for
    an allowance for uncertain liabilities.
  - :guilabel:`Overdue receivables`: Review overdue receivables aged over 60 days and assess the
    need for an allowance for doubtful accounts or expected credit loss provision, as per IFRS 9
    guidelines.
  - :guilabel:`Total Receivables`: Verify that the total aged receivables equals the customer
    account balance.
  - :guilabel:`Total payables`: Verify that the total aged payables equals the vendor account
    balance.

Some of the checks are performed automatically, while others serve as reminders to review essential
tasks. Each check card is either labeled as:

- :guilabel:`Reviewed` (highlighted in green): The check has passed.
- :guilabel:`To review` (highlighted in grey): Action is required before the check can be manually
  marked as :guilabel:`Reviewed` or :guilabel:`Supervised`.
- :guilabel:`Anomaly` (highlighted in red): The automatic check detects an issue. There are two
  options:

  - Click the failed check's card to fix the issue.
  - Click :guilabel:`Anomaly` and select :guilabel:`Reviewed` or :guilabel:`Supervised` to pass the
    check without fixing the issue.

Once all closing validation checks have passed, either labeled as :guilabel:`Reviewed` or
:guilabel:`Supervised`, click :guilabel:`Validate` to complete the :guilabel:`Review` step. The
annual closing can then be :ref:`submitted <accounting/year-end/annual-closing/submit>`.

.. tip::
   - To add customized checks, activate :ref:`developer mode <developer-mode>`, and go to
     :menuselection:`Accounting --> Configuration --> Check`. Then, click :guilabel:`New` and
     complete the necessary fields.
   - All check status changes are logged in the chatter.

.. _accounting/year-end/annual-closing/submit:

Submit
------

Once a tax return has completed the :ref:`Review <accounting/tax-returns/vat-return-review>` step,
click :guilabel:`Submit`.

If a :guilabel:`Submission Instructions` pop-up window appears, depending on the :doc:`fiscal
localization <../../fiscal_localizations>`, follow the local :guilabel:`Instructions`, and click
:guilabel:`Mark as Submitted`.

.. tip::
   To review checks before submitting the annual closing, click the :icon:`fa-ellipsis-v`
   :guilabel:`(vertical ellipsis)` icon on the annual closing line and select :guilabel:`Reset`.
