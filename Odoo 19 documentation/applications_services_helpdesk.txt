

==================================================
SECTION: helpdesk.rst
PATH: applications/services/helpdesk.rst
==================================================

:show-content:
:show-toc:

========
Helpdesk
========

Odoo **Helpdesk** is a ticket-based customer support application. Multiple teams can be configured
and managed in one dashboard, each with their own pipeline for tickets submitted by customers.
Pipelines are organized in customizable stages that enable teams to track, prioritize, and solve
customer issues efficiently.

.. _helpdesk/create-team:

Create a Helpdesk team
======================

To view or modify **Helpdesk** teams, go to :menuselection:`Helpdesk app --> Configuration -->
Helpdesk Teams`. To create a new team, click the :guilabel:`New` button on the top-left of the
dashboard.

.. image:: helpdesk/helpdesk-teams-list.png
   :alt: View of the Helpdesk teams page in Odoo Helpdesk.

On the blank Helpdesk team form, enter a :guilabel:`Name` for the new team. Then, enter a
description of the team in the field below the team name, if desired. To change the company this
team is assigned to, select it from the :guilabel:`Company` drop-down menu.

.. important::
   The team description is published on the public facing :doc:`website form
   <helpdesk/overview/receiving_tickets>`, where customers and portal users submit tickets. The
   description included in this field should **not** include any information that is for internal
   use only.

   .. image:: helpdesk/team-description-webform.png
      :alt: View of a Helpdesk team's website form displaying the team description.

Visibility & Assignment
-----------------------

The *Visibility* settings alter which internal users and portal users have access to this team and
its tickets. The *Assignment* settings alter how users are assigned to handle each ticket.

Determine team visibility
~~~~~~~~~~~~~~~~~~~~~~~~~

Under the :guilabel:`Visibility` section, select one of the following options to determine who can
view this team and its tickets:

- :guilabel:`Invited internal users (private)`: Internal users can access the team and the tickets
  they are following. This access can be modified on each ticket individually by adding or removing
  the user as a follower. Internal users are considered *invited* once they are added as followers
  to an individual ticket, or :ref:`to the team itself <helpdesk/follow>`.
- :guilabel:`All internal users (company)`: All internal users can access the team and all of its
  tickets.
- :guilabel:`Invited portal users and all internal users (public)`: All internal users can access
  the team and all of its tickets. Portal users can only access the tickets they are following.

.. example::
   A `Customer Support` team, meant to handle general shipping and product issues, would have the
   visibility set on :guilabel:`Invited portal users and all internal users`.

   At the same time, a `Financial Services` team handling tickets related to accounting or tax
   information would only need to be visible to :guilabel:`Invited internal users`.

.. warning::
   A team's visibility can be altered after the initial configuration. However, if the team changes
   from *Invited portal users and all internal users (public)* access to either *Invited internal
   users (private)* or *All internal users (company)*-only access, portal users are removed as
   followers from both the team, and from individual tickets.

.. _helpdesk/follow:

Follow all team's tickets
~~~~~~~~~~~~~~~~~~~~~~~~~

If a user should be notified about any updates regarding tickets for this team, select their name
from the :guilabel:`Followers` drop-down menu, located in the :guilabel:`Follow All Team's Tickets`
field. Multiple users can be selected to follow a single team.

.. important::
   External contacts can be selected in the :guilabel:`Followers` field. If the team's visibility is
   set to :guilabel:`Invited internal users (private)`, followers are notified about updates to the
   team's tickets, but are **not** able to view them in the portal.

Automatically assign new tickets
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When tickets are received, they need to be assigned to a member of the team. This is done either
manually on each individual ticket, or through :guilabel:`Automatic Assignment`. Check the
:guilabel:`Automatic Assignment` checkbox to enable this feature for the team.

.. important::
   If an employee has time off scheduled in the **Time Off** application, they are **not** assigned
   tickets during that time. If no employees are currently available, the system looks ahead on the
   calendar until there is a match.

.. image:: helpdesk/helpdesk-visibility-assignment.png
   :alt: View of a Helpdesk team settings page emphasizing the automatic assignment features in Odoo
         Helpdesk.

Assign tickets based on workload
********************************

Select one of the following assignment methods, based on how the workload should be allocated across
the team:

- :guilabel:`Each user is assigned an equal number of tickets`: Tickets are assigned to team members
  based on total unassigned ticket count, regardless of the number of open or closed tickets they
  are currently assigned.
- :guilabel:`Each user has an equal number of open tickets`: Tickets are assigned to team members
  based on how many open tickets they are currently assigned.

.. note::
   When :guilabel:`Each user is assigned an equal number of tickets` is selected, the overall number
   of tickets assigned to team members is the same, but it does **not** consider the current
   workload.

   When :guilabel:`Each user has an equal number of open tickets` is selected, it ensures a balanced
   workload among team members, as it takes the current number of active tickets into account.

Add the :guilabel:`Team Members` who are to be assigned tickets for this team. Leave the
field empty to include all employees who have the proper assignments and access rights configured in
their user account settings.

Assign tickets based on expertise
*********************************

To assign tickets to team members based on their expertise, and the associated tag on the tickets,
select :guilabel:`Dispatch tickets based on tags` under :guilabel:`Automatic Assignment`. Then,
click :guilabel:`Configure tags handled by team members`.

Click :guilabel:`New` to create a new :guilabel:`Ticket Tag`, such as `Pricing` or `IT`. Select one
or more :guilabel:`Team Members` from the drop-down list. Click :guilabel:`Save` when finished.

.. important::
   If a ticket has no tag set, the ticket remains unassigned.

.. seealso::
   - :ref:`Manage users <users/add-individual>`
   - :doc:`Access rights <../general/users/access_rights>`

Merge tickets
=============

If duplicate tickets are found in **Helpdesk**, they can be combined into a single ticket using the
*merge* feature.

.. important::
   The *merge* feature is **only** accessible if the :doc:`Data Cleaning
   <../productivity/data_cleaning>` application is installed on the database.

To merge two or more tickets, navigate to :menuselection:`Helpdesk app --> Tickets --> All Tickets`.
Identify the tickets to be merged, and tick the checkbox at the far-left of each ticket to select
them. Then, click the :icon:`fa-cog` :guilabel:`Actions` icon, and select :guilabel:`Merge` from the
drop-down menu. Doing so opens a new page where the selected tickets are listed with their
:guilabel:`Similarity` rating. From here, click either :ref:`Merge <data_cleaning/merge-records>` to
combine the tickets, or :guilabel:`DISCARD`.

Convert tickets to opportunities
================================

Some tickets may be better handled by the sales team, rather than the support team. In this case,
tickets can be converted to *opportunities* and assigned to a sales team for follow-up.

.. important::
   This feature is **only** available if the :doc:`CRM <../sales/crm>` app is installed.

To convert a ticket to an opportunity, first navigate to a ticket, either from a team's pipeline, or
by navigating to :menuselection:`Helpdesk app --> Tickets` and clicking a ticket to open it.

At the top of the ticket, click the :guilabel:`Convert to Opportunity` button.

.. note::
   If :doc:`leads <../sales/crm/acquire_leads/convert>` are enabled on the **CRM** app, tickets are
   converted to *leads*, and the button reads :guilabel:`Convert to Lead`.

This opens the :guilabel:`Convert to Opportunity` pop-up. Fill in or select the following
information on the pop-up:

- :guilabel:`Customer`: Select whether to :guilabel:`Create a new customer`, :guilabel:`Link to an
  existing customer`, or :guilabel:`Do not link to a customer`. If :guilabel:`Link to a customer` is
  chosen, select the appropriate customer name from the :guilabel:`Customer` drop-down.

- :guilabel:`Sales Team`: Specify which :guilabel:`Sales Team` and :guilabel:`Salesperson` this
  created opportunity is assigned to.

.. image:: helpdesk/convert-to-opp.png
   :alt: The convert to opportunity pop-up window.

After completing the form, click :guilabel:`Convert to Opportunity`. Doing so creates a new
opportunity in the **CRM** app. The original ticket is linked in the chatter of the new opportunity
for traceability.

.. note::
   After the ticket is converted to an opportunity, the ticket is archived.

.. seealso::
   - `Odoo Tutorials: Helpdesk <https://www.odoo.com/slides/helpdesk-51>`_

.. toctree::
   :titlesonly:

   helpdesk/overview
   helpdesk/advanced


==================================================
SECTION: advanced.rst
PATH: applications/services/helpdesk/advanced.rst
==================================================

:nosearch:

========
Advanced
========

.. toctree::
   :titlesonly:

   advanced/after_sales
   advanced/close_tickets
   advanced/track_and_bill


==================================================
SECTION: after_sales.rst
PATH: applications/services/helpdesk/advanced/after_sales.rst
==================================================

====================
After-Sales services
====================

*After-Sales* services can be configured in the **Helpdesk** application for individual teams. Once
enabled, users can :ref:`issue refunds <helpdesk/refunds>`, :ref:`generate coupons
<helpdesk/coupons>`, :ref:`process returns <helpdesk/returns>`, and :ref:`schedule repairs
<helpdesk/repairs>` or :ref:`field service interventions <helpdesk/field>` directly from a ticket.

Set up after-sales services
===========================

Start by enabling the after-sales services on a specific **Helpdesk** team, by going to
:menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams` and click on the team the
services should be applied to. Then, scroll to the :guilabel:`After-Sales` section on the team's
settings page, and choose which of the following options to enable:

- :guilabel:`Refunds`: issues credit notes to refund a customer, or adjust the remaining amount due.
- :guilabel:`Coupons`: offers discounts and free products through an existing coupon program.
- :guilabel:`Returns`: initiates a product return from a customer through a reverse transfer.
- :guilabel:`Repairs`: creates repair orders for broken or faulty products.
- :guilabel:`Field Service`: plans onsite intervention through the **Field Service** application.

.. figure:: after_sales/after-sales-enable.png
   :alt: The after sales options enabled on a helpdesk team.

   The services that are enabled can vary based on the type of support a team provides.

.. danger::
   Since all the after-sales services in Odoo require integration with other applications, enabling
   any of them may result in the installation of additional modules or applications. Installing a
   new application on a One-App-Free database triggers a 15-day trial. At the end of the trial, if a
   paid subscription has not been added to the database, it will no longer be accessible.

.. _helpdesk/refunds:

Issue refund with credit note
=============================

A *credit note* is a document issued to a customer informing them that they have been credited a
certain amount of money. They can be used to provide a full refund to a customer, or to adjust any
remaining amount due. While they are usually created through the **Accounting** or **Invoicing**
applications, they can be created through a **Helpdesk** ticket, as well.

.. important::
   Invoices **must** be posted before a credit note can be generated.

To create a credit note, navigate to a ticket on the :menuselection:`Helpdesk app`, and click the
:guilabel:`Refund` button in the top-left corner of the ticket form. This opens a :guilabel:`Refund`
pop-up window.

.. image:: after_sales/after-sales-refund-details.png
   :alt: View of a refund creation page.

Fill out the fields with the necessary information:

 - :guilabel:`Sales Order`: if a sales order was referenced on the original ticket, it automatically
   populates in this field.
 - :guilabel:`Product`: the product the ticket is about. If an item is selected in this field, only
   the sales orders, deliveries, and invoices including this product can be selected.
 - :guilabel:`Lot/Serial Number`: this field is **only** visible if the :guilabel:`Product` selected
   has associated lot or serial numbers.
 - :guilabel:`Invoices to Refund`: this field is **required**. If no invoices are available in the
   drop-down, it indicates this customer currently has no posted invoices, or the
   :guilabel:`Product` has no related invoices.
 - :guilabel:`Reason displayed on Credit Note`: this field automatically populates with the ticket
   number, though it can be edited with additional information.
 - :guilabel:`Journal`: the accounting journal where the credit note should be posted. After an
   invoice is selected, this field defaults to the journal listed on the original invoice, though it
   can be changed, if necessary.
 - :guilabel:`Reversal date`: when this field is clicked, use the pop-up calendar that appears to
   select a date for the credit note invoice. This field is **required**.

After the necessary fields are filled in, click :guilabel:`Reverse` or :guilabel:`Reverse and Create
Invoice`.

:guilabel:`Reverse` creates a credit note in a draft state that can be edited before it is posted.
This option can be used to provide a partial refund.

:guilabel:`Reverse and Create Invoice` creates a credit note that is automatically posted as well as
an invoice in a draft state. The invoice contains the same information as the original invoice,
though this information can be altered.

Once the credit note has been posted, a :guilabel:`Credit Notes` smart button is added to the
**Helpdesk** ticket.

.. image:: after_sales/after-sales-credit-note-smart-button.png
   :alt: View of smart buttons on a ticket focusing on the credit note button.

.. seealso::
   :doc:`../../../finance/accounting/customer_invoices/credit_notes`

.. _helpdesk/coupons:

Generate coupons from a ticket
==============================

Coupons can be used to alter the price of products or orders. Conditional rules define the usage
constraints of a coupon. *Coupon Programs* are configured in the **Sales**, **Point of Sale**, or
**Website** applications.

.. important::
   The **eCommerce** module **must** be installed to create coupon codes from the **Website**.

To generate a coupon, open a **Helpdesk** ticket and click on the :guilabel:`Coupon` button in the
top-left corner. Select an option from the :guilabel:`Coupon Program` drop-down menu in the
:guilabel:`Generate a Coupon` pop-up window that appears.

.. image:: after_sales/after-sales-generate-coupon.png
   :alt: View of a coupon generation window.

.. note::
   To create a new :guilabel:`Coupon Program`, navigate to :menuselection:`Sales app --> Products
   --> Discount & Loyalty` and click :guilabel:`New`. To make the program available to share with
   **Helpdesk** customers, the :guilabel:`Program Type` **must** be set to :guilabel:`Coupons`. This
   generates single-use coupon codes that grant immediate access to rewards and discounts.

  Coupon programs can also be created in the **Point of Sale** or **Website** applications. Refer to
  :doc:`discount and loyalty programs <../../../sales/sales/products_prices/loyalty_discount>` for
  more information.

Click on the :guilabel:`Valid Until` field, and use the pop-up calendar to select an expiration date
for this coupon code. If this field is left blank, the code does **not** expire.

Click :guilabel:`Send by Email` to compose an email to send to the customer with the coupon code.

Click :guilabel:`Get Share Link` to generate a link to send directly to the customer. Doing so opens
a :guilabel:`Share Coupons` pop-up window. Click the :guilabel:`Copy` button next to the
:guilabel:`Share Link` field and paste the results to any communication with the customer. When the
customer uses the link, the code is automatically applied to their cart.

After a :guilabel:`Coupon Code` has been generated, a :guilabel:`Coupons` smart button is added to
the top of the ticket; click the smart button to view the coupon code, expiration date, and
additional information.

.. image:: after_sales/after-sales-coupon-smart-button.png
   :alt: View of the smart buttons on a ticket focusing on the coupon button.

.. seealso::
   - `Coupons <https://www.youtube.com/watch?v=KW5cZHg10jQ>`_
   - :doc:`../../../sales/sales/products_prices/loyalty_discount`

.. _helpdesk/returns:

Return products
===============

Returns are completed through *reverse transfers*, which generate new warehouse operations for the
returning products. Click the :guilabel:`Return` button at the top of a ticket to open the
:guilabel:`Return` pop-up window.

.. image:: after_sales/after-sales-return-button.png
   :alt: View of a Helpdesk ticket with the return button highlighted.

.. important::
   The :guilabel:`Return` button **only** appears on a ticket if the customer has a recorded
   delivery in the database.

Select a :guilabel:`Sales Order` or :guilabel:`Delivery to Return` to identify the products that
need to be returned.

By default, the quantity matches the validated quantity from the delivery order. Update the
:guilabel:`Quantity` field, if necessary. To remove a line, click the :icon:`fa-trash-o`
:guilabel:`(trash)` icon.

Select a :guilabel:`Return Location` where the items should be directed after the return is
completed.

.. image:: after_sales/after-sales-reverse-transfer.png
   :alt: View of a reverse transfer creation page.

To confirm the return, click :guilabel:`Return`. This generates a new warehouse operation for the
incoming returned products.

To exchange the received item with a new one, click :guilabel:`Return for Exchange`. Doing so
generates a warehouse operation in Odoo to deliver the replacement product.

Use the breadcrumbs to return to the helpdesk ticket. A new :guilabel:`Return` smart button can now
be accessed at the top of the ticket.

.. image:: after_sales/after-sales-return-smart-button.png
   :alt: View of the return smart button on a helpdesk ticket.

.. seealso::
   :doc:`../../../sales/sales/products_prices/returns`

.. _helpdesk/repairs:

Send products for repair from a ticket
======================================

If the ticket is related to an issue with a faulty or broken product, a *repair order* can be
created from the **Helpdesk** ticket, and managed through the **Repairs** application.

To create a new repair order, open a :menuselection:`Helpdesk` ticket and click on the
:guilabel:`Repair` button in the top-left corner. This opens a :guilabel:`Repair Reference` form.

.. image:: after_sales/after-sales-repair-reference.png
   :alt: View of a repair reference page.

Fill out the fields with the necessary information:

 - :guilabel:`Customer`: this field carries over from the ticket, though a new contact can been
   selected from the drop-down menu.
 - :guilabel:`Product to Repair`: if a product was specified in the :guilabel:`Product` field on the
   ticket, it is added to this field automatically. If not, click into the field to select a product
   from the drop-down menu.
 - :guilabel:`Lot/Serial`: this field is **only** visible if the products being repaired are
   tracked, via lot or serial numbers.
 - :guilabel:`Return`: return order from which the product to be repaired comes from.
 - :guilabel:`Under Warranty`: if this box is checked, the sale price for all products from the
   repair order are set to zero.
 - :guilabel:`Scheduled Date`: this field defaults to the current date. To select a new date, click
   into the field and select a date using the drop-down calendar.
 - :guilabel:`Responsible`: assign a user from the drop-down menu to manage the repair.
 - :guilabel:`Tags`: click into this field to assign an existing tag or create a new one. Multiple
   tags can be assigned.

If parts are required for the repair, they can be added in the :guilabel:`Parts` tab. Additional
information for the internal repair team can be added to the :guilabel:`Repair Notes` tab.

Once the form is complete, click :guilabel:`Confirm Repair`. To create, edit, and send a quote for
this repair, click :guilabel:`Create Quotation`.

A :guilabel:`Repairs` smart button is then added to the ticket, linking to the repair order.

.. image:: after_sales/after-sales-repair-smart-button.png
   :alt: View of smart buttons focusing on repair button.

.. tip::
   Once a user creates a repair order from a **Helpdesk** ticket, they can access it through the
   ticket's :guilabel:`Repair` smart button, or from a link in the chatter, even if they do not have
   access rights to the **Repair** application.

.. _helpdesk/field:

Create field service task from a ticket
=======================================

On-site interventions can be planned from a ticket and managed through the **Field Service**
application. Customers with :doc:`portal access <../../../general/users/user_portals>` are able
to track the progress of a **Field Service** task the same as they would a **Helpdesk** ticket.

.. tip::
   To change the default **Field Service** project for the team, go to :menuselection:`Helpdesk app
   --> Configuration --> Helpdesk Teams` to select a :guilabel:`Team`. Scroll to the
   :guilabel:`After-Sales` section, and choose a project under :guilabel:`Field Service`.

To create a new **Field Service** task, navigate to a :menuselection:`Helpdesk` ticket. Click
:guilabel:`Plan Intervention` to open the :guilabel:`Create a Field Service task` pop-up window.

.. image:: after_sales/after-sales-field-service-create.png
   :alt: View of a Field Service task creation page.

Confirm or update the task :guilabel:`Title`.

The :guilabel:`Project` field on the :guilabel:`Create a Field Service task` pop-up window defaults
to the same **Field Service** project that was identified on the team's settings page. To change the
project for this specific task, select one from the :guilabel:`Project` field.

If applicable, select a :guilabel:`Worksheet Template` from the drop-down menu.

.. note::
   *Field Service Worksheets* are reports that detail the work completed during an on-site task.
   When work is completed, worksheets are signed by the customer to confirm the job is done and the
   customer is satisfied.

   If the **Field Service** project assigned to the **Helpdesk** team has worksheets enabled, and
   has a default template assigned, that template automatically appears in the :guilabel:`Worksheet
   Template` drop-down field. Even so, the field can be edited, and another template can be
   selected.

   If the **Field Service** project does **not** have worksheets enabled, the :guilabel:`Worksheet
   Template` field does not appear on the :guilabel:`Create a Field Service task` pop-up window.

Click :guilabel:`Create Task` or :guilabel:`Create & View Task`.

After the task is created, a :guilabel:`Tasks` smart button is added to the ticket, linking the
:guilabel:`Field Service` task to the ticket.

.. image:: after_sales/after-sales-field-service-smart-button.png
   :alt: View of ticket smart buttons focused on task.

.. seealso::
   `Field Service  <https://www.odoo.com/slides/slide/advanced-settings-862?fullscreen=1>`_


==================================================
SECTION: close_tickets.rst
PATH: applications/services/helpdesk/advanced/close_tickets.rst
==================================================

=============
Close tickets
=============

After work has been completed on a ticket in the **Helpdesk** app, there are several ways it can be
closed. Manually closing solved tickets keeps the pipeline up to date, while automatically closing
inactive tickets prevents unnecessary blocking issues. Allowing customers to close their own tickets
minimizes confusion around whether an issue is considered solved or not. This results in increased
operational capacity for support teams, and higher customer satisfaction.

Manually close solved tickets
=============================

As work on a ticket progresses, it is moved along to the next stage in the pipeline. When the issue
is solved, the ticket is moved to a *folded* stage. This marks the ticket as *closed*.

To fold a stage, navigate to the :menuselection:`Helpdesk` dashboard and click on a team to open the
pipeline. Hover over a stage's heading, and then click the :icon:`fa-gear` :guilabel:`(gear)` icon
that appears in the top-right corner of that stage's Kanban column.

.. image:: close_tickets/closing-edit-stage-gear.png
   :alt: View of stage on Helpdesk pipeline with emphasis on gear icon and edit stage option.

.. warning::
   Clicking the gear icon also displays the option to :guilabel:`Fold` the stage. This setting folds
   the stage *temporarily* to simplify the Kanban view. This does **not** close the tickets in this
   stage. It also does not permanently fold the stage. If a stage needs to be folded so the tickets
   can be marked as closed, continue following the steps below.

From the menu that appears, select :guilabel:`Edit`. This opens the stage's settings. Tick the
checkbox labeled :guilabel:`Folded in Kanban`, and then :guilabel:`Save & Close` to confirm the
changes. Now, tickets are *closed* once they reach this folded stage.

   .. image:: close_tickets/closing-folded-setting.png
      :alt: Stage settings page.

Automatically close inactive tickets
====================================

Tickets that are inactive for a set period of time can be automatically closed. At that point, they
are moved to a folded stage.

Go to the team's settings page by going to :menuselection:`Helpdesk --> Configuration --> Helpdesk
Teams`. Under the :guilabel:`Self-Service` section, enable :guilabel:`Automatic Closing`.

If only one of the team's stages is folded in the Kanban view, it is the default selection in the
:guilabel:`Move to Stage` field. If the team has more than one folded stage, the stage that occurs
first in the pipeline is the default for this field. If no stage is folded, the default selection is
the last stage in the pipeline.

The :guilabel:`After days of inactivity` field defaults to `7`, but can be adjusted if necessary.

.. warning::
   The :guilabel:`After days of inactivity` field does **not** take the working calendar into
   account when tracking the amount of time a ticket has been inactive.

If only certain stages should be used to track days of inactivity, they can be added to the
:guilabel:`In Stages` field.

.. example::
   A team's pipeline is created with the following stages:

   - `New`
   - `In Progress`
   - `Customer Feedback`
   - `Closed`

   Tickets can linger in the :guilabel:`Customer Feedback stage`, because once an issue is solved,
   customers may not respond immediately. At that point, the tickets can be closed automatically.
   However, tickets in the :guilabel:`New` and :guilabel:`In Progress` stages may remain inactive
   due to assignment or workload issues. Closing these tickets automatically would result in issues
   going unsolved.

   Therefore, the :guilabel:`Automatic Closing` settings would be configured as below\:\

   - :guilabel:`Automatic Closing`: *checked*
   - :guilabel:`Move to Stage`: `Solved`
   - :guilabel:`After` `7` :guilabel:`days of inactivity`
   - :guilabel:`In Stages`: `Customer Feedback`

   .. image:: close_tickets/closing-automatic-settings-example.png
      :alt: Example of Automatic Closing settings.

Allow customers to close their own tickets
==========================================

Enabling the :guilabel:`Closure by Customers` setting allows customers to close their own tickets
when they determine that their issue has been resolved.

Start by navigating to :menuselection:`Helpdesk --> Configuration --> Helpdesk Teams` and select a
team. On the team's settings page, scroll to the :guilabel:`Self-Service` section and tick the
checkbox for :guilabel:`Closure by Customers`.

.. image:: close_tickets/closing-by-customer-setting.png
   :alt: Customer closing setting in Odoo Helpdesk.

After the ticket closing settings are enabled, a :guilabel:`Close Ticket` button is available for
customers when they view their ticket through the customer portal.

.. image:: close_tickets/closing-customer-view.png
   :alt: Customer view of ticket closing in Odoo Helpdesk.

.. note::
   Customers are able to view their tickets by clicking the :guilabel:`View the ticket` link they
   receive by email. The link is included in the :guilabel:`Request Acknowledgment` template, which
   is added to the first stage of a team by default. This link does not require a customer to have
   access to the portal to view or respond to their ticket.

   Customers with access to the :doc:`portal <../../../general/users/user_portals>` are able to
   view their tickets under :menuselection:`My Account --> Tickets`.


==================================================
SECTION: help_center.rst
PATH: applications/services/helpdesk/overview/help_center.rst
==================================================

===========
Help Center
===========

.. |plus| replace:: :icon:`fa-plus` :guilabel:`(plus)` icon

Odoo **Helpdesk** integrates with the **Forums**, **eLearning**, and **Knowledge** apps to create
the *Help Center*. The *Help Center* is a centralized location where teams and customers can search
for and share detailed information about products and services.

.. image:: help_center/help-center-enable-features.png
   :alt: Overview of the settings page of a team emphasizing the Help Center features.

Configuration
=============

To activate any of the *Help Center* features on a *Helpdesk* team, go to :menuselection:`Helpdesk
app --> Configuration --> Helpdesk Teams` and select a team, or create a :doc:`new one
<../../helpdesk>`. Verify the :guilabel:`Visibility` of the team is set to :guilabel:`Invited portal
users and all internal users (public)` in the :guilabel:`Visibility & Assignment` section.

Additionally, the :guilabel:`Website Form` option on the **Helpdesk** team form **must** be enabled
to activate any of the *Help Center* features. When one or more of the *Help Center* features is
enabled, the :guilabel:`Website Form` is automatically enabled, as well.

.. danger::
   Since all of the *Help Center* features require integration with other applications, enabling any
   of them may result in the installation of additional modules or applications.

   Installing a new application on a *One-App-Free* database will trigger a 15-day trial. At the end
   of the trial, if a `paid subscription <https://www.odoo.com/pricing>`_ has **not** been added to
   the database, it will no longer be active or accessible.

.. seealso::
   :doc:`Helpdesk Overview <../../helpdesk>`

Knowledge
=========

Odoo's **Knowledge** application is a collaborative library, where users can store, edit, and share
information. The **Knowledge** app can be used to publish user guides and :abbr:`FAQs (Frequently
Asked Questions)` with customers externally, while also collaborating internally on shared
documents.

The **Knowledge** app is accessible throughout the database by clicking on the :guilabel:`Knowledge
(bookmark)` icon.

.. figure:: help_center/help-center-knowledge-bookmark-icon.png
   :alt: View of a message in Helpdesk focusing on the Knowledge bookmark icon.

   The Knowledge app is represented by the bookmark icon.

Enable Knowledge on a Helpdesk team
-----------------------------------

To enable the **Knowledge** feature on a *Helpdesk* team, go to :menuselection:`Helpdesk app -->
Configuration --> Helpdesk Teams` and select a team, or create a :doc:`new one <../../helpdesk>`.

When a team has been selected or created, Odoo displays that team's detail form.

On the team's detail form, scroll down to the :guilabel:`Help Center` section. Then, click the box
next to :guilabel:`Knowledge` to activate the **Knowledge** feature. When clicked, a new field
labeled, :guilabel:`Article` appears.

Clicking the :guilabel:`Article` field reveals a drop-down menu. At first, there is only one option
in the drop-down menu titled :guilabel:`Help`, which Odoo provides by default. Select
:guilabel:`Help` from the drop-down menu to choose this article.

.. tip::
   To create a new article, go to the :menuselection:`Knowledge app`, then hover the cursor next to
   the :guilabel:`Workspace` section heading, located in the left sidebar. Moving the cursor there
   reveals a hidden |plus|.

   Click the |plus| to create a new article in the :guilabel:`Workspace`. Click the
   :icon:`fa-share-alt` :guilabel:`Share` icon, and slide the :guilabel:`Share to Web` toggle switch
   until it reads :guilabel:`Article Published`. It can then be added to a **Helpdesk** team.

Once an article has been created and assigned to a **Helpdesk** team, content can be added and
organized through the **Knowledge** app.

.. seealso::
   :ref:`Editing Knowledge articles <knowledge/articles_editing/edit-article>`

Search articles from a Helpdesk ticket
--------------------------------------

When members of a **Helpdesk** team are trying to solve a ticket, they can search through the
content in the **Knowledge** app for more information on the issue.

To search **Knowledge** articles, open a ticket â€” either from the **Helpdesk** app dashboard, or by
going to :menuselection:`Helpdesk app --> Tickets --> All Tickets`, then select a ticket from the
list.

When a ticket is selected, Odoo reveals that ticket's detail form.

Click the :guilabel:`Knowledge (bookmark)` icon, located at the top-right of the page, to open a
pop-up search window.

.. image:: help_center/help-center-knowledge-search.png
   :alt: View of knowledge search window from a helpdesk ticket.

.. tip::
   **Knowledge** articles can also be searched by pressing :command:`Ctrl + K` to open the command
   palette, then typing :kbd:`?`, followed by the name of the desired article.

When Odoo reveals the desired article, click it, or highlight the :guilabel:`Article` title, and
press :command:`Enter`. This will open the article in the :guilabel:`Knowledge` application.

To open the article in a new tab, press :command:`Ctrl + Enter`.

.. tip::
   If a more in-depth search is required, press :command:`Alt + B`. That reveals a separate page, in
   which a more detailed search can occur.

Share an article to the Help Center
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To make a **Knowledge** article available to customers and website visitors, it **must** be
published.

.. important::
   Even though the *Help* article has been enabled on a team, Odoo does **not** share all the nested
   articles to the web. Individual articles intended for customers **must** be published for them to
   be viewable on the website.

To publish an article, navigate to the desired article, by following the above steps, and click the
:icon:`fa-share-alt` :guilabel:`Share` icon. This reveals a menu. Slide the toggle button labeled
:guilabel:`Share to Web` to read :guilabel:`Article Published`.

.. image:: help_center/help-center-knowledge-sharing.png
   :alt: View of a knowledge article focused on sharing and publishing options.

Solve tickets with a clipboard box
----------------------------------

*Clipboard* boxes can be added to **Knowledge** articles to allow content to be reused, copied, sent
as messages, or added to the description on a ticket. This allows teams to maintain consistency when
answering customer tickets, and minimize the amount of time spent on responding to repeat questions.

Add clipboard boxes to articles
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To create a clipboard box, go to :menuselection:`Knowledge app --> Help`. Click on an existing
nested article or create a new one by clicking the |plus| next to *Help*.

Type :kbd:`/` to open the *powerbox*, and view a drop-down list of :ref:`commands
<knowledge/articles_editing/commands>`. Select or type :kbd:`clipboard`. A gray block
is then added to the page. Add any necessary content to this block.

.. image:: help_center/help-center-knowledge-clipboard-options.png
   :alt: View of a clipboard in knowledge with focus on send and copy options.

.. note::
   Clipboard boxes only display the :guilabel:`Use as description` or :guilabel:`Send as Message`
   options if they are accessed directly from the **Helpdesk**.

Use clipboard boxes in tickets
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Clipboard boxes can be used to respond directly to a **Helpdesk** ticket as a message, or to add
information to the ticket's description.

To use clipboard boxes in a **Helpdesk** ticket, first, open a ticket, either from the
:guilabel:`Helpdesk` dashboard or by going to :menuselection:`Helpdesk app --> Tickets --> All
Tickets` and selecting a ticket from the list.

Click on the :guilabel:`Knowledge (bookmark)` icon in the top-right corner. This opens a search
window. In this search window, select, or search, for the desired article. Doing so reveals that
article page in the Odoo **Knowledge** application.

To use a clipboard box to respond to a ticket, click :guilabel:`Send as message` in the upper-right
corner of the clipboard box, located in the body of the article.

Doing so opens a :guilabel:`Compose Email` pop-up window. In this window, select the recipients,
make any necessary additions or edits to the clipboard content, then click :guilabel:`Send`.

.. tip::
   To use a clipboard box to add information to a ticket's description, click :guilabel:`Use as
   description` in the upper-right corner of the clipboard box, located in the body of the article.
   Doing so does **not** replace the existing text in a ticket's description. The content from the
   clipboard box is added as additional text.

.. _helpdesk/forum:

Community Forum
===============

A *Community Forum* provides a space for customers to answer each other's questions and share
information. By integrating a forum with a **Helpdesk** team, tickets submitted by customers can be
converted to posts and shared.

Enable forums on a Helpdesk team
--------------------------------

To enable :guilabel:`Community Forums` on a **Helpdesk** team, start by navigating to
:menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams` and select a team, or create a
:doc:`new one <../../helpdesk>`.

Selecting or creating a team reveals that team's detail form. Scroll down to the :guilabel:`Help
Center` section of features, and enable :guilabel:`Community Forum`, by checking the box beside it.

When activated, a new field labeled :guilabel:`Forums` appears beneath.

Click the empty :guilabel:`Forums` field to reveal a drop-down menu. By default, there is only one
option to begin with, labeled :guilabel:`Help`. That is the option Odoo automatically created when
the :guilabel:`Community Forums` feature was enabled. Select :guilabel:`Help` from the drop-down
menu to enable that forum.

To create a new forum, type a name into the blank :guilabel:`Forums` field, then click the
:guilabel:`Create and Edit` option. Multiple forums can be selected in this field.

.. seealso::
   :doc:`Forum documentation <../../../websites/forum>`

Create a forum post from a Helpdesk ticket
------------------------------------------

When a **Helpdesk** team has a *Forum* enabled, tickets submitted to that team can be converted to
forum posts.

To do that, select a ticket, either from a team's pipeline or from :menuselection:`Tickets --> All
Tickets` in the :guilabel:`Helpdesk` application.

At the top of the ticket detail form, click the :guilabel:`Share on Forum` button.

.. image:: help_center/help-center-share-on-forum.png
   :alt: Overview of the Forums page of a website to show the available ones in Odoo Helpdesk.

When clicked, a pop-up window appears. Here, the :guilabel:`Forum` post and :guilabel:`Title` can be
edited to correct any typos, or modified to remove any proprietary or client information.

:guilabel:`Tags` can also be added to help organize the post in the forum, making it easier for
users to locate during a search. When all adjustments have been made, click :guilabel:`Create and
View Post`.

Create a Helpdesk ticket from a forum post
------------------------------------------

Forum posts submitted by portal users can be converted to **Helpdesk** tickets.

To create a ticket, navigate to a forum post, and click the :icon:`fa-ellipsis-h`
:guilabel:`(ellipsis)` icon. Then, click :guilabel:`Create Ticket`.

.. image:: help_center/help-center-create-ticket.png
   :alt: A forum post with the create ticket option visible.

This opens a :guilabel:`Create Ticket` pop-up. Make any necessary edits to the :guilabel:`Create
Ticket` field. Then, confirm the :guilabel:`Helpdesk Team` the ticket should be assigned to.

Click :guilabel:`Create & View Ticket` or :guilabel:`Create Ticket`.

.. note::
   The original forum post is linked in the chatter on the new ticket.

eLearning
=========

Odoo **eLearning** courses offer customers additional training and content in the form of videos,
presentations, and certifications/quizzes. Providing additional training enables customers to work
through issues and find solutions on their own. They can also develop a deeper understanding of the
services and products they are using.

Enable eLearning courses on a Helpdesk team
-------------------------------------------

To enable **eLearning** courses on a **Helpdesk** team, go to :menuselection:`Helpdesk app -->
Configuration --> Helpdesk Teams` and select a team, or create a :doc:`new one <../../helpdesk>`.

On the team's settings page, scroll to the :guilabel:`Help Center` section, and check the box next
to :guilabel:`eLearning`. A new field appears below, labeled :guilabel:`Courses`.

Click the empty field next to :guilabel:`Courses` beneath the :guilabel:`eLearning` feature to
reveal a drop-down menu. Select an available course from the drop-down menu, or type a title into
the field, and click :guilabel:`Create and edit` to create a new course from this page. Multiple
courses can be assigned to a single team.

Create an eLearning course
--------------------------

A new **eLearning** course can be created from the :guilabel:`Helpdesk` team's settings page, as in
the step above, or from the **eLearning** app.

To create a course directly through the **eLearning** application, navigate to
:menuselection:`eLearning --> New`. This reveals a blank course template that can be customized and
modified as needed.

On the course template page, add a :guilabel:`Course Title`, and below that, :guilabel:`Tags`.

Click on the :guilabel:`Options` tab.

Under :guilabel:`Access Rights`, select which users are able to view and enroll in the course.

The :guilabel:`Show Course To` field defines who can access the courses. The :guilabel:`Enroll
Policy` field specifies how they can register for the course.

Under :guilabel:`Display`, choose the preferred course :guilabel:`Type`.

Add content to an eLearning course
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To add content to a course, click the :guilabel:`Content` tab and select :guilabel:`Add Content`.
Choose the :guilabel:`Content Type` from the drop-down menu and upload the file, or paste the link,
where instructed. Click :guilabel:`Save` when finished. Click :guilabel:`Add Section` to organize
the course in sections.

.. image:: help_center/help-center-elearning-course-contents-page.png
   :alt: View of a course being published for Odoo Helpdesk.

.. note::
   In order to add a certification to a course, go to :menuselection:`eLearning --> Configuration
   --> Settings`, check the box labeled :guilabel:`Certifications`, and :guilabel:`Save` to activate
   the setting.

.. seealso::
   `Odoo Tutorials: eLearning <https://www.odoo.com/slides/elearning-56>`_

Publish an eLearning course
---------------------------

To allow customers to enroll in a course, both the course and the contents **must** be published.

.. tip::
   If the course is published, but the contents of the course are **not** published, customers can
   enroll in the course on the website, but they are **not** able to view any of the course content.
   Knowing this, it may be beneficial to publish the course first, if the course contents are
   intended to be released over time, such as classes with a weekly schedule.

To make the entire course available at once, each piece of course content must be published first,
then the course can be published.

To publish a course, choose a course from the **eLearning** dashboard. On the course template page,
click the :guilabel:`Go to Website` smart button.

This will reveal the front end of the course's web page. At the top of the course web page, move
the :guilabel:`Unpublished` toggle switch to :guilabel:`Published`.

Publish eLearning course contents from the back-end
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To publish **eLearning** course content from the back-end, choose a course from the **eLearning**
dashboard. On the course template page, click the :guilabel:`Published Contents` smart button.

Doing so reveals a separate page displaying all the published content related to that course. Remove
the default :guilabel:`Published` filter from the search bar in the upper-right corner, to reveal
all the content related to the course - even the non-published content.

Click the :icon:`oi-view-list` :guilabel:`(list)` icon to switch to list view.

While in list view, there is a checkbox on the far-left of the screen, above the listed courses, to
the left of the :guilabel:`Title` column title. When that checkbox is clicked, all the course
contents are selected at once.

With all the course content selected, click any of the boxes in the :guilabel:`Is Published` column.
This reveals a pop-up window, asking for confirmation that all selected records are intended to be
published. Click :guilabel:`Confirm` to automatically publish all course content.

.. image:: help_center/help-center-elearning-publish-back-end.png
   :alt: View of a course contents being published in Odoo Helpdesk back-end.


==================================================
SECTION: overview.rst
PATH: applications/services/helpdesk/overview.rst
==================================================

:nosearch:

========
Overview
========

.. toctree::
   :titlesonly:

   overview/receiving_tickets
   overview/help_center
   overview/sla
   overview/reports
   overview/ratings


==================================================
SECTION: ratings.rst
PATH: applications/services/helpdesk/overview/ratings.rst
==================================================

================
Customer ratings
================

.. |smile| replace:: green :icon:`fa-smile-o` :guilabel:`(smile)` icon
.. |meh| replace:: yellow :icon:`fa-meh-o` :guilabel:`(neutral)` icon
.. |frown| replace:: red :icon:`fa-frown-o` :guilabel:`(frown)` icon

Asking customers to rate the support they received from a **Helpdesk** team provides an opportunity
to gauge team performance and track customer satisfaction.

.. _helpdesk/enable-ratings:

Enable customer ratings on Helpdesk teams
=========================================

To enable *customer ratings* on a helpdesk team, navigate to :menuselection:`Helpdesk app -->
Configuration --> Helpdesk Teams`. Click on a team from the list to open the settings page. Scroll
to the :guilabel:`Performance` section, and tick the :guilabel:`Customer Ratings` checkbox.

.. image:: ratings/ratings-enable.png
   :alt: Overview of the settings page of a helpdesk team emphasizing the rating on ticket feature
         in Odoo Helpdesk.

Set a ratings request email template on a stage
===============================================

To automatically request ratings from customers once their tickets have closed, an email template
needs to be added to the appropriate stage.

After the :guilabel:`Customer Ratings` :ref:`setting has been enabled <helpdesk/enable-ratings>` on
the team's settings page, click the :guilabel:`Set an Email Template on Stages` link. Select a stage
from the list, or click :guilabel:`New` to create a new stage.

.. important::
   Customers should only be asked to rate tickets once an issue has been resolved and their ticket
   is *closed*. Therefore, a *ratings request* email should **only** be added to a stage that is
   folded in the Kanban, as tickets in a *folded stage* are considered closed.

On the stage's settings page, select the template, `Helpdesk: Ticket Rating Request` in the
:guilabel:`Email Template` field. This template has been preconfigured with ratings customers can
use to provide feedback. To view the template, click the arrow button to the right of the field.

After the template is added to the stage, it automatically sends a message when a ticket is moved to
that stage. Customers are then asked to rate the support they received with colored icons.

 - **Satisfied** - |smile|
 - **Okay** - |meh|
 - **Dissatisfied** - |frown|

.. image:: ratings/template-preview.png
   :alt: A preview of the ticket rating request template in Helpdesk.

After selecting a rating, customers are taken to a webpage where they can provide specific written
feedback to support their rating. The rating is then submitted, and the rating, as well as any
additional comments, are added to the chatter on the ticket.

.. tip::
   Customer ratings can also be viewed through the :guilabel:`Customer Ratings` report. To view this
   report, go to :menuselection:`Helpdesk app --> Reporting --> Customer Ratings`.

.. seealso::
   - :doc:`../../../general/companies/email_template`
   - :doc:`../advanced/close_tickets`
   - :doc:`reports`


==================================================
SECTION: receiving_tickets.rst
PATH: applications/services/helpdesk/overview/receiving_tickets.rst
==================================================

=================
Receiving tickets
=================

Odoo's **Helpdesk** app offers multiple channels where customers can reach out for assistance, such
as email, live chat, and through a website's submission form. The variety of these contact options
provides customers with multiple opportunities to receive support quickly while also allowing the
support team to manage multi-channel support tickets from one central location.

Enable channel options to submit tickets
========================================

Go to :menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams`, and choose an existing
team, or click :guilabel:`New` to :doc:`create a new team <../../helpdesk>`.

On the team's settings page, scroll down to the :guilabel:`Channels` and :guilabel:`Help Center`
sections. Enable one or more channels by checking the respective boxes.

- :ref:`Email Alias <helpdesk/receiving_tickets/email-alias>`
- :ref:`Live Chat <helpdesk/receiving_tickets/live-chat>`
- :ref:`Website Form <helpdesk/receiving_tickets/website-form>`

.. _helpdesk/receiving_tickets/email-alias:

Email Alias
-----------

The *Email Alias* setting creates tickets from messages sent to that team's specified email alias.

.. important::
   The following steps are for **Odoo Online** and **Odoo.sh** databases. For **On-premise**
   databases, external servers are required for email aliases.

When a new **Helpdesk** team is created, an email alias is created for it. This alias can be changed
on the team's settings page.

To change a **Helpdesk** team's email alias, navigate to :menuselection:`Helpdesk app -->
Configuration --> Helpdesk Teams`, and click on a team name to open its settings page.

Then, scroll to :menuselection:`Channels --> Email Alias`. In the :guilabel:`Alias` field, type the
desired name for the team's email alias.

.. image:: receiving_tickets/receiving-tickets-email-alias.png
   :alt: View of the settings page of a Helpdesk team emphasizing the email alias feature in Odoo
         Helpdesk.

.. note::
   Custom email domains are **not** required in order to use an email alias, however, they can be
   configured through the **Settings** app.

   If the database does not have a custom domain already configured, click :guilabel:`Set an Alias
   Domain` to be redirected to the :guilabel:`Settings` page. From there, enable :guilabel:`Custom
   Email Servers`.

When an email is received, the subject line becomes the title of a new **Helpdesk** ticket. The body
of the email is also added to the ticket, under the :guilabel:`Description` tab, and in the ticket's
chatter.

.. _helpdesk/receiving_tickets/live-chat:

Live Chat
---------

The **Live Chat** feature lets website visitors connect directly with a support agent or chatbot.
**Helpdesk** tickets can be instantly created during these conversations using the :doc:`response
command </applications/websites/livechat/responses>` `/ticket`.

To enable **Live Chat**, navigate to the :menuselection:`Helpdesk app --> Configuration --> Helpdesk
Teams` list view, select a team, and on the team's settings page, click the checkbox next to
:guilabel:`Live Chat`, under the :guilabel:`Channels` section.

.. note::
   If this is the first time :doc:`Live Chat </applications/websites/livechat>` has been enabled on
   the database, the page may need to be saved manually and refreshed before any further steps can
   be taken.

After the :guilabel:`Live Chat` setting is enabled on a **Helpdesk** team, a new **Live Chat**
channel is created. Click on :guilabel:`Configure Live Chat Channel` to update the channel's
settings.

Live Chat channel configuration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On the channel's settings page, :guilabel:`Channel Name` can be edited, though, Odoo names the
channel to match the **Helpdesk** team name, by default.

.. example::
   If a **Helpdesk** team is named `Customer Care`, a **Live Chat** channel is created called
   `Customer Care`.

   .. image:: receiving_tickets/receiving-tickets-live-chat-new-channel.png
      :alt: View of the Kanban cards for the available Live Chat channels.

On the channel form, navigate through the tabs to complete the setup.

Operators tab
*************

*Operators* are the users who act as agents and respond to live chat requests from customers. The
user who created the live chat channel is added by default.

To add additional users, click on the :guilabel:`Operators` tab, then click :guilabel:`Add`.

Click the checkbox next to the users to be added on the :guilabel:`Add: Operators` pop-up window
that appears, then click :guilabel:`Select`.

Click :guilabel:`New` to create new operators, if needed.

When the desired addition is complete, click :guilabel:`Save & Close`, or :guilabel:`Save & New` to
add multiple new operators.

.. danger::
   Creating a new user can impact the status of an Odoo subscription, as the total number of users
   in a database counts towards the billing rate. Proceed with caution before creating a new user.
   If a user already exists, adding them as an operator will **not** alter the subscription or
   billing rate for a database.

Additionally, current operators can be edited or removed by clicking on their respective boxes in
the :guilabel:`Operators` tab, and then adjusting their form values on the pop-up form that appears,
or by using one of the buttons located at the bottom of the form, such as :guilabel:`Remove`.

.. tip::
   Users can add themselves as an operator by clicking the :guilabel:`Join Channel` button on a
   **Live Chat** channel.

   .. image:: receiving_tickets/receiving-tickets-join-live-chat.png
      :alt: View of a live chat channel Kanban card with the join button emphasized.

Options tab
***********

The :guilabel:`Options` tab contains the visual and text settings for the live chat window.

.. image:: receiving_tickets/receiving-tickets-options-tab.png
   :alt: View of the options tab of a Live Chat channel's settings.

- :guilabel:`Notification Text`: This field updates the greeting displayed in the text bubble when
  the live chat button appears on the website.

- :guilabel:`Livechat Button Color`: This field alters the color of the live chat button as it
  appears on the website. To change the color, click on a color bubble to open the color selection
  window, then click and drag the circle along the color gradient. Click out of the selection window
  once complete. Click the refresh icon to the right of the color bubbles to reset the colors to the
  default selection.

- :guilabel:`Show`: The chat button displays on the selected page.
- :guilabel:`Show with notification`: The chat button is displayed, with the addition of the
  :guilabel:`Notification text` from the :guilabel:`Options` tab.
- :guilabel:`Open automatically`: The chat button is displayed, and automatically opens the chat
  window after a designated amount of time. The amount of time is designated in the :guilabel:`Open
  automatically timer` field, which appears only when this display option is selected.
- :guilabel:`Hide`: The chat button is hidden from display on the webpage.

.. tip::
   Color selection, for the button or header, can be made manually, or through RGB, HSL, or HEX code
   selection. Different options are available, depending on the operating system or browser.

Channel Rules tab
*****************

The :guilabel:`Channel Rules` tab determines when the live chat window opens on the website by logic
of when a :guilabel:`URL Regex` action is triggered (e.g., a page visit).

.. tip::
   A regex, or regular expression, is sometimes referred to as a rational expression. It is a
   sequence of characters that specifies a match pattern in text. A match is made within the given
   range of numbers or for the set of characters.

Edit existing rules by selecting them from the :guilabel:`Channel Rules` tab, or create a new rule
by clicking :guilabel:`Add a line`.

Then, proceed to configure the details for how the rule should apply on the pop-up form that
appears.

Choose how the *Live Chat Button* displays on the webpage.

- :guilabel:`Show`: The chat button displays on the selected page.

- :guilabel:`Show with notification`: The chat button is displayed, with the addition of the
  :guilabel:`Notification text` from the :guilabel:`Options` tab.

- :guilabel:`Open automatically`: The chat button is displayed, and automatically opens the chat
  window after a designated amount of time. The amount of time is designated in the :guilabel:`Open
  automatically timer` field, which appears only when this display option is selected.

- :guilabel:`Hide`: The chat button is hidden from display on the webpage.

To include a :guilabel:`Chatbot` on this channel, select it from the drop-down menu. If the chatbot
should only be active when no operators are available, check the box labeled :guilabel:`Enabled only
if no operator`.

.. note::
   If a :doc:`chatbot </applications/websites/livechat/chatbots>` is added to a live chat channel, a
   new :guilabel:`Chatbots` smart button appears on the channel settings form. Click here to create
   and update the chatbot *script*.

   Each line in the script contains a :guilabel:`Message`, :guilabel:`Step Type`,
   :guilabel:`Answers`, and conditional *Only If* logic that applies when certain pre-filled answers
   are chosen.

   To create more steps in the script, click :guilabel:`Add a line`, and fill out the script steps
   form, according to the desired logic.

Add the URLs for the pages where the channel should appear in the :guilabel:`URL Regex` field. Only
the path from the root domain is needed, not the full URL.

If this channel should only be available to users in specific countries, add those countries to the
:guilabel:`Country` field. If this field is left blank, the channel is available to all site
visitors.

.. image:: receiving_tickets/receiving-tickets-channel-rules.png
   :alt: View of the Kanban cards for the available Live Chat channels.

Widget tab
**********

The :guilabel:`Widget` tab on the live chat channel form offers a website widget that can be added
to third-party websites. Additionally, a URL is available, that can provide instant access to a live
chat window.

The live chat :guilabel:`Widget` can be applied to websites created through Odoo by navigating to
the :menuselection:`Website app --> Configuration --> Settings --> Email & Marketing`. Then, scroll
to the :guilabel:`Live Chat` field, and select the channel to add to the site. Click
:guilabel:`Save` to apply.

To add the widget to a website created on a third-party website, click the :guilabel:`Copy` button
next to the first listed code, and paste the code into the `<head>` tag on the site.

To send a live chat session to a customer or supplier, click the :guilabel:`Copy` button next to the
second listed code, and send the URL via email.

Create a support ticket from a live chat session
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Operators who have joined a live chat channel are able to communicate with site visitors in
real-time.

During the conversation, an operator can use the shortcut :doc:`command
</applications/websites/livechat/responses>` `/ticket` to create a ticket without leaving the chat
window. The transcript from the conversation is added to the new ticket, under the
:guilabel:`Description` tab.

.. tip::
   **Helpdesk** tickets can also be created through the :doc:`WhatsApp
   </applications/productivity/whatsapp>` app using the same `/ticket` command.

.. _helpdesk/receiving_tickets/website-form:

Website Form
------------

Enabling the *Website Form* setting adds a new page to the website with a customizable form. A new
ticket is created once the required form fields are filled out and submitted.

To activate the website form, navigate to a team's settings page under :menuselection:`Helpdesk app
--> Configuration --> Helpdesk Teams`, and selecting the desired team from the list.

Then, locate the :guilabel:`Website Form` feature, under the :guilabel:`Help Center` section, and
check the box.

If more than one website is active on the database, confirm the correct website is listed in the
:guilabel:`Website` field. If not, select the correct one from the drop-down list.

After the feature is activated, click the :guilabel:`Go to Website` smart button at the top of the
:guilabel:`Teams` settings page to view and edit the new website form, which is created
automatically by Odoo.

.. note::
   After enabling the :guilabel:`Website Form` setting, the team's settings page may need to be
   refreshed before the :guilabel:`Go to Website` smart button appears.

   Additionally, if a *Help Center* is published, the smart button navigates there first. Simply
   click the :guilabel:`Contact Us` button, at the bottom of the forum, to navigate to the ticket
   submission form.

.. image:: receiving_tickets/receiving-tickets-go-to-website.png
   :alt: View of the settings page of a helpdesk team emphasizing the Go to Website button in
         Odoo Helpdesk.

Website ticket form customization
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To customize the default ticket submission form, while on the website, click the :guilabel:`Edit`
button in the upper-right corner of the page. This opens the editing sidebar on the right side.
Then, click on one of the fields in the form, on the body of the website, to edit it.

To add a new field, go to the :guilabel:`Field` section of the sidebar, and click :guilabel:`+
Field`.

Click the :guilabel:`ðŸ—‘ï¸ (trash can)` icon to delete the field, if necessary.

Edit the other options for the new field in the sidebar, as desired:

- :guilabel:`Type`: matches an Odoo model value to the field (e.g. `Customer Name`).
- :guilabel:`Input Type`: determine what type of input the field should be, like `Text`, `Email`,
  `Telephone`, or `URL`.
- :guilabel:`Label`: give the form field a label (e.g. `Full Name`, `Email Address`, etc.). Also
  control the label position on the form by using the nested :guilabel:`Position` options.
- :guilabel:`Description`: determine whether or not to add an editable line under the input box to
  provide additional contextual information related to the field.
- :guilabel:`Placeholder`: add a sample input value.
- :guilabel:`Default Value`: add common use case values that most customers would find valuable.
  For example, this can include prompts of information customers should include to make it easier to
  solve their issue, such as an account number, or product number.
- :guilabel:`Required`: determine whether or not to mark a field as required, in order for the form
  to be submitted. Toggle the switch from gray to blue.
- :guilabel:`Visibility`: allow for absolute or conditional visibility of the field. Nested options,
  such as, device visibility, appear when certain options are selected.
- :guilabel:`Animation`: choose whether or not the field should include animation.

.. image:: receiving_tickets/receiving-tickets-web-form.png
   :align: center
   :alt: View of the unpublished website form to submit a ticket for Odoo Helpdesk.

Once the form has been optimized, and is ready for public use, click :guilabel:`Save` to apply the
changes. Then, publish the form by toggling the :guilabel:`Unpublished` switch to
:guilabel:`Published` at the top of the page, if necessary.

Prioritizing tickets
====================

All tickets include a :guilabel:`Priority` field. The highest priority tickets appear at the top of
the Kanban and list views.

.. image:: receiving_tickets/receiving-tickets-priority.png
   :alt: View of a team's Kanban view and the prioritized tasks in Odoo Helpdesk.

The priority levels are represented by stars:

- 0 stars = *Low Priority*
- 1 star = *Medium Priority*
- 2 stars = *High Priority*
- 3 stars = *Urgent*

Tickets are set to low priority (0 stars) by default. To change the priority level, select the
appropriate number of stars on the Kanban card, or on the ticket.

.. warning::
   As priority levels can be used as criteria for assigning :doc:`SLAs <sla>`, changing the priority
   level of a ticket can alter the :abbr:`SLA (Service Level Agreement)` deadline.

.. seealso::
   - :doc:`/applications/services/helpdesk/advanced/close_tickets`
   - :doc:`../../../general/email_communication`
   - :doc:`/applications/websites/livechat`


==================================================
SECTION: reports.rst
PATH: applications/services/helpdesk/overview/reports.rst
==================================================

=========
Reporting
=========

.. |SLA| replace:: :abbr:`SLA (Service Level Agreement)`
.. |SLAs| replace:: :abbr:`SLAs (Service Level Agreements)`

Reports in Odoo **Helpdesk** provide the opportunity to manage employee workloads, identify areas
for improvement, and confirm if customer expectations are being met.

Available reports
=================

Details about the reports available in Odoo **Helpdesk** can be found below. To view the different
reports, go to :menuselection:`Helpdesk app --> Reporting`, and select one of the following:
:guilabel:`Tickets Analysis`, :guilabel:`SLA Status Analysis`, or :guilabel:`Customer Ratings`.

Tickets Analysis
----------------

The *Tickets Analysis* report (:menuselection:`Helpdesk app --> Reporting --> Tickets Analysis`)
provides an overview of every customer support ticket in the database.

This report is useful for identifying where teams are spending the most time, and helps determine if
there is an uneven workload distribution among the support staff. The default report counts the
number of tickets per team and groups them by stage.

.. image:: reports/tickets-default.png
   :alt: View of Ticket Analysis report default view.

Alternative measures can be selected to track where the most time is spent at different points in
the workflow. To change the measures used for the report that is currently displayed, or to add
more, click the :guilabel:`Measures` button, and select one or more options from the drop-down menu:

- :guilabel:`Average Hours to Respond`: average number of working hours between a message sent from
  the customer and the response from the support team. *This does not include messages sent when the
  ticket was in a folded stage.*
- :guilabel:`Hours Open`: number of hours between the date the ticket was created and the closed
  date. If there is no closed date on the ticket, the current date is used. **This measure is not
  specific to working hours.**
- :guilabel:`Hours Spent (Timesheets)`: number of *Timesheet* hours logged on a ticket. *This
  measure is only available if Timesheets are enabled on a team, and the current user has the access
  rights to view them.*
- :guilabel:`Hours to First Response`: number of working hours between the date the ticket was
  received and the date on which the first message was sent. *This does not include email sent
  automatically when a ticket reaches a stage.*
- :guilabel:`Rating (1-5)`: number out of five to represent customer feedback (Dissatisfied = 1,
  Okay/Neutral = 3, Satisfied = 5).
- :guilabel:`Remaining Hours on SO`: hours remaining on a linked sales order.
- :guilabel:`Working Hours to Assign`: number of working hours between the date the ticket was
  created and when it was assigned to a team member.
- :guilabel:`Working Hours to Close`: number of working hours between the date the ticket was
  created and the date it was closed.
- :guilabel:`Working Hours until SLA Deadline`: number of working hours remaining to reach the last
  |SLA| deadline on a ticket.
- :guilabel:`Count`: number of tickets in total.

.. note::
   *Working hours* are calculated based on the default working calendar. To view or change the
   working calendar, go to the :menuselection:`Settings` application and select
   :menuselection:`Employees --> Company Working Hours`.

SLA Status Analysis
-------------------

The *SLA Status Analysis* report (:menuselection:`Helpdesk app --> Reporting --> SLA Status
Analysis`) :ref:`analyzes the performance <helpdesk/analyze-sla-performance>` of individual SLA
(Service Level Agreement) policies.

By default, this report is filtered to show the number of |SLAs| failed, in progress, and the number
that have been successful. The results are grouped by teams.

.. image:: reports/sla-status.png
   :alt: View of Group by options of Ticket Analysis report.

To change the measures used for the report that is currently displayed, or to add more, click the
:guilabel:`Measures` button, and select one or more options from the drop-down menu:

- :guilabel:`Average Hours to Respond`: average number of working hours between a message sent from
  the customer and the response from the support team. *This does not include messages sent when the
  ticket was in a folded stage.*
- :guilabel:`Hours Open`: number of hours between the date the ticket was created and the closed
  date. If there is no closed date on the ticket, the current date is used. **This measure is not
  specific to working hours.**
- :guilabel:`Hours Spent (Timesheets)`: number of *Timesheet* hours logged on a ticket. *This
  measure is only available if Timesheets are enabled on a team, and the current user has the access
  rights to view them.*
- :guilabel:`Hours to First Response`: number of working hours between the date the ticket was
  received and the date on which the first message was sent. *This does not include email sent
  automatically when a ticket reaches a stage.*
- :guilabel:`Number of SLA Failed`: number of tickets that have failed at least one |SLA|.
- :guilabel:`Rating (1-5)`: number value representing customer feedback (Dissatisfied = 1,
  Okay/Neutral = 3, Satisfied = 5).
- :guilabel:`Remaining Hours on SO`: hours remaining on a linked sales order.
- :guilabel:`Working Hours to Assign`: number of working hours between the date the ticket was
  created and when it was assigned to a team member.
- :guilabel:`Working Hours to Close`: number of working hours between the date the ticket was
  created and the date it was closed.
- :guilabel:`Working Hours to Reach SLA`: number of working hours between the date the ticket was
  created and the date the |SLA| was satisfied.
- :guilabel:`Count`: number of tickets in total.

.. seealso::
   :doc:`Service Level Agreements (SLA) <sla>`

Customer Ratings
----------------

The *Customer Ratings* report (:menuselection:`Helpdesk app--> Reporting --> Customer Ratings`)
displays an overview of the ratings received on individual support tickets, as well as any
additional comments submitted with the rating.

.. image:: reports/customer-ratings.png
   :alt: View of the Kanban display in the Customer Ratings report.

Click on an individual rating to see additional details about the rating submitted by the customer,
including a link to the original ticket.

.. image:: reports/ratings-details.png
   :alt: View of the details of an individual customer rating.

.. tip::
   On the rating's details page, tick the :guilabel:`Visible Internally Only` checkbox to hide the
   rating from public and portal users.

The *Customer Ratings* report is displayed in a Kanban view by default, but can also be displayed in
graph, list, or pivot view.

.. seealso::
   :doc:`Ratings <ratings>`

Use cases
=========

Assessing performance based on customer priority
------------------------------------------------

The :guilabel:`Tickets Analysis` report can be used to evaluate the time it takes to address
high-priority tickets compared to standard ones. This helps ensure that high-priority tickets are
resolved promptly, and identifies any discrepancies in response times based on priority.

First, navigate to :menuselection:`Helpdesk app --> Reporting --> Tickets Analysis`. Click
:guilabel:`Measures`, then select :guilabel:`Working Hours to Close`. Click into the search bar,
then under :guilabel:`Group By`, select :guilabel:`Priority`. Finally, under :guilabel:`Filters`,
select :guilabel:`Closed`.

.. tip::
   The pivot view is also useful for this version of the report.

Monitoring SLA compliance over time
-----------------------------------

The :guilabel:`SLA Status Analysis` report can be used to track |SLA| compliance trends to identify
periods with higher |SLA| breaches. |SLA| breaches happen when support teams fail to meet the
response or resolution times promised in |SLAs|, leading to dissatisfied customers, potential
financial penalties, and decreased team morale. Identifying these breaches is crucial for tracking
real-time performance, uncovering patterns, and addressing root causesâ€”like staffing issues or
process inefficiencies.

First, navigate to :menuselection:`Helpdesk app --> Reporting --> SLA Status Analysis`. Click the
:icon:`fa-area-chart` :guilabel:`(Graph)` icon, then the :icon:`fa-line-chart` :guilabel:`(Line
Chart)` icon.

.. note::
   While the :guilabel:`SLA Status Analysis` report defaults to the pivot view, the line chart view
   provides a better visual representation for this specific use case.

Click :guilabel:`Measures`, then select :guilabel:`Number of SLAs Failed`. Doing so ensures the data
on the report shows **only** information for tickets that failed at least one |SLA|. Click into the
search bar, then under :guilabel:`Group By`, select :guilabel:`SLA Deadline`, and select a time
frame, either :guilabel:`Month`, :guilabel:`Week`, or :guilabel:`Day`. This option shows when the
highest number of tickets with |SLAs| are failing, allowing the team to identify patterns, and
prepare for potential issues.

.. tip::
   The time frame selected for this report may vary depending on a few factors, including the amount
   of tickets received on a regular basis, the number of |SLAs| enabled in the database, and the
   workload of the team. It is worth experimenting to see what option delivers the most insights.

.. seealso::
  :doc:`Odoo essentials reporting <../../../essentials/reporting>`


==================================================
SECTION: sla.rst
PATH: applications/services/helpdesk/overview/sla.rst
==================================================

==============================
Service level agreements (SLA)
==============================

.. |SLAs| replace:: :abbr:`SLAs (Service Level Agreements)`
.. |SLA| replace:: :abbr:`SLA (Service Level Agreements)`

A *service level agreement* (SLA) defines the level of support a customer can expect from a service
provider. |SLAs| provide a timeline that tells customers when they can expect results and keeps the
support team on target.

.. note::
   The *SLA Policies* feature is enabled by default on newly created **Helpdesk** teams.

   To turn off the feature, or edit the working hours, navigate to :menuselection:`Helpdesk app -->
   Configuration --> Helpdesk Teams`. Click on a team to open that team's configuration page.

   From here, scroll to the :guilabel:`Performance` section. To turn off the |SLAs| feature for the
   team, clear the :guilabel:`SLA Policies` checkbox.

   .. image:: sla/sla-enable.png
      :alt: View of a team page in Helpdesk focusing on the SLA Policies setting.

Create a new SLA policy
=======================

To create a new policy, go to :menuselection:`Helpdesk app --> Configuration --> SLA Policies`, and
click :guilabel:`New`.

Alternatively, go to :menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams`, and click
on a team. Then, click the :guilabel:`SLA Policies` smart button at the top of the team's settings
page, and click :guilabel:`New`.

On the blank |SLA| policy form, enter a :guilabel:`Title` and a :guilabel:`Description` for the new
policy, and proceed to fill out the form using the steps below.

Define the criteria for an SLA policy
-------------------------------------

The :guilabel:`Criteria` section is used to identify which tickets this policy is applied to.

Fill out the following fields to adjust the selection criteria:

.. note::
   Unless otherwise indicated, multiple selections can be made for each field.

- :guilabel:`Helpdesk Team`: A policy can only be applied to one team. *This field is required.*
- :guilabel:`Priority`: The priority level for a ticket is identified by selecting one, two, or
  three of the :icon:`fa-star-o` :guilabel:`(star)` icons, representing the priority level on the
  Kanban card or on the ticket itself. The |SLA| is **only** applied after the priority level has
  been updated on the ticket to match the |SLA| criteria. If no selection is made in this field,
  this policy only applies to tickets marked as `Low Priority`, meaning those with zero
  :icon:`fa-star-o` :guilabel:`(star)` icons.
- :guilabel:`Tags`: Tags are used to indicate what the ticket is about. Multiple tags can be applied
  to a single ticket.
- :guilabel:`Customers`: Individual contacts or companies may be selected in this field.
- :guilabel:`Services`: This field is available only if a team has the **Timesheets** app enabled.
  This allows the ticket to link directly to a specific line on a sales order, which must be
  indicated on the ticket in the :guilabel:`Sales Order Items` field.

.. example::
   A support team needs to address urgent issues for VIP customers within one business day.

   The new policy, titled `8 Hours to close`, is assigned to the `VIP Support` team. It **only**
   applies to tickets that are assigned three :icon:`fa-star-o` :guilabel:`(star)` icons, which
   equates to an `Urgent` priority level.

   At the same time, the tickets can be related to multiple issues, so the policy applies to tickets
   with `Repair`, `Service`, or `Emergency` tags.

   .. image:: sla/sla-create-new.png
      :alt: View of a new SLA policy record with all the relevant information entered.

Establish a target for an SLA policy
------------------------------------

A *target* is the stage a ticket needs to reach, and the time allotted to reach that stage, in order
to satisfy the |SLA| policy. Any stage assigned to a team may be selected for the :guilabel:`Reach
Stage` field.

Time spent in stages selected in the :guilabel:`Excluding Stages` field are **not** included in the
calculation of the |SLA| deadline.

.. example::
   An |SLA| titled `8 Hours to Close` tracks the working time before
   a ticket is completed, and would have `Solved` as the :guilabel:`Reach Stage`. Simultaneously, an
   |SLA| titled `2 Days to Start` tracks the working time before
   work on a ticket has begun, and would have `In Progress` as the :guilabel:`Reach Stage`.

Meet SLA deadlines
==================

As soon as it is determined that a ticket fits the criteria of an |SLA| policy, a deadline is
calculated. The deadline is based on the creation date of the ticket, as well as the targeted
working hours.

.. note::
   The value indicated next to the :guilabel:`Working Hours` field of an |SLA| policy is used to
   determine the deadline. By default, this is determined by the value set in the :guilabel:`Company
   Working Hours` field under :menuselection:`Settings app --> Employees --> Work Organization`.

The deadline is then added to the ticket, as well as a tag indicating the name of the |SLAs|
applied.

.. image:: sla/sla-open-deadline.png
   :alt: View of a ticket's form emphasizing an open SLA deadline on a ticket in Odoo Helpdesk.

When a ticket satisfies an |SLA| policy, the |SLA| tag turns green, and the deadline disappears
from view on the ticket.

.. image:: sla/sla-deadline.png
   :alt: View of a ticket's form emphasizing a satisfied SLA in Odoo Helpdesk.

.. important::
   If a ticket fits the criteria for more than one |SLA|, the earliest occurring deadline is
   displayed on the ticket. After that deadline has passed, the next deadline is displayed.

If the |SLA| deadline passes and the ticket has not moved to the :guilabel:`Reach Stage`, the |SLA|
tag turns red. After the |SLA| has failed, the red tag stays on the ticket, even after the ticket is
moved to the :guilabel:`Reach Stage`.

.. image:: sla/sla-passing-failing.png
   :alt: View of a ticket's form with a failing and passing SLA in Odoo Helpdesk.

.. _helpdesk/analyze-sla-performance:

Analyze SLA performance
=======================

The :guilabel:`SLA Status Analysis` report tracks how quickly an |SLA| is fulfilled, as well as the
performance of individual team members. Navigate to the report, and corresponding pivot table, by
going to :menuselection:`Helpdesk app --> Reporting --> SLA Status Analysis`.

Pivot view
----------

By default, the report displays in a :guilabel:`Pivot` view. Any |SLA| policies in the database with
tickets that failed to fulfill a policy, are in progress, or have satisfied a policy are listed. By
default, they are grouped by team and ticket count.

.. figure:: sla/sla-status-analysis.png
   :alt: View of the SLA status analysis report in Odoo Helpdesk.

   The pivot view aggregates data, which can be manipulated by adding measures and filters.

To change the display, or add additional measurements, click the :guilabel:`Measures` button to
reveal a drop-down menu of reporting criteria, and choose from the options available.

Whenever a measurement is picked, a :icon:`fa-check` :guilabel:`(check)` icon appears in the
drop-down menu to indicate that the measurement is included, and a corresponding new column emerges
in the pivot table to show the relevant calculations.

.. image:: sla/sla-pivot-measures.png
   :alt: View of the available measures in the SLA status analysis report.

To add a group to a row or column, click the :icon:`fa-plus-square` :guilabel:`(plus)` icon next to
the policy name and then select one of the groups. To remove one, click the
:icon:`fa-minus-square-o` :guilabel:`(minus)` icon next to the policy name.

.. image:: sla/sla-pivot-groups.png
   :alt: View of the available group by options in the SLA status analysis report.

Graph view
----------

Switch to the graph view by selecting the :icon:`fa-area-chart` :guilabel:`(graph view)` icon at the
top of the screen. To switch between the different charts, select the *related icon* at the top of
the chart, while in graph view.

.. tabs::

   .. tab:: Bar Chart

       .. figure:: sla/sla-report-bar.png
          :alt: View of the SLA status analysis report in bar view.

          A bar chart can deal with larger data sets and compare data across several categories.

   .. tab:: Line Chart

       .. figure:: sla/sla-report-line.png
          :alt: View of the SLA status analysis report in line view.

          A line chart can visualize data trends or changes over time.

   .. tab:: Pie Chart

       .. figure:: sla/sla-report-pie.png
          :alt: View of the SLA status analysis report in pie chart view.

          A pie chart compares data among a small number of categories.

.. tip::
   Both the *bar chart* and *line chart* can utilize the *stacked* view option. This presents two
   or more groups of data on top of each other, instead of next to each other, making it easier to
   compare data. While viewing either a bar chart or line chart, click the :icon:`fa-database`
   :guilabel:`(stacked)` icon to toggle the stacked view option on or off.

   .. image:: sla/sla-report-stacked.png
      :alt: View of the SLA status analysis report in bar view, stacked.

Cohort view
-----------

The *cohort* view is used to track the changes in data over a period of time. To display the
:guilabel:`SLA Status Analysis` report in a cohort view, click the :icon:`oi-view-cohort`
:guilabel:`(cohort)` icon, next to the other view options.

.. figure:: sla/sla-report-cohort.png
   :alt: View of the SLA status analysis report in cohort view.

   The cohort view examines the life cycle of data over time.

.. seealso::
   - :ref:`Reporting views <reporting/views>`
   - :doc:`Allow customers to close their tickets
     </applications/services/helpdesk/advanced/close_tickets>`


==================================================
SECTION: track_and_bill.rst
PATH: applications/services/helpdesk/advanced/track_and_bill.rst
==================================================

===================
Track and bill time
===================

.. |SO| replace:: :abbr:`SO (sales order)`

Odoo **Helpdesk** provides teams with the ability to track the amount of hours spent working on a
ticket, and to bill a customer for that time. Through integrations with the **Sales**,
**Timesheets**, **Project** and **Accounting** applications, customers can be charged once the work
is completed, or before it has even begun.

.. danger::
   Since the *Track & Bill Time* features require integration with other applications, enabling them
   may result in the installation of additional modules or applications.

   Installing a new application on a *One-App-Free* database triggers a 15-day trial. At the end of
   the trial, if a paid subscription has not been added to the database, it will no longer be active
   or accessible.

Configure track and bill time features
======================================

Before a customer can be invoiced for support services, the *Track & Bill Time* features **must** be
enabled on each **Helpdesk** team individually.

Enable track and bill time on a helpdesk team
---------------------------------------------

To view and enable the *Track & Bill Time* features on a **Helpdesk** team, first navigate to
:menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams`. Then, select a team from the
list, or create a :doc:`new one <../../helpdesk>`. This reveals a team's settings page.

On the team's settings page, scroll to the :guilabel:`Track & Bill Time` section. Check the boxes
labeled :guilabel:`Timesheets` and :guilabel:`Time Billing`.

After the :guilabel:`Timesheets` box is checked, a new field appears, labeled :guilabel:`Project`.

.. note::
   If this is the first time this feature has been enabled on this database, the page may need to be
   manually saved and refreshed before the :guilabel:`Project` field appears.

The project selected in this field represents where all the timesheets for this team's tickets are
recorded. Click into the :guilabel:`Project` drop-down menu to select a project.

To create a new project where the timesheets are recorded, click into the :guilabel:`Project`
drop-down menu, type a name for the project, and then click :guilabel:`Create` from the drop-down
menu beneath.

.. image:: track_and_bill/track-bill-enable-settings.png
   :alt: View of a helpdesk team settings page emphasizing the track and bill time settings.

.. _helpdesk/configure-service-products:

Configure service products
~~~~~~~~~~~~~~~~~~~~~~~~~~

When the :guilabel:`Time Billing` feature is enabled, a new product is created in the **Sales** app
called *Service on Timesheets*. This product can be found under :menuselection:`Sales app-->
Products --> Products`. Then, search for `Service on Timesheets` in the search bar. This is the
product that is used when invoicing for *post-paid support services* **after** they have been
completed.

Select :guilabel:`Service on Timesheets` from the product page. This reveals the product detail
form. The product is configured with the :guilabel:`Product Type` set to :guilabel:`Service` and the
:guilabel:`Invoicing Policy` set to :guilabel:`Based on Timesheets`. Make any necessary changes to
the product record, such as the :guilabel:`Cost` or :guilabel:`Sales Price`.

.. image:: track_and_bill/track-bill-product-based-on-timesheets.png
   :alt: View of a service product with the invoicing policy set to 'Based on timesheets'.

In order to invoice for support services **before** the work has been completed (also known as
*prepaid support services*), a separate product with a different invoicing policy must be created.

To create a new service product, go to :menuselection:`Sales app --> Products --> Products`, and
click :guilabel:`New`. This reveals a blank product detail form.

On the new product form, add a :guilabel:`Product Name`, and set the :guilabel:`Product Type` to
:guilabel:`Service`. Then, set the :guilabel:`Invoicing Policy` to :guilabel:`Prepaid/Fixed Price`.
This means an invoice can be generated and payment can be received for this product before any
timesheets entries have been recorded for these services.

.. image:: track_and_bill/track-bill-product-prepaid-fixed.png
   :alt: View of a service product with the invoicing policy set to 'prepaid/fixed'.

Finally, set the :guilabel:`Sales Price`, and confirm that the unit of measure is set to
:guilabel:`Hours`.

Invoice prepaid support services
================================

When support services are billed on a fixed price, an invoice can be created before any work is
completed on the issue. In this case, a service product with the :guilabel:`Invoicing Policy` set to
*Prepaid/Fixed Price* is used, like :ref:`the section above <helpdesk/configure-service-products>`.

Create a sales order with prepaid product
-----------------------------------------

To invoice a customer for prepaid support services, first create a sales order (SO) with the support
services product. To do this, go to :menuselection:`Sales app --> Orders --> Quotations`. Then,
click :guilabel:`New` to reveal a blank quotation form.

Then, fill out the quotation form with the customer information.

Go to the :guilabel:`Order Lines` tab of the quotation and click :guilabel:`Add a product`. Then,
select the *prepaid services product* when :ref:`configuring the service product
<helpdesk/configure-service-products>`. Update the :guilabel:`Quantity` field with the number of
hours.

After updating any other necessary information, :guilabel:`Confirm` the quotation. This converts the
quotation into an |SO|.

Create and send an invoice for prepaid services
-----------------------------------------------

After the |SO| has been confirmed, click the :guilabel:`Create Invoice` button. This opens a
:guilabel:`Create invoice(s)` pop-up window.

If no down payment is collected, the :guilabel:`Create Invoice` type can remain as
:guilabel:`Regular Invoice`. If a :doc:`down payment <../../../sales/sales/invoicing/down_payment>`
is collected, choose between either :guilabel:`Down payment (percentage)` or :guilabel:`Down payment
(fixed amount)`.

When the necessary information has been entered, click :guilabel:`Create Draft`.

The invoice can then be sent to the customer for payment.

Create helpdesk ticket for prepaid services
-------------------------------------------

To create a **Helpdesk** ticket for prepaid services, navigate to :menuselection:`Helpdesk` and
click the :guilabel:`Tickets` button to reveal a specific team's pipeline. Click :guilabel:`New` to
create a new ticket.

On the blank ticket form, create a ticket :guilabel:`Title`, and enter the :guilabel:`Customer`
information.

When the customer name is added, the :guilabel:`Sales Order Item` field automatically populates with
the most recent prepaid sales order item that has time remaining.

Track hours on helpdesk ticket
------------------------------

Time spent working on a **Helpdesk** ticket is tracked on the **Timesheets** tab on the specific
ticket.

On the ticket detail form, click on the :guilabel:`Timesheets` tab and click :guilabel:`Add a line`.
Choose an :guilabel:`Employee`, add a :guilabel:`Description` of the task, and enter the number of
:guilabel:`Hours Spent`.

As new lines are added to :guilabel:`Timesheets` tab, the :guilabel:`Remaining Hours on SO` field,
at the bottom-right of the tab, is automatically updated.

.. image:: track_and_bill/track-bill-remaining-hours-total.png
   :alt: View of the timesheets tab on a ticket with an emphasis on the remaining hours on an SO.

.. note::
   If the number of hours on the :guilabel:`Timesheets` tab exceeds the number of hours sold, the
   :guilabel:`Remaining Hours of SO` turns red.

   .. image:: track_and_bill/exceeded-hours-sold.png
      :alt: An example of a ticket with the number of hours exceeding the hours remaining.

As hours are added to the :guilabel:`Timesheets` tab, they are automatically updated in the
:guilabel:`Delivered` field on the |SO|, as well.

Invoice post-paid support services
==================================

When support services are billed based on the amount of time spent on an issue, an invoice cannot be
created before the total number of hours required to solve the problem have been entered on a
timesheet. In this case, a service product with the :guilabel:`Invoicing Policy` set to
:guilabel:`Based on Timesheets` is used, like the one that is automatically created after :ref:`the
Time Billing <helpdesk/configure-service-products>` feature is enabled.

Create a sales order with a time-tracked product
------------------------------------------------

To invoice a customer for post-paid support services, first create a |SO| with the *Service on
Timesheets* product. To do this, go to :menuselection:`Sales app --> Orders --> Quotations`. Then,
click :guilabel:`New` to reveal a blank quotation form.

Fill out the quotation with the customer information.

On the :guilabel:`Order Lines` tab, click :guilabel:`Add a product`. Select the :guilabel:`Service
on Timesheets` product. After updating any other necessary information, :guilabel:`Confirm` the
quotation.

.. important::
   Unlike with the prepaid services quotation, Odoo does **not** allow an invoice to be created at
   this time. Since services were **not** performed, nothing was delivered, so there is nothing to
   invoice.

Create a helpdesk ticket for time-tracked services
--------------------------------------------------

To record a timesheet entry for time-tracked services, go to the :menuselection:`Helpdesk` app, and
select the appropriate team for which these services apply.

If there is already an existing ticket for this issue, select it from the Kanban view. This opens
the ticket details form. If there is no existing ticket for this customer issue, click
:guilabel:`New` to create a new ticket and enter the necessary customer information on the blank
ticket details form.

After selecting or creating a ticket, go to the :guilabel:`Sales Order Item` drop-down menu. Select
the |SO| created in the previous step.

Track support hours on a ticket
-------------------------------

In order to create an invoice for a product based on timesheets, hours need to be tracked and
recorded. At this point, the service is considered *delivered*. To record hours for this support
service, click on the :guilabel:`Timesheets` tab of the ticket.

Click :guilabel:`Add a Line` to record a new entry. Select an :guilabel:`Employee` from the
drop-down menu, and record the time spent in the :guilabel:`Hours Spent` column.

Repeat these steps until all timesheet entries have been recorded.

.. image:: track_and_bill/track-bill-record-timesheet-hours.png
   :alt: View of the timesheets tab on a helpdesk ticket.

Create an invoice for hours tracked on a ticket
-----------------------------------------------

If no new timesheets are needed, then create an invoice and send it to the customer.

To do this, return to the |SO| by clicking on the :guilabel:`Sales Order` smart button at the top of
the ticket.

Before creating the invoice, confirm that the number in the :guilabel:`Delivered` column matches the
total number of :guilabel:`Hours Spent` listed in the :guilabel:`Timesheets` tab on the ticket.

.. image:: track_and_bill/track-bill-delivered-timesheet-hours.png
   :alt: View of a sales order with emphasis on the delivered column.

Then, click :guilabel:`Create Invoice`. This opens a :guilabel:`Create invoice(s)` pop-up window.

If no down payment is collected, the :guilabel:`Create Invoice` type can remain as
:guilabel:`Regular Invoice`. If a down payment is collected, choose between either :guilabel:`Down
payment (percentage)` or :guilabel:`Down payment (fixed amount)`.

.. important::
   Use the :guilabel:`Timesheets Period` field if this invoice should **only** include timesheets
   from a certain time period. If this field is left blank, **all** applicable timesheets that have
   not yet been invoiced are included.

When the necessary information has been entered, click :guilabel:`Create Draft`. The invoice can
then be reviewed, edited, and sent to the customer for payment.

.. seealso::
   - :doc:`../../../inventory_and_mrp/inventory/product_management/configure/uom`
   - :doc:`../../../sales/sales/invoicing/down_payment`
