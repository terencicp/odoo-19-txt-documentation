

==================================================
SECTION: inventory.rst
PATH: applications/inventory_and_mrp/inventory.rst
==================================================

:nosearch:
:show-content:
:hide-page-toc:
:show-toc:

=========
Inventory
=========

Odoo *Inventory* is both an inventory application and a warehouse management system. The app allows
users to easily manage lead times, automate replenishment, configure advanced routes, and more.

.. seealso::
   - `Odoo Tutorials: Inventory <https://www.odoo.com/slides/inventory-24>`_

.. toctree::
   :titlesonly:

   inventory/product_management
   inventory/warehouses_storage
   inventory/shipping_receiving
   inventory/inventory_valuation


==================================================
SECTION: at_confirmation.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/reservation_methods/at_confirmation.rst
==================================================

===========================
At confirmation reservation
===========================

.. _inventory/reservation_methods/at-confirmation:

.. |SO| replace:: :abbr:`SO (Sales Order)`

The *at confirmation* reservation method reserves products **only** when a sales order (SO) is
confirmed, **and** if enough stock of the products included in the |SO| is already available.

.. seealso::
   :doc:`About reservation methods <../reservation_methods>`

Configuration
=============

To set the reservation method to *at confirmation*, navigate to :menuselection:`Inventory app -->
Configuration --> Operations Types`. Then, select the desired :guilabel:`Operation Type` to
configure, or create a new one by clicking :guilabel:`New`.

In the :guilabel:`General` tab on the operation type form, locate the :guilabel:`Reservation Method`
field, and select :guilabel:`At Confirmation`.

.. image:: at_confirmation/at-confirmation-operations-type.png
   :align: center
   :alt: Reservation method field on delivery order operation type form.

Workflow
========

To see the *at confirmation* reservation method in action, create a new |SO| by navigating to
:menuselection:`Sales app --> New`.

Add a customer in the :guilabel:`Customer` field. Then, in the :guilabel:`Order Lines` tab, click
:guilabel:`Add a product`, and select a product to add to the quotation from the drop-down menu.
Finally, in the :guilabel:`Quantity` column, adjust the desired quantity of the product to sell.

Once ready, click :guilabel:`Confirm` to confirm the sales order.

Click the :guilabel:`ðŸ“ˆ (area graph)` icon on the product line to reveal the product's
:guilabel:`Availability` tooltip, which reveals the :guilabel:`Reserved` number of units for this
order.

.. note::
   If there is **not** sufficient quantity of stock for the product included in the |SO|, the
   :guilabel:`ðŸ“ˆ (area graph)` icon is red, instead of green.

   Instead of revealing the reserved number of units for the order, the :guilabel:`Availability`
   tooltip reads :guilabel:`Available`, and reveals the available number of units (e.g., `0 Units`).

.. image:: at_confirmation/at-confirmation-availability-tooltip.png
   :align: center
   :alt: Confirmed sales order with product availability tooltip selected.

.. admonition:: Forecasted Report

   To see all the factors that affect product reservation, click the :guilabel:`View Forecast`
   internal link arrow to view the :guilabel:`Forecasted Report` dashboard.

   The :guilabel:`Forecasted Report` displays forecast information about the product(s) included in
   the sales order; namely, any live receipts of the product, and any active sales orders, which are
   listed in the :guilabel:`Used By` column. See how each order is fulfilled in the
   :guilabel:`Replenishment` column.

   Additionally, the :guilabel:`Forecasted` quantity is calculated at the top of the page, by adding
   the :guilabel:`On Hand` and :guilabel:`Incoming` quantity, and subtracting the
   :guilabel:`Outgoing` quantity, as shown below:

   .. image:: at_confirmation/at-confirmation-forecasted-equation.png
      :align: center
      :alt: Forecasted quantity equation from the Forecasted Report page.

   If one order should be prioritized over another order, click the :guilabel:`Unreserve` button on
   the corresponding order line in the :guilabel:`Replenishment` column.

To deliver the products, click the :guilabel:`Delivery` smart button at the top of the sales order
form. To confirm that the reservation worked properly, ensure that the :guilabel:`Product
Availability` field reads `Available` (in green text), and the numbers in the :guilabel:`Demand` and
:guilabel:`Quantity` columns match (in this case, both should read `100.00`).

.. image:: at_confirmation/at-confirmation-delivery-order.png
   :align: center
   :alt: Delivery order for product included in sales order with at confirmation reservation.

Once ready, click :guilabel:`Validate`.

.. seealso::
   - :doc:`Manual reservation <manually>`
   - :doc:`Before scheduled date reservation <before_scheduled_date>`


==================================================
SECTION: batch.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/picking_methods/batch.rst
==================================================

=============
Batch picking
=============

.. _inventory/misc/batch_picking:

*Batch picking* enables a single picker to handle multiple orders at once, reducing the number of
times needed to navigate to a warehouse location. When picking in batches, orders are grouped and
consolidated into a picking list. After the picking, the batch is taken to an output location, where
the products are sorted into their respective delivery packages.

Since orders *must* be sorted at the output location after being picked, this picking method suits
businesses with a few products that are ordered often. Storing high-demand items in easily
accessible locations can increase the number of orders that are fulfilled efficiently.

Batch picking is ideal for industries or warehouses that handle high order volumes with a stable
demand. This method increases efficiency by allowing workers to pick items for multiple orders in
one trip through the warehouse, reducing travel time and boosting productivity.

Configuration
=============

To activate the batch picking option, begin by going to :menuselection:`Inventory app -->
Configuration --> Settings`. Under the :guilabel:`Operations` section, check the :guilabel:`Batch,
Wave & Cluster Transfers` box.

.. image:: batch/batch-transfer-checkbox.png
   :alt: Enable the *Batch Transfers* in Inventory > Configuration > Settings.

Since batch picking is a method to optimize the *pick* operation in Odoo, the :guilabel:`Storage
Locations` and :guilabel:`Multi-Step Routes` options under the :guilabel:`Warehouse` heading must
also be checked on this settings page. When finished, click :guilabel:`Save`.

.. image:: batch/locations-routes-checkbox.png
   :alt: Enable *Storage Locations* and *Multi-Step Routes* Inventory > Configuration > Settings.

.. seealso::
   - :doc:`Delivery in two steps <../daily_operations/receipts_delivery_two_steps>`
   - :doc:`../daily_operations/delivery_three_steps`

Create batch transfers
======================

To manually group transfers directly from the :menuselection:`Inventory app`, hover over the
desired operation type from the :guilabel:`Inventory Overview` menu (e.g. the :guilabel:`Receipts`
Kanban card), click the :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` icon, then select
:guilabel:`Prepare Batch`.

.. image:: batch/prepare-batch.png
   :alt: The Inventory dashboard with the Prepare Batch option highlighted.

On the batch transfer form, fill the following fields out accordingly:

- :guilabel:`Responsible`: employee assigned to the picking. Leave this field blank if *any* worker
  can fulfill this picking.
- :guilabel:`Operation Type`: from the drop-down menu, select the operation type under which the
  picking is categorized.
- :guilabel:`Scheduled Date`: specifies the date by which the :guilabel:`Responsible` person should
  complete the transfer to the output location.

.. seealso::
   To learn more about the :guilabel:`Dock Location`, :guilabel:`Vehicle`, and :guilabel:`Vehicle
   Category` fields, see :doc:`dispatch management system
   <../../shipping_receiving/setup_configuration/dispatch>`.

Next, in the :guilabel:`Transfers` list, click :guilabel:`Add a line` to open the :guilabel:`Add:
Transfers` window.

If the :guilabel:`Operation Type` field was filled, the list will filter transfer records matching
the selected :guilabel:`Operation Type`.

Click the :guilabel:`New` button to create a new transfer.

Once the transfer records are selected, click :guilabel:`Confirm` to confirm the batch picking.

.. example::
   A new batch transfer is assigned to the :guilabel:`Responsible`, `Joel Willis`, for the `Pick`
   :guilabel:`Operation Type`. The :guilabel:`Scheduled Date` is set to `August 11`.

   .. image:: batch/batch-transfer-form.png
      :alt: View of *Batch Transfers* form.

   Clicking the :guilabel:`Add a line` button opens the :guilabel:`Add:Transfers` window,
   displaying only pickings. This is because the :guilabel:`Operation Type` was set to `Pick` on the
   batch transfer form.

   Click the checkbox to the left of the transfers, `WH/PICK/00001` and `WH/PICK/00002`, to include
   them in the new transfer. Then, click the :guilabel:`Select` button to close the
   :guilabel:`Add:Transfers` window.

   .. image:: batch/add-transfers-window.png
      :alt: Select multiple transfers from the *Add:Transfers* window.

.. _inventory/warehouses_storage/add-batch-transfers:

Add batch from transfers list
-----------------------------

Another method of creating batch transfers is available using the :guilabel:`Add to batch` option in
a list. Navigate to the :menuselection:`Inventory app --> Operations` drop-down menu, and select any
of the :guilabel:`Transfers` to open a filtered list of transfers.

.. image:: batch/transfers-drop-down.png
   :alt: Show all transfer types in a drop-down menu: Receipts, Deliveries, Internal Transfers,
         Manufacturings, Batch Transfers, Dropships.

On the transfers list, select the checkbox to the left of the selected transfers to add in a batch.
Next, navigate to the :icon:`fa-cog` :guilabel:`Actions` button, and click :guilabel:`Add to batch`
from the resulting drop-down menu.

.. image:: batch/add-to-batch.png
   :alt: Use *Add to batch* button, from the *Action* button's list.

Doing so opens an :guilabel:`Add to batch` pop-up window, wherein the employee
:guilabel:`Responsible` for the picking can be assigned.

Choose from the two radio options to add to :guilabel:`an existing batch transfer` or create
:guilabel:`a new batch transfer`.

Add a :guilabel:`Description` for this batch.

.. tip::
   The :guilabel:`Description` field can be used to add additional information to help workers
   identify the source of the batch, where to place the batch, what shipping containers to use, etc.

To create a batch to be processed at a later time, select the :guilabel:`Draft` checkbox.

Conclude the process by clicking :guilabel:`Confirm`.

.. image:: batch/add-to-batch-window.png
   :alt: Show *Add to batch* window to create a batch transfer.

Automatic batches
-----------------

Batches can be automatically created and assigned based on several criteria. The *Automatic Batches*
option is defined on the *operation type* level.

.. example::
   In a multi-steps delivery process, the picking operation can be grouped by customer, while the
   shipping operation can be organized by carrier and destination country.

To enable *Automatic Batches*, navigate to :menuselection:`Inventory app --> Configuration -->
Operation Types`, and select the desired operation type (e.g. :guilabel:`Delivery`,
:guilabel:`Pick`, etc). Then, select one or more :guilabel:`Batch Grouping` criteria by ticking the
appropriate checkbox. Even if more than one grouping option is selected, only one batch is created.

Batches can be automatically generated based on the following criteria:

- :guilabel:`Contact`
- :guilabel:`Carrier`
- :guilabel:`Destination Country`
- :guilabel:`Source Location`
- :guilabel:`Destination Location`

.. image:: batch/auto-batch-grouping.png
   :alt: The Batch and Wave Transfers settings page with the Auto batch grouping criteria visible.

Process batch transfer
======================

Handle batch transfers in the :menuselection:`Inventory app --> Operations --> Batch Transfers`
page.

From here, select the intended transfer from the list. Then, on the batch transfer form, input the
:guilabel:`Done` quantities for each product, under the :guilabel:`Detailed Operations` tab.
Finally, select :guilabel:`Validate` to complete the picking.

.. tip::
   Be certain the batch transfer is complete when the :guilabel:`Validate` button is highlighted in
   purple. If the :guilabel:`Check Availability` button is highlighted instead, that means there are
   items in the batch that are currently *not* available in-stock.

.. _inventory/management/batch-transfers-example:

.. example::
   In a batch transfer involving products from pickings, `WH/PICK/00001` and `WH/PICK/00002`, the
   :guilabel:`Detailed Operations` tab shows that the product, `Cabinet with Doors`, has been picked
   because the :guilabel:`Done` column matches the value in the :guilabel:`Reserved` column.
   However, `0.00` quantities have been picked for the other product, `Cable Management Box`.

   .. image:: batch/process-batch-transfer.png
      :alt: Show batch transfer of products from two pickings in the *Detailed Operations* tab.

Only in-stock products are visible in the :guilabel:`Detailed Operations` tab.

To view the complete product list, switch to the :guilabel:`Operations` tab. On this list, the
:guilabel:`Demand` column indicates the required quantity for the order. The :guilabel:`Reserved`
column shows the available stock to fulfill the order. Lastly, the :guilabel:`Done` column specifies
the products that have been picked, and are ready for the next step.

.. example::
   The product, `Desk Pad`, from the same batch as the :ref:`example above
   <inventory/management/batch-transfers-example>`, is only visible in the :guilabel:`Operations`
   tab because there are no :guilabel:`Reserved` quantities in stock to fulfill the batch transfer.

   Click the :guilabel:`Check Availability` button to search the stock again for available products.

   .. image:: batch/operations-tab.png
      :alt: Show unavailable reserved quantities in the *Operations* tab.

Create backorder
----------------

On the batch transfer form, if the :guilabel:`Done` quantity of the product is *less* than the
:guilabel:`Reserved` quantity, a pop-up window appears.

This pop-up window provides the option: :guilabel:`Create Backorder?`.

Clicking the :guilabel:`Create Backorder` button automatically creates a new batch transfer.

.. note::
   When creating a new backorder, the transfers that have **not** been validated in the batch will
   be removed from it.

Click :guilabel:`No Backorder` to finish the picking *without* creating another batch picking.

Click :guilabel:`Discard` to cancel the validation, and return to the batch transfer form.

.. image:: batch/create-backorder.png
   :alt: Show the *Create Backorder* pop-up.


==================================================
SECTION: before_scheduled_date.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/reservation_methods/before_scheduled_date.rst
==================================================

=================================
Before scheduled date reservation
=================================

.. _inventory/reservation_methods/before-scheduled-date:

.. |SO| replace:: :abbr:`SO (Sales Order)`

The *Before scheduled date* reservation method allows users to select a specific number of days that
act as the maximum number of days **before** a scheduled delivery date, when products included in a
sales order (SO) should be reserved.

.. seealso::
   :doc:`About reservation methods <../reservation_methods>`

Configuration
=============

To set the reservation method to *Before scheduled date*, navigate to :menuselection:`Inventory app
--> Configuration --> Operations Types`. Then, select the desired :guilabel:`Operation Type` to
configure, or create a new one by clicking :guilabel:`New`.

In the :guilabel:`General` tab, locate the :guilabel:`Reservation Method` field, and select
:guilabel:`Before scheduled date`.

.. image:: before_scheduled_date/before-scheduled-date-configuration.png
   :align: center
   :alt: Reservation method field on delivery order operation type form.

.. note::
   When the :guilabel:`Type of Operation` is changed to :guilabel:`Receipt` on an
   :guilabel:`Operations Type` form, reservation methods are **not** available.

Once selected, a new :guilabel:`Reserve before scheduled date` field appears below. From this field,
the number of :guilabel:`days before` and :guilabel:`days before when starred` can be changed from
the default `0`.

Changing the :guilabel:`days before` value changes the maximum number of days before a scheduled
date that products should be reserved.

Changing the :guilabel:`days before when starred` value changes the maximum number of days before a
scheduled date that products should be reserved if the transfers are starred (favorited).

.. example::
   Here, the :guilabel:`days before` value is set to `2` days before, and the :guilabel:`days before
   when starred` value is set to `3`.

   This means products are reserved two days before the scheduled delivery date for normal orders,
   and three days before the scheduled delivery date for starred (favorited) transfers.

   .. image:: before_scheduled_date/before-scheduled-date-days-before.png
      :align: center
      :alt: Reserve before scheduled date field with set numerical values.

   This is the configuration applied for the following workflow found below.

Edit product form
-----------------

Before the *Before scheduled date* reservation method can be used, ensure that a *customer lead
time* is added to products that plan to be sold with this method.

To do that, navigate to :menuselection:`Inventory app --> Products --> Products`, and select the
desired product to configure.

On the product form, click the :guilabel:`Inventory` tab, and under the :guilabel:`Logistics`
section, change the value in the :guilabel:`Customer Lead Time` field.

For this example workflow, change it to `5` days.

This sets the scheduled delivery date for this specific product to five days after the creation date
of the sales order.

.. image:: before_scheduled_date/before-scheduled-date-customer-lead-time.png
   :align: center
   :alt: Product form with customer lead time set in Inventory tab.

Workflow
========

To see the *Before scheduled date* reservation method in action, create a new |SO| by navigating to
:menuselection:`Sales app --> New`.

Add a customer in the :guilabel:`Customer` field, then, in the :guilabel:`Order Lines` tab, click
:guilabel:`Add a product`, and select a product from the drop-down menu that has a configured
*customer lead time*, to add to the quotation form.

Finally, in the :guilabel:`Quantity` column, adjust the desired quantity of the product to sell.

For this sample workflow, set the :guilabel:`Quantity` to `10`.

Once ready, click :guilabel:`Confirm` to confirm the sales order.

Click the green :guilabel:`ðŸ“ˆ (area graph)` icon on the product line to reveal the product's
:guilabel:`Availability` tooltip. This tooltip reveals the reserved number of units for this order.
Because the reservation method is set to *Before scheduled date*, the :guilabel:`Reserved` quantity
reads `0 Units`.

However, below that quantity reads `Available in stock`. This is because the quantity is available,
but the scheduled date, for this example workflow, is five days from the order date.

Since reservation is not until two days before the scheduled delivery, it will not reserve the
products until then.

.. note::
   If there is **not** sufficient quantity of stock for the product included in the |SO|, the
   :guilabel:`ðŸ“ˆ (area graph)` icon is red, instead of green.

   Instead of revealing the reserved number of units for the order, the :guilabel:`Availability`
   tooltip reads :guilabel:`Reserved`, and reveals the available number of units (e.g., `0 Units`).

   Additionally, unless there is a set replenishment or a live receipt, it also reads :guilabel:`No
   future availability`, in red text.

.. image:: before_scheduled_date/before-scheduled-date-availability-tooltip.png
   :align: center
   :alt: Confirmed sales order with product availability tooltip selected.

Click the :guilabel:`Delivery` smart button to see the delivery order form.

On the delivery order form, the status in the :guilabel:`Product Availability` field is listed as
`Available`, in yellow text, instead of green. This is because there is sufficient stock on-hand for
this order, but no quantity has been reserved yet.

Note the :guilabel:`Scheduled Date` field, above the :guilabel:`Product Availability` field,
displays the date five days from the order creation date. This indicates that the products are not
reserved until three days from today's date (two days before the scheduled delivery date).

.. image:: before_scheduled_date/before-scheduled-date-delivery-order-form.png
   :align: center
   :alt: Delivery order form with product availability and reserved quantity.

In the :guilabel:`Operations` tab on the :guilabel:`Product` line, the numbers in the
:guilabel:`Demand` column and the :guilabel:`Quantity` column do not match (in this case, the
:guilabel:`Demand` column lists `10.00`, while the :guilabel:`Quantity` column lists `0`).

The :guilabel:`Quantity` column lists `0` because the products aren't reserved until two days
*before* their delivery date. Odoo automatically reserves the products once the scheduled date
arrives, at which point the :guilabel:`Demand` and :guilabel:`Quantity` columns will match.

.. tip::
   If the products in the |SO| should be reserved *sooner* than the scheduled reservation date, the
   reservation can be manually overridden. To manually reserve the products sooner than scheduled,
   click :guilabel:`Check Availability` at the top of the form.

   This turns the `Available` status in the :guilabel:`Product Availability` field green, and
   changes the number in the :guilabel:`Quantity` column to match the :guilabel:`Demand` column.

   Once ready, click :guilabel:`Validate`.

.. seealso::
   - :doc:`Manual reservation <manually>`
   - :doc:`At confirmation reservation <at_confirmation>`


==================================================
SECTION: bpost.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/bpost.rst
==================================================

=================
Bpost integration
=================

Set up the *Bpost* shipping connector in Odoo to manage Bpost shipments to clients directly within
Odoo. To configure it, complete these steps:

#. Create a Bpost account.
#. Get the :ref:`Account ID and passphrase <inventory/shipping_receiving/bpost-account>`.
#. :ref:`Set up the shipping method in Odoo <inventory/shipping_receiving/bpost-method>`.

Upon completion, it is possible to calculate the cost of shipping, based on package size and weight,
have the charges applied directly to a Bpost business account, and automatically print Bpost
tracking labels through Odoo.

.. seealso::
   - :doc:`third_party_shipper`
   - :doc:`../setup_configuration`
   - :doc:`dhl_credentials`
   - :doc:`ups_credentials`

Account setup
=============

To begin, go to the `Bpost website <https://parcel.bpost.be/en/home/business>`_ to create, or log
into, the company's Bpost business account. When creating the Bpost account, have the company's VAT
number and mobile phone number ready.

Follow the website's steps to complete registration, and sign up for shipping services. Doing so
submits a request to enter a contractual business relationship between the company and Bpost.

.. important::
   Odoo **cannot** be integrated with `non-business Bpost <https://www.odoo.com/r/Z4wZ>`_ accounts.

After completing the setup, get the Bpost account ID and passphrase, by navigating to the
:guilabel:`Shipping Manager` menu item.

.. _inventory/shipping_receiving/bpost-account:

On the :guilabel:`Shipping Manager` page, go to the :guilabel:`Admin` tab, then the
:guilabel:`General Settings` tab, to find the :guilabel:`Account ID` and :guilabel:`Passphrase`
needed to configure Odoo's shipping method.

.. image:: bpost/credentials.png
   :alt: In the *Admin* tab, show the Account ID and Passphrase.

.. _inventory/shipping_receiving/bpost-method:

Shipping method configuration
=============================

With those necessary credentials, configure the Bpost shipping method in Odoo by going to
:menuselection:`Inventory app --> Configuration --> Shipping Methods`.

On the :guilabel:`Shipping Methods` page, click :guilabel:`Create`.

In the :guilabel:`Provider` field, select :guilabel:`Bpost` from the drop-down menu. Doing so
reveals the :guilabel:`Bpost Configuration` tab at the bottom of the form, where the Bpost
credentials can be entered.

For details on configuring the other fields on the shipping method, such as :guilabel:`Delivery
Product`, refer to the :doc:`Configure third-party carrier <third_party_shipper>` documentation.

.. note::
   To generate Bpost :doc:`shipping labels <labels>` through Odoo, ensure the :guilabel:`Integration
   Level` option is set to :guilabel:`Get Rate and Create Shipment`.

In the :guilabel:`Bpost Configuration` tab, complete the following fields:

- :guilabel:`Bpost Account Number` (required field): enter the company's unique :ref:`account ID
  <inventory/shipping_receiving/bpost-account>` from the Bpost website.
- :guilabel:`Passphrase` (required field): enter the :ref:`passphrase
  <inventory/shipping_receiving/bpost-account>` from the Bpost website.
- :guilabel:`Bpost Delivery Nature`: select either :guilabel:`Domestic` or :guilabel:`International`
  shipping services. Choosing :guilabel:`Domestic` shows the :guilabel:`Options` section, while
  :guilabel:`International` enables the :guilabel:`Bpost Shipment Type` and :guilabel:`Bpost Parcel
  Return Instructions` fields.
- :guilabel:`Bpost Package Type`: select the type of shipping service from the drop-down menu.

  For `domestic delivery <https://www.odoo.com/r/uOVM>`_, the options are: :guilabel:`bpack 24h
  Pro`, :guilabel:`bpack 24h business`, or :guilabel:`bpack Bus`.

  For `international delivery <https://www.odoo.com/r/s6G>`_, the options are: :guilabel:`bpack
  World Express Pro`, :guilabel:`bpack World Business`, or :guilabel:`bpack Europe Business`.
- :guilabel:`Bpost Shipment Type` (required field): for international deliveries, declare the type
  of goods in the package as :guilabel:`SAMPLE`, :guilabel:`GIFT`, :guilabel:`GOODS`,
  :guilabel:`DOCUMENTS`, or :guilabel:`OTHER`.
- :guilabel:`Bpost Parcel Return Address`: return address when an international shipment fails to
  deliver. Select from the drop-down menu: :guilabel:`Destroy`, :guilabel:`Return to sender by air`,
  or :guilabel:`Return to sender by road`.
- :guilabel:`Label Type`: choose :guilabel:`A6` or :guilabel:`A4` label sizes from the drop-down
  menu.
- :guilabel:`Label Format`: choose :guilabel:`PDF` or :guilabel:`PNG` from the drop-down menu.

For domestic deliveries, these features are available in the :guilabel:`Options` section:

- Enable the :guilabel:`Delivery on Saturday` feature to include Saturdays as possible delivery
  dates. Depending on the :guilabel:`Bpost Package Type` selected, this option might incur
  additional costs to the company.
- Enable the :guilabel:`Generate Return Label` feature to automatically print a return label upon
  validating the delivery order.

.. image:: bpost/bpost.png
   :alt: Show Bpost shipping method.



==================================================
SECTION: cancel.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/cancel.rst
==================================================

==============================================
How to cancel a shipping request to a shipper?
==============================================

Overview
========

Odoo can handle various delivery methods, including third party
shippers. Odoo will be linked with the transportation company tracking
system.

It will allow you to manage the transport company, the real prices and
the destination.

You can easily cancel the request made to the carrier system.

How to cancel a shipping request?
=================================

-   If the delivery order is not **Validated**, then the request hasn't been
    made. You can choose to cancel the delivery or to change the
    carrier.

-   If you have clicked on **Validate**, the request has been made and you
    should have received the tracking number and the label. You can
    still cancel the request.
    Simply click on the **Cancel** button next to the **Carrier Tracking Ref**:

.. image:: cancel/cancel01.png
   :align: center

You will now see that the shipment has been cancelled.

.. image:: cancel/cancel02.png
   :align: center

You can now change the carrier if you wish.

How to send a shipping request after cancelling one?
====================================================

After cancelling the shipping request, you can change the carrier you
want to use. Confirm it by clicking on the **Send to shipper** button. You
will get a new tracking number and a new label.

.. image:: cancel/cancel03.png
   :align: center

.. seealso::
    * :doc:`invoicing`
    * :doc:`multipack`


==================================================
SECTION: cheat_sheet.rst
PATH: applications/inventory_and_mrp/inventory/inventory_valuation/cheat_sheet.rst
==================================================

:code-column:
:custom-css: valuation.css
:custom-js: misc.js,valuation-data.js,valuation-journal.js,valuation-accounting.js

=====================
Valuation cheat sheet
=====================

.. rst-class:: full-width

   .. important::
      This documentation is for Odoo 19 or later.
      :ref:`Discover why we changed. <changes-in-19>`


Costing Methods
===============

Odoo supports 3 costing methods configured in accounting's settings and, optionally,
the product's category.

.. rst-class:: alternatives doc-aside

Standard Cost: fixed unit cost, updated manually
  .. list-table::
    :widths: 28 18 18 18 18
    :header-rows: 1
    :stub-columns: 1
    :class: values-table

    * - Operation
      - Unit Cost
      - Qty On Hand
      - Delta Value
      - Inventory Value
    * -
      - $10
      - 0
      -
      - $0
    * - Receive 8 @$10
      - $10
      - 8
      - +8Ã—$10
      - $80
    * - Receive 4 @$16
      - $10
      - 12
      - +4Ã—$10
      - $120
    * - Deliver 10
      - $10
      - 2
      - | -10Ã—$10
        |
      - $20
    * - Receive 2 @$9
      - $10
      - 4
      - +2Ã—$10
      - $40

Average Cost: weighted average of all units
  .. list-table::
    :widths: 28 18 18 18 18
    :header-rows: 1
    :stub-columns: 1
    :class: values-table

    * - Operation
      - Unit Cost
      - Qty On Hand
      - Delta Value
      - Inventory Value
    * -
      - $0
      - 0
      -
      - $0
    * - Receive 8 @$10
      - $10
      - 8
      - +8Ã—$10
      - $80
    * - Receive 4 @$16
      - $12
      - 12
      - +4Ã—$16
      - $144
    * - Deliver 10
      - $12
      - 2
      - | -10Ã—$12
        |
      - $24
    * - Receive 2 @$6
      - $9
      - 4
      - +2Ã—$6
      - $36

FIFO: first in, first out
  .. list-table::
    :widths: 28 18 18 18 18
    :header-rows: 1
    :stub-columns: 1
    :class: values-table

    * - Operation
      - Unit Cost
      - Qty On Hand
      - Delta Value
      - Inventory Value
    * -
      - $0
      - 0
      -
      - $0
    * - Receive 8 @$10
      - $10
      - 8
      - +8Ã—$10
      - $80
    * - Receive 4 @$16
      - $12
      - 12
      - +4Ã—$16
      - $144
    * - Deliver 10
      - $16
      - 2
      - | -8Ã—$10
        | -2Ã—$16
      - $32
    * - Receive 2 @$6
      - $11
      - 4
      - +2Ã—$6
      - $44


.. rst-class:: alternatives-note

   .. note:: Removal strategies also support :abbr:`LIFO (last in, first out)` and :abbr:`FEFO
      (first expiry, first out)`, but they only impact which product is first picked, not the
      valuation method. For example, you can pick using LIFO, but using average cost for valuation,
      as LIFO is not allowed by :abbr:`IFRS (International Financial Reporting Standards)`.


Inventory vs Accounting
=======================

.. rst-class:: inventory-app-paragraph

   The :doc:`Inventory app </applications/inventory_and_mrp/inventory>` keeps track of the inventory
   value in real time as you **receive and deliver goods**. The reporting menu lets you analyze
   inventory quantities and values by company, location, product, and more.

.. rst-class:: accounting-app-paragraph

   The :doc:`Accounting app </applications/finance/accounting>` updates accounts when you receive
   **invoices or bills**. Even though receipts and invoices differ, itâ€™s not practical for
   accountants to post journal entries for every inventory movement. So, they post a closing entry
   to account for the difference between what has been invoiced and received/delivered. This closing
   process happens usually once a year for SMEs, or once a month for larger companies.

.. role:: good
.. role:: meh
.. role:: bad

.. h:div:: feature-table doc-aside

  +------------------+------------+-----------+
  |                  | Accounting | Inventory |
  +==================+============+===========+
  | Purchase Order   | :meh:`/`   | :meh:`/`  |
  +------------------+------------+-----------+
  | Receipt          | :meh:`/`   | :good:`âœ“` |
  +------------------+------------+-----------+
  | Vendor Bill      | :good:`âœ“`  | :meh:`/`  |
  +------------------+------------+-----------+
  | Sales Order      | :meh:`/`   | :meh:`/`  |
  +------------------+------------+-----------+
  | Customer Invoice | :good:`âœ“`  | :meh:`/`  |
  +------------------+------------+-----------+
  | Delivery         | :meh:`/`   | :good:`âœ“` |
  +------------------+------------+-----------+
  | Closing Entry    | :good:`âœ“`  | :meh:`/`  |
  +------------------+------------+-----------+


Accounting Methods
==================

There are two accounting practices on how to maintain your accounts, defined in
:menuselection:`Accounting app --> Configuration --> Settings`, under the
:guilabel:`Inventory Valuation` section:

**Periodic:** Post vendor bills as expenses by nature, and update stock valuation in the closing
entry by reducing expenses (stock variation). This is the best practice in Europe.

**Perpetual:** Post vendor bills as assets (stock valuation), report expenses when goods are sold
(cost of goods sold). This is the best practice in countries that follow Anglo-Saxon accounting,
like the USA and India.

.. role:: yellow
.. role:: green
.. role:: blue
.. role:: darkblue
.. role:: purple
.. role:: washed
.. role:: washed-green
  :class: washed green
.. role:: washed-darkblue
  :class: washed darkblue
.. role:: washed-purple
  :class: washed purple

* :purple:`Stock Account` on the product's category
* :yellow:`Stock Variation` on the stock account
* :blue:`Expense/Cost of Goods Sold` on the product/category
* :green:`Inventory Adjustment` on the Inventory Loss location
  (optional, recommended for Anglo-Saxon accounting)
* :darkblue:`Expense` on the stock account
  (for perpetual Continental accounting only)

.. h:div:: doc-aside

  .. list-table::
    :stub-columns: 1
    :header-rows: 1
    :class: config-table

    * -
      - EU Periodic
      - EU Perpetual
      - US Periodic
      - US Perpetual
    * - ADJUSTMENT
      -
      - :purple:`Stock`
      -
      - :purple:`Stock`
    * -
      -
      - :green:`LOSS`
      -
      - :green:`Shrinkage`
    * -
      -
      -
      -
      -
    * - BILL
      - :blue:`Expense`
      - :purple:`Stock`
      - :blue:`COGS`
      - :purple:`Stock`
    * -
      - :washed:`Payable`
      - :washed:`Payable`
      - :washed:`Payable`
      - :washed:`Payable`
    * -
      -
      -
      -
      -
    * - INVOICE
      -
      - :blue:`Expense`
      -
      - :blue:`COGS`
    * -
      -
      - :purple:`Stock`
      -
      - :purple:`Stock`
    * -
      - :washed:`Income`
      - :washed:`Income`
      - :washed:`Income`
      - :washed:`Income`
    * -
      - :washed:`Receivable`
      - :washed:`Receivable`
      - :washed:`Receivable`
      - :washed:`Receivable`
    * -
      -
      -
      -
      -
    * - Closing
      - :purple:`Stock`
      - :washed-purple:`Stock`
      - :purple:`Stock`
      - :washed-purple:`Stock`
    * - [1]
      - :yellow:`Variation`
      - :washed-darkblue:`Expense`
      - :yellow:`Variation`
      - :yellow:`Variation`
    * - [2]
      - :washed-green:`LOSS`
      -
      - :washed-green:`Shrinkage`
      -
    * - [3]
      -
      - :yellow:`Variation`
      -
      -
    * -
      -
      - :darkblue:`Expense`
      -
      -

  1. Inventory valuation - Accounting valuation
  2. Inventory valuation lost,
     only if an account is set on the loss location
  3. Accounting valuation end of period -
     Valuation beginning of period


.. _accounting-entries:

Accounting Entries
==================

.. h:div:: accounting-entries doc-aside

   .. placeholder


.. _journal-entries:

Journal Entries Configuration
=============================


.. h:div:: journal-entries doc-aside

    .. placeholder


Reporting
=========

In Inventory
------------

Open :menuselection:`Inventory --> Reporting --> Stock` to view your current inventory level and
valuation for each product, or to review historical data as of a previous date.

.. h:div:: doc-aside

  .. image:: cheat_sheet/valuation-stock.png


Unit cost
~~~~~~~~~

To check a product's existing unit price updates and their origins, click on the product's
:guilabel:`Unit Cost`. In :abbr:`AVCO (average cost)` this allows you to understand how the
currently used value was calculated.

.. h:div:: doc-aside

  .. image:: cheat_sheet/unit-cost.png


Total value
~~~~~~~~~~~

To see all incoming quantities for which you still have a remaining quantity and the value used for
their valuation, click on a product's :guilabel:`Total Value`.

- In AVCO or standard cost, the used value is always the current average unit cost.
- In FIFO, remaining units from each previous incoming move retain their own individual valuation.

In FIFO or AVCO, remaining quantities from a previous incoming move can have their value adjusted if
necessary: Select the incoming moves to be adjusted, click :icon:`fa-cog` :guilabel:`Actions`, and
then click :guilabel:`Adjust Valuation`. Enter the new :guilabel:`Value` and, optionally, a
:guilabel:`Description`.

.. h:div:: doc-aside

  .. image:: cheat_sheet/total-value.png


In Accounting
-------------

To view the difference between the accounting stock value and the current inventory value recorded
thanks to the incoming moves with a remaining quantity, go to :menuselection:`Accounting --> Review
--> Inventory Valuation`.

To generate a new accounting entry to review and post, click :guilabel:`Generate Entry`.

.. h:div:: doc-aside

  .. image:: cheat_sheet/valuation-accounting.png

To view a list of sales and purchase orders for which accrual entries should be encoded, go to
:menuselection:`Accounting --> Review` and select the relevant menu item (:guilabel:`Bill To
Receive`, :guilabel:`Invoices To Be Issued`, :guilabel:`Billed Not Received` and :guilabel:`Invoiced
Not Delivered`). Select the desired lines and click :guilabel:`Create Accrual
Entries`.

With Anglo-Saxon perpetual accounting, this will also help to distribute recorded inventory
variations to accounts such as Bills to Receive/:abbr:`GRNI (goods received not invoiced)` or
:abbr:`COGS (cost of goods sold)` as shown in the :ref:`Accounting Entries <accounting-entries>`
and :ref:`Journal Entries Configuration <journal-entries>` sections.

.. h:div:: doc-aside

  .. image:: cheat_sheet/accrual.png
  .. image:: cheat_sheet/accrual1.png
  .. image:: cheat_sheet/accrual2.png
  .. image:: cheat_sheet/accrual3.png


.. _changes-in-19:

Changes in Odoo 19
==================

Before Odoo 19, the Perpetual accounting method was implemented by posting real-time accounting
entries at each stock movement. That created a lot of journal items in accounting, which was an
issue for performance, general ledger clarity and auditability.

Since Odoo 19, the Perpetual method impacts the stock valuation account at the invoice level. The
closing entry is then used to manage bills to receive, invoices to issue, deferred revenues, prepaid
expenses, and other gaps between inventory values and accounting ones.

.. h:div:: feature-table doc-aside

  +-----------------------+--------------------------------+--------------------------------+
  |                       | Odoo 18                        | Odoo 19                        |
  +=======================+================================+================================+
  | Periodic Continental  | :meh:`Manual closing`          | :good:`Automated closing`      |
  +-----------------------+--------------------------------+--------------------------------+
  | Periodic Anglo-Saxon  | :bad:`Not supported`           | :good:`Fully supported`        |
  +-----------------------+--------------------------------+--------------------------------+
  | Perpetual Continental | :meh:`Manual closing`          | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Perpetual Anglo-Saxon | :meh:`Manual closing`          | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Accounting valuation  | :meh:`Requires inventory`      | :good:`Accounting only`        |
  +-----------------------+--------------------------------+--------------------------------+
  | Perpetual Entries     | :good:`Invoices + every moves` | :good:`Invoices + one closing` |
  +-----------------------+--------------------------------+--------------------------------+
  | Invoices to issue     | :bad:`âœ—`                       | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Prepaid expenses      | :bad:`âœ—`                       | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Bills to receive      | :bad:`âœ—`                       | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Deferred revenues     | :bad:`âœ—`                       | :good:`âœ“`                      |
  +-----------------------+--------------------------------+--------------------------------+
  | Performance           | :bad:`Slower`                  | :good:`Faster`                 |
  +-----------------------+--------------------------------+--------------------------------+
  | General ledger        | :good:`More journal entries`   | :good:`Fewer journal entries`  |
  +-----------------------+--------------------------------+--------------------------------+


==================================================
SECTION: closest_location.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies/closest_location.rst
==================================================

========================
Closest location removal
========================

For the *Closest Location* removal strategy, products are picked based on the alphanumeric order of
storage location titles.

The goal of this strategy is to save the warehouse worker from taking a long journey to a farther
shelf when the product is also available at a closer location.

.. _inventory/warehouses_storage/sequence:

To understand *location sequence* in the closest removal strategy, consider the following example:

.. example::
   A product is stored in the following locations: `Shelf A/Pallet`, `Shelf A/Rack 1`, and `Shelf
   A/Rack 2`.

   .. image:: closest_location/locations.png
      :alt: Show a mockup of real storage location in a warehouse.

   The sublocation, `Pallet`, is on the ground level. Products stored here are easier to retrieve,
   compared to requiring a forklift to reach `Rack 1` and `Rack 2`. The storage locations were
   strategically named in alphabetic order, based on ease of access.

Enabling the Closest Location removal strategy
==============================================

**Storage locations** and **multi-step routes** are necessary features for setting all types of
removal strategies on a location. However, these features are specifically required for the closest
location removal strategy since it is only applied at the location level.

To activate these features, navigate to :menuselection:`Inventory app --> Configuration -->
Settings`. Under the :guilabel:`Warehouse` heading, enable the :guilabel:`Storage Locations` and
:guilabel:`Multi-Step Routes` features. Be sure to :guilabel:`Save` your changes.

.. image:: closest_location/enable-configuration-settings.png
   :alt: Enable Storage Locations and Multi-Step Routes in the inventory settings.

.. _inventory/warehouses_storage/location-name:

Configure location names
------------------------

To configure location names, begin by navigating to :menuselection:`Inventory app --> Configuration
--> Locations`. Then, select an existing location, or click :guilabel:`New` to create a new one, and
then enter the desired name in the :guilabel:`Location Name` field.

Set the removal strategy
------------------------

Once the locations are named in alphabetical order, based on their proximity to the output or
packing location, set the removal strategy on the :ref:`parent location
<inventory/location-hierarchy>`.

To do that, in the :guilabel:`Locations` list, select the parent location of the alphabetically
named storage locations.

Doing so opens the form for the parent location. In the :guilabel:`Removal Strategy` field, select
:guilabel:`Closest Location`.

.. image:: closest_location/set-closest-location.png
   :alt: Set Closest Location as the location's removal strategy.

.. example::
   In a warehouse, the storage location `WH/Stock/Shelf 1` is located closest to the packing area,
   where products retrieved from shelves are packed for shipment. The popular product, `iPhone
   charger` is stored in three locations, `WH/Stock/Shelf 1`, `WH/Stock/Shelf 2`, and
   `WH/Stock/Shelf 3`.

   To use the closest location, set the removal strategy on the parent location, `WH/Stock`.

Workflow
========

To see how the closest location removal strategy works, consider the following example, featuring
the popular product, `iPhone Charger`, which is stored in `WH/Stock/Shelf A/Pallets`,
`WH/Stock/Shelf A/Rack 1`, and `WH/Stock/Shelf A/Rack2`.

Fifteen, five, and thirty units are in stock at each respective location.

.. tip::
   To check the on-hand stock at each storage location, open the :guilabel:`Locations` report by
   clicking :menuselection:`Inventory app --> Reporting --> Locations`. Filter by :guilabel:`On
   Hand`, as well as product (if necessary).

   .. image:: closest_location/on-hand-stock.png
      :alt: Show on-hand stock at all locations.

Create a :ref:`delivery order <inventory/delivery/one-step>` for eighteen units of the `iPhone
Charger` by navigating to the :menuselection:`Sales app` and creating a new quotation.

After adding the products, clicking :guilabel:`Confirm` creates a delivery order that reserves items
stored at the closest location, using the removal strategy.

For more details about *where* the units were picked, click the :guilabel:`Details` link, located on
the far right. Doing so opens the :guilabel:`Detailed Operations` pop-up window that displays how
the reserved items were picked, according to the removal strategy.

In the :guilabel:`Detailed Operations` pop-up window, the :guilabel:`Pick From` field displays where
the quantities to fulfill the :guilabel:`Demand` are picked. All fifteen of the units stored at the
closest location, `WH/Stock/Shelf A/Pallets`, are picked first. The remaining three units are then
selected from the second closest location, `WH/Stock/Shelf A/Rack 1`.

.. image:: closest_location/detailed-operations-window.png
   :alt: Display Pick From quantities for the order for iPhone chargers.

.. seealso::
   - :doc:`About removal strategies <../removal_strategies>`
   - :ref:`Set up removal strategy <inventory/warehouses_storage/removal-config>`


==================================================
SECTION: cluster.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/picking_methods/cluster.rst
==================================================

===============
Cluster picking
===============

.. _inventory/misc/cluster_picking:

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOS| replace:: :abbr:`SOs (Sales Orders)`

Cluster picking is an advanced picking method that combines the efficiency of :ref:`batch picking
<inventory/misc/batch_picking>` with immediate sorting during the picking process. It is best suited
for warehouses with high order volumes where organization and speed are critical.

Unlike batch picking, which requires a separate sorting step after picking, cluster picking sorts
items directly into designated bins or containers for each *sales order* (SO). This eliminates the
need for post-picking consolidation, making it ideal for operations prioritizing speed and accuracy.

Cluster picking is particularly effective in environments where immediate organization is crucial,
and orders contain a mix of items that need precise sorting during, rather than after, the picking
process.

However, cluster picking does have some disadvantages. For instance, urgent orders cannot be
prioritized, and optimized batches must be manually created beforehand. As a result, the picking
process can lead to bottlenecks.

.. _inventory/misc/cluster_picking/example:

.. example::
   #. |SO| 1 calls for one apple and orange
   #. |SO| 2 calls for one apple and banana
   #. |SO| 3 calls for one apple, orange, and banana

   Apples are stored in Shelf A, oranges in Shelf B, and bananas in Shelf C.

   To pick products for three orders at once, the cart is loaded with three empty packages.

   Starting at Shelf A, the picker places apples into each package. Next, the picker navigates to
   Shelf B, and places oranges in the packages designated for |SO| 1 and |SO| 3. Finally, the picker
   pushes the cart to Shelf C, and loads packages for |SO| 2 and |SO| 3 with a banana, each.

   With the packages for all three |SOS| packed, the picker pushes the cart to the output location,
   where the packages are sealed and prepared for shipment.

   .. image:: cluster/cluster-example.png
      :alt: Show example of fulfilling sales orders 2 and 3 at once.

Configuration
=============

To enable cluster picking, begin by navigating to :menuselection:`Inventory app --> Configuration
--> Settings`. Under the :guilabel:`Operations` heading, activate the :guilabel:`Packages` and
:guilabel:`Batch, Wave & Cluster Transfers` options.

.. image:: cluster/configs.png
   :alt: Activate *Packages* and *Batch Transfers* features in the settings.

Since batch picking is used to optimize the *pick* operation in Odoo, the :guilabel:`Storage
Locations` and :guilabel:`Multi-Step Routes` options, under the :guilabel:`Warehouse` heading, must
also be checked on this settings page.

*Storage locations* allow products to be stored in specific locations they can be picked from, while
*multi-step routes* enable the picking operation itself.

When finished, click :guilabel:`Save`.

.. image:: cluster/locations-routes-checkbox.png
   :alt: Enable *Storage Locations* and *Multi-Step Routes* Inventory > Configuration > Settings.

.. _inventory/misc/create-package:

Packages setup
--------------

To configure the containers to be used during the picking process, navigate to
:menuselection:`Inventory app --> Products --> Packages`. Click the :guilabel:`New` button to create
a new package.

On the new package form, the :guilabel:`Package Reference` is pre-filled with the next available
`PACK` number in the system. :guilabel:`Pack Date` is automatically set to the creation date of the
form.

Set the :guilabel:`Package Use` field to :guilabel:`Reusable Box`.

.. seealso::
   :doc:`Packages <../../product_management/configure/package>`

.. example::
   A package intended for cluster picking is named `CLUSTER-PACK-3` for easy identification. For
   this workflow, the products are directly packed using their intended shipping boxes, so
   :guilabel:`Package Use` is set to :guilabel:`Reusable Box`.

   .. image:: cluster/cluster-package.png
      :alt: Create new package form.

Create cluster batch
====================

To create a cluster, navigate to :menuselection:`Inventory app` and select the operation type card,
:guilabel:`Delivery Orders` or :guilabel:`Pick` (whichever is the first operation in the delivery
flow).

.. note::
   Cluster pick batches can be created for outgoing shipments in one, two, or three steps.

.. seealso::
   - :doc:`Delivery in one step <../daily_operations/receipts_delivery_one_step>`
   - :doc:`Delivery in two steps <../daily_operations/receipts_delivery_two_steps>`
   - :doc:`Delivery in three steps <../daily_operations/delivery_three_steps>`

Click the checkbox to the left of the corresponding outgoing operation to add them to the batch.
With the desired pickings selected, click the :icon:`fa-cog` :guilabel:`Actions` button, and select
the :guilabel:`Add to batch` option from the resulting drop-down menu.

.. example::
   To create a cluster batch, as shown in the :ref:`example above
   <inventory/misc/cluster_picking/example>`, in a warehouse configured with two-step outgoing
   shipments, the following pick operations are selected:

   - `WH/PICK/00007`: linked to |SO| 88 for one apple and orange.
   - `WH/PICK/00008`: linked to |SO| 89 for one apple and banana.
   - `WH/PICK/00009`: linked to |SO| 90 for one apple, orange, and banana.

   .. image:: cluster/select-picks.png
      :alt: Use *Add to batch* button, from the *Action* button's list.

Doing so opens an :guilabel:`Add to batch` pop-up window, wherein the employee
:guilabel:`Responsible` for the picking can be assigned.

Choose from the two options in the :guilabel:`Add to` field to either: add to :guilabel:`an existing
batch transfer`, or create :guilabel:`a new batch transfer`.

Then, add a :guilabel:`Description` for this batch.

.. tip::
   The :guilabel:`Description` field can be used to add additional information to help workers
   identify the source of the batch, where to place the batch, what shipping containers to use, etc.

To create draft batch pickings to be confirmed at a later date, select the :guilabel:`Draft`
checkbox.

Conclude the process by clicking :guilabel:`Confirm`.

.. image:: cluster/add-to-batch-window.png
   :alt: Show *Add to batch* window to create a batch transfer.

Process batches
===============

To process batches, navigate to :menuselection:`Inventory app --> Operations --> Batch Transfers`.
Click on a batch to select it.

In the :guilabel:`Detailed Operations` tab, products that are to be picked are grouped by location.

Set the :guilabel:`Destination Package` to the package dedicated to that particular order.

.. example::
   Process the cluster batch for the three orders of apples, oranges, and bananas :ref:`example
   <inventory/misc/cluster_picking/example>` by assigning each picking to a dedicated package.

   At the storage location for apples, `WH/Stock/Shelf A`, assign the apples in all three pickings
   to one of the three reusable packages, `CLUSTER-PACK-1`, `CLUSTER-PACK-2`, or `CLUSTER-PACK-3`.

   Record this in Odoo using the :guilabel:`Destination Package` field in the :guilabel:`Detailed
   Operations` tab.

   .. image:: cluster/cluster-batch-example.png
      :alt: Example of processing cluster pickings in *Inventory*.


==================================================
SECTION: configure.rst
PATH: applications/inventory_and_mrp/inventory/product_management/configure.rst
==================================================

:show-content:

.. |UoM| replace:: :abbr:`UoM (Unit of Measure)`
.. |UoMs| replace:: :abbr:`UoMs (Units of Measure)`


=================
Configure product
=================

A group of products in Odoo can be further defined using:

- :doc:`Units of measure (UoM) <configure/uom>`: a standard quantity for specifying product amounts
  (e.g., meters, yards, kilograms). Enables automatic conversion between measurement systems in
  Odoo, such as centimeters to feet.

  - *Ex: Purchasing fabric measured in meters but receiving it in yards from a vendor.*

- :doc:`configure/package`: A physical container used to group products together, regardless of
  whether they are the same or different.

  - *Ex: A box containing assorted items for delivery, or a storage box of two hundred buttons on a
    shelf.*

- :doc:`configure/packaging`: groups the *same* products together to receive or sell them in
  specified quantities.

  - *Ex: Cans of soda sold in packs of six, twelve, or twenty-four.*

Comparison
==========

This table provides a detailed comparison of units of measure, packages, and packaging to help
businesses evaluate which best suits their requirements.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Feature
     - Unit of measure
     - Packages
     - Packaging
   * - Purpose
     - Standardized measurement for product units (e.g., cm, lb, L)
     - Tracks the specific physical container and its contents
     - Groups a fixed number of items together for easier management (e.g., packs of 6, 12 or 24)
   * - Product uniformity
     - Defined per product; saved as one |UoM| in the database
     - Allows mixed products
     - Same products only
   * - Flexible
     - Converts between vendor/customer |UoMs| and database |UoM|
     - Items can be added or removed from the container
     - Quantities are fixed (e.g., always packs of 6, 12 or 24)
   * - Complexity
     - Simplest for unit conversions
     - More complex due to container-level inventory tracking
     - Simpler; suitable for uniform product groupings
   * - Inventory tracking
     - Tracks product quantities within the warehouse in the specific |UoM| defined in the product
       form
     - Tracks package location and contents within the warehouse
     - Tracks grouped quantities but not individual items' locations
   * - Smooth barcode operations
     - Not available
     - Requires scanning both the package and individual items for reception. (even if there are 30
       items in a package). Can enable the :ref:`Move Entire Packages
       <inventory/product_management/move-entire-pack>` feature to update the package's contained
       items' locations, when moving the package
     - Scanning a packaging barcode automatically records all included units. (e.g. 1 pack = 12
       units)
   * - Product lookup
     - Not available
     - Scanning a product's barcode identifies its typical storage location in the Odoo database
     - Barcode identifies grouped quantity, not storage location
   * - Unique barcodes
     - Not available
     - Unique barcodes for individual packages (e.g. Pallet #12)
     - Barcodes set at the packaging type level (e.g. for a pack of 6)
   * - Reusability
     - Not applicable
     - Can be disposable or reusable, configured via the :ref:`Package Use
       <inventory/warehouses_storage/cluster-pack>` field
     - Disposable only
   * - Container weight
     - Not applicable
     - Weight of the container itself is included in the *Shipping Weight* field of a package
       (:menuselection:`Inventory app --> Products --> Packages`)
     - Weight of the container is defined in the *Package Type* settings
   * - Lot/serial number tracking
     - Requires manual adjustments to track |UoMs| via lots (See :ref:`use case
       <inventory/product_management/lots-uom>` for details)
     - Applies only to contained products
     - Applies to both contained products and the container
   * - Custom routes
     - Cannot be set
     - Cannot be set
     - Routes can define specific warehouse paths for a particular packaging type

Use cases
=========

After comparing the various features, consider how these businesses, with various inventory
management and logistics workflows, came to their decision.

Pallets of items using packaging
--------------------------------

A warehouse receives shipments of soap organized on physical pallets, each containing 96 bars. These
pallets are used for internal transfers and are also sold as standalone units. For logistical
purposes, the pallet's weight must be included in the total shipping weight for certain deliveries.
Additionally, the pallet requires a barcode to facilitate tracking, and the number of individual
bars of soap must be included in the stock count when the pallet is received.

After evaluating various options, *product packaging* was the most suitable solution. Packaging
enables assigning a barcode to a pallet, identifying it as a "pallet type" containing 96 soap bars.
This barcode streamlines operations by automatically registering the grouped quantity. Key
distinctions include:

- **Warehouse tracking limitations**: Odoo tracks only the total quantity, not the number of
  packagings. For instance, if a pallet with 12 and 24 quantities is received, Odoo records 36
  quantities, not the pallet details.
- **Packaging barcodes are type-specific, not unique**: Barcodes represent packaging types (e.g.,
  "pallet of 96 soap bars") but do not uniquely identify individual pallets, such as Pallet #1 or
  Pallet #2.

Capture product information using barcode
-----------------------------------------

An Odoo user expects the **Barcode** app to display the typical storage location of a product by
scanning a barcode for a container.

*Packages* was the most suitable. When the :ref:`appropriate setting is enabled
<inventory/warehouses_storage/enable-package>`, scanning a package barcode displays its contents in
the **Barcode** app.

Packages represent physical containers, enabling detailed tracking of the items they hold.
Scanning a package provides visibility into its contents and facilitates operations, like inventory
moves.

.. _inventory/product_management/lots-uom:

Track different units of measure in storage
-------------------------------------------

A fruit juice distributor tracks multiple |UoMs| for their operations:

- Fruits are purchased in tons.
- Juice is produced and stored in kilograms.
- Small samples are stored in grams for recipe testing.

*Unit of Measure* was most suitable. Odoo automatically converts tons to kilograms during
receipts. However, since Odoo tracks only one |UoM| per product in the database, the company uses
lot numbers to differentiate |UoMs|:

- LOT1: Grams (g)
- LOT2: Kilograms (kg)

Manual inventory adjustments are required to convert between lots, such as subtracting 1 kg from
LOT2 to add 1,000 g to LOT1. While functional, this workaround can be time-consuming and prone to
errors.

.. toctree::
   :titlesonly:

   configure/type
   configure/uom
   configure/package
   configure/packaging



==================================================
SECTION: count_products.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/count_products.rst
==================================================

=====================
Inventory adjustments
=====================

.. |Ia| replace:: Inventory adjustments
.. |ia| replace:: inventory adjustments

In any warehouse management system, the recorded inventory counts in the database might not always
match the actual inventory counts in the warehouse. Discrepancy between counts can be due to
damage, human error, theft, or other factors. As such, inventory adjustments must be made to
reconcile the differences, and ensure that the recorded counts in the database match the actual
counts in the warehouse.

Inventory Adjustments page
==========================

To view the :guilabel:`Inventory Adjustments` page, navigate to :menuselection:`Inventory app -->
Operations --> Physical Inventory`.

.. image:: count_products/inventory-adjustments-page.png
   :alt: In stock products listed on the Inventory adjustments page.

The :guilabel:`Inventory Adjustments` page lists all products that are currently in stock.

.. note::
   Only products with a quantity greater than zero are listed on the :guilabel:`Inventory
   Adjustments` page. To view product lines with zero current quantity, go to
   :menuselection:`Inventory app --> Reporting --> Stock`.

For each product line, the following information is listed:

- :guilabel:`Location`: the specific location in the warehouse where a product is stored. This
  column is **only** visible if :doc:`Storage Locations <use_locations>` are enabled.
- :guilabel:`Favorite`: identifies products that have been favorited.
- :guilabel:`Product`: the product whose quantity is listed on the inventory adjustment line.
- :guilabel:`Lot/Serial Number`: the tracking identifier assigned to the specific product listed. It
  can contain letters, numbers, or a combination of both.

.. note::
   If a specific product has a quantity of more than `1.00` in stock, and more than one serial
   number, or lot number, assigned to it, each uniquely-identified product is displayed on its own
   product line with its own lot/serial number, displayed under the :guilabel:`Lot/Serial Number`
   column.

- :guilabel:`Expiration Date`: the date on which the goods with this serial number are due to
  expire.
- :guilabel:`Last Count Date`: the last time the quantity was updated.
- :guilabel:`Package`: the package containing the quantity listed.
- :guilabel:`On Hand Quantity`: the quantity of the product currently recorded in the database.
- :guilabel:`Unit`: the *unit of measure* in which the product is measured. Unless otherwise
  specified (e.g., in :guilabel:`Pounds` or :guilabel:`Ounces`), the default :abbr:`UoM (Unit of
  Measure)` is :guilabel:`Units`.
- :guilabel:`Counted Quantity`: the real quantity counted during an inventory count. This field is
  left blank by default but can be changed, depending on if it matches the :guilabel:`On Hand
  Quantity` or not.
- :guilabel:`Difference`: the difference between the :guilabel:`On Hand Quantity` and
  :guilabel:`Counted Quantity`, once an inventory adjustment is made. The difference is
  automatically calculated after every inventory adjustment.
- :guilabel:`Scheduled Date`: the date at which a count should be made. If not otherwise specified,
  this date will default to the 31st of December of the current year.
- :guilabel:`User`: the person assigned to the count in the database. This can either be the person
  physically counting the inventory, or applying the count in the database.

.. tip::
   Additional columns are hidden by default. To reveal these columns, click the
   :icon:`oi-settings-adjust` :guilabel:`(adjust)` icon to the far right of the form's top row, and
   reveal any desired column by ticking the checkbox next to that option.

.. _inventory/create-adjustment:

Create an inventory adjustment
------------------------------

To create a new inventory adjustment from the :menuselection:`Inventory Adjustments` page, click
:guilabel:`New`. Doing so creates a new, blank inventory adjustment line at the bottom of the page.

.. tip::
   |Ia| can also be created from the :guilabel:`Forecasted Report` on an individual
   product record. To open the report, navigate to a product record and click the
   :guilabel:`Forecasted` smart button. Then, at the top of the page, click :guilabel:`Update
   Quantity`, then :guilabel:`New`.

   .. image:: count_products/forecast-report.png
      :alt: The Update Quantities button on a Forecast report in the Inventory app.

On this blank inventory adjustment line, click the drop-down menu under the :guilabel:`Product`
column, and select a product. If the selected product is tracked using either lots or serial
numbers, the desired lot or serial number needs to be chosen from the drop-down menu under the
:guilabel:`Lot/Serial Number` column.

.. tip::
   The inventory adjustment line can also be used to create or record lots and serial numbers.

Next, set the value in the :guilabel:`Counted Quantity` column to the quantity counted for that
product during the inventory adjustment process.

To the right of the :guilabel:`Counted Quantity` column, the :guilabel:`Scheduled Date` and
:guilabel:`User` can also be changed via their respective drop-down menus. Changing the
:guilabel:`Scheduled Date` changes the date that the inventory adjustment should be processed on,
and selecting a responsible :guilabel:`User` assigns a user to the specific inventory adjustment
for traceability purposes.

Once all changes have been made to the new inventory adjustment line, click away from the line.
Doing so saves the adjustment, and moves the line to the top of the page.

If the :guilabel:`Counted Quantity` is greater than the :guilabel:`On Hand Quantity`, the value in
the :guilabel:`Difference` column is **green**. If the :guilabel:`Counted Quantity` is less than the
:guilabel:`On Hand Quantity`, the value in the :guilabel:`Difference` column is **red**. If the
quantities match, and have not been changed at all, no value appears in the :guilabel:`Difference`
column.

.. image:: count_products/difference-column.png
   :alt: Difference column on inventory adjustments page.

At this stage, the count (:dfn:`inventory adjustment`) is recorded, but not yet applied. This means
that the quantity on hand before the adjustment has not yet been updated to match the new, real
counted quantity.

.. _inventory/apply-adjustment:

Apply adjusted count
--------------------

|Ia| can be completed in several ways. The first way is to click the
:guilabel:`Apply` button on the line at the far right of the page. The second way is to tick the
checkbox on the far left of the line. Doing so reveals new button options at the top of the page,
one of which is an :guilabel:`Apply` button. Clicking this button instead causes an
:guilabel:`Inventory Adjustment` pop-up window to appear.

From this pop-up menu, a reference or reason can be assigned to the inventory adjustment. By
default, the :guilabel:`Inventory Reason` field is pre-populated with today's date, the date the
adjustment is being made on, but can be changed to reflect whatever reference or reason is desired.

Once ready, click :guilabel:`Apply` to apply the inventory adjustment.

.. note::
   Applying an inventory adjustment simultaneously creates a :doc:`stock move line (SML)
   <../reporting/moves_history>` in the *Moves History* report for traceability.

.. image:: count_products/apply-inventory-adjustment.png
   :alt: Apply all option applies the inventory adjustment once a reason is specified.

Relocate products
=================

|Ia| can also be used to relocate products to different storage locations, or to
different packages. To relocate a product, tick the checkbox at the far left of the line for the
desired product. At the top of the page, click the :guilabel:`Relocate` button. Doing so opens a
pop-up.

.. image:: count_products/relocate-popup.png
   :alt: The Relocate products pop-up on the Inventory Adjustments page.

On the resulting pop-up, enter the following information:

- :guilabel:`To Location`: the new location for the products.
- :guilabel:`To Package`: the new package for the products.
- :guilabel:`Reason for relocation`: the reason for the move.

.. important::
   Product relocations **only** work on internal locations. Products **cannot** be moved between
   companies.

   Only users with *Administrator* rights can perform product relocations.

Set to zero
===========

|Ia| can also be used to clear inventory counts by setting the quantity to zero. To do this, tick
the checkbox at the far left of the line for the desired product. At the top of the page, click the
:icon:`fa-gear` :guilabel:`Actions` button to open a drop-down menu. Click :guilabel:`Set to 0`.
Once this is complete, :ref:`apply <inventory/apply-adjustment>` the adjusted count.

Count products
==============

Counting products is a recurring activity in a warehouse. Once a count is complete, go to
:menuselection:`Inventory app --> Operations --> Physical Inventory` to update the
:guilabel:`Counted Quantity` column for each product line.

On each product line, identify whether the value in the :guilabel:`On Hand Quantity` column recorded
in the database matches the newly-counted value. If the recorded value and the counted value do
match, click the :icon:`fa-bullseye` :guilabel:`Set` icon at the far right of the product line.

Doing so copies the value from the :guilabel:`On Hand Quantity` column over to the
:guilabel:`Counted Quantity` column, and sets the value of the :guilabel:`Difference` column to
`0.00`. Subsequently, once applied, an inventory move with `0.00` :guilabel:`Quantity Done` is
recorded in the product's inventory adjustment history.

.. image:: count_products/zero-move.png
   :alt: Zero count inventory adjustment move.

If the newly-counted value for a given product does **not** match the value in the :guilabel:`On
Hand Quantity` recorded in the database, instead of clicking the :icon:`fa-bullseye` :guilabel:`Set`
icon, record the real value in the field in the :guilabel:`Counted Quantity` column.

To do so, click the field in the :guilabel:`Counted Quantity` column on the specific inventory
adjustment line for the product whose count is being changed. This automatically assigns a
:guilabel:`Counted Quantity` of `0.00`.

To change this value, type in a new value that matches the real, newly-counted value. Then, click
away from the line. Doing so saves the adjustment, and automatically adjusts the value in the
:guilabel:`Difference` column.

If the :guilabel:`Counted Quantity` is greater than the :guilabel:`On Hand Quantity`, the value in
the :guilabel:`Difference` column is **green**. If the :guilabel:`Counted Quantity` is less than the
:guilabel:`On Hand Quantity`, the value in the :guilabel:`Difference` column is **red**. If the
quantities match, and have not been changed at all, no value appears in the :guilabel:`Difference`
column.

Subsequently, once applied, a move with the difference between the :guilabel:`On Hand Quantity` and
the :guilabel:`Counted Quantity` is recorded in the product's inventory adjustment history.

.. image:: count_products/history-inventory-adjustments.png
   :alt: Inventory Adjustments History dashboard detailing a list of prior product moves.

The :guilabel:`Actions` menu appears when one or more products' checkboxes are selected. The
:guilabel:`Actions` menu includes the option to :guilabel:`Set to quantity on hand`, which sets the
selected products' :guilabel:`Counted Quantity` to the :guilabel:`On Hand Quantity`, and
:guilabel:`Set to 0`, which sets the selected products' :guilabel:`Counted Quantity` to zero.

.. image:: count_products/inventory-adjustment-actions.png
   :alt: Inventory Adjustments Actions menu.

.. important::
   Sometimes a count occurs, but cannot be applied in the database right away. In the time between
   the actual count and applying the inventory adjustment, product moves can occur. In that case,
   the on-hand quantity in the database can change and no longer be consistent with the counted
   quantity. As an extra precaution, Odoo asks for confirmation before applying the inventory
   adjustment.

Revert an inventory adjustment
==============================

To revert the changes made in an inventory adjustment, navigate to :menuselection:`Inventory -->
Reporting --> Moves History`.

Tick the checkbox at the far left of the line for the desired product. At the top of the page, click
the :icon:`fa-gear` :guilabel:`Actions` button to open a drop-down menu, and click :guilabel:`Revert
Inventory Adjustment`.

.. note::
   After an inventory adjustment is reverted, the line is not removed from the :guilabel:`Moves
   History` report. Instead, an additional line is added, this time with the word `[reverted]` added
   to the :guilabel:`Reference` column.

   .. image:: count_products/reverted-adjustment.png
      :alt: The reference fields on the Moves History report in the Inventory app.

Change inventory count frequency
================================

By default, the *scheduled date* for |ia| are always scheduled for the 31st of December of the
current year. However, for some companies, it is crucial that they have an accurate inventory count
at all times. In such cases, the default scheduled date can be modified.

To modify the default scheduled date, go to :menuselection:`Inventory app --> Configuration -->
Settings`. Then, in the :guilabel:`Operations` section, locate the :guilabel:`Annual Inventory Day
and Month` setting, which includes a drop-down menu that is set to `31 December` by default.

.. image:: count_products/annual-inventory.png
   :alt: Adjust the next inventory count date with the Annual Inventory Day and Month setting.

To change the day, click the `31`, enter a number from `1-31`, depending on the desired month of the
year.

Then, to change the month, click :guilabel:`December` to reveal the drop-down menu, and select the
desired month.

Once all desired changes have been made, click :guilabel:`Save` to save all changes.

.. _inventory/plan-counts:

Plan big inventory counts
-------------------------

To plan big inventory counts, such as a full count of everything currently in stock, first navigate
to :menuselection:`Inventory app --> Operations --> Physical Inventory`.

Then, select the desired products to be counted by ticking the checkbox on the far left of each
product line.

.. tip::
   To request a count of **all** products currently in stock, tick the checkbox at the top of the
   table, in the header row next to the :guilabel:`Location` label. This selects **all** product
   lines.

.. image:: count_products/count-popup.png
   :alt: Request a count pop-up on inventory adjustments page.

Once all desired products have been selected, click the :guilabel:`Request a Count` button at the
top of the page. Doing so opens the :guilabel:`Request a Count` pop-up window, where the following
information can be filled:

- :guilabel:`Inventory Date`: the planned date of the count.
- :guilabel:`User`: the user responsible for the count.
- :guilabel:`Accounting Date`: the date at which the inventory adjustment will be accounted.
- :guilabel:`Count`: to leave the on-hand quantity of each product line blank, select
  :guilabel:`Leave Empty`. To pre-fill the on-hand quantity of each product line with the current
  value recorded in the database, select :guilabel:`Set Current Value`.

.. note::
   The :guilabel:`Leave Empty` option forces the employee conducting the audit to manually type in
   the number they counted, while the :guilabel:`Set Current Value` option only requires the
   employee to *verify* the counted quantity and click :guilabel:`Apply`.

Finally, once ready, click :guilabel:`Confirm` to request the count.

.. image:: count_products/count-popup.png
   :alt: Request a count popup on inventory adjustments page.

.. important::
   In the Odoo **Barcode** app, users can only view inventory counts that are assigned to *them*,
   and are scheduled for *today* or *earlier*.

   Sometimes a count occurs, but cannot be applied in the database right away. In the time between
   the actual count and applying the inventory adjustment, product moves can occur. In that case,
   the on-hand quantity in the database can change and no longer be consistent with the counted
   quantity. As an extra precaution, Odoo asks for confirmation before applying the inventory
   adjustment.

Adjustment history
==================

Details regarding inventory adjustment can be viewed by clicking the :icon:`fa-history`
:guilabel:`History` icon.

The user who performed the count is listed in parenthesis in the :guilabel:`Reference` field, while
the user who applied the count is listed in the :guilabel:`Done By`.

.. image:: count_products/adjustment-history.png
   :alt: The history record for an inventory adjustment.

Inventory audit
---------------

An inventory audit can be accessed from the :guilabel:`Inventory Adjustment` page. This audit
includes an inventory record both before and after a count is completed, to track what changed.

On the :guilabel:`Inventory Adjustment` page, tick the checkbox at the top-left of the page to
select all of the lines. Then click the :guilabel:`Request a Count` button. On the pop-up, set
:guilabel:`Count` to :guilabel:`Set Current Value`, then click :guilabel:`Confirm`.

After returning to the :guilabel:`Inventory Adjustment` page, select all of the lines again. Click
:menuselection:`Print --> Count Sheet`. The :guilabel:`Count Sheet` exports in PDF form.

.. seealso::
   :doc:`cycle_counts`


==================================================
SECTION: cycle_counts.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/cycle_counts.rst
==================================================

============
Cycle counts
============

For most companies, warehouse stock only needs to be counted once a year. This is why, by default,
after making an *inventory adjustment* in Odoo, the scheduled date for the next inventory count is
set for the 31st of December of the current year.

However, for some businesses, it's crucial to have an accurate inventory count at all times. These
companies use *cycle counts* to keep critical stock levels accurate. Cycle counting is a method by
which companies count their inventory more often in certain *locations*, to ensure that their
physical inventory counts match their inventory records.

Configuration
=============

In Odoo, cycle counts are performed by location. Therefore, the *Storage Locations* feature needs to
be enabled before performing a cycle count.

To enable this feature, navigate to :menuselection:`Inventory app --> Configuration --> Settings`,
and scroll down to the :guilabel:`Warehouse` section. Then, tick the checkbox next to
:guilabel:`Storage Locations`, and click :guilabel:`Save`.

.. image:: cycle_counts/cycle-counts-enabled-setting.png
   :align: center
   :alt: Enabled Storage Locations setting in inventory settings.

Change inventory count frequency by location
============================================

Once the *Storage Locations* feature is enabled, and there are multiple locations created in the
warehouse, the inventory count frequency can be changed for specific locations.

To view and edit locations, navigate to :menuselection:`Inventory app --> Configuration -->
Locations`. This reveals a :guilabel:`Locations` page containing every location currently created
and listed in the warehouse.

From this page, click into a location to reveal the settings and configuration page for that
location.

Under the :guilabel:`Cyclic Counting` section, locate the :guilabel:`Inventory Frequency (Days)`
field, which should be set to `0` by default (if this location has not been edited previously). In
this field, change the value to any number of days desired for the frequency of counts.

.. image:: cycle_counts/cycle-counts-frequency-value.png
   :align: center
   :alt: Location frequency setting on location.

.. example::
   A location that needs an inventory count every 30 days should have the :guilabel:`Inventory
   Frequency (Days)` value set to `30`.

Now, once an inventory adjustment is applied to this location, the next scheduled count date is
automatically set, based on the value entered into the :guilabel:`Inventory Frequency (Days)` field.

Count inventory by location
===========================

To perform a cycle count for a specific location in the warehouse, navigate to
:menuselection:`Inventory app --> Operations --> Physical Inventory`. This reveals an
:guilabel:`Inventory Adjustments` page containing all products currently in-stock, with each product
listed on its own line.

From this page, the :guilabel:`Filters` and :guilabel:`Group By` options (accessible by clicking the
:guilabel:`â¬‡ï¸ (down arrow)` icon, to the right of the :guilabel:`Search...` bar), can be used to
select specific locations and perform inventory counts.

To select a specific location, and view all products within that location, click the :guilabel:`â¬‡ï¸
(down arrow)` icon, to the right of the :guilabel:`Search...` bar. Then, in the :guilabel:`Group By`
column, click :guilabel:`Add Custom Group` to reveal a new drop-down menu.

.. image:: cycle_counts/cycle-counts-filter-menu.png
   :align: center
   :alt: Filters and Group By menu on Inventory Adjustments page.

Click :guilabel:`Location` from the drop-down menu. Doing so sorts products into their storage
locations on the :guilabel:`Inventory Adjustments` page, and a cycle count can be performed for all
products in that location.

.. tip::
   In large warehouses with multiple locations and a high volume of products, it might be easier to
   search for the specific location desired. To do this, from the :guilabel:`Inventory Adjustments`
   page, click the :guilabel:`â¬‡ï¸ (down arrow)` icon to the right of the :guilabel:`Search...` bar.

   Then, in the :guilabel:`Filters` column, click :guilabel:`Add Custom Filter` to open an
   :guilabel:`Add Custom Filter` pop-up window.

   In the first field, click the value and select :guilabel:`Location` from the list of options.
   Select :guilabel:`contains` in the second field. In the third field, type in the name of the
   location being searched for.

   Click :guilabel:`Add` for that location to appear on the page.

   .. image:: cycle_counts/cycle-counts-add-custom-filter.png
      :align: center
      :alt: Add Custom Filter pop-up window with location values entered.

Change full inventory count frequency
=====================================

While cycle counts are typically performed per location, the scheduled date for full inventory
counts of all in-stock products in the warehouse can also be manually changed, to push the date up
sooner than the date listed.

To modify the default scheduled date, go to :menuselection:`Inventory app --> Configuration -->
Settings`. Then, in the :guilabel:`Operations` section, locate the :guilabel:`Annual Inventory Day
and Month` setting field, which includes a drop-down field that is set to `31` :guilabel:`December`,
by default.

.. image:: cycle_counts/cycle-counts-frequency-calendar.png
   :align: center
   :alt: Frequency field in inventory app settings.

To change the day, click the `31`, and change it to a day within the range `1-31`, depending on the
desired month of the year.

Then, to change the month, click :guilabel:`December` to reveal the drop-down menu, and select the
desired month.

Once all necessary changes have been made, click :guilabel:`Save`.

.. seealso::
   - :doc:`count_products`
   - :doc:`use_locations`


==================================================
SECTION: daily_operations.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations.rst
==================================================

:show-content:
:hide-page-toc:

==========================
Inbound and outbound flows
==========================

Configuring inbound and outbound flows in Odoo is key to optimizing efficiency, traceability, and
cost. Warehouse managers must balance speed and control, choosing between a streamlined process or
added checkpoints.

Odoo offers one-step, two-step, and three-step flows, with more steps providing greater control but
increasing operations. The best setup depends on quality checks, packaging, and warehouse size.

This guide helps businesses determine the most suitable configuration.

One-step flow
=============

The *one-step inventory flow* is the simplest option, with minimal handling steps and the least
traceability. In this setup, products move directly from vendors to stock or from stock to
customers, with Odoo only tracking when items enter or leave the warehouse. This makes it ideal for
businesses with high-volume, low-risk products or fast-moving operations where additional validation
steps arenâ€™t necessary.

- **Receiving**: Products go directly into stock.
- **Shipping**: Products ship directly from stock.
- **Best for**: Small warehouses, low stock levels, and non-perishable items, where minimal
  processing is needed before products are stored or shipped.

.. seealso::
   :doc:`daily_operations/receipts_delivery_one_step`

Two-step flow
=============

A *two-step flow* adds an input or output area for processing products before storage or shipment.
Incoming goods can be unboxed and inspected before shelving, while outgoing shipments are sorted and
consolidated before dispatch. This setup improves efficiency by assigning storage teams to picking
and stocking, while dedicated teams handle unboxing, (possibly) packing, and final verification to
reduce order fulfillment errors.

- **Receiving**: Products move to an *input* area before being transferred into stock.

  - Until transferred, received products are not automatically reserved for manufacturing, shipping,
    or other operations.

- **Shipping**: Products move to an *output* before shipping to allow for :doc:`sorting or
  consolidation <picking_methods>`.
- **Best for**: Large warehouses, high stock levels, bulky items, and workflows that separate
  receiving from storage to improve organization and efficiency.

.. seealso::
   :doc:`daily_operations/receipts_delivery_two_steps`

Three-step flow
===============

A three-step flow builds on the two-step process by adding a quality check and packing area,
enforcing stricter processes and improving oversight.

.. important::
   While this setup enhances process control, separating picking and packing requires validation at
   each step. If the same person handles both, it may cause redundancy and slow operations.

   Quality checks and packing do not require a three-step flow. Enable :doc:`quality control points
   <../../quality/quality_management/quality_control_points>` separately or activate the
   :ref:`Packages feature <inventory/warehouses_storage/enable-package>` in Odoo to incorporate
   these processes without adding extra transfer steps.

- **Receiving**: Products follow a structured process: *input area* â†’ *quality control* â†’ *stock*.
- **Shipping**: Products are *picked*, *packed*, and then *shipped*, ensuring proper handling and
  organization.
- **Best for**: Very large warehouses with strict quality control requirements, dedicated picking
  and packing workflows, and a need for clear traceability across multiple handling stages. Suitable
  when multiple teams manage different steps before products are stocked or shipped.

.. seealso::
   - :doc:`daily_operations/receipts_three_steps`
   - :doc:`daily_operations/delivery_three_steps`

Add-ons
=======

To optimize each flow, Odoo provides additional features that can enhance the process.

Storage
-------

To organize and store products efficiently, use:

.. cards::

   .. card:: Putaway rules
      :target: daily_operations/putaway

      Guide products to specific storage locations based on predefined rules

   .. card:: Storage categories
      :target: daily_operations/storage_category

      Set item or weight limits to prevent overstocking at the location and ensure proper
      organization

   .. card:: Consignment
      :target: daily_operations/owned_stock

      Keep track of products owned by third parties

Delivery
--------

Tailor the outgoing shipment process to fit the business needs. Picking methods and removal
strategies control how products are reserved for orders, while dropshipping determines how they
move. Configuring these options in Odoo ensures visibility into product movement and confirms that
items reach customers efficiently.

.. cards::

   .. card:: Dropshipping
      :target: daily_operations/dropshipping

      Coordinate with vendors to deliver orders directly to customers, bypassing internal stock

   .. card:: Picking methods
      :target: picking_methods

      Optimize picking operations using piece, batch, cluster, or wave picking techniques

   .. card:: Removal strategies
      :target: removal_strategies

      Use FIFO, LIFO, or FEFO strategies to automate the selection of products for delivery

Customization
-------------

Odoo's flexible framework enables businesses to tailor workflows to match specific operational
needs.

.. cards::

   .. card:: Custom routes
      :target: daily_operations/use_routes

      Define tailored receiving or delivery workflows to meet specific business needs

.. toctree::
   :titlesonly:

   daily_operations/use_routes
   daily_operations/receipts_delivery_one_step
   daily_operations/receipts_delivery_two_steps
   daily_operations/receipts_three_steps
   daily_operations/delivery_three_steps
   daily_operations/putaway
   daily_operations/storage_category
   daily_operations/stock_warehouses
   daily_operations/owned_stock
   daily_operations/dropshipping


==================================================
SECTION: dashboards.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting/dashboards.rst
==================================================

====================
Inventory dashboards
====================

The following dashboards, available via the :doc:`Odoo Dashboards
<../../../../productivity/dashboards>` app, allow you to monitor and analyze core metrics related to
warehouse operations and management, as well as stock management:

- :ref:`Warehouse Daily Operations dashboard
  <inventory/dashboards/warehouse-daily-operations-dashboard>`: monitors task completion and
  scheduled activities
- :ref:`Operation analysis dashboard
  <inventory/dashboards/operation-analysis-dashboard>`: measures efficiency KPIs
- :ref:`Warehouse Metrics dashboard <inventory/dashboards/warehouse-metrics-dashboard>`: assesses
  stock value and quantity

To access these dashboards, go to the **Dashboards** app, then, in the left panel, navigate to the
:guilabel:`Logistics` section and click the name of the relevant dashboard. The dashboard opens in
the main view.

.. note::
   The :ref:`rights to access <dashboards/access-and-sharing>` Odoo dashboards are based on user
   groups, and are managed within the **Dashboards** app. By default, the :guilabel:`Operation
   analysis` and :guilabel:`Warehouse Metrics` dashboards are only visible to, and can only be
   accessed by, users with admin access to the **Inventory** app.

.. seealso::
   - :ref:`Using Odoo dashboards <dashboards/use-dashboards>`
   - :ref:`Customizing Odoo dashboards <build_and_customize_dashboards/customize>`

.. _inventory/dashboards/warehouse-daily-operations-dashboard:

Warehouse Daily Operations dashboard
====================================

The :guilabel:`Warehouse Daily Operations dashboard` provides a real-time view of critical
outstanding tasks across receipts, deliveries, and internal transfers, allowing warehouse managers
to prioritize work and prevent bottlenecks. It immediately identifies overdue operations, as well as
transfers that have not yet been assigned to an employee. It also forecasts scheduled activity for
the next 7 days.

.. image:: dashboards/warehouse-daily-operations.png
   :alt: Warehouse Daily Operations dashboard

Navigate the dashboard
----------------------

Three cards at the top of the dashboard show the following information:

- :guilabel:`Late deliveries`: indicates the number of open deliveries with a past scheduled date
  and/or past deadline date.

  .. note::
     If delivery is configured using a multi-step route with push logic, the delivery is not
     generated until the previous operation is confirmed.

- :guilabel:`Late receptions`: indicates the number of open receipts with a past scheduled date
  and/or past deadline date.
- :guilabel:`Late internal transfers`: indicates the number of open internal transfers with a past
  scheduled date and/or past deadline date.

The following charts and tables are available:

- :guilabel:`Transfers to be assigned`: shows open transfers that have no responsible user assigned.

  .. tip::
     For a more precise analysis, filter the dashboard by operation type via the search bar.

- :guilabel:`Open transfers to date`: shows open transfers by operation, by date.

  .. tip::
     By default, the :guilabel:`Transfers to be assigned` and :guilabel:`Open transfers to date`
     charts are shown by day. To see data by :guilabel:`Weeks`, :guilabel:`Months`, or
     :guilabel:`Weeks`, hover over the chart and click the dropdown in the top-right corner.

- :guilabel:`Open receptions to date`: shows the number of open receipts per responsible user.
- :guilabel:`Open late receipts`: shows the ten oldest open receipts with a past scheduled date
  and/or deadline date, in descending order.
- :guilabel:`Open internal transfers to date`: shows the number of open internal transfers per
  responsible user.
- :guilabel:`Open late internal transfers`: shows the ten oldest open internal transfers with a past
  scheduled date and/or deadline date, in descending order.
- :guilabel:`Open deliveries to date`: shows the number of open deliveries per responsible user.
- :guilabel:`Open late deliveries`: shows the ten oldest open deliveries with a past scheduled date
  and/or deadline date, in descending order.
- :guilabel:`Receptions next 7 days`: shows the number of open receipts for the next seven days.
- :guilabel:`Deliveries next 7 days`: shows the number of open deliveries for the next seven days.

.. _inventory/dashboards/operation-analysis-dashboard:

Operation analysis dashboard
============================

The :guilabel:`Operation analysis` dashboard focuses on KPIs related to the efficiency and accuracy
of stock movements. It helps identify areas for process improvement by showing metrics like the
average time transfers are overdue, the average time between creation and validation of transfers,
and the percentage of on-time transfers. It also provides insights into delivery accuracy by
showing the percentage of products actually delivered versus ordered.

.. image:: dashboards/operation-analysis.png
   :alt: Operation analysis dashboard

.. tip::
   - By default, this dashboard shows data for :guilabel:`All time`. To show data for a specific
     period, click :icon:`fa-calendar` :guilabel:`All time` above the dashboard and select or define
     the appropriate period.
   - For a more precise analysis, filter the dashboard by operation type via the search bar.

Navigate the dashboard
----------------------

Four cards at the top of the dashboard show the following information:

- :guilabel:`Avg Delay`: indicates the average number of days, in decimal format, that completed
  deliveries were overdue (i.e., the date the delivery status changed to :guilabel:`Done` minus the
  scheduled date for the delivery) in the selected period.

  .. note::
     Deliveries that are completed earlier than their scheduled date contribute a negative delay
     value to the calculation of the KPI.

- :guilabel:`Avg Lead Time`: indicates the average number of days, in decimal format, between the
  creation and the validation of transfers.

- :guilabel:`Fill rate`: indicates the percentage of products delivered in relation to the total
  number of products ordered.

  .. note::
     When no backorder is created, this KPI decreases.

- :guilabel:`On Time Operations`: indicates the percentage of transfers made on time for the
  selected operation (i.e., the transfer date is less than or equal to scheduled date for the
  transfer).

The following charts are available:

- :guilabel:`Fill Rate by Demand`: shows the percentage of products delivered in relation to the
  total number of products ordered.

  .. tip::
     When no backorder is created, this KPI decreases.

- :guilabel:`On Time rate by Demand`: shows the percentage of transfers made on time by product.

- :guilabel:`Internal lead time`: shows the average time between the creation and the validation of
  transfers by operation.

- :guilabel:`Moves lines count by operation`: shows the total number of completed stock move lines
  by operation type over the selected period.

- :guilabel:`Weekly Stock Moves Lines by operation`: shows the total number of completed stock move
  lines weekly, by operation type.

- :guilabel:`Transfer count by responsible and operation`: shows the number of transfers by
  employee, detailing the type of operation.

- :guilabel:`Quantity of stock adjustments by category`: shows adjusted stock quantity, by product
  category.

- :guilabel:`Qty scrapped product by category`: shows the quantity of product scrapped, by product
  category.

.. _inventory/dashboards/warehouse-metrics-dashboard:

Warehouse Metrics dashboard
===========================

The :guilabel:`Warehouse Metrics` dashboard provides a high-level view of the value and availability
of stock. It enables monitoring of stock reservation levels both in quantity and value,
identification of products with negative stock, and analysis of stock distribution and value across
the most used locations and top products. It also tracks important details like the creation date of
stock, so warehouse or purchasing managers can identify slow-moving or stagnant products and take
action, such as promoting, discounting, or returning products.

.. image:: dashboards/warehouse-metrics.png
   :alt: Warehouse Metrics dashboard

.. note::
   The value of stock depends on the valuation method used.

.. tip::
   For a more precise analysis, filter the dashboard by product via the search bar.

Navigate the dashboard
----------------------

Three cards at the top of the dashboard show the following information:

- :guilabel:`Share reserved stock Qty`: indicates the quantity of stock reserved in relation to the
  total quantity of stock on hand, both as a percentage and number.
- :guilabel:`Share reserved stock value`: indicates the value of reserved stock in relation to the
  total value of stock on hand, both as a percentage and number.
- :guilabel:`Lines with negative stock`: indicates the number of inventory lines with a negative
  stock quantity.

The following charts are available:

- :guilabel:`Available & Reserved Stock Quantity`: shows the quantity of available stock (i.e.,
  stock on hand minus reserved stock) and the quantity of reserved stock, per most-used location. At
  the top right of the chart, click :guilabel:`Top Products` to see this information for the top
  products, i.e., the products with the highest quantities.
- :guilabel:`Available & Reserved Stock Value`: shows the value of available stock (i.e., stock on
  hand minus reserved stock) and the value of reserved stock, per most-used location. At the top
  right of the chart, click :guilabel:`Top Products` to see this information for the top products,
  i.e., the products with the most total value.
- :guilabel:`Ageing stock qty by product and creation date`: shows, by product, the quantity of
  stock that has been held since its creation. To change the creation date period, hover over the
  chart then select the desired period from the dropdown.

  .. note::
     For products not tracked by lot/serial number, this chart only displays the date of first
     receipt except if the stock went down to 0.

- :guilabel:`Ageing stock value by product and creation date`: shows, by product, the value of
  stock that has been held since its creation. To change the creation date period, hover over the
  chart then select the desired period from the dropdown.

- :guilabel:`Top 10 products with negative stock`: shows the ten products with the most negative
  stock. Depending on the situation, manual stock corrections may be needed for products shown here.
  By default, this is shown as a donut chart; click :guilabel:`Top 10` at the top right of
  the chart to see this in list form.


==================================================
SECTION: delivery_three_steps.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/delivery_three_steps.rst
==================================================

===================
Three-step delivery
===================

Some companies process large amounts of deliveries every day, many of which include multiple
products or require special packaging. To make this efficient, a packing step is needed before
shipping out products. For this, Odoo has a three step process for delivering goods.

In the default three-step delivery process, products that are part of a delivery order are picked in
the warehouse according to their removal strategy, and brought to a packing zone. After the items
have been packed into the different shipments in the packing zone, they are brought to an output
location before being shipped. These steps can be modified if they do not fit the needs of the
business.

Configuration
=============

To change delivery settings from :doc:`one step <receipts_delivery_one_step>` to three steps, make
sure the *Multi-Step Routes* option is enabled in :menuselection:`Inventory app --> Configuration
--> Settings --> Warehouse`. Note that activating :guilabel:`Multi-Step Routes` will also activate
*Storage Locations*.

.. image:: delivery_three_steps/delivery-three-steps-multi-step-routes.png
   :align: center
   :alt: Activate multi-step routes and storage locations in inventory settings.

Next, the warehouse needs to be configured for three step deliveries. To do this, go to
:menuselection:`Inventory app --> Configuration --> Warehouses`, and click on the
:guilabel:`warehouse` to edit. Then, select :guilabel:`Pack goods, send goods in output and then
deliver (3 steps)` for :guilabel:`Outgoing Shipments`.

.. image:: delivery_three_steps/delivery-three-steps-outgoing-shipments.png
   :align: center
   :alt: Set outgoing shipment option to deliver in three steps.

Activating three-step receipts and deliveries creates two new internal locations: a *Packing Zone*
(WH/Packing Zone), and *Output* (WH/Output). To rename these locations, go to
:menuselection:`Inventory app --> Configuration --> Locations`, click on the :guilabel:`Location` to
change, and update the name.

Deliver in three steps (pick + pack + ship)
===========================================

Create a sales order
--------------------

To create a new quote, go to :menuselection:`Sales app --> Create`, which reveals a blank quotation
form. On the blank quotation form, select a :guilabel:`Customer`, add a storable
:guilabel:`Product`, and click :guilabel:`Confirm`.

A :guilabel:`Delivery` smart button appears in the top right of the quotation form. Clicking it
opens the picking order to move the ordered product from `WH/Stock` to `WH/Packing Zone`.

.. image:: delivery_three_steps/delivery-three-steps-smart-button.png
   :align: center
   :alt: After confirming the sales order, the Delivery smart button appears showing three items
         associated with it.

Process a picking
-----------------

The picking order will be created once the sales order is confirmed. To view the picking, navigate
to the :menuselection:`Inventory app`, and locate the :guilabel:`Pick` task card on the
:guilabel:`Inventory Overview` dashboard.

Click the :guilabel:`# To Process` button, which reveals the picking order generated from the
previously confirmed sales order.

Click on the picking to process. If the product is in stock, Odoo will automatically reserve the
product. Click :guilabel:`Validate` to mark the picking as done, and complete the transfer to the
:guilabel:`Packing Zone`.

.. image:: delivery_three_steps/delivery-three-steps-picking-order.png
   :align: center
   :alt: Picking order operation showing source location and destination location.

Process a packing
-----------------

After validating the picking, the packing order is ready to process. Click back to the
:guilabel:`Inventory Overview`, and locate the :guilabel:`Pack` task card on the dashboard.

Click the :guilabel:`# To Process` button (in this case, :guilabel:`1 To Process`). This reveals the
packing order generated from the previously confirmed sales order.

Click on the packing order associated with the sales order, then click on :guilabel:`Validate` to
complete the packing.

.. image:: delivery_three_steps/delivery-three-steps-packing-order.png
   :align: center
   :alt: Packing order operation showing source location and destination location.

Once the packing order is validated, the product leaves the :guilabel:`WH/Packing Zone` location and
moves to the :guilabel:`WH/Output` location. Then, the status of the document will change to
:guilabel:`Done`.

Process a delivery
------------------

Once the packing order has been validated, the delivery order is ready to process. Navigate back to
the original sales order to process the delivery by going to :menuselection:`Sales app`, and
selecting the sales order created previously.

.. tip::
   Delivery orders can *also* be accessed by going to :menuselection:`Inventory app --> Operations
   --> Deliveries`.

The :guilabel:`Delivery` smart button now indicates there are 3 transfers, instead of one. Clicking
the :guilabel:`Delivery` smart button shows the three operations for this sales order: the picking,
the packing, and the delivery.

Click the delivery (WH/OUT) transfer to open the delivery order. Then, click :guilabel:`Validate`.

.. image:: delivery_three_steps/delivery-three-steps-delivery-order.png
   :align: center
   :alt: Click Validate on the delivery order to transfer the product from the output location to
         the customer location.

Once the delivery order is validated, the product leaves the :guilabel:`WH/Output` location and
moves to the :guilabel:`Partners/Customers` location. Then, the status of the document will change
to :guilabel:`Done`.


==================================================
SECTION: dhl_credentials.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/dhl_credentials.rst
==================================================

===============
DHL integration
===============

DHL is one of the shipping carriers for which a *shipping connector* is available in Odoo's
**Inventory** app. By enabling the shipping connector in the app's settings, and configuring at
least one *shipping method*, the process of :doc:`calculating shipping rates
<../setup_configuration>` and :doc:`generating shipping labels <labels>` is greatly simplified.

.. note::
   While a variety of shipping connectors are available for different carriers, this documentation
   details the configuration settings specific to integrating DHL. For instructions on configuring
   the integration settings common to all shippers, see the documentation on :doc:`third-party
   shippers <third_party_shipper>`.

Enable DHL shipping connector
=============================

Before creating a DHL shipping method, enable the carrier's shipping connector. To do so, navigate
to :menuselection:`Inventory app --> Configuration --> Settings`.

Scroll down to the :guilabel:`Shipping Connectors` section, and tick the checkbox next to
:guilabel:`DHL Express Connector`. Finally, click :guilabel:`Save` to apply the changes.

Then, click the :icon:`fa-arrow-right` :guilabel:`DHL Shipping Methods` link to open a page showing
all shipping methods with the *Provider* set to DHL.

Configure DHL shipping method
=============================

After enabling the shipping connector for DHL, shipping methods can be configured for the carrier.
Once configured, a shipping method can be added as a line item to sales orders (SOs), which allows
for automatic computation of shipping rates, and generation of shipping labels.

To create a new DHL shipping method, navigate to :menuselection:`Inventory app --> Configuration -->
Settings`. In the :guilabel:`Shipping Connectors` section, select the :guilabel:`DHL Shipping
Methods` link below the :guilabel:`DHL Express Connector` checkbox.

.. note::
   It is also possible to see existing shipping methods for every carrier, by navigating to
   :menuselection:`Inventory app --> Configuration --> Shipping Methods`.

Click :guilabel:`New` to open a blank shipping method form. If a shipping method has already been
created, it can be selected from this screen.

.. image:: dhl_credentials/dhl-form.png
   :alt: The form for a DHL shipping method.

General information
-------------------

Begin configuring the shipping method by entering its title in the :guilabel:`Shipping Method`
field.

In the :guilabel:`Provider` drop-down menu, select the :guilabel:`DHL` option. After doing so, a new
:guilabel:`DHL Configuration` tab appears at the bottom of the form.

All other fields in this section are identical on the shipping method forms for each shipping
carrier. See the documentation on :doc:`third-party shippers <third_party_shipper>` for instructions
on how to properly configure them.

DHL Configuration
-----------------

The :guilabel:`DHL Configuration` tab on the shipping method form is used to connect the user's DHL
account to Odoo, and configure the shipping method's details.

DHL developer credentials
~~~~~~~~~~~~~~~~~~~~~~~~~

To integrate DHL with Odoo, developer credentials must be retrieved from DHL's Developer Portal.
These credentials are used to link the user's DHL account to Odoo's **Inventory** app.

.. important::
   The *SiteID* and *Password* are different credentials than the ones used to log in to a DHL
   account.

With DHL Express Account
************************

If a DHL Express account is available, log into the `DHL Developer portal
<https://developer.dhl.com/api-reference/dhl-express-mydhl-api#get-started-section/
user-guide%get-access>`_ and `request a DHL API account number <https://developer.dhl.
com/form/dhl-express-onboarding>`_.

Then, in Odoo, on the shipping method form, enter the *DHL API Key* in the :guilabel:`DHL SiteID`
field, and the *API Secret* in the :guilabel:`DHL Password` field.

Without DHL Express Account
***************************

If a DHL Express account is **not** available:

#. Begin by opening a `DHL Express account
   <https://mydhl.express.dhl/gb/en/ship/open-account.html#/fs-step=connectors&fs-step=connectors>`_.
#. Once the developer portal account has been confirmed, log in to the portal using the username and
   password. Click the user avatar in the top-right corner of the screen to open the user dashboard.
#. On the dashboard, open the :guilabel:`Apps` tab, and create an app. Follow the four steps in the
   app creation flow (app name, needed apps, app status, confirmation) to complete the setup.

   .. image:: dhl_credentials/create-dhl-app.png
      :alt: Setup to create DHL account.

#. After setting up the DHL Express account, go `here
   <https://developer.dhl.com/user/login?destination=/form/dhl-express-onboarding>`_ to get the *DHL
   API Key* and *API Secret* credentials.

Then, in Odoo, on the shipping method form, enter the *DHL API Key* in the :guilabel:`DHL SiteID`
field, and the *API Secret* in the :guilabel:`DHL Password` field.

Shipping details
~~~~~~~~~~~~~~~~

The rest of the fields in the :guilabel:`DHL Configuration` tab are used to configure the shipping
method itself:

- :guilabel:`Region`: the region in which the shipping method is used.
- :guilabel:`DHL Product`: the shipping service purchased from DHL (e.g. Express Worldwide).
- :guilabel:`DHL Package Type`: the type of DHL package used for delivery (e.g. DHL Box).
- :guilabel:`Package Weight Unit`: the unit of measure used to display package weight.
- :guilabel:`Package Dimension Unit`: the unit of measure used to display package size.
- :guilabel:`Label Format`: the file format used to generate shipping labels.
- :guilabel:`Label Template`: the paper size used to print shipping labels.

.. important::
   Before selecting service options for a shipping method, make sure those services are actually
   available for the DHL account. Available services depend on the contract negotiated with DHL.

Options
~~~~~~~

Additional settings are available in the :guilabel:`Options` section at the bottom of the
:guilabel:`DHL Configuration` tab:

- :guilabel:`Generate Return Label`: Enable this option to automatically generate a return label
  after validating a delivery order.
- :guilabel:`Dutiable Material`: Enable this option if the shipping method is liable to customs or
  other duties.

Turn on the DHL Connection
==========================

Once the DHL connection is set up, use the smart buttons at the top of the form to publish, turn on
production mode or activate debug logging.

- :guilabel:`Unpublished`/:guilabel:`Published`: determines if this shipping method is available
  on the user's **eCommerce** website.

- :guilabel:`Test Environment`/:guilabel:`Production Environment`: determines whether label creation
  is for testing and cancelled immediately (Test) or generate real shipping label that is charged
  to DHL account (Production).
- :guilabel:`No Debug`/:guilabel:`Debug Requests`: determines whether API requests and responses are
  logged in Odoo (turn on :ref:`developer mode <developer-mode>` and go to :menuselection:`Settings
  app --> Technical --> Logging`).


==================================================
SECTION: dispatch.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/dispatch.rst
==================================================

==========================
Dispatch management system
==========================

The *dispatch management system* feature in Odoo is used to plan and build shipments. Key features
include:

- **Load building**: Group products for specific carriers, assign those :doc:`batches
  <../picking_methods/batch>` to loading docks, and manage vehicle assignments based on fleet
  capacity. This ensures the right products are packed into the appropriate trucks for delivery.
- :doc:`Fleet management <../../../../hr/fleet>`: Track and manage the capacity of in-house
  delivery vehicles.

Configuration
=============

To use the dispatch management system, the following setup must be completed:

#. :ref:`Install <general/install>` the **Fleet** application.
#. Configure vehicle :ref:`capacity (volume and weight)
   <inventory/shipping_receiving/vehicle-capacity>`.
#. Enter vehicle :doc:`car model(s) <../../../../hr/fleet/models>`.
#. Enable :ref:`necessary features <inventory/shipping_receiving/inventory-features>` in the
   **Inventory** app.
#. Set up :ref:`vehicles as delivery methods
   <inventory/shipping_receiving/delivery-method-for-carrier>`.
#. Create :ref:`dock locations <inventory/shipping_receiving/docks>`.

.. _inventory/shipping_receiving/vehicle-capacity:

Vehicle capacity
----------------

To configure the vehicle capacity, go to :menuselection:`Fleet app --> Configuration -->
Categories`.

Next, click :guilabel:`New` to add a new category, or click into an existing category to modify it.
In the :guilabel:`Name` field, enter the type of vehicle (e.g., `Pick-up truck`, `Van`, or `Cargo
truck`). Then, enter the vehicle capacity in the :guilabel:`Max Weight` (in kilograms) and
:guilabel:`Max Volume` (in cubic meters) fields.


.. image:: dispatch/categories.png
   :alt: Vehicle categories with defined weight and volume.

.. note::
   The units of measurement for vehicle capacity are assigned at the global level in the
   **Settings** app, in the :guilabel:`Units of Measure` section.

   .. image:: dispatch/settings.png
      :alt: Show units of measure settings.

.. seealso::
   :ref:`Vehicle category <fleet/categories>`


Car model
---------

Configuring a vehicle's car model is required when adding vehicles in Odoo. Ensure the correct
*Category* is selected for a car model. Doing so automatically applies weight and volume capacities
to all vehicles of that type.

To configure, navigate to :menuselection:`Fleet app --> Configuration --> Models`.

From the :guilabel:`Models` list, select an existing model, or click :guilabel:`New` in the top-left
corner to create a new model. Then, set the relevant :guilabel:`Category` field to the relevant
vehicle category.

.. seealso::
   :doc:`Create car model <../../../../hr/fleet/models>`


.. _inventory/shipping_receiving/inventory-features:

Inventory settings
------------------

Next, go to :menuselection:`Inventory app --> Configuration --> Settings`, and enable the required
features for dispatch management.

In the :guilabel:`Operations` section, tick the :guilabel:`Batch, Wave & Cluster Transfers`
checkbox to prepare batches of orders for delivery.

In the :guilabel:`Shipping` section, tick the :guilabel:`Delivery Methods` and :guilabel:`Dispatch
Management System` checkboxes. Doing so allows specific vehicles to be :ref:`set as carriers
<inventory/shipping_receiving/delivery-method-for-carrier>`.

In the :guilabel:`Warehouse` section, tick the :guilabel:`Storage Locations` checkbox to assign
specific locations in the warehouse as loading zones for delivery trucks.

Then, once all the configurations are complete, be sure to click :guilabel:`Save`.

.. _inventory/shipping_receiving/delivery-method-for-carrier:

Delivery method
---------------

Next, assign each delivery vehicle as a *Carrier* by configuring a delivery method.

To configure delivery methods, go to :menuselection:`Inventory app --> Configuration --> Delivery
Methods`. Select an existing delivery method, or click :guilabel:`New`.

.. seealso::
   :doc:`Configure delivery method <../setup_configuration>`

On the :guilabel:`Delivery Method` form, enter a name for the delivery method. It is recommended to
use identifying information, such as the vehicle description and license plate number (e.g. `Truck
123-ABCD`).

Since the delivery methods are managed internally, set the :guilabel:`Provider` to either
:guilabel:`Fixed Price` or :guilabel:`Based on Rules`. For more information about how shipping
prices are calculated, refer to the :doc:`Delivery method <../setup_configuration>` article.

Next, set a :guilabel:`Delivery Product`, which is the product that shows up as the customer's
:ref:`delivery charge <inventory/shipping/sales-order>` on the sales order or invoice.

Optionally, in the :guilabel:`Availability` tab, set the :guilabel:`Countries`, :guilabel:`States`,
or :guilabel:`Zip Prefixes` to limit the range of local delivery.

.. figure:: dispatch/delivery-method.png
   :alt: Delivery method form.

   Example delivery method, with the :guilabel:`Zip Prefixes` set to San Francisco's zip code.

.. _inventory/shipping_receiving/docks:

Dock locations
--------------

Each loading dock must have a dedicated location. To create or configure dock locations, go to
:menuselection:`Inventory app --> Configuration --> Locations`.

Click the desired location, which opens the :guilabel:`Location` form. In the :guilabel:`Additional
Information` section, tick the :guilabel:`Is a Dock Location` checkbox.

.. figure:: dispatch/dock-location.png
   :alt: Location configuration.

   Location configuration page with :guilabel:`Is a Dock Location` checkbox ticked.

Build loads
===========

Once setup is complete, :ref:`assign orders to a carrier
<inventory/shipping_receiving/assign-carrier>` and :ref:`group them into batches
<inventory/shipping_receiving/create-batch>`. Then, :ref:`configure the batch form
<inventory/shipping_receiving/batch-form>`, as needed.

To group products, go to the :menuselection:`Inventory app --> Operations --> Deliveries`, which
reveals a list of outgoing deliveries.

.. seealso::
   Since this article is about a specific use case, explore details about each picking method in
   their dedicated articles.

   - :doc:`../picking_methods/batch`
   - :doc:`Wave picking <../picking_methods/wave>`
   - :doc:`../picking_methods/cluster`


.. _inventory/shipping_receiving/assign-carrier:

Carrier assignment
------------------

Reveal the *Carrier* column, if it is not visible by default, by clicking the
:icon:`oi-settings-adjust` :guilabel:`(settings)` icon in the top-right corner, and ticking the
:guilabel:`Carrier` checkbox.

.. tip::
   Other useful columns to enable can be :guilabel:`Zip` code, :guilabel:`Shipping Weight`, and
   :guilabel:`Shipping Volume`.

Select the delivery orders for the batch by ticking the checkboxes on the left. Next, click into the
line's :guilabel:`Carrier` fields. In the resulting drop-down menu, choose the desired vehicle's
:ref:`delivery method <inventory/shipping_receiving/delivery-method-for-carrier>`. A
:guilabel:`Confirmation` pop-up window appears, indicating the number of orders being added to the
batch. Click :guilabel:`Confirm`, and the carrier is updated for all the selected records.

.. figure:: dispatch/set-carrier.png
   :alt: Set carrier.

   The delivery method `Truck 1-MER-001` is set as the :guilabel:`Carrier` for two delivery orders.

.. _inventory/shipping_receiving/create-batch:

Create batch
------------

With the carrier set, begin adding orders to a batch or wave transfer by ticking the checkbox.

.. note::
  If a delivery order is already assigned to a batch transfer, assigning a batch transfer here does
  **not** update it.

Then, click the :icon:`fa-cog` :guilabel:`Actions` button, and click either :guilabel:`Add to batch`
or :guilabel:`Add to wave`. In the pop-up window, ensure :guilabel:`Add to` is set to :guilabel:`a
new [batch/wave] transfer`, then click :guilabel:`Confirm`.

.. figure:: dispatch/add-to-wave.png
   :alt: Example wave.

   Delivery orders are selected to be grouped into a wave transfer.

Alternative batch creation method
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Another place to create batches is by going to the :menuselection:`Inventory` app, and in the
:guilabel:`Delivery Orders` card, click the :icon:`fa-ellipsis-v` :guilabel:`(three dots)` icon. In
the resulting drop-down menu, click :guilabel:`Prepare batch`.

.. note::
   The :guilabel:`Transport Management` drop-down menu contains other tools for fleet management:

   - :guilabel:`Manage Batches`: open list of batches
   - :guilabel:`Dock Dispatching`: open weekly calendar view of scheduled batch operations
   - :guilabel:`Batches by Route`: Kanban view of batches grouped by fulfillment route
   - :guilabel:`Calendar`: open hourly calendar view of scheduled operations
   - :guilabel:`Statistics`: open pivot table of the batch transfers

.. image:: dispatch/prepare-batch.png
   :alt: Show prepare batch option from the Transport Management drop-down menu.

.. _inventory/shipping_receiving/batch-form:

Batch form
----------

On the batch transfer form, fill the following fields out accordingly:

- :guilabel:`Responsible`: employee assigned to the picking. Leave blank if *any* worker can fulfill
  this picking.
- :guilabel:`Operation Type`: from the drop-down menu, select the operation type under which the
  picking is categorized.
- :guilabel:`Scheduled Date`: specifies the date by which the :guilabel:`Responsible` person should
  complete the transfer to the output location.
- :guilabel:`Dock Location`: select the loading location.
- :guilabel:`Vehicle`: select the vehicle, which will auto-fill :guilabel:`Vehicle Category`.
- :guilabel:`Vehicle Category`: show if the order exceeds the :ref:`vehicle's capacity limits
  <inventory/shipping_receiving/vehicle-capacity>`

.. example::
   The :guilabel:`Volume` bar is grayed out because the capacity has been reached.

   .. image:: dispatch/batch-form.png
      :alt: Show batch form.

Prepare delivery route
~~~~~~~~~~~~~~~~~~~~~~

To help the driver prepare, click the :guilabel:`Map` button at the top of the batch or wave form to
view delivery destinations on a map. Selecting an individual delivery order pinpoints its location.

.. note::
   The :guilabel:`Map` button is only visible for transfers with the :guilabel:`In progress` status.

.. image:: dispatch/map.png
   :alt: Show map in Odoo, with information of the delivery orders.

Additionally, use the :guilabel:`View in Google Maps` button to generate a route from the warehouse
to the delivery points.

.. image:: dispatch/google-map.png
   :alt: Show Google Map route.



==================================================
SECTION: dropshipping.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/dropshipping.rst
==================================================

============
Dropshipping
============

.. |RfQ| replace:: :abbr:`RfQ (request for quotation)`

Dropshipping is an order fulfillment strategy that allows sellers to have items shipped directly
from suppliers to customers. Normally, a seller purchases a product from a supplier, stores it in
their inventory, and ships it to the end customer once an order is placed. With dropshipping, the
supplier is responsible for storing and shipping the item. This benefits the seller by reducing
inventory costs, including the price of operating warehouses.

Configure products to be dropshipped
====================================

To use dropshipping as a fulfillment strategy, navigate to the :menuselection:`Purchase` app and
select :menuselection:`Configuration --> Settings`. Under the :guilabel:`Logistics` heading, click
the :guilabel:`Dropshipping` checkbox, and :guilabel:`Save` to finish.

Next, go to the :menuselection:`Sales` app, click :menuselection:`Products --> Products` and choose
an existing product or select :guilabel:`Create` to configure a new one. On the :guilabel:`Product`
page, make sure that the :guilabel:`Can be Sold` and :guilabel:`Can be Purchased` checkboxes are
enabled.

.. image:: dropshipping/sold-purchased-checkboxes.png
   :align: center
   :alt: Enable the "Can be Sold" and "Can be Purchased" checkboxes on the product form.

Click on the :guilabel:`Purchase` tab and specify a vendor and the price that they sell the product
for. Multiple vendors can be added, but the vendor at the top of the list will be the one
automatically selected for purchase orders.

.. image:: dropshipping/product-vendor-config.png
   :align: center
   :alt: The product form with a vendor specified.

Finally, select the :guilabel:`Inventory` tab and enable the :guilabel:`Dropship` checkbox in the
:guilabel:`Routes` section.

.. image:: dropshipping/enable-dropship-route.png
   :align: center
   :alt: Enable the Dropship option in the product inventory tab.

.. note::
   While it is not necessary to enable the :guilabel:`Buy` route in addition to the
   :guilabel:`Dropship` route, enabling both provides the option of dropshipping the product or
   purchasing it directly.

Fulfill orders using dropshipping
=================================

When a sales order is created for a dropshipped product, an associated request for quotation (RfQ)
is automatically generated to purchase the product from the vendor. Sales orders can be viewed in
the :menuselection:`Sales` app by selecting :menuselection:`Orders --> Orders`. Click the
:guilabel:`Purchase` smart button at the top right of a sales order to view the associated
:abbr:`RFQ (Request for Quotation)`.

.. image:: dropshipping/dropship-sales-order.png
   :align: center
   :alt: A dropship sales order with the Purchase smart button in the top right corner.

Once the :abbr:`RFQ (Request for Quotation)` is confirmed, it becomes a purchase order, and a
dropship receipt is created and linked to it. The receipt can be viewed by clicking the
:guilabel:`Dropship` smart button in the top-right corner of the purchase order form.

.. image:: dropshipping/dropship-purchase-order.png
   :align: center
   :alt: A dropship purchase order with the Receipt smart button in the top right corner.

The dropship receipt displays :guilabel:`Partners/Vendors` in the :guilabel:`Source Location` field,
and :guilabel:`Partners/Customers` in the :guilabel:`Destination Location` field. Upon delivery of
the product to the customer, click on the :guilabel:`Validate` button at the top-left of the
dropship receipt to confirm the delivered quantity.

.. image:: dropshipping/validate-dropship-receipt.png
   :align: center
   :alt: Validate the dropship receipt after delivery.

To view all dropship orders, simply navigate to the :menuselection:`Inventory` :guilabel:`Overview`
dashboard and click the teal :guilabel:`# TO PROCESS` button on the :guilabel:`Dropship` card.

.. image:: dropshipping/view-all-dropship-orders.png
   :align: center
   :alt: Click the green button on the Dropship card to view all dropship orders.


==================================================
SECTION: envia_shipping.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/envia_shipping.rst
==================================================

=====================
Envia.com integration
=====================

Envia.com is a shipping service that connects businesses with multiple carriers in Odoo. Key
features include:

- **Multi-carrier & international shipping**: Compare rates across carriers and select the best
  option for domestic or global shipments.
- **Automated label generation**: Generate shipping labels at order confirmation.
- **Real-time rate calculation**: Fetch rates based on package details and destination.

Setup in Envia
==============

To integrate `Envia.com <https://www.envia.com>`_ with Odoo, first create an account and activate
the necessary shipping carriers. Then, obtain the API credentials, which is used to connect
Envia.com to the Odoo database.

Create an account and activate carriers
---------------------------------------

Begin by going to `Envia.com <https://www.envia.com>`_.

After signing in, in the left sidebar, click :menuselection:`Settings --> Print Options and
Carriers`. Next, select the country to set the currency and display available shipping carriers.

.. important::
   When signing up, make sure to select the correct language **and** country in the upper right-hand
   corner. This affects the currency of the account!

   .. image:: envia_shipping/envia-registry-process.png
      :alt: Registry process in website with Envia.com.

After deciding on the desired carrier, click :guilabel:`Activate`, then click :guilabel:`Services`
to select the carrier's available shipping options.

.. tip::
   Billing is always processed in the currency of the country that matches the primary billing
   address. If the company operates in multiple countries, consider creating separate accounts for
   each location.

.. note::
   Envia will send an SMS or WhatsApp message to confirm the email address and phone number.

.. image:: envia_shipping/carriers-and-services.png
   :alt: Select carrier services.

Generate Envia.com credentials
------------------------------

Go to `Envia.com <https://www.envia.com>`_, navigate to :menuselection:`Developers --> API Keys`, on
the left menu, then click :guilabel:`add` to generate a new key.

This key is required to authenticate Odoo's connection with Envia.com. Retrieve it at any time by
returning to the :guilabel:`API Keys` section.

.. image:: envia_shipping/envia-token.png
   :alt: API Keys in Envia.com.

Setup in Odoo
=============

:ref:`Install <general/install>` the :guilabel:`Envia Shipping` (`delivery_envia`) module, and
proceed to the following sections to configure the integration in Odoo.

Envia.com shipping connector configuration
------------------------------------------

After activating the Envia.com connector, create a delivery method by going to
:menuselection:`Inventory --> Configuration --> Delivery Methods` and click :guilabel:`New`.

Fill out the following form fields:

- :guilabel:`Shipping Method`: Name of the shipping method, e.g. `Envia.com`.
- :guilabel:`Provider`: Select :guilabel:`Envia` from the drop-down menu.
- :guilabel:`Delivery Product`: The product listed on the sales order as the delivery charge. A
  specific delivery product for Envia.com must be created.
- In the :guilabel:`Envia Configuration` tab, enter the :guilabel:`Envia Production Access Token`.
- In the :guilabel:`Envia Configuration` tab, enter the :guilabel:`Envia Sandbox Access Token`.
- :guilabel:`Insurance percentage`: If insurance is needed, place a percentage of the value to
  insure. If not, leave it as 0. Keep in mind that the insurance price is calculated only after the
  label has been generated, including for LTL shipments.

.. tip::
   It is mandatory to fill both the production and sandbox tokens, but it could be left as a random
   character as it is not validated at this point.

Additional considerations for the :guilabel:`Envia Default Package`:

- The package is specified in :guilabel:`mm` and :guilabel:`kg`. The weight refers to the container
  itself, not its contents. Leave the weight as `0` if no weight is reported, and set the max weight
  to `0` if there is no specified limit.
- :guilabel:`Envia Package Type`: Set to :guilabel:`Box` by default. Ensure the correct type is
  selected, as it affects the available carriers and options displayed, which vary depending on this
  selection.

Once previous fields are properly set, navigate to the :guilabel:`Envia Configuration` tab, and in
the :guilabel:`Envia.com Service Name` field, click the :icon:`fa-refresh` :guilabel:`(refresh)`
icon to sync the carriers. In the pop-up window that appears, select a carrier and a service level
from the list.

.. image:: envia_shipping/envia-popup.png
   :alt: Envia.com carrier and services popup.

.. important::
   Envia keeps the main currency of the account fixed. In order to provide more precise conversions
   for the costs of shipping, specify the currency that is set for the account on Envia. If
   necessary, Odoo offers the option to change the country. By default it uses the country
   associated with the company.

.. note::
   If more than one shipping option is needed, create more shipping methods in Odoo and modify any
   parameter like the package, carrier, or service.

.. _inventory/shipping_receiving/envia-shipping-info:

Shipping information
--------------------

To use Envia.com to generate shipping labels, the following information **must** be filled out
accurately and completely in Odoo:

#. **Customer information**: When creating a quotation, ensure the selected :guilabel:`Customer` has
   a valid phone number, email address, and shipping address.

   To verify, select the :guilabel:`Customer` field to open their contact page. Here, add their
   shipping address in the :guilabel:`Contact` field, along with their :guilabel:`Mobile` number and
   :guilabel:`Email` address.
#. **Product weight**: Ensure all products in a delivery order have a specified :guilabel:`Weight`
   in the :guilabel:`Inventory` tab of their product form. Refer to the :ref:`Product weight section
   <inventory/shipping_receiving/configure-weight>` of this article for detailed instructions.
#. **Warehouse address**: By default all packages are sent from the specified address in the
   warehouse, make sure to set the address for correct label generation.

Address filling guide
---------------------

Each country has rules regarding how an address is filled. This is a comprehensive guide of each
country's expected fields exceptions:

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Country
     - Street
     - Street 2
     - City
     - State_id
   * - Argentina
     - Street and number
     - Locality
     - City
     - Province
   * - Brazil
     - Exception
     - Neighborhood
     - City
     - State
   * - Chile
     - Street and number
     - City
     - Commune
     - Region
   * - Colombia
     - Street and number
     - Not needed
     - Municipality
     - Department
   * - Guatemala
     - Street and number
     - Neighborhood
     - City
     - State
   * - Mexico
     - Street and number
     - Neighborhood
     - City
     - State
   * - Uruguay
     - Street and number
     - Complementary info
     - Locality
     - State

Countries not listed here should be entered normally.

.. note::
   For some countries, the zip code is not commonly requested. If empty, Odoo will use Envia's zip
   approximation services to get the zip code.

   For Colombia, the zip code is extracted from the city selected in `city_id` if the localization
   is installed, otherwise Odoo will use the zip field.

.. note::
   Colombia and Mexico have a list of cities referred to as `city_id` in Odoo. If `city_id` is set,
   it is used as the city field. If not set, then Odoo will try to use the city field.

.. note::
   In Mexico, some carriers might require the :guilabel:`Colony` field, commonly known as
   neighborhood. It is not always mandatory, but when using the **EDI for Mexico (Advanced
   Features)** module, the :guilabel:`Colony` field is required.

.. note::
   In Brazil the address is split to comply with regulation, so `street_name` is used for the street
   name only. `street_number1` is used for the street number and `street_number2` is used for the
   complement. This logic also applies if the :guilabel:`Extended Addresses` module is installed.

Generate labels with Envia
==========================

When creating a quotation in Odoo, add shipping and the :guilabel:`Envia.com shipping product`.
Then, :guilabel:`Validate` the delivery. Shipping label documents are automatically generated in the
chatter, which include the following:

#. :guilabel:`Shipping label(s)` depending on the number of packages.
#. :guilabel:`Return label(s)` if the Envia.com connector is configured for returns.

.. important::
   When labels are created, Envia.com automatically charges the configured account and the final
   amount is logged in the chatter. If multi-currency operations occur, the amount logged is
   calculated using Odoo's rate. Actual rates may vary.

Additionally, the tracking number is now available.

.. note::
   Brazilian Authorities might request the invoice related to the shipping (NFe). It is recommended
   to physically attach the invoice of the order along with the label.

International shipping
----------------------

For international shipments it is required to fill both the :guilabel:`HS code` and the country of
:guilabel:`Origin of Goods`, both can be found on the product's :guilabel:`Inventory` tab.

LTL shipments
-------------

LTL shipment labels can be generated through the Envia connector. The insurance for LTL shipments is
based on the *insurance percentage* specified in the delivery method's form.

.. important::
   For Mexico, since a *Bill of Landing* needs to be created for the shipment, Odoo is required to
   send the UNSPSC code of the contents, as well as a unit of measure for transportation which is
   **X8A - Pallet de madera** by default.

.. note::
   Additional services are available when selecting `pallet` as a :guilabel:`Envia Package Type` on
   the delivery method, which allows selecting additional services like lift assistance and
   deliveries during weekends.

.. _inventory/shipping_receiving/setup_configuration/cancel:

Tracking and cancellation
=========================

Shipments registered with Envia can be tracked using the :guilabel:`Tracking` smart button from the
delivery order or using the tracking link from the :doc:`customer portal
<../../../../general/users/user_portals>`.

.. image:: envia_shipping/envia-customer-portal-tracking.png
   :alt: Customer portal tracking.

FAQ
===

Measuring volumetric weight
---------------------------

Many carriers have several measurements for weight. There is the actual weight of the products in
the parcel, and the volumetric weight. Volumetric weight is the volume that a package occupies when
in transit, i.e. the physical size of a package.

.. note::
   Due to volumetric weight, it is possible that the actual weight in the label is higher than the
   calculated value.

Which printing options are available?
-------------------------------------

On Envia.com in :menuselection:`Settings --> Print options and Carriers printing options` for each
of the carriers displayed, make sure to use the appropriate format for the chosen carrier.

The needed service is not available
-----------------------------------

For available carriers, make sure that they are enabled through Envia.

Who will pay customs duties?
----------------------------

It's important to make sure that if there are exports to other countries, use Envia's carrier
settings to configure whether it is paid by the sender or the receiver.

What is "Envia error"?
----------------------

It's a message that appears when there's an error in Envia. This message mentions what went wrong in
their platform so it can be addressed.


==================================================
SECTION: expiration_dates.rst
PATH: applications/inventory_and_mrp/inventory/product_management/product_tracking/expiration_dates.rst
==================================================

================
Expiration dates
================

.. |RFQ| replace:: :abbr:`RFQ (request for quotation)`

.. _inventory/product_management/product_tracking/expiration_dates:

In Odoo, *expiration dates* can be used to manage and track the lifecycles of perishable products,
from purchase to sale. Using expiration dates reduces product loss due to unexpected expiry, and
helps to avoid sending expired products to customers.

In Odoo, only products that are tracked using *lots* and *serial numbers* can be assigned expiration
information. Once a lot or serial number has been assigned, an expiration date can be set. This is
especially helpful for companies (such as food manufacturers) that consistently, or exclusively, buy
and sell perishable products.

.. seealso::
   - :doc:`../product_tracking/lots`
   - :doc:`../product_tracking/serial_numbers`

Enable expiration dates
=======================

To enable the use of *expiration dates*, go to :menuselection:`Inventory app --> Configuration -->
Settings`, and scroll down to the :guilabel:`Traceability` section. Then, click the checkbox to
enable the :guilabel:`Lots & Serial Numbers` feature.

Once that feature is activated, a new option will appear to enable :guilabel:`Expiration Dates`.
Click that checkbox to enable the feature, and be sure to :guilabel:`Save` changes.

.. image:: expiration_dates/expiration-dates-enabled-settings.png
   :alt: Enabled lots and serial numbers and expiration dates settings.

.. tip::
   Once the :guilabel:`Lots & Serial Numbers` feature is activated, an additional feature appears to
   :guilabel:`Display Lots & Serial Numbers on Delivery Slips`. Activating these features helps with
   end-to-end traceability, making it easier to manage product recalls, identify batches of faulty
   products, and more.

Configure expiration dates on products
======================================

Once the :guilabel:`Lots & Serial Numbers` and :guilabel:`Expiration Dates` features have been
enabled in the **Inventory** app settings, expiration information can be configured on individual
products.

To do so, go to :menuselection:`Inventory app --> Products --> Products`, and select a product to
edit. Selecting a product reveals the product form for that particular item.

.. important::
   To be tracked using lots or serial numbers, or to configure expiration information, products
   *must* have their :guilabel:`Product Type` set as :guilabel:`Goods` under the :guilabel:`General
   Information` tab. Then, in the :guilabel:`Track Inventory` field, select either :guilabel:`By
   Unique Serial Number` or :guilabel:`By Lots`.

Then, click the :guilabel:`Inventory` tab, and scroll down to the :guilabel:`Traceability` section.
Tick the :guilabel:`Expiration Date` checkbox.

.. note::
   If a product has stock on-hand prior to activating tracking by lots or serial numbers, an
   inventory adjustment might need to be performed in order to assign lot numbers to the existing
   stock.

.. tip::
   For processing large quantities of products on receipts or deliveries, it is recommended to track
   using lots, so multiple products can be traced back to the same lot, if any issues arise.

.. image:: expiration_dates/expiration-dates-product-configuration.png
   :alt: Expiration dates configuration on the product form.

Under the :guilabel:`Dates` section, there are four categories of expiration information to
configure for the product:

- :guilabel:`Expiration Date`: the number of days after receiving products (either from a vendor or
  in stock after production) in which goods may become dangerous and should not be used or consumed.
- :guilabel:`Best Before Date`: the number of days before the expiration date in which the goods
  start deteriorating, **without** being dangerous yet.
- :guilabel:`Removal Date`: the number of days before the expiration date in which the goods should
  be removed from stock.
- :guilabel:`Alert Date`: the number of days before the expiration date in which an alert should be
  raised on goods in a particular lot or containing a particular serial number.

.. note::
   The values entered into these fields automatically compute the expiration date for goods entered
   into stock, whether purchased from a vendor or manufactured in-house.

.. tip::
   If the :guilabel:`Dates` field is not populated with any values for expiration information, dates
   (and lots) can be manually assigned upon receipts and deliveries in and out of the warehouse.
   Even when assigned, they can still be overwritten and changed manually if needed, as well.

Set expiration dates on receipts with lots & serial numbers
===========================================================

Generating expiration dates for *incoming* goods can be done directly on the :guilabel:`Receipt`.
Navigate to :menuselection:`Inventory app --> Operations --> Receipts`, then click on a line to open
the :guilabel:`Receipt` record.

.. important::
   Clicking :guilabel:`Validate` before assigning a serial number to the ordered product quantities
   causes a :guilabel:`Invalid Operation` popup to appear. The popup requires the entry of a lot or
   serial number for the ordered products. The receipt cannot be validated without an assigned lot
   or serial number.

   .. image:: expiration_dates/expiration-dates-user-error-popup.png
      :alt: User error popup when validating an order with no lot number.

From here, click the :guilabel:`Details` link located on the of the product line. When clicked, a
:guilabel:`Detailed Operations` popup will appear.

In the pop-up, the :guilabel:`Expiration Date` automatically populates, based on the configuration
on the product form. Click the :guilabel:`Lot/Serial Number` field on the appropriate line, then
enter the lot or serial number.

.. tip::
   If the :guilabel:`Dates` field on the product form has not been configured, the
   :guilabel:`Expiration Date` can be manually entered.

Click :guilabel:`Save` when finished to close the pop-up. Finally, click :guilabel:`Validate`.

.. image:: expiration_dates/expiration-dates-detailed-operations-popup.png
   :alt: Detailed operations popup showing expiration dates for ordered products.

A :icon:`oi-arrow-up` :guilabel:`Traceability` smart button will appear upon validating the receipt.
Click it to see the updated :guilabel:`Traceability Report`, which includes: a :guilabel:`Reference`
document; the :guilabel:`Product` being traced; the :guilabel:`Lot/Serial #`; and more.

Set expiration dates on manufactured products
=============================================

Expiration dates can also be generated for products manufactured in-house. To assign expiration
dates to manufactured products, a manufacturing order (MO) needs to be completed.

To create a :abbr:`MO (manufacturing order)`, go to :menuselection:`Manufacturing app --> Operations
--> Manufacturing Orders`, and click :guilabel:`New`. Choose a product to manufacture from the
:guilabel:`Product` field drop-down menu, then specify the :guilabel:`Quantity` to produce.

.. image:: expiration_dates/expiration-dates-manufacturing-order.png
   :alt: Manufacturing order for product with expiration date.

.. note::
   To manufacture a product, there must be materials to consume in the lines in the
   :guilabel:`Product` column. This can be achieved either by creating a :guilabel:`Bill of
   Material` for the :guilabel:`Product`, or manually adding materials to consume by clicking
   :guilabel:`Add a line`.

Once ready, click :guilabel:`Confirm`.

The appropriate number of lot or serial numbers is automatically populated in the field. Click the
:guilabel:`Details` link to reveal additional information for those specific numbers. On that
pop-up, all expiration information that was previously configured for the product is displayed.

.. image:: expiration_dates/components-popup.png
   :alt: Components pop-up with expiration information for specific lot number.

Sell products with expiration dates
===================================

Selling perishable products with expiration dates is done the same as any other type of product. The
first step in selling perishable products is to create a sales order.

To do that, go to :menuselection:`Sales app --> New` to create a new quotation, and fill out the
information on the sales order form.

Add a :guilabel:`Customer`, then click :guilabel:`Add a product` to add the desired products to the
:guilabel:`Product` lines, and set a :guilabel:`Quantity` for the products.

Then, click the :guilabel:`Other Info` tab. Under the :guilabel:`Delivery` section, change the
:guilabel:`Delivery Date` to a date after the expected date, and click :guilabel:`Apply` to confirm
the date. Finally, click :guilabel:`Confirm` to confirm the sales order.

.. important::
   If the products are delivered before the :guilabel:`Alert Date` set on the product form, then no
   alerts are created.

Next, click the :guilabel:`Delivery` smart button at the top of the sales order to see the warehouse
receipt form.

On the warehouse receipt form, click :guilabel:`Validate` to automatically process all
:guilabel:`Done` quantities and deliver the products to the customer.

.. important::
   To sell perishable products with expiration dates, the :guilabel:`Removal Strategy` for the
   :guilabel:`Location` the products are stored in must be set to :abbr:`FEFO (First Expiry, First
   Out)`. If there is not enough stock of perishable products in one lot, Odoo will automatically
   take the remaining quantity required from a second lot with the next-soonest expiration date.
   Removal strategies can also be set on :guilabel:`Product Categories`.

.. seealso::
   - :doc:`../../shipping_receiving/removal_strategies`
   - :doc:`../../shipping_receiving/removal_strategies/fefo`

View expiration dates for lots & serial numbers
===============================================

To view (and/or group) all products with expiration dates by lot number, go to
:menuselection:`Inventory app --> Products --> Lots/Serial Numbers`.

Once there, remove any default search filters from the search bar. Then, click :guilabel:`Group By`,
choose :guilabel:`Add Custom Group`, and select the :guilabel:`Expiration Date` parameter from the
drop-down menu. Doing so breaks down all perishable products, their expiration dates, and the
assigned lot number.

.. tip::
   To view expiration date information in the list view, click the :icon:`oi-settings-adjust`
   :guilabel:`(adjust settings)` icon at the top of the list of records, then tick the
   :guilabel:`Expiration Date` checkbox.

.. image:: expiration_dates/expiration-dates-group-by-dates.png
   :alt: Group by expiration dates on lots and serial numbers page.

.. tip::
   Customers can also view the expiration date alert in their customer portal.

.. _inventory/product_management/expiration-alerts:

Expiration alerts
-----------------

To see expiration alerts, go to :menuselection:`Inventory app --> Products --> Lots/Serial Numbers`.

Then, click into a :guilabel:`Lot/Serial Number` with perishable products. Doing so reveals the lot
or serial number form.

On the :guilabel:`Lot/Serial Number` detail form, the :guilabel:`Dates` tab lists all expiration
information related to the products.

If the expiration date for a lot/serial number has passed, the form displays a red
:guilabel:`Expiration Alert` at the top of the page to indicate that the products in this lot are
either expired or expiring soon.

.. image:: expiration_dates/expiration-dates-expiration-alert.png
   :alt: Expiration alert for product past the expiration date.

From here, click back to the :guilabel:`Lots/Serial Numbers` page (via the breadcrumbs).

To see the new expiration alert, or any expiration alerts for products that are expired (or will
expire soon), click back to the :guilabel:`Lots/Serial Numbers` page via the breadcrumbs. Remove all
of the search filters from the search bar on the :guilabel:`Lots/Serial Numbers` dashboard.

Then, click :guilabel:`Filters`, and choose :guilabel:`Expiration Alerts`.

.. image:: expiration_dates/expiration-dates-lot-sn-alerts.png
   :alt: List of expiration alerts on the Lots/Serial Numbers page.

Expiration notifications
------------------------

Users can be notified when the expiration date for a product has passed. This can help keep specific
employees up to date on the status of items under their purview.

To configure a notification, navigate to :menuselection:`Inventory app --> Products --> Products`.
Select a product configured with lot/serial numbers and expiration date tracking. Navigate to the
:guilabel:`Inventory` tab. Under the :guilabel:`Logistics` section, select a user in the
:guilabel:`Responsible` field.

When the expiation date passes for a lot/serial number for this product, a notification is sent to
the user in this field.


==================================================
SECTION: fedex.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/fedex.rst
==================================================

=================
FedEx integration
=================

Integrating a FedEx account with Odoo's **Inventory** app makes it possible to :doc:`calculate
delivery rates <../setup_configuration>`, and :doc:`generate delivery labels <labels>` within Odoo.
This is accomplished by enabling the FedEx *shipping connector*, then configuring at least one
*shipping method*.

.. warning::
   As of October 21, 2025, the FedEx integration using the latest API is temporarily unavailable
   while Odoo finalizes its solution-provider validation for FedEx. Any *existing* integrations
   using the *FedEx Legacy* provider currently work, but *new* setups are currently **blocked**.

   While this issue is being resolved, `submit a support ticket <https://www.odoo.com/help>`_ for
   available workarounds.

.. note::
   This documentation contains configuration details specific to FedEx integration. See the
   documentation on :doc:`third-party shippers <third_party_shipper>` for general shipper
   integration instructions.

Enable shipping connector
=========================

To enable the shipping connector for FedEx, navigate to :menuselection:`Inventory app -->
Configuration --> Settings`. Scroll down to the :guilabel:`Shipping Connectors` section, and tick
the checkbox next to :guilabel:`FedEx Connector`.

Finally, click :guilabel:`Save` to save the changes. After doing so, a :icon:`oi-arrow-right`
:guilabel:`FedEx Shipping Methods` button appears below :guilabel:`FedEx Connector`.

.. image:: fedex/fsm-button.png
   :alt: The FedEx Shipping Methods button below the FedEx Connector.

Configure delivery method
=========================

Once the FedEx shipping connector is enabled, it is necessary to configure at least one delivery
method. After doing so, the delivery method can be included in sales orders (SOs), and used to
compute delivery costs, and print delivery labels.

To enable a delivery method, navigate to :menuselection:`Inventory app --> Configuration -->
Settings`, and click the :guilabel:`FedEx Shipping Methods` button below the :guilabel:`FedEx
Connector` checkbox. Doing so opens a page that shows all existing FedEx delivery methods.

.. note::
   To see all delivery methods for every shipper with a connector enabled, navigate to
   :menuselection:`Inventory app --> Configuration --> Delivery Methods`.

Select a delivery method to open its form. Alternatively, click :guilabel:`New` to open a blank
form, and configure a new delivery method.

.. image:: fedex/fedex-form.png
   :alt: The form for a FedEx delivery method.

.. important::
   Enabling the FedEx shipping connector automatically creates two default shipping methods:
   :guilabel:`FedEx US` and :guilabel:`FedEx International`. Each of these methods are
   pre-configured with test credentials, allowing them to be used for testing purposes.

   Before the delivery method can be used to create actual shipments, the test credentials must be
   replaced with credentials from a valid FedEx account.

General information
-------------------

At the very top of a delivery method form are fields used to configure the way the method operates
in Odoo. In the :guilabel:`Provider` field, select :guilabel:`FedEx` from the drop-down menu, if it
is not already selected.

The rest of the fields in this section are general to all delivery providers. For details on how to
fill them out, see the documentation on :doc:`third-party shippers <third_party_shipper>`.

Fedex Configuration tab
-----------------------

The options in the :guilabel:`Fedex Configuration` tab of a FedEx delivery method form are used to
connect the method to a FedEx account, and configure the delivery details associated with the method
(drop-off type, package type, etc.).

A FedEx developer account is required to obtain the information needed to fill out the fields in
this tab. To create a new account, navigate to FedEx's `Open Account
<https://www.fedex.com/en-us/open-account.html>`_ page, click on :guilabel:`Create Account`, and
follow the instructions.

Create API Project
~~~~~~~~~~~~~~~~~~

After creating a `developer account <https://developer.fedex.com/api/en-us/home.html>`_, navigate to
the :guilabel:`My Projects` tab, and click :guilabel:`CREATE API PROJECT`.

On the :guilabel:`Tell us about your API needs` popup, select `Ships with FedEX and needs to
integrate FedEx APIs into their system` in the :guilabel:`I work for a company that:` drop-down.

.. image:: fedex/fed-ex-api-needs.png
   :alt: Pop-up on FedEx website to select API needs.

Next, when prompted to `Select API(s) for your project`, make sure to enable the following APIs:

 - :guilabel:`Ship, Rate & Other APIs`
 - :guilabel:`Address Validation API`
 - :guilabel:`Rates and Transit Times API`
 - :guilabel:`Ship API`
 - :guilabel:`Trade Documents Upload API`

.. image:: fedex/select-apis.png
   :alt: Page on FedEx website where users select the APIs needed for project.

Enter a :guilabel:`Project name`, then select any countries where packages will be shipped to, or
delivered from.

.. image:: fedex/country-selector.png
   :alt: Page on FedEx website where users select the countries they ship to and from.

To move the project to production, click the :guilabel:`Production key` tab. From there, link a
:guilabel:`Shipping Account`. Copy the `API Key`, `Secret Key`, and `Account` number, then paste
them into the appropriate fields on the :guilabel:`Delivery Methods` form.

Certification process
~~~~~~~~~~~~~~~~~~~~~

To enable the creation of FedEx shipping labels, the API must be certified. On the sidebar menu in
the FedEx `developer portal <https://developer.fedex.com/api/en-us/home.html>`_, click
:guilabel:`API Certification`, and follow the required instructions.

.. note::
   These certification often require reaching out to the FedEx support team via email.

Account Number fields
~~~~~~~~~~~~~~~~~~~~~

An *account number* is the unique number assigned to each FedEx account.

To find a FedEx account number, log in to a FedEx account at https://www.fedex.com. Click on the
account holder's name in the top-right corner of the screen, and select :menuselection:`My Profile`
from the drop-down menu.

On the profile page, click :guilabel:`Account Management` on the left side of the screen. The
account number is displayed on this screen.

Once the password and account number are determined, enter them in the :guilabel:`Password` and
:guilabel:`Account Number` fields on the :guilabel:`Fedex Configuration` tab of the delivery method
form.

Delivery details
~~~~~~~~~~~~~~~~

The main section of the :guilabel:`Fedex Configuration` tab includes a number of additional fields
used provide information about the delivery method:

- :guilabel:`Fedex Service Type`: The FedEx service used to ship a package.
- :guilabel:`Fedex Drop-Off Type`: The method for getting a package into FedEx's possession.
- :guilabel:`Fedex Package Type`: The type of package used for the delivery method.
- :guilabel:`Package Weight Unit`: The unit of measure used to weigh packages.
- :guilabel:`Package Length Unit`: The unit of measure used to determine the dimensions of packages.
- :guilabel:`Label Type`: The type of delivery label used for packages.
- :guilabel:`Label Format`: The file format used by Odoo to generate delivery labels.
- :guilabel:`Commercial Invoice Type`: The dimensions and type of the paper used to print invoices.

.. important::
   The options that should be selected on the :guilabel:`Fedex Configuration` tab of a delivery
   method depend on the negotiated delivery services of the associated FedEx account. To confirm the
   available services for a FedEx account, visit the *Account Management* page after logging in to
   the FedEx website, or speak with a customer service representative.

Options section
~~~~~~~~~~~~~~~

The :guilabel:`Options` section of the :guilabel:`Fedex Configuration` tab provides a few additional
options to further configure the delivery method:

- :guilabel:`Saturday Delivery`: Tick the checkbox to allow packages shipped with the delivery
  method to be delivered on Saturdays.
- :guilabel:`Generate Return Label`: Tick the checkbox to automatically generate a return label upon
  validation of a delivery order.
- :guilabel:`Duties paid by`: Use the drop-down menu to select whether duty charges should be paid
  by the :guilabel:`Sender` or :guilabel:`Recipient`.

Activate delivery method
========================

By default, delivery methods in Odoo are created within a *test environment*. This means they can
only be used for testing purposes, and are unable to generate actual delivery orders.

To activate a delivery method in a *production environment*, click the :icon:`fa-stop`
:guilabel:`Test Environment` smart button at the top of the delivery method form. After doing so,
the smart buttons changes to read :icon:`fa-play` :guilabel:`Production Environment`.

With the production environment enabled, validating a delivery order using the delivery method
generates an actual delivery label with FedEx.

Click the :icon:`fa-play` :guilabel:`Production Environment` smart button to return the delivery
method to a test environment.

.. warning::
   **Do not** enable the production environment for a delivery method before it is ready to be used
   for actual delivery orders. Doing so may lead to the creation of unwanted charges with FedEx.


==================================================
SECTION: fefo.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies/fefo.rst
==================================================

============
FEFO removal
============

The *First Expired, First Out* (FEFO) removal strategy targets products for removal based on their
assigned removal dates.

.. _inventory/warehouses_storage/fefo_enable:

Enabling the FEFO removal strategy
==================================

Lots and serial numbers differentiate identical products and track information like arrival or
expiration dates. To enable this feature, navigate to :menuselection:`Inventory --> Configuration
--> Settings`. Under the :guilabel:`Traceability` heading, check the box beside :guilabel:`Lots &
Serial Numbers`. After :guilabel:`Lots & Serial Numbers` is enabled, the :guilabel:`Expiration Date`
feature appears. Enable it to track expiration dates, best-before dates, removal dates, and alert
dates.

.. image:: fefo/enable-features.png
   :alt: Enable Lots & Serial Numbers and Expiration Dates in the Inventory settings.

Enable tracking by lots or serial numbers
-----------------------------------------

Next, ensure the intended product is tracked by lots or serial numbers by navigating to the product
form through :menuselection:`Inventory --> Products --> Products` and selecting the desired product.
On the product form, open the :guilabel:`General Information` tab and select the check box next to
the :guilabel:`Track Inventory` field, then select either :guilabel:`By Unique Serial Number` or
:guilabel:`By Lots`.

.. image:: fefo/track-by-lots.png
   :alt: Enable tracking by lot.

Setting dates
-------------

Next, set the :guilabel:`Expiration Date`, :guilabel:`Best Before Date`, :guilabel:`Removal Date`,
and :guilabel:`Alert Date` settings for the product. In the :guilabel:`Inventory` tab of the product
form, under the :guilabel:`Traceability` heading, select the :guilabel:`Expiration Date` check box.
The :guilabel:`Dates` heading appears. See :ref:`Removal date
<inventory/warehouses_storage/removal-date>` for more information.

Assigning lots and serial numbers
---------------------------------

After enabling the features, assign lot or serial numbers to products using an :doc:`inventory
adjustment <../../warehouses_storage/inventory_management/count_products>` or during :ref:`product
reception <inventory/product_management/assign-lots>`.

Setting removal strategies
--------------------------

After lot or serial numbers have been assigned, set the removal strategy on the storage location or
product category.

.. image:: fefo/location-categories.png
   :alt: Find the Locations or Categories from the Configuration menu.

On the location
~~~~~~~~~~~~~~~

Open :menuselection:`Inventory app --> Configuration --> Locations`. Select the desired location. On
the location form, under the :guilabel:`Logistics` heading, select :guilabel:`First Expiry First Out
(FEFO)` from the list of removal strategies.

.. image:: fefo/set-on-location.png
   :alt: Set First Expiry First Out as the location removal strategy.

On the product category
~~~~~~~~~~~~~~~~~~~~~~~

Configure removal strategies on product categories by going to :menuselection:`Inventory app -->
Configuration --> Categories` and selecting the intended product category. Next, in the
:guilabel:`Force Removal Strategy` field, specify :guilabel:`First Expiry First Out (FEFO)`.

.. image:: fefo/set-on-category.png
   :alt: Set First Expiry First Out as the product category removal strategy.

.. important::
   When there are different removal strategies applied on both the location and product category for
   a product, the value set on the :guilabel:`Force Removal Strategy` field set on a product
   category form is applied as top priority.

.. _inventory/warehouses_storage/removal-date:

Removal date
============

Products **must** be removed from inventory before their *removal date*, which is set as a certain
number of days before the product's *expiration date*.

The user sets this number of days by navigating to the product form's :guilabel:`Inventory` tab.
Under the :guilabel:`Traceability` section, ensure the :guilabel:`Tracking` field is set to either
:guilabel:`By Lots` or :guilabel:`By Unique Serial Number`.

Next, select the :guilabel:`Expiration Date` option, which makes the :guilabel:`Removal Date` field
(and other date fields) appear.

.. important::
   The :guilabel:`Lots and Serial Numbers` and :guilabel:`Expiration Dates` features **must** be
   enabled in :menuselection:`Inventory app --> Configuration --> Settings` to track expiration
   dates.

The expiration date of a product is determined by adding the date the product was received to the
number of days specified in the :guilabel:`Expiration Date` field of the product form.

The removal date takes this expiration date, and subtracts the number of days specified in the
:guilabel:`Removal Date` field of the product form.

.. example::
   In the :guilabel:`Inventory` tab of the product, `Egg`, the following :guilabel:`Dates` are set
   by the user:

   - :guilabel:`Expiration Date`: `30` days after receipt
   - :guilabel:`Removal Date`: `15` days before expiration date

   .. image:: fefo/user-set-date.png
      :alt: Display expiration and removal dates set on the product form.

   A shipment of Eggs arrive at the warehouse on January 1st. So, the expiration date of the Eggs is
   **January 31st** (Jan 1st + 30). By extension, the removal date is **January 16th** (Jan 31 -
   15).

.. _inventory/warehouses_storage/exp-date:

To view the expiration dates of items in stock, go to :menuselection:`Inventory app --> Products -->
Lots / Serial Numbers`. By default, this report is grouped by location. If necessary, remove that
grouping in the search bar and group by product. Expand the product to show its lots. Next, click
the :icon:`oi-settings-adjust` :guilabel:`(settings adjust)` icon, located on the far-right, and
select the columns: :guilabel:`Expiration Date` and :guilabel:`Removal Date`.

.. image:: fefo/removal-date.png
   :alt: Show expiration dates from the Lots / Serial Numbers list.

Alternatively, view these dates by clicking the :guilabel:`Lot/Serial Numbers` smart button on the
product form.

.. image:: fefo/removal-date-lots-serial-numbers.png
   :alt: Show expiration dates from the Lots/Serial Numbers list on the product form.

Workflow
========

Using the :abbr:`FEFO (First Expired, First Out)` removal strategy ensures that products with the
nearest removal date are picked first.

To understand how this removal strategy works, consider the following example below about the
product, `Carton of Eggs`, which is a box containing twelve eggs.

The product is tracked :guilabel:`By Lots`, and the product category's :guilabel:`Force Removal
Strategy` is set to :guilabel:`First Expiry First Out (FEFO)`.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - LOT1
     - LOT2
     - LOT3
   * - On-hand stock
     - 5
     - 2
     - 1
   * - Expiration date
     - January 8, 2026
     - January 15, 2026
     - January 22, 2026
   * - :ref:`Removal date <inventory/warehouses_storage/exp-date>`
     - December 24, 2025
     - December 31, 2025
     - January 7, 2026

To see the removal strategy in action, go to the :menuselection:`Sales app` and create a new
quotation.

Clicking :guilabel:`Confirm` creates a delivery order for today, December 9th, and the lot numbers
with the soonest expiration dates are reserved, using the :abbr:`FEFO (First Expired, First Out)`
removal strategy.

To view the detailed pickings, click the :guilabel:`Details` link, located on the far-right of the
Carton of Eggs' product line, in the :guilabel:`Operations` tab of the delivery order. Doing so
opens the :guilabel:`Detailed Operations` pop-up window.

In the :guilabel:`Detailed Operations` pop-up window, the :guilabel:`Pick From` field displays where
the quantities to fulfill the :guilabel:`Demand` are picked from.

Since the order demanded six Cartons of Eggs, using the :abbr:`FEFO (First Expired, First Out)`
removal strategy, all five Cartons from `LOT1`, with the removal date of December 24, are picked.
The remaining Carton is selected from `LOT2`, which has a removal date of December 31.

.. image:: fefo/eggs-picking.png
   :alt: The detailed operations window that shows the lots to be removed using FEFO.

.. seealso::
   - :doc:`Removal strategies <../removal_strategies>`
   - :ref:`Set up force removal strategy <inventory/warehouses_storage/removal-config>`
   - :doc:`Expiration dates <../../product_management/product_tracking/expiration_dates>`
   - :ref:`Enable lots tracking <inventory/warehouses_storage/lots-setup>`
   - `Odoo Tutorials: Perishable Products <https://www.odoo.com/slides/slide/5324/share>`_


==================================================
SECTION: fifo.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies/fifo.rst
==================================================

============
FIFO removal
============

The *First In, First Out* (FIFO) removal strategy selects products with the earliest arrival dates.
This method is useful for companies selling products that have short demand cycles, like clothes.
By using :abbr:`FIFO (First In, First Out)`, companies can prevent prolonged stock retention of
specific styles.

.. example::
   Different shipments of t-shirts, tracked by lot numbers, arrive in a business's warehouse between
   August 1st and August 25th. When a customer makes an order on September 1st, the :abbr:`FIFO
   (First In, First Out)` removal strategy prioritizes lots that have been in stock the longest. So,
   products received on August 1st are selected first for picking.

   .. image:: fifo/fifo-example.png
      :alt: Illustration of FIFO selecting the oldest products in stock.

.. _inventory/warehouses_storage/fifo_enable:

Enabling the FIFO removal strategy
==================================

Lots and serial numbers differentiate identical products and track information like arrival or
expiration dates. To enable this feature, navigate to :menuselection:`Inventory --> Configuration
--> Settings`. Under the :guilabel:`Traceability` section, check the box beside :guilabel:`Lots &
Serial Numbers`.

.. image:: fifo/enable-lots-serial-numbers.png
   :alt: Enable Lots & Serial Numbers in the Inventory settings.

Enable tracking by lots or serial numbers
-----------------------------------------

Next, ensure the intended product is tracked by lots or serial numbers by navigating to the product
form through :menuselection:`Inventory --> Products --> Products` and selecting the desired product.
On the product form, open the :guilabel:`General Information` tab and select the check box next to
the :guilabel:`Track Inventory` field, then select either :guilabel:`By Unique Serial Number` or
:guilabel:`By Lots`.

.. image:: fifo/track-by-serial-number.png
   :alt: Enable tracking by serial number.

Assigning lots and serial numbers
---------------------------------

After enabling the features, assign lot or serial numbers to products using an :doc:`inventory
adjustment <../../warehouses_storage/inventory_management/count_products>` or :ref:`during
reception <inventory/product_management/assign-lots>`.

Setting removal strategies
--------------------------

After lot or serial numbers have been assigned, set the removal strategy on the product category or
storage location.

.. image:: fifo/location-categories.png
   :alt: Find the Locations or Categories from the Configuration menu.

On the location
~~~~~~~~~~~~~~~

Open :menuselection:`Inventory app --> Configuration --> Locations`. Select the desired location. On
the location form, under the :guilabel:`Logistics` heading, select :guilabel:`First In First Out
(FIFO)` from the list of removal strategies.

.. image:: fifo/fifo-on-location.png
   :alt: Set First In First Out as the location removal strategy.

On the product category
~~~~~~~~~~~~~~~~~~~~~~~

Configure removal strategies on product categories by going to :menuselection:`Inventory app -->
Configuration --> Categories` and selecting the intended product category. Next, in the
:guilabel:`Force Removal Strategy` field, specify :guilabel:`First In First Out (FIFO)`.

.. image:: fifo/fifo-on-category.png
   :alt: Set First In First Out as the product category removal strategy.

.. important::
   When there are different removal strategies applied on both the location and product category for
   a product, the value set on the :guilabel:`Force Removal Strategy` field set on a product
   category form is applied as top priority.

.. _inventory/warehouses_storage/arrival_date:

Arrival date
============

To see the product lot or serial number that arrived in inventory first, navigate to
:menuselection:`Inventory app --> Products --> Lots/Serial Numbers`. By default, this list is
grouped by location. If necessary, remove that grouping and group by product instead.

Then, select the :icon:`fa-caret-right` :guilabel:`(right-pointing arrow)` icon on the left of a
product line, in order to reveal a list of the product's lots or serial numbers that are in stock.
The :guilabel:`Created on` field shows the lot/serial number creation date, which the system
considers to be the arrival date.

.. example::
   Serial number `0000000000500` of the product, `Cabinet with Doors`, arrived on December 9th, as
   displayed in the :guilabel:`Created on` field.

   .. image:: fifo/created-on.png
      :alt: Display arrival date of a lot for an item.

Workflow
========

To understand how :abbr:`FIFO (First In, First Out)` rotates products out, consider the following
example, focusing on three lots of white shirts.

The shirts are from the *All/Clothes* category, where :abbr:`FIFO (First In, First Out)` is set as
the :guilabel:`Force Removal Strategy`.

The white shirts are tracked :guilabel:`By Lots` in the :guilabel:`Inventory` tab of the product
form.

The following table represents the on-hand stock and lot number details of white shirts.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - LOT1
     - LOT2
     - LOT3
   * - On-hand stock
     - 5
     - 3
     - 2
   * - :ref:`Created on <inventory/warehouses_storage/arrival_date>`
     - March 1
     - April 1
     - May 1

To see the removal strategy in action, create a :ref:`delivery order <inventory/delivery/one-step>`
for six white shirts by navigating to the :menuselection:`Sales app` and creating a new quotation.

After clicking :guilabel:`Confirm` on the sales order, a delivery order with the oldest lot numbers
for shirts are reserved, using the :abbr:`FIFO (First In, First Out)` removal strategy.

To view the detailed pickings, click the :guilabel:`Details` link, located on the far-right of the
white shirt's product line in the :guilabel:`Operations` tab of the delivery order. Doing so opens
the :guilabel:`Detailed Operations` pop-up window.

In the :guilabel:`Detailed Operations` pop-up window, the :guilabel:`Pick From` field displays where
the quantities to fulfill the :guilabel:`Demand` are picked from. Since the order demanded six
shirts, all five shirts from `LOT1`, and one shirt from `LOT2`, are selected.

.. image:: fifo/white-shirt-picking.png
   :alt: Two lots being reserved for a sales order with the FIFO strategy.

.. seealso::
   - :doc:`Removal strategies <../removal_strategies>`
   - :ref:`Lot/serial number setup details <inventory/warehouses_storage/lots-setup>`
   - :ref:`Set up force removal strategy <inventory/warehouses_storage/removal-config>`
   - :ref:`Enable lots tracking <inventory/warehouses_storage/lots-setup>`


==================================================
SECTION: forecast.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting/forecast.rst
==================================================

=================
Forecasted report
=================

.. |SO| replace:: :abbr:`SO (sales order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |RFQs| replace:: :abbr:`RFQs (Requests for Quotation)`
.. |POs| replace:: :abbr:`POs (purchase orders)`
.. |PO| replace:: :abbr:`PO (purchase order)`
.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`

The **Inventory** *forecasted report* provides a real-time view of projected stock levels, helping
businesses manage their inventory efficiently. This report is beneficial for planning and decision
making, ensuring stock availability for upcoming sales, manufacturing, and replenishment activities.

.. important::
   The forecast report is **only** available on products where inventory is being tracked, commonly
   referred to as a *storable product*.

Navigating the report
=====================

The forecast report can be accessed via the **Inventory**, **Purchase**,  **Manufacturing**, and
**Sales** apps.

To access the report, click the :icon:`fa-area-chart` :guilabel:`Forecasted` smart button on a
product form. Alternatively, the report can be accessed from a sales order (SO) or purchase order
(PO) by clicking on the :icon:`fa-area-chart` :guilabel:`(Graph)` icon next to the product, then
selecting :icon:`oi-arrow-right` :guilabel:`View Forecast`.

.. image:: forecast/so-forecast.png
   :alt: A sales order with the forecast report icon highlighted.

The forecasted report consists of a graph and a table. The graph visually represents stock movements
over time. The following information is displayed:

- :guilabel:`On Hand`: current stock physically available in the warehouse.
- :guilabel:`Incoming`: quantities expected from confirmed purchase orders or manufacturing orders.
- :guilabel:`Outgoing`: quantities reserved for sales orders or other outgoing operations.
- :guilabel:`Forecasted`: projected stock levels based on confirmed and planned operations.

.. image:: forecast/forecast-chart.png
   :alt: An example of the chart on a forecast report.

The table provides detailed metrics regarding operations, including:

- :guilabel:`Replenishment`: Shows reserved quantities, especially useful for multi-step operations.
- :guilabel:`Receipt`: The date of receipt for the items.
- :guilabel:`Units`: The number of units involved in each operation.
- :guilabel:`Used by`: The operation the stock is allocated for.
- :guilabel:`Delivery`: The scheduled or expected date of stock movement.
- :guilabel:`Forecasted Inventory`: The forecasted stock levels.
- :guilabel:`Forecasted with Pending`: The updated stock levels with the pending stock movements
  considered.

Reserve and unreserve products
------------------------------

Users can reserve or unreserve products directly from the forecasted report, ensuring stock
allocation aligns with operational needs.

.. image:: forecast/forecast-table.png
   :alt: The detailed section on a forecast report showing the replenishment and reserved stock.

.. seealso::
   :doc:`../../shipping_receiving/reservation_methods`

Replenish products
------------------

Click the :guilabel:`Replenish` button at the top of the report to open the :guilabel:`Product
Replenish` pop-up. From here, products can be replenished through purchase orders from vendors, or
manufactured. Select the :guilabel:`Quantity`, :guilabel:`Preferred Route` and :guilabel:`Vendor`,
before clicking :guilabel:`Confirm`.

Manufacturing forecast
----------------------

To view the availability of manufactured products, click the :guilabel:`Manufacturing Forecast`
button. This displays the forecasted stock levels for raw materials, showing how much are expected
to be consumed for upcoming manufacturing orders.

The manufacturing forecast identifies component shortages before they can impact manufacturing
timelines, and helps to align manufacturing activities with sales demands.

.. image:: forecast/manufacturing-forecast.png
   :alt: An example of the manufacturing forecast report.

Update quantity
---------------

To manually update the quantity of a product, click :guilabel:`Update Quantity`. This opens the
:guilabel:`Change Product Quantity` pop-up. Confirm the correct product variant is selected in the
:guilabel:`Product` field, then enter the appropriate value in the :guilabel:`New Quantity on Hand`
field. Click :guilabel:`Apply` when finished. The report then updates to reflect the new product
quantity.

Multi-step reservation
======================

Reserved quantities for multi-step incoming and outgoing shipments are indicated on in the
:guilabel:`Replenishment` column on the table of the report.

:guilabel:`Stock in Transit` refers to products that have been received, but are in transit to their
input or quality control locations. :guilabel:`Free Stock in Transit` refers to available products
received in the input location, but not yet placed in stock.

Operations affecting the forecast report
========================================

The forecast report is influenced by various operations, each impacting stock levels differently.
Scheduled delivery dates, planned manufacturing dates, and expected arrival dates all affect the
forecast of inventory.

Requests for Quotation (RFQs) do not immediately impact the forecast report, as the products are not
confirmed for replenishment. |POs|, however, do affect the report as the products are expected to
arrive after the |PO| has been confirmed.

Confirmed |SOs| decrease the forecasted stock, adjusting the report based on the scheduled delivery
date. Confirmed manufacturing orders (MOs) affect the forecasted stock for both raw materials and
finished goods.

Use cases
=========

Negative quantity
-----------------

A negative forecasted quantity indicates that the projected demand exceeds the available and
incoming stock at a given point in time. This could occur because the |SOs| or |MOs| require more
stock than is currently available or expected, or because of delays in the shipping or manufacturing
process.

Whatever the cause, when negative numbers are displayed on the forecast report, it serves as an
early warning, allowing business to take preventative action. This can include:

- Prioritizing specific sales or production orders.
- Adjusting procurement strategies to expedite purchase orders.
- Manage customer expectations by proactively communicating the possibility for delays.

.. image:: forecast/neg-quantity.png
   :alt: An example of the forecast report with a negative quantity.

Split orders
------------

In the example below, there is not currently enough stock of a product, `Cabinet with Doors` to
fulfill the multiple sales orders. The current stock has been reserved for a shipment,
`WH/OUT/00011`, and the remainder has been split between the two orders. The remaining stock is
expected with `WH/IN/00004`. Once received, they are the separated out to cover the remaining
orders.

.. image:: forecast/forecast-use-case.png
   :alt: An example of the forecast report chart showing the split delivery for an order.

Late receipt
------------

The replenishment table can be used to determine whether an incoming shipment arrives in time to
fulfill an order. For example, a |SO| is displayed with a :guilabel:`Delivery Date` for today for
five `Cable Management Boxes`. The current on hand quantity is zero. A |PO| has been confirmed, with
the expected arrival three days from today.

The forecasted quantity for today shows `-5`, because the confirmed demand is five, but the current
stock on hand is zero. Since the :guilabel:`Receipt` date is *after* the :guilabel:`Delivery Date`,
the shipment is late.

This can be an indication to either expedite the current shipment, if possible, or reschedule the
delivery date for the |SO|.


==================================================
SECTION: inventory_management.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management.rst
==================================================

:show-content:
:hide-page-toc:

====================
Inventory management
====================

In the Odoo *Inventory* app, :doc:`warehouses <inventory_management/warehouses>` handle the broader
organization and distribution of stock across different physical sites, while :doc:`locations
<inventory_management/use_locations>` provide a more detailed breakdown within each warehouse for
efficient item management.

This document serves as an introduction to the terminology and concepts necessary to master
*Inventory*. For specific instructions and examples of how things work, refer to individual
documentation pages.

.. seealso::
   `Odoo Tutorials: Warehouses & Locations <https://www.youtube.com/watch?v=zMvudZVLuUo>`_

Warehouses
==========

:doc:`Warehouses <inventory_management/warehouses>` represent a physical place, with a physical
address, where a company's items are stored.

Configure :doc:`routes <../shipping_receiving/daily_operations/use_routes>` in a warehouse to
control how products move to customers, from vendors, within the warehouse, or :doc:`between
warehouses <replenishment/resupply_warehouses>`.

Locations
=========

:doc:`Locations <inventory_management/use_locations>` refer to specific areas within a warehouse,
such as shelves, floors, or aisles. These are sub-divisions within a warehouse, and are unique to
that warehouse. Users can create and manage numerous locations within a single warehouse to organize
inventory more precisely.

.. seealso::
   - :doc:`inventory_management/use_locations`
   - :doc:`inventory_management/count_products`
   - :doc:`inventory_management/cycle_counts`
   - :doc:`inventory_management/scrap_inventory`

.. _inventory/warehouses_storage/location-type:

Location types
--------------

*Location types* in Odoo help categorize and manage where products are, and what actions need to be
taken with them. By default, on the :menuselection:`Inventory app --> Configuration --> Locations`
page, only internal locations are displayed.

To view the seven location types in Odoo, select any location, and in the :guilabel:`Location Type`
field, there are:

- :guilabel:`Vendor`: defines an area where products purchased from vendors originate. Items here
  are **not** in stock.

- :guilabel:`Virtual`: used to organize and structure the warehouse hierarchy. For example, the
  virtual location `WH` (short for warehouse) groups all internal locations, such as `Stock`,
  receiving docks, quality checkpoints, and packing areas to show they all belong to the same
  warehouse.

  .. important::
     Virtual locations should **not** contain products, but it is possible to move them there.

- :guilabel:`Internal`: storage locations within the warehouse. Items stored in these locations are
  accounted for in :doc:`inventory valuation <../inventory_valuation/cheat_sheet>`.

- :guilabel:`Customer`: where sold products are tracked; items here are no longer in stock.

- :guilabel:`Inventory Loss`: counterpart location to consume missing items or create stock,
  accounting for discrepancies.

  In Odoo, examples of inventory loss locations are *Inventory adjustment*, used to account for
  discrepancies during an inventory count, and *Scrap*, which is where damaged goods are sent to
  account for inventory losses.

   .. example::
      `Inventory adjustment` is a location with the :guilabel:`Inventory Loss` type. The database
      shows `8` units in `WH/Stock`, but an inventory check reveals `4`. To correct the quantity,
      four units are moved from `WH/Stock` to `Inventory adjustment`.

      .. image:: inventory_management/inventory-loss.png
         :alt: Product ends up in Inventory adjustment.

- :guilabel:`Production`: where raw materials are consumed, and :doc:`manufactured products
  <../../manufacturing>` are created.

- :guilabel:`Transit`: used for inter-company or inter-warehouse operations to track products
  shipped between different addresses, such as :ref:`Physical Locations/Inter-warehouse
  transit <inventory/warehouses_storage/interwarehouse-transit>`.

.. image:: inventory_management/locations.png
   :alt: List of locations in Odoo.

.. note::
   In Odoo, location types are color-coded:
     - **Blue**: virtual locations
     - **Black**: internal and external locations (including inventory loss, vendor, and customer
       locations).

View locations in Odoo
----------------------

Odoo databases include preconfigured virtual locations to organize the hierarchy of locations. These
provide helpful context, and distinguish between internal and external locations.

- *Physical locations* group internal locationsâ€”such as secondary warehouses and subcontractor
  sites. Because :doc:`inventory valuation <../inventory_valuation/cheat_sheet>` changes only when
  goods move from internal to external locations, Odoo uses physical locations to track stock that
  is off-site or in transit without affecting valuation.

.. _inventory/warehouses_storage/interwarehouse-transit:

  .. example::
     When moving products in warehouses `WH` and `WH2`, the items are not in either warehouse, but
     still belong to the company. While in transit, they are placed in the `Inter-warehouse transit`
     location, a :guilabel:`Transit` type.

     This location is under the view location, `Physical Locations`, indicating that
     `Inter-warehouse transit` is outside of a warehouse, but still part of the company. Doing so
     does not affect the inventory valuation of the products.

- *Partner locations* group customer and vendor locations (external locations) together. Transfers
  to these locations affect inventory valuation.
- *Virtual locations* are locations that do **not** exist physically, but it is where items that are
  not in inventory can be placed. These can be items that are no longer in inventory due to loss, or
  other factors.

.. toctree::
   :titlesonly:

   inventory_management/warehouses
   inventory_management/use_locations
   inventory_management/count_products
   inventory_management/cycle_counts
   inventory_management/scrap_inventory
   inventory_management/product_catalog


==================================================
SECTION: inventory_valuation.rst
PATH: applications/inventory_and_mrp/inventory/inventory_valuation.rst
==================================================

:nosearch:

===================
Inventory valuation
===================

.. toctree::
   :titlesonly:

   inventory_valuation/cheat_sheet
   inventory_valuation/landed_costs
   inventory_valuation/valuation_by_lots



==================================================
SECTION: invoicing.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/invoicing.rst
==================================================

=======================
Shipping cost invoicing
=======================

Invoicing customers for shipping after delivery ensures accurate charges based on real-time shipping
factors like distance, weight, and method.

In Odoo, shipping costs can be invoiced in two ways:

#. Agree with the customer on a fixed cost and :ref:`include it in the sale order.
   <inventory/shipping/invoice-so>`

#. :ref:`Invoice shipping costs to the customer post-delivery
   <inventory/shipping/invoice-shipping>`, reflecting the actual expenses incurred by the business.

Configuration
=============

To set prices to delivery methods, go to :menuselection:`Inventory app --> Configuration -->
Settings`. Under the :guilabel:`Shipping` section, enable the :guilabel:`Delivery Methods` feature.
Then, click :guilabel:`Save`.

.. image:: invoicing/enable-delivery.png
   :align: center
   :alt: Enable the "Delivery Methods" feature in Settings.

Add shipping method
===================

Next, configure the the price of each delivery method by going to :menuselection:`Inventory app -->
Configuration --> Shipping Methods` and click the :guilabel:`Create` button. Doing so opens a form
to provide details about the shipping provider, including:

- :guilabel:`Shipping Method` (*required*) the name of the delivery method (e.g. `flat-rate
  shipping`, `same day delivery`, etc.).
- :guilabel:`Provider` (*required*): choose the delivery service, like FedEx, if using a
  third-party carrier Ensure the integration with the shipping carrier is properly installed and
  select the provider from the drop-down menu.

  .. seealso::
     :doc:`../setup_configuration/third_party_shipper`

- :guilabel:`Company`: if the shipping method should apply to a specific company, select it from the
  drop-down menu. Leave the field blank to apply the method to all companies.

- :guilabel:`Website`: configure shipping methods for an e-commerce page. Select the applicable
  website from the drop-down menu, or leave it blank to apply the method to all web pages.

- :guilabel:`Delivery Product` (*required*): the product listed on the :ref:`sales order line
  <inventory/shipping/invoice-on-so>` as the delivery charge.
- :guilabel:`Free if order amount is above`: checking this box enables free shipping if the customer
  spends above the specified amount.

.. _inventory/shipping/invoice-so:

Invoice cost on sales order
===========================

To invoice shipping costs on the sales order, before the item is delivered, go to the
:menuselection:`Sales app` and select the desired sales order.

On the sales order, click the :guilabel:`Add Shipping` button at the bottom-right corner.

.. image:: invoicing/add-shipping.png
   :align: center
   :alt: Click "Add Shipping" button at the bottom right, near the total.

In the :guilabel:`Add a shipping method` pop-up window, choose the intended carrier in the
:guilabel:`Shipping Method` field.

Then, click the :guilabel:`Get Rate` button to the calculate shipping price based on real-time
shipping data Odoo's shipping carrier integration.

The :guilabel:`Cost` is automatically calculated using the weight of the items in the order.
Finally, click the :guilabel:`Add` button to close the window.

.. image:: invoicing/add-a-shipping-method.png
   :align: center
   :alt: Calculate shipping by selecting a shipping method.

.. _inventory/shipping/invoice-on-so:

On the sales order, the delivery product appears in the :guilabel:`Order Lines` tab, with the
:guilabel:`Unit Price` set as the shipping cost calculated in the :guilabel:`Add a shipping method`
pop-up window.

.. image:: invoicing/delivery-product.png
   :align: center
   :alt: Show delivery product on the sales order line.

Finally, after the product is delivered, click the :guilabel:`Create invoice` button, and an invoice
is created that includes the shipping cost that was added earlier.

.. image:: invoicing/create-invoice.png
   :align: center
   :alt: Show "Create Invoice" button.

Then, click the :guilabel:`Create and View Invoice` button, and a draft invoice is generated, with
the shipping cost included in the :guilabel:`Invoice Lines` tab.

.. image:: invoicing/invoice-line.png
   :align: center
   :alt: Show delivery product in the invoice line.

.. _inventory/shipping/invoice-shipping:

Invoice real shipping costs
===========================

To modify the invoice to reflect the real cost of shipping, follow the steps :ref:`above
<inventory/shipping/invoice-so>` to create an invoice with a delivery product with a :guilabel:`Unit
Price` of zero.

Then, on a draft invoice, modify the :guilabel:`Unit Price` to reflect the real shipping cost.
Finally, invoice the customer the adjusted shipping cost by clicking :guilabel:`Confirm`.

.. image:: invoicing/invoice-cost.png
   :align: center
   :alt: Show delivery product on the invoice line.

.. seealso::
   - :doc:`../setup_configuration/third_party_shipper`
   - :doc:`../setup_configuration/labels`


==================================================
SECTION: just_in_time.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/just_in_time.rst
==================================================

==================
Just in time logic
==================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOs| replace:: :abbr:`SOs (Sales Orders)`

*Just-in-time logic* in Odoo minimizes storage costs by placing orders precisely to meet deadlines.
This is achieved using the :ref:`forecasted date <inventory/warehouses_storage/forecasted-date>`,
which determines when replenishment is necessary to avoid overstocking. For example, for a product
with a 5-day total lead time and a sales order delivery date in 10 days, Odoo waits 5 days to place
the order, ensuring it arrives just in time for delivery.

The forecasted date is the **earliest possible date** to receive a product if the replenishment
process starts immediately. It is calculated by summing the lead times linked to the replenishment
process, such as :ref:`vendor lead times <inventory/warehouses_storage/purchase-lt>` and
:ref:`purchasing delays <inventory/warehouses_storage/purchase-security-lt>` for purchases, or
:ref:`manufacturing lead times <inventory/warehouses_storage/manuf-lt>` for production. This works
with both automatic and manual reordering rules.

.. tip::
  If utilizing just-in-time logic feels risky, consider adding buffer time or :doc:`adjusting lead
  times <lead_times>` for more flexibility. While lead times and just-in-time logic provide
  additional control, reordering rules work perfectly fine without them. Keeping delivery dates on
  |SOs| as their *creation date* ensures purchases are immediately triggered when needed.

.. _inventory/warehouses_storage/forecasted-date:

Forecasted date and to order quantity
=====================================

The *forecasted date* is the earliest receipt date for a product, if it is ordered right now. It is
calculated by summing the lead times linked to the product's replenishment process. The total of
these lead times, added to the current date, determines when Odoo checks for demanded stock.

To view the forecasted date go to :menuselection:`Inventory app --> Operations --> Replenishment` to
access the :doc:`replenishment report <report>`, then click the :icon:`fa-info-circle`
:guilabel:`(info)` icon for the desired reordering rule. The :guilabel:`Replenishment Information`
pop-up window displays the :guilabel:`Forecasted Date` and various lead times.

The just-in-time logic ensures replenishment occurs only when required to meet forecasted demand,
reducing the risk of overstocking.

.. note::
   Just-in-time logic determines the exact timing of replenishment. If you want to extend this logic
   to also consider near-future demand beyond the forecast date, see :ref:`Horizon Days
   <inventory/warehouses_storage/horizon-days>`

If the forecasted quantity falls below the minimum on the forecasted date, replenishment is
triggered immediately to prevent shortages. If the quantity falls below the minimum after the
forecasted date, replenishment is deferred.

The :guilabel:`To Order` quantity is defined as the total demand on the forecasted date.

By scheduling purchase orders according to combined lead times, Odoo minimizes inventory while
ensuring that future demand is met on time.

.. example::
   A manual reordering rule is set up with no minimum or maximum quantities.

   - Vendor lead time is 4 days, and the days to purchase is 2 days.
   - Today's date is October 2.
   - These add up to 6 days, making the forecasted date, October 8.

   A confirmed |SO| for 5 units has a delivery date of October 8th (6 days from today). This demand
   will appear on the replenishment report today, in the :guilabel:`To Order` field.

   However, if the delivery date were later than October 8th, it would not yet appear on the report.
   Odoo only displays quantities to replenish when they fall within the forecasted date window,
   ensuring orders are placed precisely when needed.

   .. image:: just_in_time/replenishment-info.png
      :alt: Show forecasted date in Odoo.

.. important::
  |SOs| scheduled after the :guilabel:`Forecasted Date` are not included in the :guilabel:`Forecast`
  quantities of a reordering rule. However, they do appear in the forecasted report, since it
  reflects the long-term forecasted quantity. To access the forecasted report, click
  :icon:`fa-area-chart` :guilabel:`(area chart)` icon on the replenishment report.

.. seealso::
   - :doc:`Reordering Rules <reordering_rules>`
   - :doc:`Replenishment Report <report>`
   - :doc:`Lead Times <lead_times>`


==================================================
SECTION: label_type.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/label_type.rst
==================================================

==========================
Change shipping label size
==========================

Overview
========

In Odoo, there are a variety of different types of shipping labels that can be selected for delivery
orders. Depending on the types of shipping packages used, different label sizes may be more
appropriate, and can be configured to fit the package.

Configuration
=============

In the :menuselection:`Inventory` module, go to :menuselection:`Configuration --> Delivery -->
Shipping Methods.` Click on a delivery method to choose it. For the following example, *FedEx
International* will be used.

.. image:: label_type/shipping-options.png
   :align: center
   :alt: Different shipping methods.

In the :guilabel:`Configuration` tab, under :guilabel:`Label Type`, choose one of the label types
available. The availability varies depending on the carrier.

.. image:: label_type/label-type-dropdown.png
   :align: center
   :alt: Select a label type.

When a sales order with the corresponding shipping company is confirmed and a delivery order is
validated, the shipping label will be automatically created as a PDF and appear in the
:guilabel:`Chatter`.

Create a sales order
====================

In the :menuselection:`Sales` application, click :guilabel:`Create` and select an international
customer. Click :guilabel:`Add A Product` and select an item. Click :guilabel:`Add Shipping`, select
a shipping method, then click :guilabel:`Get Rate`, and finally, click :guilabel:`Add`.

.. image:: label_type/shipping-rate.png
   :align: center
   :alt: Add a shipping method and rate to a sales order.

Once the quotation is confirmed by clicking :guilabel:`Confirm`, a :guilabel:`Delivery` smart button
will appear.

.. image:: label_type/shipping-italy-so.png
   :align: center
   :alt: Delivery order smart button.

Once the delivery order is validated by clicking :guilabel:`Validate` in the delivery order, the
shipping documents appear in the :guilabel:`Chatter`.

.. image:: label_type/shipping-pdfs.png
   :align: center
   :alt: Shipping PDF documents.

Example labels
==============

The default :guilabel:`Label Type` is :guilabel:`Paper Letter`. An example of a FedEx letter sized
label is:

.. image:: label_type/full-page-fedex.png
   :align: center
   :alt: Full page letter size FedEx shipping label.

For comparison, an example of a FedEx bottom-half label is:

.. image:: label_type/half-page-fedex.png
   :align: center
   :alt: Half page letter size FedEx shipping label.


==================================================
SECTION: labels.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/labels.rst
==================================================

=====================
Print shipping labels
=====================

.. |DO| replace:: :abbr:`DO (Delivery Order)`
.. |SO| replace:: :abbr:`SO (Sales Order)`

Integrate Odoo with :doc:`third-party shipping carriers
<../setup_configuration/third_party_shipper>` to automatically generate shipping labels that
includes prices, destination addresses, tracking numbers, and barcodes.

.. seealso::
   :ref:`Automatically print shipping carrier labels <inventory/shipping_receiving/carrier-labels>`

Configuration
=============

To generate labels for a third-party shipping carrier, first :doc:`install the third-party shipping
connector <../setup_configuration/third_party_shipper>`. Then, configure and activate the
:ref:`delivery method <inventory/shipping_receiving/configure-delivery-method>`, being sure to set
the :guilabel:`Integration Level` to :guilabel:`Get Rate and Create Shipment` to generate shipping
labels. Finally, provide the company's :ref:`source address
<inventory/shipping_receiving/configure-source-address>` and :ref:`product weights
<inventory/shipping_receiving/configure-weight>`.

.. seealso::
   :doc:`../setup_configuration/third_party_shipper`

.. image:: labels/integration-level.png
   :align: center
   :alt: Set the "Get Rate and Create Shipment" option.

.. _inventory/shipping_receiving/picking-config:

Labels for multi-step
---------------------

For companies using :doc:`two <../daily_operations/receipts_delivery_two_steps>` or :doc:`three step
delivery <../daily_operations/delivery_three_steps>`, labels can be triggered to print after
validating the picking or packing operation. To do that, go to :menuselection:`Inventory app -->
Configuration --> Operations Types`, and choose the desired operation.

On the :guilabel:`Operation Type` configuration page, tick the :guilabel:`Print Label` checkbox.
Enabling this feature ensures that the third-party shipping label is printed upon validating this
operation.

.. example::
   For :doc:`two-step delivery <../daily_operations/receipts_delivery_two_steps>`, where products
   are placed directly in packages during picking, companies can print shipping labels during
   picking instead of delivery. Odoo allows users to enable the :guilabel:`Print Label` feature on
   the `Pick` operation itself to achieve this flexibility.

   .. image:: labels/pick-print-label.png
      :align: center
      :alt: Enable the "Print Label" feature.

Print tracking labels
=====================

Tracking labels are printed when specific operations are validated. By default, validating a
delivery order (DO) generates a tracking label in the chatter.

.. note::
   For companies using two or three step delivery, refer to the :ref:`printing labels for multi-step
   delivery <inventory/shipping_receiving/picking-config>` section to learn how to print the label
   after validating a picking or packing operation.

When both the *Sales* and *Inventory* apps are installed, begin in the :menuselection:`Sales` app,
and proceed to the desired quotation or sales order (SO). There, and :ref:`add the shipping cost
<inventory/shipping_receiving/add-shipping-quote>` to the order. Then, navigate to the linked |DO| â€”
or another operation type when using multi-step delivery â€” to validate the operation and print the
label.

If only the *Inventory* app is installed, create :abbr:`DOs (Delivery Orders)` directly in the
:menuselection:`Inventory` app, :ref:`add the third-party carrier
<inventory/shipping_receiving/validate-print-label>` in the :guilabel:`Carrier` field, and validate
the |DO|.

.. _inventory/shipping_receiving/add-shipping-quote:

Add shipping on quotation
-------------------------

To generate a tracking label for an order, begin by creating a quotation in :menuselection:`Sales
app --> Orders --> Quotations`, clicking :guilabel:`New`, and filling out the quotation form. Then,
click the :guilabel:`Add Shipping` button in the bottom-right corner of the quotation.

.. image:: labels/add-shipping-button.png
   :align: center
   :alt: Show the "Add Shipping" button on the quotation.

In the resulting pop-up window, select the intended carrier from the :guilabel:`Shipping Method`
drop-down menu. The :guilabel:`Total Order Weight` field is automatically populated, based on the
:ref:`weight of products in the order <inventory/shipping_receiving/configure-weight>`. Modify this
field to overwrite the predicted weight, and use this weight to estimate the cost of shipping.

Next, click :guilabel:`Get Rate` to display the shipping cost for the customer, via the third-party
carrier in the :guilabel:`Cost` field.

.. important::
   If clicking :guilabel:`Get Rate` results in an error, ensure the :ref:`warehouse's address
   <inventory/shipping_receiving/configure-source-address>` and :ref:`weight of products in the
   order <inventory/shipping_receiving/configure-weight>` are properly configured.

Click :guilabel:`Add` to add the cost to the quotation, which is listed as the :ref:`configured
delivery product <inventory/shipping_receiving/delivery-product>`. Finally, click
:guilabel:`Confirm` on the quotation, and click the :guilabel:`Delivery` smart button to access the
|DO|.

.. image:: labels/get-rate.png
   :align: center
   :alt: Show "Get rate" pop-up window.

.. tip::
   For users who do not have the *Sales* app installed, specify the :guilabel:`Carrier` by going to
   the :menuselection:`Inventory` app, navigating to the |DO|, and going to the
   :guilabel:`Additional Info` tab.

   .. image:: labels/additional-info-tab.png
      :align: center
      :alt: Show the "Additional Info" tab of a delivery order.

.. _inventory/shipping_receiving/validate-print-label:

Validate delivery order
-----------------------

On a delivery order form, navigate to the :guilabel:`Additional Info` tab to ensure the third-party
shipping carrier has been added to the :guilabel:`Carrier` field.

.. important::
   If the *Sales* app is not installed, the third-party carrier is set in the :guilabel:`Carrier`
   field.

After the items in the order have been packed, click :guilabel:`Validate` to get the shipping
carrier's tracking number, and generate the shipping label.

.. note::
   Create or select an existing delivery order by going to the :menuselection:`Inventory` app, and
   selecting the :guilabel:`Delivery Orders` card.

The :guilabel:`Tracking Reference` number is generated in the :guilabel:`Additional Info` tab of the
delivery order. Click the :guilabel:`Tracking` smart button to access the tracking link from the
shipping carrier's website.

The tracking label is found in PDF format in the chatter.

.. image:: labels/shipping-label.png
   :align: center
   :alt: Show generated shipping label in the chatter.

.. note::
   For multi-package shipping, one label is generated per package. Each label appears in the
   chatter.

.. figure:: labels/sample-label.png
   :align: center
   :alt: Sample label generated from Odoo's shipping connector with FedEx.

   Sample label generated from Odoo's shipping connector with FedEx.

.. seealso::
   - :doc:`invoicing`
   - :doc:`multipack`


==================================================
SECTION: landed_costs.rst
PATH: applications/inventory_and_mrp/inventory/inventory_valuation/landed_costs.rst
==================================================

============
Landed costs
============

.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`
.. |RfQs| replace:: :abbr:`RfQs (Requests for Quotation)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |FIFO| replace:: :abbr:`FIFO (First In First Out)`
.. |AVCO| replace:: :abbr:`AVCO (Average Costing)`

In Odoo, the *Landed Costs* feature is used to take additional costs into account when calculating
the valuation of a product. This includes the cost of shipment, insurance, customs duties, taxes,
and other fees.

Configuration
=============

To add landed costs to products, the *Landed Costs* feature must first be enabled. To enable this
feature, navigate to :menuselection:`Inventory app --> Configuration --> Settings`, and scroll to
the :guilabel:`Valuation` section.

Tick the checkbox next to the :guilabel:`Landed Costs` option, and click :guilabel:`Save` to save
changes.

Once the page refreshes, a new :guilabel:`Default Journal` field appears below the :guilabel:`Landed
Costs` feature in the :guilabel:`Valuation` section.

Click the :guilabel:`Default Journal` drop-down menu to reveal a list of accounting journals. Select
a journal for which all accounting entries related to landed costs should be recorded.

.. image:: landed_costs/integrating-landed-costs-enabled-setting.png
   :alt: Landed Costs feature and resulting Default Journal field in the Inventory settings.

Create landed cost product
==========================

For charges that are consistently added as landed costs, a landed cost product can be created in
Odoo. This way, a landed cost product can be quickly added to a request for quotation (|RfQ|) or a
vendor bill as an invoice line, instead of having to be manually entered every time a new vendor
bill is created.

To do this, create a new product by going to :menuselection:`Inventory app --> Products -->
Products`, and clicking :guilabel:`New`.

Assign a name to the landed cost product in the :guilabel:`Product Name` field (i.e. `International
Shipping`). In the :guilabel:`Product Type` field, select :guilabel:`Service` as the
:guilabel:`Product Type`.

.. important::
   Landed cost products **must** have their :guilabel:`Product Type` set to :guilabel:`Service`.

Click the :guilabel:`Purchase` tab, and tick the checkbox next to :guilabel:`Is a Landed Cost` in
the :guilabel:`Vendor Bills` section. Once ticked, a new :guilabel:`Default Split Method` field
appears below it, prompting a selection. Clicking that drop-down menu reveals the following options:

- :guilabel:`Equal`: splits the cost equally across each product included in the receipt, regardless
  of the quantity of each.
- :guilabel:`By Quantity`: splits the cost across each unit of all products in the receipt.
- :guilabel:`By Current Cost`: splits the cost according to the cost of each product unit, so a
  product with a higher cost receives a greater share of the landed cost.
- :guilabel:`By Weight`: splits the cost, according to the weight of the products in the receipt.
- :guilabel:`By Volume`: splits the cost, according to the volume of the products in the receipt.

.. image:: landed_costs/integrating-landed-costs-landed-cost-product.png
   :alt: Is a Landed Cost checkbox and Default Split Method on service type product form.

When creating new |RfQs|, this product can be added as an invoice line as a landed cost. This
product can also be added to vendor bills that are in the draft state.

.. important::
   To apply a landed cost on a vendor bill, products in the original |PO| **must** belong to a
   *Product Category* with a *Costing Method* of either |AVCO| or |FIFO|.

Create purchase order
=====================

Navigate to :menuselection:`Purchase app --> New` to create a new |RfQ|. In the :guilabel:`Vendor`
field, add a vendor to order products from. Then, click :guilabel:`Add a product`, under the
:guilabel:`Products` tab, to add products to the |RfQ|.

Once ready, click :guilabel:`Confirm Order` to confirm the order. Then, click :guilabel:`Receive`
once the products have been received, followed by :guilabel:`Validate`.

Create vendor bill
------------------

Once the vendor fulfills the |PO| and sends a bill, a vendor bill can be created from the |PO| in
Odoo.

Navigate to the :menuselection:`Purchase app`, and click into the |PO| for which a vendor bill
should be created. Then, upload the bill or click the :guilabel:`Bill Matching` smart button to
match with an existing bill. This opens a new :guilabel:`Vendor Bill` in the :guilabel:`Draft`
stage.

In the :guilabel:`Bill Date` field, click the line to open a calendar popover menu, and select the
date on which this draft bill should be billed.

Click :guilabel:`Add a line`. Add the landed cost product to the vendor bill.

Click the :icon:`fa-cloud-upload` :guilabel:`(Save)` icon to manually save and update the
draft bill.

.. image:: landed_costs/integrating-landed-costs-checkboxes.png
   :alt: Landed Costs column checkboxes for product and landed cost.

In the :guilabel:`Landed Costs` column, the product ordered from the vendor does **not** have its
checkbox ticked, while the landed cost product's checkbox **is** ticked. This differentiates landed
costs from all other costs displayed on the bill.

Additionally, at the top of the form, a :guilabel:`Create Landed Costs` button appears.

.. image:: landed_costs/integrating-landed-costs-create-button.png
   :alt: Create Landed Costs button on vendor bill.

Add landed cost
===============

Click :guilabel:`Create Landed Costs` at the top of the vendor bill.

Doing so automatically creates a landed cost record, with a set landed cost pre-filled in the
product line in the :guilabel:`Additional Costs` tab.

From the :guilabel:`Landed Cost` form, click the :guilabel:`Transfers` drop-down menu, and select
which transfer the landed cost belongs to. Only validated transfers can be selected.

.. image:: landed_costs/integrating-landed-costs-transfers-menu.png
   :alt: Landed cost form with selected receipt transfer.

.. tip::
   In addition to creating landed costs directly from a vendor bill, landed cost records can *also*
   be created by navigating to :menuselection:`Inventory app --> Operations --> Landed Costs`, and
   clicking :guilabel:`New`.

After setting the picking from the :guilabel:`Transfers` drop-down menu, click :guilabel:`Compute`
(at the bottom of the form, under the :guilabel:`Total:` cost).

Click the :guilabel:`Valuation Adjustments` tab to see the impact of the landed costs. The
:guilabel:`Original Value` column lists the original price of the |PO|, the :guilabel:`Additional
Landed Cost` column displays the landed cost, and the :guilabel:`New Value` column displays the sum
of the two, for the total cost of the |PO|.

Once ready, click :guilabel:`Validate` to post the landed cost entry to the accounting journal.

.. note::
   Each journal entry created for a landed cost on a vendor bill can be viewed in the
   :menuselection:`Accounting` app.

   To locate these journal entries, navigate to :menuselection:`Accounting app --> Accounting -->
   Journal Entries`, and locate the correct entry, by number (e.g. `STJ/2025/XXXXX`).

   Click into the journal entry to view the :guilabel:`Journal Items`, and other information about
   the entry.

   .. image:: landed_costs/integrating-landed-costs-journal-entry.png
      :alt: Journal Entry form for landed cost created from vendor bill.


==================================================
SECTION: lead_times.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/lead_times.rst
==================================================

==========
Lead times
==========

.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`
.. |BoMs| replace:: :abbr:`BoMs (Bills of Materials)`
.. |RFQ| replace:: :abbr:`RFQ (request for quotation)`
.. |PO| replace:: :abbr:`PO (purchase order)`

Accurately forecasting delivery dates is vital for fulfilling customer expectations. In Odoo, the
**Inventory** app allows for comprehensive lead time configuration, allowing coordination and
planning of manufacturing orders, deliveries, and receipts.

Lead time types
===============

Different lead times for different operations can impact various stages of the order fulfillment
process. Here's a summary of the types of lead times in Odoo:

.. image:: lead_times/all-lead-times.png
   :alt: Show graphic of all lead times working together.

- :ref:`Customer lead time <inventory/warehouses_storage/customer-lt>`: default time frame for
  fulfilling customer orders. The customer lead time is the number of days from the date the sales
  order (SO) is confirmed to the date the products are shipped from the warehouse. This is also
  known as *delivery lead time*.

- :ref:`Sales security lead time <inventory/warehouses_storage/sales-security-lt>`: moves the
  *scheduled delivery date* forward by a specified number of days. This serves as a buffer to allow
  ample time to prepare the outgoing shipment earlier, considering the possibility of delays in the
  fulfillment process.

- :ref:`Purchase lead time <inventory/warehouses_storage/purchase-lt>`: number of days from the
  confirmation of a purchase order (PO) to the receipt of products. It provides insight on the time
  it takes for products to arrive at the warehouse, facilitating effective scheduling and planning
  of supplier deliveries.

- :ref:`Purchase security lead time <inventory/warehouses_storage/purchase-security-lt>`: advances
  the order deadline on a :abbr:`PO (Purchase Order)` by a specified number of days. This proactive
  approach of placing orders earlier mitigates the risk of vendor or shipping delays. Thus, for
  products that are set to replenish to order, the need appears on the *Replenishment report*
  earlier, according to the specified number of days.

- :ref:`Days to Purchase <inventory/warehouses_storage/days-to-purchase>`: days needed for the
  vendor to receive a request for quotation (RFQ) and confirm it. It advances the deadline to
  schedule a |RFQ| by a specified number of days.

- :ref:`Manufacturing lead time <inventory/warehouses_storage/manuf-lt>`: number of days needed to
  complete a manufacturing order (MO) from the date of confirmation. This lead time includes
  weekends (non-working hours in Odoo), and is used to forecast an approximate production date for a
  finished good.

- :ref:`Days to prepare manufacturing order
  <inventory/warehouses_storage/prepare-manufacturing-order>`: number of days needed to replenish
  components, or manufacture sub-assemblies of the product. Either set one directly on the bill of
  materials (BoM), or click *Compute* to sum up purchase and manufacturing lead times of components
  in the |BoM|.

- :ref:`Manufacturing security lead time <inventory/warehouses_storage/manuf-security-lt>`: moves
  the scheduled date of the |MO| forward by a specified number of days. When used in conjunction
  with :ref:`replenish to order <inventory/management/products/strategies>`, the security lead time
  makes the need appear earlier on the replenishment report.

.. _inventory/warehouses_storage/customer-lt:

Sales lead times
================

Customer lead times and sales security lead times can be configured to automatically compute an
*expected delivery date* on a :abbr:`SO (Sales Order)`. The expected delivery date ensures a
realistic *delivery dates* setting for shipments from the warehouse.

Odoo issues a warning message if the set delivery date is earlier than the expected date, as it may
not be feasible to fulfill the order by that time, which would impact other warehouse operations.

.. example::
   A :abbr:`SO (sales order)` containing a `Coconut-scented candle` is confirmed on July 11th. The
   product has a customer lead time of 14 days, and the business uses a sales security lead time of
   1 day. Based on the lead time inputs, Odoo suggests a delivery date in 15 days, on July 26th.

   .. image:: lead_times/scheduled-date.png
      :alt: Set *Delivery Date* in a sales order. Enables delivery lead times feature.

The following sections demonstrate how to automatically compute expected delivery dates.

Customer lead time
------------------

Set the customer lead time on each product form, by navigating to the products page. To do so, go to
:menuselection:`Sales app --> Products --> Products`. From there, select the desired product, and
switch to the :guilabel:`Inventory` tab. Then, under the :guilabel:`Customer Lead Time` field, fill
in the number of calendar days required to fulfill the delivery order from start to finish.

.. example::
   Set a 14-day customer lead time for the `Coconut-scented candle` by navigating to its product
   form. Then, in the :guilabel:`Inventory` tab, type `14.00` days into the :guilabel:`Customer Lead
   Time` field.

   .. image:: lead_times/customer.png
      :alt: Set *Customer Lead Time* on the product form.

.. _inventory/warehouses_storage/sales-security-lt:

Sales security lead time
------------------------

*Sales security lead time* is set globally for the business in :menuselection:`Inventory app -->
Configuration --> Settings`.

On the configuration page, under the :guilabel:`Advanced Scheduling` heading, locate the box for
:guilabel:`Security Lead Time for Sales`, and click the checkbox to enable the feature.

Next, enter the desired number of calendar days. This security lead time is a buffer notifying the
team to prepare for outgoing shipments earlier than the scheduled date.

.. example::
   Setting the :guilabel:`Security Lead Time for Sales` to `1.00` day, pushes the
   :guilabel:`Scheduled Date` of a delivery order (DO) forward by one day. In that case, if a
   product is initially scheduled for delivery on April 6th, but with a one-day security lead time,
   the new scheduled date for the delivery order would be April 5th.

   .. image:: lead_times/sales-security.png
      :alt: View of the security lead time for sales configuration from the sales settings.

Deliver several products
------------------------

For orders that include multiple products with different lead times, the lead times can be
configured directly from the quotation itself. On a quotation, click the :guilabel:`Other Info` tab,
and set the :guilabel:`Shipping Policy` to:

#. :guilabel:`As soon as possible` to deliver products as soon as they are ready. The
   :guilabel:`Scheduled Date` of the :abbr:`DO (Delivery Order)` is determined by adding today's
   date to the shortest lead time among the products in the order.

#. :guilabel:`When all products are ready` to wait to fulfill the entire order at once. The
   :guilabel:`Scheduled Date` of the :abbr:`DO (Delivery Order)` is determined by adding today's
   date to the longest lead time among the products in the order.

.. image:: lead_times/shipping-policy.png
   :alt: Show *Shipping Policy* field in the *Other Info* tab of a quotation.

.. example::
   In a quotation containing 2 products, `Yoga mat` and `Resistance band,` the products have a lead
   time of 8 days and 5 days, respectively. Today's date is April 2nd.

   When the :guilabel:`Shipping Policy` is set to :guilabel:`As soon as possible`, the scheduled
   delivery date is 5 days from today: April 7th. On the other hand, selecting :guilabel:`When all
   products are ready` configures the scheduled date to be 8 days from today: April 10th.

Purchase lead times
===================

Automatically scheduling supplier orders streamlines procurement by showing users exactly when to
confirm a request for quotation (RFQ) and when to expect the goods.

.. list-table:: Key dates on an RFQ / PO
   :header-rows: 1
   :stub-columns: 1

   * - Field
     - Description
   * - Order Deadline
     - Last calendar day to confirm the |RFQ| and convert it to a |PO|
   * - Expected Arrival
     - Arrival date of the products. Calculated by *Order Deadline* + *Vendor Lead Time*

In addition, Odoo has global security lead times, which are buffers that widen the
:doc:`just-in-time <just_in_time>` (JIT) forecast window. The security lead times affect **only**
replenishment methods that use :doc:`pull rules
<../../shipping_receiving/daily_operations/use_routes>`â€”for example :doc:`reordering rules
<reordering_rules>` or :doc:`make to order (MTO) <mto>`. They do not change the interval between
*Order Deadline* and *Expected Arrival*.

.. seealso::
   :doc:`PO scheduling with reordering rules <reordering_rules>`

.. list-table:: Global security lead time buffers
   :header-rows: 1
   :stub-columns: 1

   * - Buffer
     - Purpose
     - Impact on dates
   * - :ref:`Purchase Security Lead Time <inventory/warehouses_storage/purchase-security-lt>`
     - Extra calendar days to account for delays. Typically used to account for weekends or
       holidays.
     - None on the |RFQ|/|PO|; adds buffer days in the :ref:`JIT forecast window
       <inventory/warehouses_storage/forecasted-date>`.
   * - :ref:`Days to Purchase <inventory/warehouses_storage/days-to-purchase>`
     - Days the vendor needs to review an |RFQ| after it is sent.
     - None on the |RFQ|/|PO|; adds buffer days in the :ref:`JIT forecast window
       <inventory/warehouses_storage/forecasted-date>`.

.. image:: lead_times/vendor-lead-times.png
   :alt: Visualization of PO deadline and receipt date used with vendor lead times.

.. example::
   To tie all the purchase lead times together, consider this:

   - Today: April 21
   - :guilabel:`Vendor Lead Time`: 1 day
   - :guilabel:`Purchase Security Lead Time`: 4 days
   - :guilabel:`Days to Purchase`: 2 days

   Days from today = 1 + 4 + 2 = 7

   Forecasted date = April 28

   .. figure:: lead_times/forecasted-date-purchase.png
      :alt: Forecasted date calculation on the lead times pop-up.

      Example of the :abbr:`JIT (just-in-time)` forecast window, which is April 21-28.

   If an |RFQ| is created today, the following fields show:

   - :guilabel:`Order Deadline`: April 23 (:math:`\text{Today} + 2`)
   - :guilabel:`Expected Arrival`: April 24 (:math:`\text{Order Deadline} + 1`)

   .. image:: lead_times/order-deadline.png
      :alt: Order deadline displaying Apr 23 and Expected Arrival Apr 24.

.. _inventory/warehouses_storage/purchase-lt:

Vendor lead time
----------------

To set a vendor lead time for orders arriving in the warehouse from a vendor location, begin by
navigating to a product form through :menuselection:`Purchase app --> Products --> Products`.

Next, select the desired product, and switch to the :guilabel:`Purchase` tab. In the editable vendor
pricelist, click the :guilabel:`Add a line` button to add vendor details, such as the
:guilabel:`Vendor` name, :guilabel:`Price` offered for the product, and lastly, the
:guilabel:`Delivery Lead Time`.

.. note::
   Multiple vendors and lead times can be added to the vendor pricelist. The default vendor and lead
   time selected is the entry at the top of the list.

.. tip::
   A |PO| is marked late if the *Expected Arrival* date has passed, and appears in the *Late* box on
   the **Purchase** app's dashboard.

.. example::
   On the vendor pricelist of the product form, the :guilabel:`Delivery Lead Time` for the selected
   vendor is set to `10 days.`

   .. image:: lead_times/set-vendor.png
      :alt: Add delivery lead times to vendor pricelist on a product.

.. _inventory/warehouses_storage/purchase-security-lt:

Purchase security lead time
---------------------------

*Purchase security lead time* is a global buffer to account for delays, applied to **all** vendors.
To set it, go to :menuselection:`Inventory app --> Configuration --> Settings`.

Under :guilabel:`Advanced Scheduling`, tick the :guilabel:`Security Lead Time for Purchase`
checkbox.

Next, enter the desired number of calendar days. By configuring the security lead time, a buffer is
set to account for potential delays in supplier deliveries. Then, click :guilabel:`Save`.

.. _inventory/warehouses_storage/days-to-purchase:

Days to purchase lead time
--------------------------

To set it up, go to :menuselection:`Inventory app --> Configuration --> Settings`. Under the
:guilabel:`Advanced Scheduling` section, in the :guilabel:`Days to Purchase` field, specify the
number of days required for the vendor to confirm a |RFQ| after receiving it from the company.

.. _inventory/warehouses_storage/manuf-lt:

Manufacturing lead times
========================

Lead times can help simplify the procurement process for consumable materials and components used in
manufactured products with bills of materials (BoMs).

The |MO| deadline, which is the deadline to begin the manufacturing process to complete the product
by the scheduled delivery date, can be determined by configuring the manufacturing lead times and
manufacturing security lead times.

.. image:: lead_times/manuf-lead-times.png
   :alt: Visualization of the determination of planned MO date manufacturing lead times.

Manufacturing lead time
-----------------------

Manufacturing lead times for products are configured from a product's bill of materials (BoM) form.

To add a lead time to a |BoM|, navigate to :menuselection:`Manufacturing app --> Products --> Bills
of Materials`, and select the desired |BoM| to edit.

On the |BoM| form, click the :guilabel:`Miscellaneous` tab. Change the value (in days) in the
:guilabel:`Manuf. Lead Time` field to specify the calendar days needed to manufacture the product.

.. image:: lead_times/set-manufacturing.png
   :alt: Manuf. Lead Time value specified on a product's Bill of Material form.

.. note::
   If the selected |BoM| is a multi-level |BoM|, the manufacturing lead times of the components are
   added.

   If the |BoM| product is subcontracted, the :guilabel:`Manuf. Lead Time` can be used to determine
   the date at which components should be sent to the subcontractor.

Establish a |MO| deadline, based on the *expected delivery date*, indicated in the
:guilabel:`Scheduled Date` field of the :abbr:`DO (Delivery Order)`.

The |MO| deadline, which is the :guilabel:`Scheduled Date` field on the |MO|, is calculated as the
*expected delivery date* subtracted by the manufacturing lead time.

This ensures the manufacturing process begins on time, in order to meet the delivery date.

However, it is important to note that lead times are based on calendar days. Lead times do **not**
consider weekends, holidays, or *work center capacity* (:dfn:`the number of operations that can be
performed at the work center simultaneously`).

.. seealso::
   - :doc:`Manufacturing planning <../../../manufacturing/workflows/use_mps>`
   - :doc:`Schedule MOs with reordering rules <reordering_rules>`

.. example::
   A product's scheduled shipment date on the :abbr:`DO (Delivery Order)` is August 15th. The
   product requires 14 days to manufacture. So, the latest date to start the :abbr:`MO
   (Manufacturing Order)` to meet the commitment date is August 1st.

.. _inventory/warehouses_storage/prepare-manufacturing-order:

Days to prepare manufacturing order
-----------------------------------

Configure the days required to gather components to manufacture a product by going to its |BoM|. To
do that, go to :menuselection:`Manufacturing app --> Products --> Bills of Materials`, and select
the desired |BoM|.

In the :guilabel:`Miscellaneous` tab of the |BoM|, specify the calendar days needed to obtain
components of the product in the :guilabel:`Days to prepare Manufacturing Order` field. Doing so
creates |MOs| in advance, and ensures there is enough time to either replenish components, or
manufacture semi-finished products.

.. tip::
   Clicking :guilabel:`Compute`, located next to the :guilabel:`Days to prepare Manufacturing Order`
   field, calculates the longest lead time among all the components listed on the |BoM|.

   *Purchase security lead times* that impact this specific |BoM| are also added to this value.

.. example::

   A |BoM| has two components, one has a manufacturing lead time of two days, and the other has a
   purchase lead time of four days. The :guilabel:`Days to prepare Manufacturing Order` is four
   days.

.. _inventory/warehouses_storage/manuf-security-lt:

Manufacturing security lead time
--------------------------------

*Manufacturing security lead time* is set globally for the business in :menuselection:`Manufacturing
app --> Configuration --> Settings`. Under the :guilabel:`Planning` heading, tick the checkbox for
:guilabel:`Security Lead Time`.

Next, enter the desired number of calendar days. By configuring the security lead time, a buffer is
set to account for potential delays in the manufacturing process. Then, click :guilabel:`Save`.

.. image:: lead_times/manuf-security.png
   :alt: View of the security lead time for manufacturing from the manufacturing app settings.

.. example::
   A product has a scheduled shipment date on the :abbr:`DO (Delivery Order)` set for August 15th.
   The manufacturing lead time is 7 days, and manufacturing security lead time is 3 days. So, the
   :guilabel:`Scheduled Date` on the |MO| reflects the latest date to begin the manufacturing order.
   In this example, the planned date on the |MO| is August 5th.

Global example
==============

See the following example to understand how all the lead times work together to ensure timely order
fulfillment:

- **Sales security lead time**: 1 day
- **Manufacturing security lead time**: 2 days
- **Manufacturing lead time**: 3 days
- **Purchase security lead time**: 1 day
- **Vendor lead time**: 4 days

The customer places an order for a manufactured product on September 1st, and the scheduled delivery
date from the warehouse is on September 20th. Odoo uses lead times and automated reordering rules to
schedule the necessary operations, based on the outgoing shipment delivery date, September 20th:

.. image:: lead_times/global-example.png
   :alt: Show timeline of how lead times work together to schedule warehouse operations.

- **September 1st**: Sales order created, confirmed by salesperson.

- **September 9th**: Deadline to order components to ensure they arrive in time when manufacturing
  begins (4-day supplier lead time).

- **September 13th**: Scheduled date of receipt for components. Initially, it was set to 9/14, but
  the 1-day purchase security lead time pushed the date earlier by 1 day.

- **September 14th**: Deadline to begin manufacturing. Calculated by subtracting the manufacturing
  lead time of 3 days, and the manufacturing security lead time of 2 days, from the expected
  delivery date of September 19th.

- **September 19th**: :guilabel:`Scheduled Date` on the delivery order form indicates the updated
  expected delivery date, which was originally set as September 20th. But the sales security lead
  time pushed the date forward by a day.

Odoo's replenishment planning maps a business' order fulfillment process, setting pre-determined
deadlines and raw material order dates, including buffer days for potential delays. This ensures
products are delivered on time.


==================================================
SECTION: least_packages.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies/least_packages.rst
==================================================

======================
Least packages removal
======================

The *Least Packages* removal strategy fulfills an order by opening the fewest number of packages,
which is ideal for maintaining organized stock without needing to open multiple boxes.

.. _inventory/warehouses_storage/pkg-qty:

.. example::

   To understand how the removal strategy works, consider the following example, featuring a
   warehouse that stores packages of flour in bulk packages of `100 kg`.

   To minimize moisture and prevent possible loss of product due to spillage and repacking, the
   least packages removal strategy is used to fill the order by opening the fewest packages of
   flour, instead of opening multiple packages.

   A package of `100 kg` of flour is depleted to `54 kg` after fulfilling some orders. There are
   other packages of `100 kg` in stock.

   When an order for `14 kg` of flour is placed, the package of `54 kg` is selected, leaving `40 kg`
   of flour in the bag. Another order for `80 kg` of flour is placed. An unopened `100 kg` package
   is used to fulfill the order.

   While this temporarily results in two open packages, one for `40 kg` and another for `20 kg`,
   these open packages are prioritized in the next pickings that are those sizes or smaller.

Enabling the least packages removal strategy
============================================

A *package* is a physical container holding one or more products. Packages can also be used to store
items in bulk.

The packages feature is used to group products together and is required for the *least packages*
removal strategy.

Navigate to :menuselection:`Inventory app --> Configuration --> Settings` and in the
:guilabel:`Operations` section, select the check box for the :guilabel:`Packages` feature.

Store products in packages
--------------------------

First, products are received either in packages or individually. Next, the received products are
stored in packages created :ref:`during a transfer <inventory/warehouses_storage/pack>`.

Set the removal strategy
------------------------

After you have configured your product inventory, set the removal strategy on the :ref:`storage
location <inventory/warehouses_storage/lp-location>` or :ref:`product category
<inventory/warehouses_storage/lp-category>`.

.. _inventory/warehouses_storage/lp-location:

On the storage location
~~~~~~~~~~~~~~~~~~~~~~~

To set a removal strategy on a storage location, you must first enable a couple settings in the
**Inventory** configuration settings. Open :menuselection:`Inventory app --> Configuration -->
Settings`, and in the :guilabel:`Warehouse` section, enable :guilabel:`Storage Locations` and
:guilabel:`Multi-Step Routes`.

Next, open :menuselection:`Inventory app --> Configuration --> Locations`. Open an existing location
or create a new location. On the location form, under the :guilabel:`Logistics` heading, set
the :guilabel:`Removal Strategy`. to :guilabel:`Least Packages`

.. image:: least_packages/location-removal-strategy.png
   :alt: Set Least Packages as the location's removal strategy.

.. _inventory/warehouses_storage/lp-category:

On the product category
~~~~~~~~~~~~~~~~~~~~~~~

Configure removal strategies on product categories by going to :menuselection:`Inventory app -->
Configuration --> Categories` and selecting the intended product category. Next, in the
:guilabel:`Force Removal Strategy` field, select :guilabel:`Least Packages`.

.. image:: least_packages/category-removal-strategy.png
   :alt: Set Least Packages as the category's removal strategy.

.. important::
   When there are different removal strategies applied on both the location and product category for
   a product, the value set on the :guilabel:`Force Removal Strategy` field set on a product
   category form is applied as top priority.

   For example, flour is stored in 100-kilogram packages. It is stored in a location with other
   heavy items. To minimize how far pickers have to walk, the location uses the :doc:`closest
   location removal strategy <closest_location>`. To further optimize the picking time, and to
   reduce the number of packages opened during picking, the flour's product category, `Baking
   Materials`, uses the least packages removal strategy.

Workflow
========

Using the *least packages* removal strategy, the fewest number of packages is used to fulfill an
order.

Consider the following example, featuring the product, `Flour (kg)`. The product's
:doc:`unit of measure <../../product_management/configure/uom>`, located on the product form, is set
to `kg`. The product is stored in packages of `100 kg`, with one remaining package containing `54
kg`. The product category's :guilabel:`Force Removal Strategy` is set to :guilabel:`Least Packages`.

.. tip::
   You can verify the product's on-hand stock in the :guilabel:`Locations` report. Open
   :menuselection:`Inventory app --> Reporting --> Locations`. Click in the :guilabel:`Search` field
   to filter by :guilabel:`On Hand`, as well as product.

   .. image:: least_packages/on-hand-quantities.png
      :alt: Show on-hand stock in each package.

A sales order is created for eighty kilograms of flour by going to the :menuselection:`Sales app`
and creating a new quotation. After clicking :guilabel:`Confirm`, the :ref:`delivery order
<inventory/delivery/one-step>` is created.

On the delivery order, the :guilabel:`Quantity` field displays the amount automatically picked,
according to the removal strategy.

For more details about *where* the units were picked, click  :guilabel:`Details` on the product
line. Doing so opens the :guilabel:`Detailed Operations` pop-up window, displaying how the reserved
items were picked, according to the removal strategy.

In the :guilabel:`Detailed Operations` pop-up window, the :guilabel:`Pick From` field displays where
the quantities to fulfill the :guilabel:`Demand` are picked. Because the order demands eighty
kilograms, which exceeds the quantity in the opened package of `54 kg`, an unopened package of `100
kg` is selected.

.. image:: least_packages/least-package.png
   :alt: Show which package was picked in the *Pick From* field.

.. seealso::
   - :doc:`About removal strategies <../removal_strategies>`
   - `Odoo Tutorials: Least Packages <https://www.odoo.com/slides/slide/5477/share>`_


==================================================
SECTION: lifo.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies/lifo.rst
==================================================

============
LIFO removal
============

The *Last In, First Out* (LIFO) removal strategy picks the **newest** products on-hand, based on the
date they entered a warehouse's stock.

Every time an order is placed for products using the :abbr:`LIFO (Last In, First Out)` strategy, a
transfer is created for the lot/serial number that has most recently entered the stock (the **last**
lot/serial number that entered the warehouse's inventory).

.. warning::
   In many countries, the :abbr:`LIFO (Last In, First Out)` removal strategy is banned, since it can
   potentially result in old, expired, or obsolete products being delivered to customers.

.. _inventory/warehouses_storage/lifo_enable:

Enabling the LIFO removal strategy
==================================

Lots and serial numbers differentiate identical products and track information like arrival or
expiration dates. To enable this feature, navigate to :menuselection:`Inventory --> Configuration
--> Settings`. Under the :guilabel:`Traceability` section, check the box beside :guilabel:`Lots &
Serial Numbers` to enable the feature.

.. image:: lifo/enable-lots-serial-numbers.png
   :alt: Enable Lots & Serial Numbers in the Inventory settings.

Enable tracking by lots or serial numbers
-----------------------------------------

Next, ensure the intended product is tracked by lots or serial numbers by navigating to the product
form in the :menuselection:`Inventory app --> Products --> Products`, then selecting the desired
product. On the product form, open the :guilabel:`General Information` tab, select the checkbox next
to the :guilabel:`Track Inventory` field, then choose either :guilabel:`By Unique Serial Number` or
:guilabel:`By Lots`.

.. image:: lifo/track-by-serial-number.png
   :alt: Enable tracking by serial number.

Assigning lots and serial numbers
---------------------------------

After enabling the features, assign lot or serial numbers to products using an :doc:`inventory
adjustment <../../warehouses_storage/inventory_management/count_products>` or :ref:`during reception
<inventory/product_management/assign-lots>`.

Setting removal strategies
--------------------------

After lots or serial numbers have been assigned, set the removal strategy on the product category or
storage location.

.. image:: lifo/location-categories.png
   :alt: Find the Locations or Categories from the Configuration menu.

On the storage location
~~~~~~~~~~~~~~~~~~~~~~~

Open :menuselection:`Inventory app --> Configuration --> Locations`. Select the desired location. On
the location form, under the :guilabel:`Logistics` heading, select :guilabel:`Last In First Out
(LIFO)` from the list of removal strategies.

.. image:: lifo/lifo-on-location.png
   :alt: Set Last In First Out as the location removal strategy.

On the product category
~~~~~~~~~~~~~~~~~~~~~~~

Configure removal strategies on product categories by going to :menuselection:`Inventory app -->
Configuration --> Categories` and selecting the intended product category. In the
:guilabel:`Logistics` section, specify :guilabel:`Last In First Out (LIFO)` in the :guilabel:`Force
Removal Strategy` field.

.. image:: lifo/lifo-on-category.png
   :alt: Set Last In First Out as the product category removal strategy.

.. important::
   When there are different removal strategies applied on both the location and product category for
   a product, the value set on the :guilabel:`Force Removal Strategy` field set on a product
   category form is applied as top priority.

Workflow
========

Consider the following example, with the product, `Cinder Block`, which is tracked :guilabel:`By
Lots` in the :guilabel:`General Information` tab of the product form. The :guilabel:`Force Removal
Strategy` for the cinder block's product category is set to :guilabel:`Last In, First Out (LIFO)`.

The following table lists the cinder blocks in stock and their respective lot numbers.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - LOT1
     - LOT2
     - LOT3
   * - On-hand stock
     - 10
     - 10
     - 10
   * - :ref:`Created on <inventory/warehouses_storage/arrival_date>`
     - June 1
     - June 3
     - June 6

To see the removal strategy in action, create a :ref:`delivery order <inventory/delivery/one-step>`
for seven cinder blocks by navigating to the **Sales** app and creating a new quotation.

Click :guilabel:`Confirm` on the sales order form to create a delivery order. Doing so reserves the
newest lot numbers using the :abbr:`LIFO (Last In, First Out)` removal strategy.

To view the detailed pickings, click the :guilabel:`Details` link at the far-right of the cinder
block's product line in the :guilabel:`Operations` tab of the delivery order.

.. image:: lifo/details-link.png
   :alt: Find the Details link in the Operations tab of the delivery order.

Clicking the :guilabel:`Details` link opens the :guilabel:`Detailed Operations` pop-up window.

In the :guilabel:`Detailed Operations` pop-up window, the :guilabel:`Pick From` field shows where
the quantities to fulfill the :guilabel:`Demand` are picked. Since the order demanded seven cinder
blocks, the newest cinder blocks from `LOT3` are selected using the :abbr:`LIFO (Last In, First
Out)` removal strategy.

.. image:: lifo/cinder-block-picking.png
   :alt: The detailed operations shows which lots are being selected for the picking.

.. seealso::
   - :doc:`Removal strategies <../removal_strategies>`
   - :ref:`Enable lots tracking <inventory/warehouses_storage/lots-setup>`
   - :ref:`Check arrival date <inventory/warehouses_storage/arrival_date>`


==================================================
SECTION: locations.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting/locations.rst
==================================================

================
Locations report
================

The *Locations* report in the **Inventory** application provides an overview of on-hand storage
locations for company products. Use this report to see where stock is stored, identify
:ref:`misplaced items <inventory/warehouse_storage/stranded>`, or view past inventory to see product
locations on specific dates.

To access the  *Locations* report, the *Storage Locations* feature must be enabled. To do that, go
to :menuselection:`Inventory app --> Configuration --> Settings`. In the :guilabel:`Warehouse`
section, tick the checkbox for :guilabel:`Storage Locations`, and click :guilabel:`Save`. Then,
access the main :guilabel:`Locations` report by navigating to :menuselection:`Inventory app -->
Reporting --> Locations`.

.. note::
   The *Reporting* menu in **Inventory** is only accessible to users with :doc:`admin access
   <../../../../general/users/access_rights>`.

.. _inventory/warehouses_storage/locations-report:

Navigate the report
===================

By default, the :guilabel:`Locations` report lists all on-hand products in stock (in the
:guilabel:`Product` column), along with the following information:

- :guilabel:`Location`: current storage location. If a product is stored at `Shelf 1` and `Shelf 2`,
  the product is listed twice, showing quantities at each location.
- :guilabel:`Package`: the package that the product is stored in, if any.
- :guilabel:`Lot/Serial Number`: if the product has a lot or serial number, it is specified here.
- :guilabel:`On Hand Quantity`: current quantity of products. Click the :icon:`fa-pencil`
  :guilabel:`(edit)` icon to :doc:`modify the on-hand quantity
  <../inventory_management/count_products>`.
- :guilabel:`Reserved Quantity`: on-hand quantity reserved for operations, such as pickings,
  delivery orders, or manufacturings.
- :guilabel:`Unit`: the unit of measure of the product.

Click the buttons to the right of each row item to access additional information:

- :icon:`fa-history` :guilabel:`History`: access the stock move history of the product, displaying
  information about the quantity and description of why the product was moved from one location to
  another.

  .. tip::
     View what the product is reserved for, by clicking the :icon:`fa-history` :guilabel:`History`
     button on the far-right of the product line.

     On the :guilabel:`Moves History` page, remove the :icon:`fa-filter` :guilabel:`Done` filter
     from the search bar to reveal filter options, and select the :guilabel:`To Do` filter.

     .. image:: locations/reserved-products.png
        :alt: Display *Moves History* page of to-do deliveries that reserved the product.

- :icon:`fa-refresh` :guilabel:`Replenishment`: access the :doc:`reordering rules
  <../replenishment/reordering_rules>` page to replenish products at the specific location.

In the upper-left corner of the page, click the :guilabel:`New` button to make an :doc:`inventory
adjustment <../inventory_management/count_products>` to record quantities of a certain product at a
specific :guilabel:`Location`.

To view products, quantities, and their locations for a specified date, click the
:guilabel:`Inventory At Date` button (also located in the upper-left corner of the page). Select a
date and time in the :guilabel:`Inventory at Date` field, then click :guilabel:`Confirm`.

View empty locations
--------------------

To view which locations are currently empty, navigate to :menuselection:`Inventory --> Configuration
--> Locations`.

Empty locations are designated by the checkbox in the :guilabel:`Is Empty` column. To show only
empty locations, click into the search bar and select the :guilabel:`Empty Locations` filter.

.. image:: locations/empty-locations.png
   :alt: A list of the empty locations in the Inventory app.

Generate reports
================

After learning how to :ref:`navigate the locations report
<inventory/warehouses_storage/locations-report>`, it can be used to create and share different
reports.

A few common reports that can be created using the :guilabel:`Locations` report are
detailed below.

Dead stock report
-----------------

To get list of expired items, also referred to as *dead stock*, follow these steps:

#. Go to :menuselection:`Inventory app --> Reporting --> Locations`.
#. Then, click into the search bar to reveal a drop-down list of :guilabel:`Filters`,
   :guilabel:`Group By`, and :guilabel:`Favorite` options.
#. Enable the :guilabel:`Internal Locations` and :guilabel:`Expiration Alerts` option under the
   :guilabel:`Filters` section.

The report now displays a list of expired products.

.. note::
   This report can also be generated from the :ref:`Lot and Serials Numbers
   <inventory/product_management/expiration-alerts>` page, accessed by going to
   :menuselection:`Inventory app --> Products --> Lots/Serial Numbers`.

.. image:: locations/dead-stock.png
   :alt: Show a list of products whose expiration dates have exceeded today.

.. _inventory/warehouse_storage/stranded:

Stranded inventory report
-------------------------

Businesses using multi-step flows in the **Inventory** or **Manufacturing** apps, may have
*stranded* items, which are products not in their proper storage locations, due to human error. Use
this report to periodically check transfer locations (e.g. *WH/Input*, *WH/Pre-Processing*) to
ensure items are moved to their intended storage locations, and accurately recorded in the database.

To get a list of items that might be sitting idly in storage, follow these steps:

#. Go to :menuselection:`Inventory app --> Reporting --> Locations`.
#. In the search bar, begin typing the name of the location where products are intended to be moved
   to, such as `WH/Input`,  or `WH/Packing`.
#. Select the :guilabel:`Search Location for:` [location name] option from the resulting drop-down
   menu that appears beneath the search bar.

   .. image:: locations/search-input-location.png
      :alt: Show search result for the location.

The report now displays a list of products at the transit location.

.. example::
   Searching `Input` in :guilabel:`Location` shows a list of products at a *WH/Input* location.

   The list shows `500` quantities of `Chicken`, which is alarming if not refrigerated soon after
   reception. The stranded inventory report helps identify items that have been idling in
   non-storage locations.

   .. image:: locations/stranded-inventory.png
      :alt: Show items stored at a specific location.

Inventory discrepancy report
----------------------------

To generate a report of items that have been moved since the last :doc:`inventory audit
<../inventory_management/cycle_counts>`, follow these steps:

#. Go to :menuselection:`Inventory app --> Reporting --> Locations`.
#. Then, click into the search bar to reveal a drop-down list of :guilabel:`Filters`,
   :guilabel:`Group By`, and :guilabel:`Favorite` options.
#. Enable the :guilabel:`Internal Locations` and :guilabel:`Conflicts` option from the
   :guilabel:`Filters` section.
#. The report now displays items whose quantities have changed since the last cycle count.

   .. image:: locations/discrepancy.png
      :alt: Show items from the *Conflicts* filter in the report.

#. Click the :icon:`fa-history` :guilabel:`History` button to view inventory transfers, including
   receipts and deliveries, that have occurred since the inventory adjustment.

   .. image:: locations/history.png
      :alt: Show *Moves History*, showing a delivery that occurred after an inventory adjustment.


==================================================
SECTION: lots.rst
PATH: applications/inventory_and_mrp/inventory/product_management/product_tracking/lots.rst
==================================================

===========
Lot numbers
===========

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |DO| replace:: :abbr:`DO (Delivery Order)`
.. |list| replace:: :icon:`fa-list` :guilabel:`(list)`

*Lots* are one of the two ways to identify and track products in Odoo. They typically represent a
specific batch of products that were received, stored, shipped, or manufactured in-house.

Manufacturers assign lot numbers to groups of products sharing common properties, facilitating
end-to-end traceability through their lifecycles.

Lots are useful for managing large quantities of manufactured or received products, aiding in
tracing items back to their group, particularly for product recalls or :doc:`expiration dates
<expiration_dates>`.

.. seealso::
   :doc:`serial_numbers`

Enable lots & serial numbers
============================

To track products using lots, enable the *Lots & Serial Numbers* feature. Go to the
:menuselection:`Inventory app --> Configuration --> Settings`, scroll down to the
:guilabel:`Traceability` section, and tick the checkbox next to :guilabel:`Lots & Serial Numbers`.
Then, click :guilabel:`Save`.

.. seealso::
   - :doc:`Tracking expiration dates <expiration_dates>`
   - :ref:`Print GS1 barcodes for lots and serial numbers <barcode/operations/gs1-lots>`

.. image:: lots/enabled-lots-setting.png
   :alt: Enabled lots and serial numbers feature in inventory settings.

.. _inventory/management/track_products_by_lots:

Track by lots
=============

Once the :guilabel:`Lots & Serial Numbers` feature is activated, configure individual products to be
tracked using lots. To do this, go to :menuselection:`Inventory app --> Products --> Products`, and
choose a product to configure.

On the product form, click into the :guilabel:`General Information` tab. In the :guilabel:`Track
Inventory` field, tick the checkbox, then select :guilabel:`By Lots` from the drop-down menu. Now,
new or existing lot numbers can be assigned to newly-received or manufactured batches of this
product.

.. seealso::
   :doc:`expiration_dates`

.. important::
   If a product has stock on-hand prior to activating tracking by lots or serial numbers, a warning
   message appears. Use an :doc:`inventory adjustment <reassign>` to assign lot numbers to existing
   products in stock.

.. image:: lots/tracking-product-form.png
   :alt: Enabled tracking by lots feature on product form.

Assigning lots for shipping and receiving
=========================================

Assign new lot numbers to :ref:`incoming goods <inventory/product_management/assign-lots>` on the
receipt form. When shipping :ref:`outgoing goods
<inventory/product_management/assign-lots-delivery>`, select products with specific lot numbers on
the delivery order form.

.. _inventory/product_management/assign-lots:

Assigning on receipts
---------------------

Assigning new or existing lot numbers to incoming goods can be done directly on receipts.

To begin, go to the :menuselection:`Purchase` app to `create and confirm
<https://www.youtube.com/watch?v=o_uI718P1Dc>`_ a |PO| for products tracked by lot numbers. Then,
click the :guilabel:`Receipt` smart button that appears at the top of the page to navigate to the
warehouse receipt form.

.. note::
   Alternatively, navigate to an existing receipt by going to the :menuselection:`Inventory` app,
   clicking the :guilabel:`Receipts` Kanban card, and choosing the desired receipt.

.. important::
   Clicking :guilabel:`Validate` before assigning a lot number triggers an error, indicating that a
   lot number **must** be assigned before validating the receipt.

   .. image:: lots/user-error.png
      :alt: Add lot/serial number user error popup.

On the product line in the :guilabel:`Operations` tab, select the :guilabel:`Details` link to the
right of the product that is tracked by lot numbers.

.. image:: lots/details-link.png
   :alt: The Details link on the product line.

Doing so opens the :guilabel:`Detailed Operations` pop-up window, where the :guilabel:`Lot/Serial
Number` and :guilabel:`Quantity` are assigned.

There are two ways to assign lot numbers: **manually** and **importing**.

Manual assignment
~~~~~~~~~~~~~~~~~

To manually assign lot numbers, click :guilabel:`Add a line`. Input the :guilabel:`Lot/Serial
Number` and :guilabel:`Quantity`.

.. note::
   To assign multiple lot numbers, or store to multiple locations, click :guilabel:`Add a line`, and
   type a new :guilabel:`Lot/Serial Number` for additional quantities. Repeat until the total in the
   :guilabel:`Quantity` column matches the :guilabel:`Demand` at the top.

.. image:: lots/assign-lots-popup.png
   :alt: Assign lot number detailed operations popup.

Assignment by import
~~~~~~~~~~~~~~~~~~~~

In the :guilabel:`Detailed Operations` pop-up window, click :guilabel:`Import Serials/Lots`, then
paste the bulk lot numbers in the :guilabel:`Lots/Serial numbers` field.

.. figure:: lots/bulk-sn.png
   :alt: Lot numbers copied to the lot number line.

   Lot numbers pasted to the "Lots/Serial numbers" field, in the **Import Lots** pop-up window.

Tick the :guilabel:`Keep current lines` checkbox to generate *additional* lot numbers in the
:guilabel:`Detailed Operations` pop-up window. To replace the lot numbers in the list, leave the
:guilabel:`Keep current lines` option unticked.

Finally, click :guilabel:`Generate`.

For products tracked by lots, be sure to update the :guilabel:`Quantity` field in the
:guilabel:`Detailed Operations` window until the total in the column matches the :guilabel:`Demand`
at the top.

Once all product quantities have been assigned a lot number, click :guilabel:`Save` to close the
pop-up window. Then, click :guilabel:`Validate` on the receipt form.

.. seealso::
   :ref:`Traceability report for lot numbers <inventory/product_management/lot-traceability>`

.. _inventory/product_management/assign-lots-delivery:

Assigning on delivery orders
----------------------------

Odoo makes it possible to specify which lot numbers for a product are chosen for outgoing shipment
on a delivery order form.

To begin, create or select an existing quotation from the :menuselection:`Sales` app. After
confirming the |SO|, the :guilabel:`Delivery` smart button becomes available. Click the
:guilabel:`Delivery` smart button to view the warehouse receipt form for that specific |SO|.

.. note::
   Alternatively, navigate to delivery orders by going to the :menuselection:`Inventory` app, and
   clicking the :guilabel:`Delivery Orders` kanban card.

Clicking the :guilabel:`Delivery` smart button opens the the delivery order form, where lot numbers
are picked for delivery. In the :guilabel:`Operations` tab, click the :guilabel:`Details` link to
the right of the product that is tracked by lot numbers. Clicking that icon reveals a
:guilabel:`Detailed Operations` pop-up window.

In the pop-up window, the chosen lot number and its storage location is displayed in the
:guilabel:`Pick From` column, with the with the full :guilabel:`Quantity` taken from that specific
lot (if there is enough stock in that particular lot).

If there is insufficient stock in that lot, or if partial quantities of the :guilabel:`Demand`
should be taken from multiple lots, change the :guilabel:`Quantity` directly.

.. note::
   The lot automatically chosen for delivery orders varies, depending on the selected removal
   strategy (:abbr:`FIFO (First In, First Out)`, :abbr:`LIFO (Last In, First Out)`, or :abbr:`FEFO
   (First Expiry, First Out)`). It also depends on the ordered quantity, and whether the lot's
   on-hand quantity is enough to fulfill the order.

.. seealso::
   :doc:`../../shipping_receiving/removal_strategies`

Repeat the above steps to select enough lots to fulfill the :guilabel:`Demand`, and click
:guilabel:`Save` to close the pop-up window. Lastly, click the :guilabel:`Validate` button on the
|DO| to deliver the products.

.. image:: lots/pick-from-lots.png
   :alt: Popup for source lot number on sales order.

.. seealso::
   :ref:`Traceability report for lot numbers <inventory/product_management/lot-traceability>`

Lot management
==============

Manage and view existing lot numbers for products in the :guilabel:`Lot/Serial Numbers` dashboard by
going to :menuselection:`Inventory app --> Products --> Lots/Serial Numbers`.

Sort this list by product by clicking in the :guilabel:`Search` field, then selecting
:menuselection:`Group By --> Product`. Selecting the drop-down menu for each product displays the
existing lot numbers. Select a lot number to :ref:`modify or add details
<inventory/product_management/edit-lot>` linked to the lot. Lot numbers can also be :ref:`created
<inventory/product_management/create-new-lot>` from this page, by clicking the :guilabel:`New`
button.

.. figure:: lots/lot-dashboard.png
   :alt: Show the "Lot/Serial Number" dashboard.

   Display lot numbers, grouped by products, on the **Lot/Serial Number** dashboard.

.. _inventory/product_management/edit-lot:

Modify lot
----------

Clicking a lot from the :guilabel:`Lot/Serial Number` dashboard reveals a separate page where
additional information can be provided about the lot.

.. tip::
   Odoo automatically generates a new :guilabel:`Lot/Serial Number` to follow the most recent
   number. However, it can be edited, by clicking the line under the :guilabel:`Lot/Serial Number`
   field, and changing the generated number to any desired one.

On the lot number form, the following fields can be modified:

- :guilabel:`Lot/Serial Number`: change the lot number linked to the :guilabel:`Product`
- :guilabel:`Internal Reference`: records an alternative lot/serial number used within the warehouse
  that differs from the one used by the supplier manufacturer.
- :guilabel:`Company`: specify the company where the lot number is available.
- :guilabel:`Description`: add extra details about the lot or serial number in this text field.

.. important::
   On existing lots, the :guilabel:`Product` and :guilabel:`On Hand Quantity` fields **cannot** be
   modified, as the lot numbers are linked with existing stock moves.

.. image:: lots/lot-number.png
   :alt: Show the lot number form.

.. seealso::
   :doc:`Set expiration dates for lots <expiration_dates>`

Add property
~~~~~~~~~~~~

To add custom fields to lots for enhanced traceability, there are two methods of adding properties
on a lot number form:

#. Click the :icon:`fa-cog` :guilabel:`(cog)` icon at the top-left of the page, then select
   :icon:`fa-cogs` :guilabel:`Add Properties` from the drop-down menu.
#. Click the :icon:`fa-plus` :guilabel:`Add a Property` button, located below the existing fields.

Name and :doc:`configure the new field </applications/essentials/property_fields>`. Once finished,
enter the property value in the new field.

.. example::
   The new property, `Wood type`, is added. The value is recorded as `Cherry wood`.

   .. image:: lots/add-properties.png
      :alt: Show the "Add Properties" button on a lot number form.

.. seealso::
   :doc:`Configuring custom properties </applications/essentials/property_fields>`

.. _inventory/product_management/create-new-lot:

Reserve lot number for a product
--------------------------------

To create a lot number for a product, begin by going to :menuselection:`Inventory app --> Products
--> Lot/Serial Numbers`, and click :guilabel:`New`.

.. important::
   Creating a lot number reserves it for a product but **does not** assign it. To assign lot
   numbers, refer to the section on :ref:`assigning lot numbers on receipts
   <inventory/product_management/assign-lots>`.

.. tip::
   While Odoo automatically generates a new :guilabel:`Lot/Serial Number` to follow the most recent
   number, it can be edited and changed to any desired number, by clicking the line under the
   :guilabel:`Lot/Serial Number` field on the lot form, and changing the generated number.

Once the new :guilabel:`Lot/Serial Number` is generated, click the blank field next to
:guilabel:`Product` to reveal a drop-down menu. From this menu, select the product to which this new
number will be assigned.

.. example::
   The lot number, `000001`, is created for the product, `Drawer Black`.

   .. image:: lots/new-lot-number.png
      :alt: New lot number creation form with assigned product.

After a new lot number has been created, saved, and assigned to the desired product, the lot number
is saved as an existing lot number linked to the product, and can be selected when :ref:`assigning
lot numbers to products on a receipt <inventory/product_management/assign-lots>`.

Manage lots for different operations types
==========================================

By default, new lots can only be created when receiving products, and existing lot numbers cannot
be used. For sales orders, only existing lot numbers can be utilized, and new ones cannot be created
on the delivery order.

To change the ability to use new (or existing) lot numbers on any operation type, go to the
:menuselection:`Inventory app --> Configuration --> Operations Types`, and select the desired
operation type.

On the operation type form, under the :guilabel:`Lots/Serial Numbers` section, tick the
:guilabel:`Create New` checkbox to enable new lot numbers to be created during this operation type.
Choose :guilabel:`Use Existing ones` if only existing lot numbers can be selected.

.. image:: lots/operation-type-form.png
   :alt: Enabled traceability setting on operations type form.

.. tip::
   For inter-warehouse transfers involving products tracked by lots, it can be useful to enable the
   :guilabel:`Use Existing Lots/Serial Numbers` option for warehouse receipts.

.. _inventory/product_management/lot-traceability:

Display lots on delivery slips
==============================

When selling products tracked with lots, it is possible to include the lot numbers on the delivery
slips sent to customers. This can be helpful to customers in cases where lot numbers are needed,
such as filing an RMA or repair request, or registering the product.

To include lot numbers on delivery slips, open the :menuselection:`Inventory` app, and navigate to
:menuselection:`Configuration --> Settings`. Scroll down to the :guilabel:`Traceability` section,
tick the :guilabel:`Display Lots & Serial Numbers on Delivery Slips` checkbox, and click
:guilabel:`Save`.

After enabling the :guilabel:`Display Lots & Serial Numbers on Delivery Slips` setting, lot numbers
are listed on delivery slips for products tracked by lots, once the delivery order is validated.

To view lot numbers on delivery orders and delivery slips, navigate to the
:menuselection:`Inventory` app, click on :guilabel:`Delivery Orders`, and select an order containing
a product tracked using lots.

To view the lot numbers of products included in the order, make sure the :guilabel:`Operations` tab
is selected, then click the :icon:`oi-settings-adjust` :guilabel:`(adjust)` button to the right of
the tab. Ensure that the :guilabel:`Serial Numbers` checkbox is ticked, which causes a
:guilabel:`Serial Numbers` column to appear. The lot number(s) for each product included in the
order are displayed in this column.

When the order is ready to be processed, click :guilabel:`Validate` to confirm the delivery and add
product information to the delivery slip.

At the top of the order's form, click the :icon:`fa-cog` :guilabel:`(Actions)` button, and select
:guilabel:`Print --> Delivery Slip`. The delivery slip is then downloaded. Open the delivery slip
using the device's browser or file manager. Lot numbers are listed next to their respective products
in the :guilabel:`Lot/Serial Number` column.

.. image:: lots/delivery-slip.png
   :alt: The order lines section of a delivery slip, showing a product and its serial number.

Traceability
============

Manufacturers and companies can refer to traceability reports to see the entire lifecycle of a
product: where it came from, when it arrived, where it was stored, who it went to (and when).

To see the full traceability of a product, or group by lots, go to the :menuselection:`Inventory app
--> Products --> Lots/Serial Numbers`. Doing so reveals the :menuselection:`Lots/Serial Numbers`
dashboard.

From here, products with lot numbers assigned to them will be listed by default, and can be expanded
to show the lot numbers those products have assigned to them.

To group by lots, begin by removing any filters in the :guilabel:`Search...` bar. Then, click the
:icon:`fa-caret-down` :guilabel:`(caret down)` icon to open a drop-down menu of :guilabel:`Filters`,
:guilabel:`Group By` options, and :guilabel:`Favorites`. Under the :guilabel:`Group By` section,
click the :guilabel:`Add Custom Group` option, and select :guilabel:`Lot/Serial Number` from the
drop-down menu.

Doing so reorganizes all the records on the page to display all existing lots and serial numbers,
and can be expanded to show all quantities of products with that assigned number.

.. image:: lots/group-by-number.png
   :alt: Lots and serial numbers traceability report.

Traceability report
-------------------

To view a full stock moves report for a lot number, select the lot number line from the
:guilabel:`Lots/Serial Number` dashboard. On the lot number form, click the :guilabel:`Traceability`
smart button.

.. image:: lots/traceability-report.png
   :alt: Show the Traceability Report for a lot, that displays the stock moves.

.. seealso::
   :doc:`../product_tracking`


==================================================
SECTION: manually.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/reservation_methods/manually.rst
==================================================

==================
Manual reservation
==================

.. _inventory/reservation_methods/manually:

.. |SO| replace:: :abbr:`SO (Sales Order)`

Unlike the *At Confirmation* reservation method, the *Manually* reservation method does **not**
reserve products automatically.

Instead, once a sales order (SO) is confirmed, product availability **must** be checked manually,
and the required quantity **must** be reserved manually.

.. seealso::
   :doc:`About reservation methods <../reservation_methods>`

Configuration
=============

To set the reservation method to *Manually*, navigate to :menuselection:`Inventory app -->
Configuration --> Operations Types`. Then, select the desired :guilabel:`Operation Type` to be
configured, or create a new one by clicking :guilabel:`New`.

In the :guilabel:`General` tab, locate the :guilabel:`Reservation Method` field, and select
:guilabel:`Manually`.

.. image:: manually/manually-operations-type.png
   :align: center
   :alt: Reservation method field on delivery order operation type form.

.. note::
   When the :guilabel:`Type of Operation` is changed to :guilabel:`Receipt` on an
   :guilabel:`Operations Type` form, reservation methods are **not** available.

Workflow
========

To see the *Manually* reservation method in action, create a new |SO| by navigating to
:menuselection:`Sales app --> New`.

Add a customer in the :guilabel:`Customer` field. Then, in the :guilabel:`Order Lines` tab, click
:guilabel:`Add a product`, and select a product to add to the quotation from the drop-down menu.
Finally, in the :guilabel:`Quantity` column, adjust the desired quantity of the product to sell.

Once ready, click :guilabel:`Confirm` to confirm the sales order.

Click the green :guilabel:`ðŸ“ˆ (area graph)` icon on the product line to reveal the product's
:guilabel:`Availability` tooltip. This tooltip reveals the reserved number of units for this order.
Because the reservation method is set to *Manually*, the :guilabel:`Reserved` quantity reads `0
Units`.

However, below that quantity reads `Available in stock`. This is because the quantity is available,
but must be manually reserved.

.. note::
   If there is **not** sufficient quantity of stock for the product included in the |SO|, the
   :guilabel:`ðŸ“ˆ (area graph)` icon is red, instead of green.

   Instead of revealing the reserved number of units for the order, the :guilabel:`Availability`
   tooltip reads :guilabel:`Reserved`, and reveals the available number of units (e.g., `0 Units`).

   Additionally, unless there is a set replenishment or a live receipt, it also reads :guilabel:`No
   future availability`, in red text.

.. image:: manually/manually-availability-tooltip.png
   :align: center
   :alt: Confirmed sales order with product availability tooltip selected.

Once the |SO| is confirmed, navigate to the :menuselection:`Inventory app`, and locate the
:guilabel:`Delivery Orders` card on the :guilabel:`Inventory Overview` page.

The :guilabel:`Delivery Orders` card displays the current status of live orders, including those
with a :guilabel:`Waiting` status. Orders with this status indicate that the products in those
orders have either not been reserved yet, or are not in stock at all.

.. image:: manually/manually-delivery-orders-card.png
   :align: center
   :alt: Delivery orders task card with waiting status orders.

To see the |SO| created previously, click the :guilabel:`(#) Waiting` button on the card (in this
case, `8 Waiting`).

Locate the delivery order (DO) tied to the |SO| that was previously created, and click the line to
view it.

On the :guilabel:`Delivery Order` form, the status in the :guilabel:`Product Availability` field is
listed as `Available`, in yellow text, instead of green. This is because there is sufficient stock
on hand for this order, but no quantity has been reserved yet.

In the :guilabel:`Operations` tab, on the :guilabel:`Product` line, the numbers in the
:guilabel:`Demand` column and the :guilabel:`Quantity` column do *not* match.

In this case, the :guilabel:`Demand` column lists `10.00`, while the :guilabel:`Quantity` column
lists `0`.

.. image:: manually/manually-delivery-order-form.png
   :align: center
   :alt: Delivery order form with product availability and reserved quantity.

To manually reserve the specified quantity of the product for this order, click the
:guilabel:`Check Availability` button at the top of the form. Doing so turns the `Available` status
in the :guilabel:`Product Availability` field green, and changes the number in the
:guilabel:`Quantity` column to match the :guilabel:`Demand` column.

This is because there is sufficient quantity in stock to reserve for the order.

Once ready, click :guilabel:`Validate`.

.. tip::
   Multiple orders with a *Waiting* status can be manually reserved at the same time, and set to
   *Ready* status.

   To do that, open the :menuselection:`Inventory` app, which reveals the :guilabel:`Inventory
   Overview` page. The :guilabel:`Inventory Overview` page is also accessible by navigating to
   :menuselection:`Inventory app --> Overview`.

   From the :guilabel:`Inventory Overview` page, click the :guilabel:`(#) Waiting` button on the
   :guilabel:`Delivery Orders` card.

   Then, tick the checkboxes to the left of each desired order, or tick the checkbox in the header
   row, to the far-left, to select all orders on the page at once.

   Then, click the :guilabel:`Check Availability` button at the top of the page.

   If the products included in every selected order have enough stock on-hand, this reserves the
   products, and moves the order into :guilabel:`Ready` status. Upon receiving a :guilabel:`Ready`
   status, the order disappears from the :guilabel:`Waiting` list.

   If there is *not* enough stock on-hand, the order retains its current status, and remains on the
   list.

   .. image:: manually/manually-check-availability.png
      :align: center
      :alt: List of orders in waiting status and check availability button.

.. seealso::
   - :doc:`At confirmation reservation <at_confirmation>`
   - :doc:`Before scheduled date reservation <before_scheduled_date>`


==================================================
SECTION: moves_history.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting/moves_history.rst
==================================================

====================
Moves history report
====================

The *Moves History* report in Odoo *Inventory* provides a detailed record of product movements
(containing past and current locations), lot numbers, and reasons for movement. Reports can be
generated for any time frame, making this report essential for analyzing stock levels, monitoring
inventory turnover, and identifying any discrepancies in inventory.

.. note::
   The reporting feature is only accessible to users with :doc:`admin access
   <../../../../general/users/access_rights>`.

To access the moves history report, go to :menuselection:`Inventory app --> Reporting --> Moves
History`.

.. image:: moves_history/moves-history.png
   :align: center
   :alt: Display Moves History report.

.. _inventory/warehouses_storage/moves-history-report:

Navigate the report
===================

In the report, the columns represent:

- :guilabel:`Date`: calendar date and time of the stock move.
- :guilabel:`Reference`: description of the reason for the stock move or quantity change, such as a
  receipt number (e.g. `WH/IN/00012`).
- :guilabel:`Product`: name of the product involved in the move.
- :guilabel:`Lot/Serial Number`: specifies the lot or serial number of the tracked product being
  moved.
- :guilabel:`From`: source location of the moved product.
- :guilabel:`To`: destination location of the moved product.
- :guilabel:`Quantity`: number of products moved.
- :guilabel:`Unit`: unit of measure of the products moved.
- :guilabel:`Status`: indicates the move status, which can be :guilabel:`Done`,
  :guilabel:`Available` (ready for action), or :guilabel:`Partially Available` (insufficient
  quantities to complete the operation).

Search options
--------------

Use the following search options to customize the :guilabel:`Moves History` report to display
relevant information

.. tabs::

   .. tab:: Filters

      The :guilabel:`Filters` section allows users to search among pre-made and custom filters to
      find specific stock records.

      - :guilabel:`To Do`: show stock move records that are in progress. This includes lines with a
        :guilabel:`Status` column value of :guilabel:`Available` or :guilabel:`Partially Available`.
      - :guilabel:`Done`: completed stock moves, with a :guilabel:`Status` of :guilabel:`Done`.
      - :guilabel:`Incoming`: displays move records from vendor locations.
      - :guilabel:`Outgoing`: displays move records to customer locations, including customer
        returns.
      - :guilabel:`Internal`: displays move records from one internal location to another.
      - :guilabel:`Manufacturing`: shows records where products were produced from the virtual,
        production :doc:`location <../inventory_management/use_locations>`.
      - :guilabel:`Date`: select this drop-down menu to access various date filter options and view
        stock moves from a specific month, quarter, or year.
      - :guilabel:`Last 30 Days`: show records that occurred in the last thirty days.
      - :guilabel:`Last 3 Months`: show records from the last three months.

   .. tab:: Group By

      The :guilabel:`Group By` section allows users to add pre-made and custom groupings to the
      search.

      - :guilabel:`Product`: group records by product.
      - :guilabel:`Status`: group records by the three status types: :guilabel:`Done`,
        :guilabel:`Available`, and :guilabel:`Partially Available`.
      - :guilabel:`Date`: group records by :guilabel:`Year`, :guilabel:`Quarter`, :guilabel:`Month`,
        :guilabel:`Week`, or :guilabel:`Day`.
      - :guilabel:`Transfers`: group records by operation number, e.g. `WH/OUT/00012`,
        `WH/MO/00211`.
      - :guilabel:`Location`: group records by source location (the :guilabel:`From` column in this
        report).
      - :guilabel:`Category`: group records by product category. To configure these, go to
        :menuselection:`Inventory app --> Configuration --> Products: Product Categories`.
      - :guilabel:`Batch Transfer`: group records by :doc:`batch
        <../../shipping_receiving/picking_methods/batch>`.

   .. tab:: Favorites

      To save the current applied filters and groups, so the same information can be easily accessed
      after closing this page, click :guilabel:`Save current search`.

      Optionally, tick the :guilabel:`Default filter` checkbox to make this current view the default
      filter when opening the :guilabel:`Moves History` report. Or tick the :guilabel:`Shared`
      checkbox to make the search option available to other users.

      Lastly, click the :guilabel:`Save` button.

.. seealso::
   :doc:`../../../../essentials/search`



==================================================
SECTION: mto.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/mto.rst
==================================================

========================
Replenish on order (MTO)
========================

.. |SO| replace:: :abbr:`SO (sales order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |PO| replace:: :abbr:`PO (purchase order)`
.. |MTO| replace:: :abbr:`MTO (make to order)`
.. |RFQ| replace:: :abbr:`RFQ (request for quotation)`
.. |BOM| replace:: :abbr:`BOM (bill of materials)`

*Replenish on order*, also known as *MTO* (make to order), is a replenishment strategy that creates
a draft order every time a product is needed to fulfill a sales order (SO) or as a component in a
manufacturing order (MO).

- For :doc:`purchased products <../../../purchase/manage_deals/rfq>`, Odoo creates a |RFQ|
- For :doc:`manufactured products
  <../../../manufacturing/basic_setup/configure_manufacturing_product>`, it creates a |MO|

If stock is available, no |RFQ| or |MO| is generated and the sale proceeds normally. Otherwise, the
|RFQ| or |MO| is generated and directly linked to the originating |SO| through a smart button.

This approach offers clear traceability, since each |RFQ| or |MO| is tied back to its demand.

.. important::
   The |RFQ| or |MO| generated by |MTO| is designed to fulfill the originating |SO|. These documents
   should normally be confirmed or adjusted rather than cancelled. If the demand changes, update the
   document instead of cancelling it.

.. note::
   If an |RFQ| or |MO| is cancelled, Odoo does not automatically generate a replacement. A new
   replenishment document must be created manually, but it **cannot** be linked back to the original
   |SO| through the smart button.

   Finally, click :guilabel:`Save` to save the change.

.. _inventory/warehouses_storage/unarchive-mto:

Unarchive MTO route
===================

In order to use the |MTO| route, the :guilabel:`Multi-Step Routes` feature must be enabled. To do
so, navigate to :menuselection:`Inventory app --> Configuration --> Settings`, and tick the checkbox
next to :guilabel:`Multi-Step Routes`, under the :guilabel:`Warehouse` heading.

By default, Odoo sets the |MTO| route as *archived*. This is because |MTO| is a somewhat niche
workflow that is only used by certain companies. However, it is easy to unarchive the route in just
a few simple steps.

To do so, begin by navigating to :menuselection:`Inventory app --> Configuration --> Routes`. On the
:guilabel:`Routes` page, click the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon on the right
side of the search bar, and click the :guilabel:`Archived` filter to enable it.

.. image:: mto/archived-filter.png
   :align: center
   :alt: The archived filter on the Routes page.

After enabling the :guilabel:`Archived` filter, the :guilabel:`Routes` page shows all routes which
are currently archived. Tick the checkbox next to :guilabel:`Replenish on Order (MTO)`, then click
the :icon:`fa-cog` :guilabel:`Actions` button to reveal a drop-down menu. From the drop-down menu,
select :guilabel:`Unarchive`.

.. image:: mto/unarchive-button.png
   :align: center
   :alt: The unarchive action on the Routes page.

Finally, remove the :guilabel:`Archived` filter from the search bar. The :guilabel:`Routes` page now
shows all unarchived routes, including :guilabel:`Replenish on Order (MTO)`, which is selectable on
the *Inventory* tab of each product page.

Configure product for MTO
=========================

With the |MTO| route unarchived, products can now be properly configured to use replenish on order.
To do so, begin by going to :menuselection:`Inventory app --> Products --> Products`, then select an
existing product, or click :guilabel:`New` to configure a new one.

On the product page, select the :guilabel:`Inventory` tab and enable the :guilabel:`Replenish on
Order (MTO)` route in the :guilabel:`Routes` section, along with the :guilabel:`Buy` or
:guilabel:`Manufacture` route.

.. important::
   The :guilabel:`Replenish on Order (MTO)` route **does not** work unless another route is selected
   as well. This is because Odoo needs to know how to replenish the product when an order is placed
   for it (buy or manufacture it).

.. image:: mto/select-routes.png
   :align: center
   :alt: Select the MTO route and a second route on the Inventory tab.

If the product is purchased from a vendor to fulfill |SOs|, enable the :guilabel:`Can be Purchased`
checkbox under the product name. Doing so makes the :guilabel:`Purchase` tab appear alongside the
other tabs below.

Click the :guilabel:`Purchase` tab and specify a :guilabel:`Vendor` and the :guilabel:`Price` they
sell the product for.

.. important::
   Specifying a vendor is essential for this workflow, because Odoo cannot generate an |RFQ| without
   knowing who the product is purchased from.

If the product is manufactured, make sure it has a bill of materials (BOM) configured for it. To do
so, click the :guilabel:`Bill of Materials` smart button at the top of the screen, then click
:guilabel:`New` on the :guilabel:`Bill of Materials` page to configure a new |BOM| for the product.

.. seealso::
   For a full overview of |BOM| creation, see the documentation on :doc:`bills of materials
   <../../../manufacturing/basic_setup/bill_configuration>`.

Replenish using MTO
===================

After configuring a product to use the |MTO| route, a replenishment order is created for it every
time an |SO| or |MO| including the product is confirmed. The type of order created depends on the
second route selected in addition to |MTO|.

For example, if *Buy* was the second route selected, then a |PO| is created upon confirmation of an
|SO|.

.. important::
   When the |MTO| route is enabled for a product, a replenishment order is always created upon
   confirmation of an |SO| or |MO|. This is the case, even if there is enough stock of the product
   on-hand to fulfill the |SO|, without buying or manufacturing additional units of it.

While the |MTO| route can be used in unison with the *Buy* or *Manufacture* routes, the *Buy* route
is used as the example for this workflow. Begin by navigating to the :menuselection:`Sales` app,
then click :guilabel:`New`, which opens a blank quotation form.

On the blank quotation form, add a :guilabel:`Customer`. Then, click :guilabel:`Add a product` under
the :guilabel:`Order Lines` tab, and enter a product configured to use the *MTO* and *Buy* routes.
Click :guilabel:`Confirm`, and the quotation is turned into an |SO|.

A :guilabel:`Purchase` smart button now appears at the top of the page. Clicking it opens the |RFQ|
associated with the |SO|.

After receiving approval from the vendor that they can meet the demand by the :guilabel:`Expected
Arrival` date, click :guilabel:`Confirm Order` to turn it into a |PO|. A purple :guilabel:`Receive
Products` button now appears above the |PO|. Once the products are received, click
:guilabel:`Receive Products` to open the receipt order, and click :guilabel:`Validate` to enter the
products into inventory.

Return to the |SO| by clicking the :guilabel:`SO` breadcrumb, or by navigating to
:menuselection:`Sales app --> Orders --> Orders`, and selecting the|SO|.

Finally, click the :guilabel:`Delivery` smart button at the top of the order to open the delivery
order. Once the products have been shipped to the customer, click :guilabel:`Validate` to confirm
the delivery.

Cancelling an SO with an MTO product
------------------------------------

When a |SO| is cancelled, and it had created an |RFQ| or |MO|, the related delivery order is
cancelled automatically. However, the |RFQ| or |MO| themselves are **not** cancelled. Instead, a
warning appears in their chatter noting the |SO| cancellation. These documents remain active, so the
user can either cancel them manually or repurpose the replenishment for another order.

.. seealso::
   For information on workflows that include the |MTO| route, see the following documentation:

   - :doc:`resupply_warehouses`
   - :doc:`../../../manufacturing/subcontracting/subcontracting_basic`
   - :doc:`../../../manufacturing/advanced_configuration/sub_assemblies`


==================================================
SECTION: multipack.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/multipack.rst
==================================================

=======================
Multi-package shipments
=======================

In some cases, a delivery order with multiple items may need to be shipped in more than one package.
This may be necessary if the items are too large to ship in a single package, or if certain items
cannot be packaged together. Shipping a single delivery order in multiple packages provides
flexibility for how each item is packaged, without the need to create multiple delivery orders.

Configuration
=============

In order to split a delivery order across multiple packages, the *Packages* setting must be enabled.
To do so, navigate to :menuselection:`Inventory --> Configuration --> Settings`, then enable the
checkbox next to :guilabel:`Packages`. Click :guilabel:`Save` to confirm the change.

.. image:: multipack/packages-setting.png
   :align: center
   :alt: The Packages setting on the Inventory app settings page.

.. _inventory/shipping/multiple-packages:

Ship items in multiple packages
===============================

To split items in the same delivery order across multiple packages, begin by navigating to
:menuselection:`Inventory --> Delivery Orders`, then select a delivery order that has multiple
items, a multiple quantity of the same item, or both.

On the :guilabel:`Operations` tab, select the :guilabel:`âžâ‰£ (menu)` icon in the line of the product
that will be shipped in the first package.

.. image:: multipack/product-menu-icon.png
   :align: center
   :alt: The menu icon for a product in a delivery order.

This makes a :guilabel:`Detailed Operations` pop-up window appear. In the table at the bottom of the
pop-up window, the :guilabel:`Reserved` column shows the total quantity of the product included in
the delivery order.

If the full quantity will be shipped in the first package, enter the number from the
:guilabel:`Done` column in the :guilabel:`Reserved` column. If less than the full quantity will be
shipped in the first package, enter a smaller number than the one that appears in the
:guilabel:`Reserved` column. Click :guilabel:`Confirm` to confirm the :guilabel:`Done` quantities
and close the pop-up.

.. image:: multipack/detailed-operations.png
   :align: center
   :alt: The Detailed Operations pop-up for a product in a delivery order.

Repeat the same steps for every item quantity that is included in the first package. Then, click
:guilabel:`Put In Pack` to create a package with all of the selected items.

.. image:: multipack/put-in-pack.png
   :align: center
   :alt: The Put In Pack button on a delivery order.

For the next package, follow the same steps as detailed above, marking the quantity of each item to
be included in the package as :guilabel:`Done` before clicking :guilabel:`Put In Pack` on the
delivery order. Continue doing so until the full quantity of all items are added to a package.

Finally, after all of the packages have been shipped, click :guilabel:`Validate` to confirm that the
delivery order has been completed.

.. tip::
   After one or more packages are created, a :guilabel:`Packages` smart button appears in the
   top-right corner of the delivery order. Click the :guilabel:`Packages` smart button to go to the
   :guilabel:`Packages` page for the delivery order, where each package can be selected to view all
   of the items included in it.

   .. image:: multipack/packages-smart-button.png
      :align: center
      :alt: The Packages smart button on a delivery order.

.. _inventory/shipping/backorders:

Create a backorder for items to be shipped later
================================================

If some items will be shipped at a later date than others, there is no need to put them in a package
until they are ready to be shipped. Instead, create a backorder for the items being shipped later.

Begin by shipping the items that will be shipped immediately. If they will be shipped in multiple
packages, follow the :ref:`steps above <inventory/shipping/multiple-packages>` to package them as
required. If they will be shipped in a single package, simply mark in the :guilabel:`Done` column
the quantity of each item being shipped, but **do not** click the :guilabel:`Put In Pack` button.

After all quantities being shipped immediately are marked as :guilabel:`Done`, click the
:guilabel:`Validate` button, and a :guilabel:`Create Backorder?` pop-up window appears. Then, click
the :guilabel:`Create Backorder` button. Doing so confirms the items being shipped immediately and
creates a new delivery order for the items that will be shipped later.

.. image:: multipack/backorder-pop-up.png
   :align: center
   :alt: The Create Backorder? pop-up window.

The backorder delivery order will be listed in the chatter of the original delivery order in a
message that reads :guilabel:`The backorder WH/OUT/XXXXX has been created.`. Click on
:guilabel:`WH/OUT/XXXXX` in the message to view the backorder delivery order.

.. image:: multipack/backorder-chatter.png
   :align: center
   :alt: The backorder delivery order listed in the chatter of the original delivery order.

The backorder delivery order can also be accessed by navigating to :menuselection:`Inventory`,
clicking the :guilabel:`# Back Orders` button on the :guilabel:`Delivery Orders` card, and selecting
the delivery order.

.. image:: multipack/back-orders-button.png
   :align: center
   :alt: The Back Orders button on the Delivery Orders card.

Once the remaining items are ready to be shipped, navigate to the backorder delivery order. The
items can be shipped in a single package by clicking :guilabel:`Validate` and selecting
:guilabel:`Apply` on the :guilabel:`Immediate Transfer?` pop-up window that appears, or shipped in
multiple packages by following the steps detailed in the section above.

It is also possible to ship out some of the items while creating another backorder for the rest. To
do so, simply follow the same steps used to create the first backorder.


==================================================
SECTION: new_delivery_method.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/new_delivery_method.rst
==================================================

=========================
Add a new delivery method
=========================

The *Delivery Methods* setting adds the option of calculating the cost of shipping on sales orders
and e-commerce shopping carts. The shipping cost can then be added to a sales order as a delivery
product, and the shipping details can be added to the delivery order.

.. seealso::
   :doc:`../setup_configuration`

Configuration
-------------

To configure delivery methods, go to :menuselection:`Inventory --> Configuration --> Delivery
Methods`.

.. note::
   If the :guilabel:`Delivery Methods` option is not available from the :guilabel:`Configuration`
   drop-down menu, verify whether the feature is enabled by following these steps:

   #. Go to :menuselection:`Inventory --> Configuration --> Settings`.
   #. Scroll to the :guilabel:`Shipping` section and enable the :guilabel:`Delivery Methods` feature
      by checking the corresponding checkbox.

   .. image:: new_delivery_method/enable-delivery.png
      :alt: The Delivery Methods feature enabled in the settings.

.. _inventory/shipping_receiving/delivery-product:

On the :guilabel:`Delivery Methods` page, add a method by clicking :guilabel:`New`. Doing so opens
a form to provide details about the shipping provider, including:

- :guilabel:`Delivery Method` (*Required field*): the name of the delivery method (e.g. `flat-rate
  shipping`, `same day delivery`, etc.).
- :guilabel:`Website`: configure shipping methods for an **eCommerce** page. Select the applicable
  website from the drop-down menu, or leave it blank to apply the method to all web pages. This
  field only appears when the **eCommerce** app is enabled.
- :guilabel:`Provider` (*Required field*): choose the delivery service, like FedEx, if using a
  :ref:`third-party carrier <inventory/shipping/third_party>`. Ensure the integration with the
  shipping carrier is properly installed and select the provider from the drop-down menu. For more
  details on configuring custom shipping methods, such as :ref:`fixed price
  <inventory/shipping/fixed>` or :ref:`based on rules <inventory/shipping/rules>` options, refer to
  their respective sections below.
- :guilabel:`Cash on Delivery`: allow customers to choose the :ref:`Cash on Delivery
  <payment_providers/inperson_payments/cash_on_delivery>` payment method when selecting this
  delivery option on the ecommerce website.
- :guilabel:`Company`: If the shipping method should apply to a specific company, select it from the
  drop-down menu. Leave the field blank to apply the method to all companies. This field only
  appears in multi-company databases.
- :guilabel:`Routes`: select the applicable routes to define different delivery methods, such as
  standard or express shipping, based on varying lead times. This field only appears when you have
  enabled multi-step routes in your inventory configuration settings. For more information, refer to
  the :ref:`Set routes on shipping method <inventory/shipping_receiving/shipping-route>` section.
- :guilabel:`Delivery Product` (*Required field*): the product listed on the :ref:`sales order line
  <inventory/shipping/sales-order>` as the delivery charge.
- :guilabel:`Free if order amount is above`: checking this box enables free shipping if the customer
  spends above the specified amount.
- :guilabel:`Tracking Link`: This option adds a link to the portal so the customer can track their
  delivery. When a custom carrier is added in a delivery order, the tracking button is enabled, and
  the link directs to the tracking portal with that URL.

.. example::
   To set up `$200` flate-rate shipping, fill in the following fields:

   - :guilabel:`Delivery Method`: `Furniture Delivery (Manual)`
   - :guilabel:`Provider`: :guilabel:`Fixed Price`
   - :guilabel:`Fixed Price`: `200`
   - :guilabel:`Delivery Product`: :guilabel:`Furniture Delivery (manual)`

   .. image:: new_delivery_method/sample-delivery-method.png
      :alt: Set up a delivery method with a fixed price of 200.

.. _inventory/shipping_receiving/availability:

Use the :guilabel:`Availability` tab to define conditions for the delivery method based on the
order's content or destination:

- :guilabel:`Countries`: Specify one or more countries where the method is available.
- :guilabel:`Max Weight`: Set a maximum weight; the method is only available for orders below this
  limit.
- :guilabel:`Max Volume`: Set a maximum volume; the method is only available for orders below this
  limit.
- :guilabel:`Must Have Tags`: The method is available only if at least one product in the order has
  one of these tags.
- :guilabel:`Excluded Tags`: The method is unavailable if at least one product in the order has one
  of these tags.

For examples on how to configure specific shipping methods, refer to the sections below.

.. _inventory/shipping/fixed:

Fixed price
-----------

To configure a shipping price that is the same for all orders, go to :menuselection:`Inventory
--> Configuration --> Delivery Methods`. Then, click :guilabel:`New`, and on the shipping method
form, set the :guilabel:`Provider` to the :guilabel:`Fixed Price` option. Selecting this option
makes the :guilabel:`Fixed Price` field become available, which is where the fixed rate shipping
amount is defined.

To enable free shipping if the amount of the order exceeds a specified amount, check the box
:guilabel:`Free if order amount is above` and fill in the amount.

.. example::
   To set up `$20` flat-rate shipping that becomes free if the customer spends over `$100`, fill in
   the following fields:

   - :guilabel:`Delivery Method`: `Flat-rate shipping`
   - :guilabel:`Provider`: :guilabel:`Fixed Price`
   - :guilabel:`Fixed Price`: `$20.00`
   - :guilabel:`Free if order amount is above`: `$100.00`
   - :guilabel:`Delivery Product`: `[SHIP] Flat`

   .. image:: new_delivery_method/new-shipping-method.png
      :alt: Example of filling out a shipping method.

.. _inventory/shipping/rules:

Based on rules
--------------

To calculate the price of shipping based on pricing rules, set the :guilabel:`Provider` field to the
:guilabel:`Based on Rules` option. Optionally, adjust :guilabel:`Margin on Rate` and
:guilabel:`Additional margin` to include additional shipping costs.

Create pricing rules
~~~~~~~~~~~~~~~~~~~~

Navigate to the :guilabel:`Pricing` tab and click :guilabel:`Add a line`. Doing so opens the
:guilabel:`Create Pricing Rules` window, where the :guilabel:`Condition` related to the product
weight, volume, price, or quantity is compared to a defined amount to calculate the
:guilabel:`Delivery Cost`.

Once finished, click either :guilabel:`Save & New` to add another rule, or :guilabel:`Save & Close`.

.. example::
   To charge customers $20 in shipping for orders with five or fewer products, set the
   :guilabel:`Condition` to `Quantity <= 5.00`, and the :guilabel:`Delivery Cost` to `$20`.

   .. image:: new_delivery_method/pricing-rule.png
      :alt: Display window to add a pricing rule. Set a condition and delivery cost.

To restrict shipping to specific destinations on the **eCommerce** website, in the shipping method
form, navigate to the :guilabel:`Destination Availability` tab and define the :guilabel:`Countries`,
:guilabel:`States`, and :guilabel:`Zip Prefixes`. Leave these fields empty if all locations apply.

Calculate delivery cost
~~~~~~~~~~~~~~~~~~~~~~~

Shipping cost is the :guilabel:`Delivery cost` specified in the rule that satisfies the
:guilabel:`Condition`, plus any extra charges from the :guilabel:`Margin on rate` and
:guilabel:`Additional margin`.

.. math::
   Total = Rule's~Delivery~Cost + (Margin~on~rate \times Rule's~Delivery~Cost) + Additional~margin

.. example::
   With the two following rules set up:

   #. If the order contains five or fewer products, shipping is $20
   #. If the order contains more than five products, shipping is $50.

   :guilabel:`Margin on Rate` is `10%` and :guilabel:`Additional margin` is `$9.00`.

   .. image:: new_delivery_method/delivery-cost-example.png
      :alt: Show example of "Based on rules" shipping method with margins configured.

   When the first rule is applied, the delivery cost is $31 (20 + (0.1 * 20) + 9). When the second
   rule is applied, the delivery cost is $64 (50 + (0.1 * 50) + 9).

.. _inventory/shipping_receiving/shipping-route:

Route on shipping method
------------------------

Optionally, set different warehouse delivery processes for a shipping method by configuring
different :doc:`routes <../daily_operations/use_routes>` for it.

.. example::
   Configuring multiple routes per shipping method is helpful for adjusting warehouse delivery
   processes based on:

   - speed (e.g., use :doc:`one-step delivery <../daily_operations/receipts_delivery_one_step>` for
     express shipping, or :doc:`two-step <../daily_operations/receipts_delivery_two_steps>` for
     standard shipping).
   - international shipping (e.g. use :doc:`three-step delivery
     <../daily_operations/delivery_three_steps>` to prepare documents for customs)
   - in-store pickup or home delivery: ship from the central warehouse, or pick from the store's
     stock, depending on customer selection.

To set up routes, go to :menuselection:`Inventory --> Configuration --> Routes`. Click
:guilabel:`New`, or select the desired route.

On the route form, in the :guilabel:`Applicable On` section, tick the :guilabel:`Shipping Methods`
checkbox.

.. figure:: new_delivery_method/shipping-route.png
   :alt: Routes form with the Shipping Methods checkbox selected.

   Routes form with the :guilabel:`Shipping Method` checkbox ticked.

Then, go to :menuselection:`Inventory --> Configuration --> Delivery Methods`, and select the
desired shipping method.

On the shipping method form, in the :guilabel:`Routes` field, select the available fulfillment
routes from the drop-down menu.

.. note::
   If the desired route is not selectable, check that the *Shipping Methods* option is enabled in
   the route's *Applicable On* section.

.. image:: new_delivery_method/set-routes.png
   :alt: Show set routes on shipping method form.


==================================================
SECTION: owned_stock.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/owned_stock.rst
==================================================

=================================================
Consignment: buy and sell stock without owning it
=================================================

Most of the time, products stored in a company's warehouse are either purchased from suppliers, or
are manufactured in-house. However, suppliers will sometimes let companies store and sell products
in the company's warehouse, without having to buy those items up-front. This is called
*consignment*.

Consignment is a useful method for suppliers to launch new products, and easily deliver to their
customers. It's also a great way for the company storing the products (the consignee) to earn
something back for their efforts. Consignees can even charge a fee for the convenience of storing
products they don't actually own.

Enable the consignment setting
==============================

To receive, store, and sell consignment stock, the feature needs to be enabled in the settings. To
do this, go to :menuselection:`Inventory --> Configuration --> Settings`, and under the
:guilabel:`Traceability` section, check the box next to :guilabel:`Consignment`, and then click
:guilabel:`Save` to finish.

.. image:: owned_stock/owned-stock-enable-consignment.png
   :align: center
   :alt: Enabled Consignment setting in Inventory configuration.

Receive (and store) consignment stock
=====================================

With the feature enabled in Odoo, consignment stock can now be received into a warehouse. From the
main :menuselection:`Inventory` dashboard, click into the :guilabel:`Receipts` section. Then, click
:guilabel:`Create`.

.. note::
   Consignment stock is not actually purchased from the vendor; it is simply received and stored.
   Because of this, there are no quotations or purchase orders involved in receiving consignment
   stock. So, *every* receipt of consignment stock will start by creating manual receipts.

Choose a vendor to enter in the :guilabel:`Receive From` field, and then choose the same vendor to
enter in the :guilabel:`Assign Owner` field.

.. important::
   Since the products received from the vendor will be owned by the same vendor, the
   :guilabel:`Receive From` and :guilabel:`Assign Owner` fields must match.

Once the vendor-related fields are set, enter products into the :guilabel:`Product` lines, and set
the quantities to be received into the warehouse under the :guilabel:`Done` column. If the
:guilabel:`Units of Measure` feature is enabled, the :abbr:`UoM (Units of Measure)` can be changed,
as well. Once all the consignment stock has been received, :guilabel:`Validate` the receipt.

.. image:: owned_stock/owned-stock-receipt-fields.png
   :align: center
   :alt: Matching vendor fields in consignment Receipt creation.

Sell and deliver consignment stock
==================================

Once consignment stock has been received into the warehouse, it can be sold the same as any other
in-stock product that has the :guilabel:`Can Be Sold` option enabled on the product form.

To create a sales order, navigate to the :menuselection:`Sales` app, and from the
:guilabel:`Quotations` overview, click :guilabel:`Create`. Next, choose a customer to enter into the
:guilabel:`Customer` field.

.. note::
   The :guilabel:`Customer` *must* be different from the :guilabel:`Vendor` that supplied the
   consignment stock received (and stored) in the warehouse.

Add the consignment product under the :guilabel:`Product` column in the order lines, set the
:guilabel:`Quantity`, and fill out any other pertinent product details on the form. Once the
quotation is complete, click :guilabel:`Confirm`.

.. image:: owned_stock/owned-stock-sales-order.png
   :align: center
   :alt: Sales order of consignment stock.

Once the quotation has been confirmed, it becomes a sales order. From here, the products can be
delivered by clicking on the :guilabel:`Delivery` smart button, and selecting :guilabel:`Validate`
to validate the delivery.

Traceability and reporting of consignment stock
===============================================

Although consignment stock is owned by the vendor who supplied it, and not by the company storing it
in their warehouse, consignment products will *still* appear in certain inventory reports.

To find inventory reports, go to :menuselection:`Inventory --> Reporting`, and choose a report to
view.

.. note::
   Since the consignee does not actually own consignment stock, these products are *not* reflected
   in the :guilabel:`Stock Valuation` report, and have no impact on the consignee's inventory
   valuation.

Product moves report
--------------------

To view all information about on-hand stock moves, navigate to the :guilabel:`Product Moves`
dashboard by going to :menuselection:`Inventory --> Reporting --> Product Moves`. For consignment
products, the information in this report is the same as any other product: the history of its
product moves can be reviewed; the :guilabel:`Quantity Done` and :guilabel:`Reference` document are
available; and its :guilabel:`Locations` are available, as well. The consignment stock will
originate from :guilabel:`Partner Location/Vendors`.

.. tip::
   To view a consignment product's moves by ownership, select the :guilabel:`Group By` filter,
   choose the :guilabel:`Add Custom Group` parameter, and then select :guilabel:`From Owner`, and
   :guilabel:`Apply` to finish.

.. image:: owned_stock/owned-stock-moves-history.png
   :align: center
   :alt: Consignment stock moves history.

.. tip::
   To see forecasted units of consignment stock, go to :menuselection:`Inventory --> Reporting -->
   Forecasted Inventory`.

Stock on hand report
--------------------

View the :guilabel:`Stock On Hand` dashboard by navigating to :menuselection:`Inventory -->
Reporting --> Inventory Report`. From this report, the :guilabel:`Locations` of all stock on-hand
are displayed, in addition to the quantities per location. For consignment products, the
:guilabel:`Owner` column will be populated with the owner of those products, or the original vendor
who supplied the products in the first place.


==================================================
SECTION: package.rst
PATH: applications/inventory_and_mrp/inventory/product_management/configure/package.rst
==================================================

========
Packages
========

.. |SO| replace:: :abbr:`SO (Sales Order)`

A *package* is a physical container holding one or more products. Packages can also be used to store
items in bulk.

Packages are commonly used for the following purposes:

#. :ref:`Grouping products to move them in bulk <inventory/warehouses_storage/pack>`.
#. :ref:`Shipping to customers <inventory/warehouses_storage/package-type>`: configure package types
   to align with shipping carriers' size and weight requirements, streamlining the packing process,
   and ensuring compliance with carrier shipping specifications.
#. Storing items in bulk.

*Package use* is a field on the package form in Odoo that is only visible by enabling the *Batch
Transfers* and *Packages* features (:menuselection:`Inventory app --> Configuration --> Settings`).

By default, the *Package Use* field on a packages form is set to *Disposable Box*. Change this field
to *Reusable Box* **only** when configuring packages for :ref:`cluster pickings
<inventory/warehouses_storage/cluster-pack>`.

*Package type* is an optional feature used for :doc:`calculating shipping cost
<../../shipping_receiving/setup_configuration>`, based on real shipping weight. Create package types
to include the weight of the package itself (e.g. boxes, pallets, other shipping containers) in
shipping cost calculations.

.. note::
   While packages are commonly used in the :doc:`three-step delivery route
   <../../shipping_receiving/daily_operations/delivery_three_steps>`, they can be used in any
   workflow involving storable products.

.. _inventory/warehouses_storage/enable-package:

Configuration
=============

To use packages, first go to :menuselection:`Inventory app --> Configuration --> Settings`. Under
the :guilabel:`Operations` heading, activate the :guilabel:`Packages` feature. Then, click
:guilabel:`Save`.

.. image:: package/enable-pack.png
   :alt: Activate the *Packages* setting in Inventory > Configuration > Settings.

.. _inventory/product_management/move-entire-pack:

When moving packages internally, the *Move Entire Packages* feature can be enabled on an operation
type to update a package's contained item's location upon updating the package's location.

To do that, go to :menuselection:`Inventory app --> Configuration --> Operations Types` and select
the desired operation this feature will apply to (may have to set it for multiple).

Open the :guilabel:`Barcode App` tab, then select the :guilabel:`Move Entire Packages` checkbox.

.. image:: package/move-entire-packages.png
   :alt: Enable "Move Entire Packages" on the Operation Type.

.. _inventory/warehouses_storage/pack:

Pack items
==========

Products can be added to packages in any transfer by:

#. Clicking each :ref:`Detailed Operations <inventory/warehouses_storage/detailed-operations>` icon
   on the product line.
#. Using the :ref:`Put in Pack <inventory/warehouses_storage/put-in-pack>` button to place
   everything in the transfer into a package.

.. _inventory/warehouses_storage/detailed-operations:

Detailed operations
-------------------

On any warehouse transfer (e.g. receipt, delivery order), add a product to a package by clicking the
:guilabel:`â¦™â‰£ (bulleted list)` icon in the :guilabel:`Operations` tab.

.. image:: package/detailed-operations.png
   :alt: Show "Detailed Operations" icon in the product line.

Doing so opens the :guilabel:`Detailed Operations` pop-up window for the :guilabel:`Product`.

To put the :guilabel:`Product` in a package, click :guilabel:`Add a line`, and assign the product to
a :guilabel:`Destination Package`. Select an existing package, or create a new one by typing the
name of the new package, then select :guilabel:`Create...`.

.. figure:: package/destination-package.png
   :alt: Assign a package to "Destination Package" field.

   Twelve units of `Acoustic Bloc Screen` are placed in `PACK0000001`.

Then, specify the quantity of items to go into the package in the :guilabel:`Done` column. Repeat
the above steps to place the :guilabel:`Product` in different packages. Once finished, click
:guilabel:`Confirm` to close the window.

.. seealso::
   :doc:`Ship one order in multiple packages
   <../../shipping_receiving/setup_configuration/multipack>`

.. _inventory/warehouses_storage/put-in-pack:

Put in pack
-----------

Alternatively, click the :guilabel:`Put in Pack` button on **any** warehouse transfer to create a
new package, and place all the items in the transfer in that newly-created package.

.. important::
   The :guilabel:`Put in Pack` button appears on receipts, delivery orders, and other transfer forms
   with the *Packages* feature enabled in :menuselection:`Inventory app --> Configuration -->
   Settings`.

.. figure:: package/put-in-pack.png
   :alt: Image of the "Put in Pack" button being clicked.

   In batch transfer `BATCH/00003`, the :guilabel:`Put in Pack` button was clicked to create a new
   package, `PACK0000002`, and assign all items to it in the :guilabel:`Destination Package` field.

.. _inventory/warehouses_storage/package-type:

Package type
============

Create package types by navigating to :menuselection:`Inventory app --> Configuration --> Package
Types`, in order to set custom dimensions and weight limits. This feature is mainly used to
calculate package weights for shipping costs.

.. seealso::
   - :doc:`Shipping carriers <../../shipping_receiving/setup_configuration/third_party_shipper>`
   - :doc:`../../shipping_receiving/setup_configuration`

On the :guilabel:`Package Types` list, clicking :guilabel:`New` opens a blank package type form. The
fields of the form are as follows:

- :guilabel:`Package Type` (required): define the package type's name.
- :guilabel:`Size`: define the dimensions of the package in millimeters (mm). The fields, from left
  to right, define the :guilabel:`Length`, :guilabel:`Width`, and :guilabel:`Height`.
- :guilabel:`Weight`: weight of an empty package (e.g. an empty box, pallet).

.. note::
   Odoo calculates the package's weight by adding the weight of the empty package plus the weight of
   the item(s), which can be found in the :guilabel:`Weight` field, in the :guilabel:`Inventory`
   tab, of each product form.

- :guilabel:`Max Weight`: maximum shipping weight allowed in the package.
- :guilabel:`Barcode`: define a barcode to identify the package type from a scan.
- :guilabel:`Company`: specify a company to make the package type available **only** at the selected
  company. Leave the field blank if it is available at all companies.
- :guilabel:`Carrier`: specify the intended shipping carrier for this package type.
- :guilabel:`Carrier Code`: define a code that is linked to the package type.

.. image:: package/package-type.png
   :alt: Package type for FedEx's 25 kilogram box.

.. _inventory/warehouses_storage/cluster-pack:

Cluster packages
================

To use *cluster packages*, first navigate to :menuselection:`Inventory app --> Configuration -->
Settings`, and activate the :guilabel:`Batch Transfers` feature, located in the
:guilabel:`Operations` section. Doing so makes the *Package Use* field become visible on a package
form.

.. image:: package/enable-batch.png
   :alt: Activate the *Batch Transfers* feature in Inventory > Configuration > Settings.

Add new packages by going to :menuselection:`Inventory app --> Products --> Packages`. Then, click
:guilabel:`New`, or select an existing package. Doing so opens the package form, which contains the
following fields:

- :guilabel:`Package Reference` (required): name of the package.
- :guilabel:`Package Type`: used for :ref:`configuring shipping boxes to ship to the customer
  <inventory/warehouses_storage/package-type>`.

  .. note::
     :guilabel:`Package Type` is unnecessary for configuring packages for cluster pickings.

- :guilabel:`Shipping Weight`: used to input the weight of the package after measuring it on a
  scale.
- :guilabel:`Company`: specify a company to make the package available **only** at the selected
  company. Leave the field blank if the package is available at all companies.
- :guilabel:`Location`: current location of the package.
- :guilabel:`Pack Date`: the date the package was created.
- :guilabel:`Package Use`: choose :guilabel:`Reusable` for packages used for moving products within
  the warehouse; :guilabel:`Disposable` for packages used to ship products to customers.

.. image:: package/package.png
   :alt: Display package form to create a cluster pack.

.. seealso::
   :doc:`Using cluster packages <../../shipping_receiving/picking_methods/cluster>`

View packages
=============

To view all packages go to :menuselection:`Inventory app --> Products --> Packages`. By default,
packages are shown in Kanban view, in their current storage location.

.. tip::
   Drag-and-drop packages to move them between internal locations.

.. image:: package/packages-kanban.png
   :alt: Packages dashboard.



==================================================
SECTION: packaging.rst
PATH: applications/inventory_and_mrp/inventory/product_management/configure/packaging.rst
==================================================

=========
Packaging
=========

.. |adjust| replace:: :icon:`oi-settings-adjust` :guilabel:`(additional options)`

In Odoo *Inventory*, *packaging* refers to disposable containers holding multiple units of a
specific product.

For example, different packages for cans of soda, such as a 6-pack, a 12-pack, or a case of 36,
**must** be configured on the individual product form. This is because packagings are product
specific, not generic.

.. tip::
   Packaging can be used in conjunction with Odoo :doc:`Barcode <../../../barcode/setup/software>`.
   When receiving products from suppliers, scanning the packaging barcode automatically adds the
   number of units in the packaging to the internal count of the product.

Configuration
=============

To use packagings, navigate to :menuselection:`Inventory app --> Configuration --> Settings`. Then,
under the :guilabel:`Products` heading, enable the :guilabel:`Units of Measure & Packagings`
feature, and click :guilabel:`Save`.

.. image:: packaging/enable-packagings.png
   :align: center
   :alt: Enable packagings by selecting Units of Measure & Packagings.

.. _inventory/product_management/packaging-setup:

Create packaging
================

Packagings can be created directly on the product form, or from the :guilabel:`Units & Packagings`
page.

From product form
-----------------

Create packagings on a product form by going to :menuselection:`Inventory app --> Products -->
Products`, and select the desired product.

To specify a sales packaging, open the :guilabel:`Sales` tab, then specify :guilabel:`Packagings` in
the :guilabel:`Upsell & Cross-Sell` section. Specify existing packagings or create new ones by
clicking :guilabel:`Create and edit`. When :guilabel:`Create and edit` is clicked, a
:guilabel:`Create Packagings` box opens, where information about the packaging can be specified:

- :guilabel:`Unit Name` (required): name of packaging that appears on sales/purchase orders as a
  packaging option for the product.
- :guilabel:`Quantity` (required): amount of product in the packaging.
- :guilabel:`Reference Unit` (required): measurement unit for quantifying the product.
- :guilabel:`Package Type`: package type used to set custom dimensions and limits. See
  :ref:`package type <inventory/warehouses_storage/package-type>` to learn more.
- :guilabel:`Barcodes`: identifier for tracing packaging in stock moves or pickings, using the
  :ref:`Barcode app <barcode/operations/intro>`. Leave blank if not in use.

.. image:: packaging/create-sales-packagings.png
   :alt: Create a new packaging in the Create Packagings box.

To specify a purchase packaging for a vendor, open the :guilabel:`Purchase` tab, then add a vendor.
Update the :guilabel:`Unit` field to specify a purchase packaging for that vendor. Specify existing
packagings here, or create new ones by clicking :guilabel:`Create and edit`. When :guilabel:`Create
and edit` is clicked, the :guilabel:`Create Unit` box opens. The fields in this box are the same as
for the :guilabel:`Create Packagings` box above.

.. example::
   To create a purchase packaging type for six units of the product, `Grape Soda`, begin by clicking
   :guilabel:`Add a line` in the :guilabel:`Purchase` tab. Specify a :guilabel:`Vendor`. Specify
   `6-pack` in the :guilabel:`Unit` field, then click :guilabel:`Create and edit`. In the
   :guilabel:`Create Unit` box, specify a quantity and reference unit (in this case, `6` `Units`),
   then click :guilabel:`Save`. Repeat this process for additional packagings.

   .. image:: packaging/create-purchase-packagings.png
      :alt: Create purchase packagings for product.

From units & packagings page
----------------------------

To view all packagings that have been created, go to :menuselection:`Inventory app --> Configuration
--> Units & Packagings`. Doing so reveals the :guilabel:`Units & Packagings` page with a complete
list of all packagings that have been created for all products. Create new packagings by clicking
:guilabel:`New`.

.. example::
   Two soda products, `Grape Soda` and `Diet Coke`, have three types of packagings configured. On
   the :guilabel:`Units & Packagings` page, each product can be sold as a `6-Pack` that contains 6
   products, as a `12-Pack` of 12 products, or as a `Case` of 32 products.

   .. image:: packaging/packagings.png
      :alt: List of different packagings for products.

Partial reservation
-------------------

After :ref:`completing the packaging setup <inventory/product_management/packaging-setup>`,
packagings can be reserved in full or partial quantities for outgoing shipments. Partial packaging
flexibility expedites order fulfillment by allowing the immediate shipment of available items, while
awaiting the rest.

To configure packaging reservation methods, go to :menuselection:`Inventory app --> Configuration
--> Products --> Categories`. Then, click :guilabel:`New`, or select the desired product category.

On the product category's form, in the :guilabel:`Logistics` section, :guilabel:`Reserve Packagings`
can be set to :guilabel:`Reserve Only Full Packagings` or :guilabel:`Reserve Partial Packagings`.

.. important::
   To see the :guilabel:`Reserve Packaging` field, the :guilabel:`Product Packaging` feature
   **must** be enabled. To enable this feature, go to :menuselection:`Inventory app -->
   Configuration --> Settings`, scroll to the :guilabel:`Products` section, tick the
   :guilabel:`Product Packagings` checkbox, and click :guilabel:`Save`.

.. image:: packaging/reserve-packaging.png
   :align: center
   :alt: Show Reserve Packagings field on the product categories page.

.. example::
   To better evaluate the options based on business needs, consider the following example:

   - a product is sold in twelve units per packaging.
   - an order demands two packagings.
   - there are only twenty-two units in stock.

   When :guilabel:`Reserve Only Full Packagings` is selected, only twelve units are reserved for the
   order.

   Conversely, when :guilabel:`Reserve Partial Packagings` is selected, twenty-two units are
   reserved for the order.

Apply packagings
================

When creating a sales order in the :menuselection:`Sales` app, specify the packagings that should be
used for the product. The chosen packaging is displayed on the :abbr:`SO (Sales Order)` under the
:guilabel:`Units` field.

.. example::
   18 cans of the product, `Grape Soda`, is packed using three 6-pack packagings.

   .. image:: packaging/packagings-sales-order.png
      :alt: Assign packagings on the Sales Order Line.



==================================================
SECTION: picking_methods.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/picking_methods.rst
==================================================

:nosearch:

===============
Picking methods
===============

.. toctree::
   :titlesonly:

   picking_methods/batch
   picking_methods/cluster
   picking_methods/wave


==================================================
SECTION: print_on_validation.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/print_on_validation.rst
==================================================

=======================
Printable delivery PDFs
=======================

Automatically print delivery-related PDFs documents and labels in Odoo, containing package recipient
details, contents, or handling instructions.

The following PDFs can be configured to print upon validating an *Inventory* operation (e.g.
receipt, picking, delivery orders, quality checks):

#. :ref:`Delivery slip <inventory/shipping_receiving/delivery-slip>`
#. :ref:`Return slip <inventory/shipping_receiving/return-slip>`
#. :ref:`Product labels of items in the order <inventory/shipping_receiving/product-labels>`
#. :ref:`Lot and serial number labels <inventory/shipping_receiving/lot-sn-labels>`
#. :ref:`Carrier labels <inventory/shipping_receiving/carrier-labels>`
#. :ref:`Export documents <inventory/shipping_receiving/export-doc>`
#. :ref:`Package content <inventory/shipping_receiving/package-content>`
#. :ref:`Package label <inventory/shipping_receiving/package-label>`

.. _inventory/shipping_receiving/print_setup:

To automatically print these forms, navigate to :menuselection:`Inventory app --> Configuration -->
Operations Types`, and select the desired operation type.

In the :guilabel:`Hardware` tab, tick each of the desired options available in the :guilabel:`Print
on Validation` section to download the PDF of those selected documents automatically after
validating the :guilabel:`Operation Type`. For details on what each of the checkbox options do, jump
to the related section.

.. image:: print_on_validation/print-on-validation.png
   :align: center
   :alt: Show the *Print on Validation* option in the "Pick" *Operation Type*.

.. _inventory/shipping_receiving/delivery-slip:

Delivery slip
=============

A *delivery slip* contains recipient and package details, usually placed inside (or attached to) the
package.

.. seealso::
   - :doc:`Tracking label <../setup_configuration/labels>`

After :ref:`enabling the Delivery Slip setting <inventory/shipping_receiving/print_setup>` in the
:guilabel:`Hardware` tab configuration options, clicking :guilabel:`Validate` on the desired
operation type downloads a PDF of the delivery slip.

The delivery slip shows products, quantities, the delivery order reference number, and the total
order weight.

.. image:: print_on_validation/delivery-slip.png
   :align: center
   :alt: Example delivery slip.

.. _inventory/shipping_receiving/return-slip:

Return slip
===========

Print a *return slip* to include in a delivery for customer return packages. It identifies the
return, links to the sales order, and includes item details and customer information. It can also
include specific return instructions for the customer.

After :ref:`enabling the Return Slip setting <inventory/shipping_receiving/print_setup>` in the
:guilabel:`Hardware` tab configuration options, clicking :guilabel:`Validate` on the desired
operation type downloads a PDF of the return slip.

The return slip displays the company's return address, along with barcodes for both the order and
the return operation.

.. image:: print_on_validation/return-slip.png
   :align: center
   :alt: Example return slip.

.. _inventory/shipping_receiving/product-labels:

Product labels
==============

Print *product labels* to affix to items in an order, providing essential information, such as
product name, barcode, and price.

After navigating to the intended operation type (:menuselection:`Inventory app --> Configuration -->
Operations Types`), in the :guilabel:`Hardware` tab, tick the :guilabel:`Product Labels` option.

Doing so makes the :guilabel:`Print label as:` drop-down menu visible, where each product label can
be printed as:

- :guilabel:`2 x 7 with price`: PDF displays product name, barcode, and price, fitting two rows and
  seven columns of product labels per page.

  .. spoiler:: Example 2 x 7

     .. image:: print_on_validation/two-seven.png
        :align: center
        :alt: Example 2 x 7 with price.

- :guilabel:`4 x 7 with price`: displays product name, barcode, and price, fitting four rows and
  seven columns of product labels per page.

  .. spoiler:: Example 4 x 7

     .. image:: print_on_validation/four-seven.png
        :align: center
        :alt: Example 4 x 7 with price.

- :guilabel:`4 x 12`: displays product name and barcode. Fits four rows and twelve columns of
  product labels per page.

  .. spoiler:: Example 4 x 12

     .. image:: print_on_validation/four-twelve.png
        :align: center
        :alt: Example 4 x 12.

- :guilabel:`4 x 12 with price`: displays product name, barcode, and price. Fits four rows and
  twelve columns of product labels per page.
- :guilabel:`ZPL Labels`: prints labels in the Zebra Programming Language (ZPL) containing the
  product name and barcode. Readable for Zebra printers to automatically print labels.
- :guilabel:`ZPL Labels with price`: prints labels in the :abbr:`ZPL (Zebra Programming Language)`
  containing the product name, barcode, and price.

.. note::
   Product labels can be manually printed from any delivery order, by clicking the :guilabel:`Print
   Labels` button.

.. _inventory/shipping_receiving/lot-sn-labels:

Lot/SN Labels
=============

Print *lot/SN labels* to affix to items in an order, providing essential information, such as
product name, lot or serial number, and the barcode.

To automatically print this PDF, navigate to the intended operation type's options page
(:menuselection:`Inventory app --> Configuration --> Operations Types`). Then, in the
:guilabel:`Hardware` tab, tick the :guilabel:`Lot/SN Labels` option.

Doing so makes the :guilabel:`Print label as:` drop-down menu visible, where each product label can
be printed as:

- :guilabel:`4 x 12 - One per lot/SN`: PDF with labels for unique lot/serial numbers in the order,
  including product name, lot/serial number, and barcode. Fits four rows and twelve columns per
  page.

  .. spoiler:: Example 4 x 12 - One per lot/SN

     .. figure:: print_on_validation/four-twelve-lots.png
        :align: center
        :alt: Order with only one unique set of lot/serial numbers.

        Labels for an order with only one unique set of lot/serial numbers.

- :guilabel:`4 x 12 - One per unit`: PDF with labels matching the quantity of items, displaying the
  product name, lot/serial number, and barcode. Fits four rows and twelve columns per page.
- :guilabel:`ZPL Labels - One per lot/SN`: prints labels in :abbr:`ZPL (Zebra Programming
  Language)`, containing the product name, lot/serial number, and barcode.
- :guilabel:`ZPL Labels - One per unit`: prints labels with the quantity of items in :abbr:`ZPL
  (Zebra Programming Language)`, containing the product name, lot/serial number, and barcode.

.. _inventory/shipping_receiving/carrier-labels:

Carrier labels
==============

To automatically print a *carrier label* with the recipient address, tracking number, and carrier
details for specific third-party shipping carriers, complete the following setup:

#. Tick the :guilabel:`Carrier Labels` checkbox in the :ref:`operation type settings
   <inventory/shipping_receiving/print_setup>`.
#. :doc:`Connect a printer <../../../../general/iot/devices/printer>` to Odoo's *IoT* app.
#. :ref:`Assign the carrier label to the printer <inventory/shipping_receiving/assign-printer>`.
#. Configure the shipping method's :ref:`label type <inventory/shipping_receiving/label-type>`.

.. _inventory/shipping_receiving/assign-printer:

Assign printer
--------------

Refer to the :doc:`Connect a printer <../../../../general/iot/devices/printer>` documentation for
details on connecting a printer to Odoo's *IoT* app. Upon completion, assign the carrier label to
the printer, by navigating to :menuselection:`IoT app --> Devices`, and selecting the desired
printer.

.. image:: print_on_validation/select-printer.png
   :align: center
   :alt: Show a list of IoT devices.

In the printer configuration form, go to the :guilabel:`Printer Reports` tab to configure the types
of documents the printer automatically prints. Click :guilabel:`Add a line` to open the
:guilabel:`Add: Reports` pop-up window. In the :guilabel:`Search...` bar, type `Shipping`, and
select :guilabel:`Shipping Labels`.

.. note::
   The :guilabel:`Shipping Documents` report is for :ref:`export documents
   <inventory/shipping_receiving/export-doc>`.

.. image:: print_on_validation/printer-report.png
   :align: center
   :alt: Show carrier label report added to the *Printer Reports*.

After adding the :guilabel:`Shipping Labels` report in the :guilabel:`Printer Reports` tab, ensure
the :guilabel:`Report Type` matches the IoT-connected printer's type.

- For laser printers, set the :guilabel:`Report Type` to :guilabel:`PDF`.
- For Zebra printers, set the :guilabel:`Report Type` to :guilabel:`Text`.

.. _inventory/shipping_receiving/label-type:

Shipping carrier label type
---------------------------

Next, complete the setup for the :doc:`third-party shipping connector
<../setup_configuration/third_party_shipper>`. After that, go to :menuselection:`Inventory app -->
Configuration --> Shipping Methods`, and select the desired shipping method.

On the shipping method configuration form, in the :guilabel:`[carrier name] Configuration` tab,
ensure the :guilabel:`Label Format` matches the :ref:`report type assigned earlier
<inventory/shipping_receiving/assign-printer>`:

- For laser printers, set the :guilabel:`Label Format` to :guilabel:`PDF`.
- For Zebra printers, set the :guilabel:`Label Format` to :guilabel:`ZPL2`.

.. image:: print_on_validation/label-type.png
   :align: center
   :alt: Show the *Label Type* field on FedEx's shipping method configuration page.

Example carrier label
---------------------

After validating the operation, the carrier label is generated in the chatter, and printed using the
IoT-connected printer.

.. spoiler:: Example carrier label

     .. figure:: print_on_validation/fedex-carrier-label.png
        :align: center
        :alt: Show an example carrier label for FedEx.

        Carrier label for FedEx, containing the recipient address, tracking number, barcode, and
        other shipping information.

.. seealso::
   :doc:`Print carrier labels <../setup_configuration/labels>`

.. _inventory/shipping_receiving/export-doc:

Export document
===============

An *export document*, required by customs to ship packages from one country to another, can be
automatically printed in Odoo by following these steps:

#. Tick the :guilabel:`Export Documents` checkbox in the :ref:`operation type settings
   <inventory/shipping_receiving/print_setup>`.
#. :doc:`Connect a printer <../../../../general/iot/devices/printer>` to Odoo's *IoT* app.
#. Assign the export document to the printer.

Assign printer
--------------

Similar to the :ref:`printer assignment instructions for carrier labels
<inventory/shipping_receiving/assign-printer>`, after connecting a compatible printer to the Odoo
*IoT* app, go to :menuselection:`IoT app --> Devices`, and select the desired printer.

In the printer configuration form, go to the :guilabel:`Printer Reports` tab, and click
:guilabel:`Add a line`. In the :guilabel:`Add: Reports` pop-up window that appears, add the
:guilabel:`Shipping Documents` report to assign the export document to the printer.

.. spoiler:: Example export document

   .. figure:: print_on_validation/export-doc.png
      :align: center
      :alt: Export document for a shipment from the USA to Belgium.

      Export document for a shipment from the USA to Belgium.

.. _inventory/shipping_receiving/package-content:

Package content
===============

A *package content* PDF includes the package's barcode, packed date, along with a list of contained
products and quantities.

To print this form automatically, go to :menuselection:`Inventory app --> Configuration -->
Operation Types`, and select the desired operation type. Then, go to the :guilabel:`Hardware` tab,
and tick the :guilabel:`Package Contents` checkbox.

.. important::
   If the option is not available, enable the :doc:`Packages
   <../../product_management/configure/package>` feature, by going to :menuselection:`Inventory app
   --> Configuration --> Settings`, ticking the :guilabel:`Packages` checkbox, and clicking
   :guilabel:`Save`.

After enabling the feature in the :guilabel:`Hardware` tab, validating the operation prints a PDF of
the package contents.

.. spoiler:: Example package content PDF

   .. figure:: print_on_validation/package-content.png
      :align: center
      :alt: Package contents form showing the package contents, barcode, and pack date.

      Package contents showing the package contents, barcode, and pack date.

.. _inventory/shipping_receiving/package-label:

Package label
=============

A *package label* that shows the package's barcode and pack date can be configured to print upon
clicking the *Put in Pack* button.

.. important::
   The :guilabel:`Put in Pack` button is available **only** when the :doc:`Packages
   <../../product_management/configure/package>` feature is enabled in
   :menuselection:`Inventory app --> Configuration --> Settings`.

   After it is enabled, the :guilabel:`Put in Pack` button is available on all inventory operations
   (e.g. receipt, pickings, internal transfers, delivery orders, etc.).

To automatically print the package label when the :guilabel:`Put in Pack` button is clicked, go to
:menuselection:`Inventory app --> Configuration --> Operation Types`. Select the desired operation
type, and tick the :guilabel:`Package Label` checkbox in the :guilabel:`Hardware` tab. Labels can be
printed in :guilabel:`PDF` or :guilabel:`ZPL` file formats, as defined in the :guilabel:`Print label
as` field.

.. spoiler:: Example of package barcode

   .. image:: print_on_validation/package-barcode.png
      :align: center
      :alt: PDF of package barcode and package date.



==================================================
SECTION: product_catalog.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/product_catalog.rst
==================================================

===============
Product catalog
===============

.. |SO| replace:: :abbr:`SO (sales order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |BoM| replace:: :abbr:`BoM (bill of materials)`
.. |RfQ| replace:: :abbr:`RfQ (request for quotation)`

The product *catalog* is a feature integrated with any Odoo app that allows users to add products or
components to an order. This includes the **Inventory**, **Manufacturing**, **Sales**, **Purchase**,
and **Repairs** apps, among others.

The product catalog can be accessed from the first tab of a quotation, request for quotation (RfQ),
order, or bill of materials (BoM) form, and opens in a new page when selected. The catalog displays
products and components in a user-friendly, POS-style format, from which they can be selected and
added to forms.

The product catalog simplifies the creation of new sales orders (SOs), purchase orders (POs),
manufacturing orders (MOs), bill of materials (BoMs), and more, by providing a visual interface
through which products and components can be quickly selected.

Use product catalog
===================

To use the product catalog, begin by creating or opening a quotation, |RfQ|, order, or |BoM| to
which products or components can be added. For example, create a new sales quotation by navigating
to :menuselection:`Sales app`, and clicking :guilabel:`New`.

On the form (quotation, |RfQ|, order, |BoM|), make sure the first tab on the bottom is selected.
Depending on the form being configured, this tab may be titled *Order Lines*, *Components*,
*Products*, or *Parts*.

On the first blank line of the tab, click the :guilabel:`Catalog` link to open the catalog in a new
page.

.. image:: product_catalog/catalog-button.png
   :align: center
   :alt: The "Catalog" button on the "Order Lines" tab of a sales quotation.

The product catalog displays a card for each product added to Odoo. Each card displays a few key
details about the corresponding product:

- Product photo
- Product title
- Price or cost of the product, depending on whether it is bought, sold, or used as a
  component
- Reference code (e.g. *DESK0005*)
- On-hand quantity
- Variant attributes (e.g. *Color: White*)

.. image:: product_catalog/product-card.png
   :align: center
   :alt: A product card in the product catalog.

Products can be filtered using the search bar at the top of the page, or the sidebar on the left
side of the page.

To filter by product type, click the :icon:`fa-caret-down` :guilabel:`(down arrow)` button on the
right side of the search bar to open the search menu. In the :guilabel:`Filters` section, select the
:guilabel:`Services` filter to only show service products, or the :guilabel:`Products` filter to
only show physical products.

When creating or configuring a quotation or |SO|, specifically, an :guilabel:`In the Order` filter
appears in the :guilabel:`Filters` section of the search bar. Select this filter to only show
products that have already been added to the form.

In the sidebar on the left side of the page, select an option in the :icon:`fa-th-list`
:guilabel:`PRODUCT CATEGORY` section to filter by product category, or an option in the
:icon:`fa-th-list` :guilabel:`ATTRIBUTES` section to filter by variant attribute.

.. image:: product_catalog/filter-sidebar.png
   :align: center
   :alt: The filter sidebar in the product catalog.

To add a product, click on the product's card, or click the :icon:`fa-shopping-cart` :guilabel:`Add`
button in the bottom-right corner of the card. Doing so adds one unit of the product, which is
displayed in a field in the bottom-left corner of the card.

Once a product has been added, clicking the product card continues to add units of the product in
increments of one.

To adjust the quantity of the product added, click the :icon:`fa-minus` :guilabel:`(minus)` button
to reduce the quantity by one, or the :icon:`fa-plus` :guilabel:`(plus)` button to increase it by
one.

Alternatively, a specific quantity can be entered by selecting the field between the
:icon:`fa-minus` :guilabel:`(minus)` and :icon:`fa-plus` :guilabel:`(plus)` buttons, and typing in
the desired quantity.

To remove a product from the order or |BoM| entirely, either click the :icon:`fa-trash`
:guilabel:`Remove` button in the bottom-right corner of the product card, or click the
:icon:`fa-minus` :guilabel:`(minus)` button until the quantity has been reduced to zero.

.. image:: product_catalog/added-product.png
   :align: center
   :alt: A product card for a product that has been added.

Once the desired quantity of each product has been added, return to the form by clicking the
:guilabel:`Back to [X]` button at the top of the screen. This button differs depending on the type
of form being configured (quotation, |BoM|, etc.).

.. important::
   Products appear in the product catalog, and can be added to orders, even if there
   are zero units of the product on hand. As a result, it is important to confirm the quantity of a
   product being added to an order is actually available, or inventory inconsistencies may arise.


==================================================
SECTION: product_management.rst
PATH: applications/inventory_and_mrp/inventory/product_management.rst
==================================================

:nosearch:

==================
Product management
==================

.. toctree::
   :titlesonly:

   product_management/configure
   product_management/product_tracking


==================================================
SECTION: product_tracking.rst
PATH: applications/inventory_and_mrp/inventory/product_management/product_tracking.rst
==================================================

:show-content:
:hide-page-toc:

================
Product tracking
================

*Lots* and *serial numbers* are the two ways to identify and track products in Odoo. While there are
similarities between the two traceability methods, there are also notable differences that affect
receipts, deliveries, and inventory reports.

A *lot* usually indicates a specific batch of an item that was received, is currently stored, or was
shipped from a warehouse. However, it can also pertain to a batch of products manufactured in-house,
as well.

A *serial number* is a unique identifier assigned incrementally (or sequentially) to an item or
product, used to distinguish it from other items or products.

.. seealso::
   - :doc:`product_tracking/lots`
   - :doc:`product_tracking/serial_numbers`

.. _inventory/product_management/enable-lot-serial:

Enable lots & serial numbers
============================

To track products using lots and serial numbers, the *Lots & Serial Numbers* feature must be
enabled.

To do that, go to the :menuselection:`Inventory app --> Configuration --> Settings`, scroll down to
the :guilabel:`Traceability` section, and click the box next to :guilabel:`Lots & Serial Numbers`.
Then, click the :guilabel:`Save` button to save changes.

.. image:: product_tracking/differences-enabled-setting.png
   :align: center
   :alt: Enabled lots and serial numbers feature in inventory settings.

When to use lots
================

Lots are useful for products that are manufactured or received in large quantities, such as clothes
or food. Lots and can be used to trace a product back to a group, which is especially useful when
managing product recalls or expiration dates.

.. example::
   .. image:: product_tracking/differences-lot.png
      :align: center
      :alt: Created lot with quantity of products in it.

Manufacturers assign lot numbers to groups of products that have common properties; this can lead to
multiple goods sharing the same lot number. This helps identify a number of products in a single
group, and allows for end-to-end traceability of these products through each step in their life
cycles.

When to use serial numbers
==========================

The goal of assigning serial numbers to individual products is to make sure every item's history is
identifiable when it travels through the supply chain. This can be especially useful for
manufacturers that provide after-sales services related to products they sell and deliver.

.. example::
   .. image:: product_tracking/differences-serial-numbers.png
      :align: center
      :alt: List of serial numbers for product.

Serial numbers can contain many different types of characters: numbers, letters, typographical
symbols, or a mixture of all three types.

Traceability
============

Manufacturers and companies can refer to traceability reports to see the entire life cycle of a
product. These reports include vital information, like where it came from (and when), where it was
stored, and to whom it was sent.

To see the full traceability of a product, or group products by lots and/or serial numbers, go to
:menuselection:`Inventory app --> Products --> Lots/Serial Numbers`. Doing so reveals the
:guilabel:`Lots/Serial Numbers` dashboard.

From here, products with lots or serial numbers assigned to them are listed by default. They can
also be expanded to show what lots or serial numbers have been specifically assigned to them.

To group by lots or serial numbers, first remove any default filters from the search bar in the
upper-right corner. Then, click :guilabel:`Group By`, and select :guilabel:`Add Custom Group`, which
reveals a mini drop-down menu. From this mini drop-down menu, select :guilabel:`Lot/Serial Number`,
and click :guilabel:`Apply`.

Doing so reveals all existing lots and serial numbers, and each can be expanded to show all product
quantities with that assigned number. For unique serial numbers that are *not* reused, there should
*only* be one product per serial number.

.. image:: product_tracking/differences-tracking.png
   :align: center
   :alt: Reporting page with drop-down lists of lots and serial numbers.

.. tip::
   For additional information regarding an individual lot number or serial number, click the line
   item for the lot or serial number to reveal that specific number's :guilabel:`Lot` or
   :guilabel:`Serial Number` form. From this form, click the :guilabel:`Location` and
   :guilabel:`Traceability` smart buttons to see all stock on-hand using that serial number. Any
   operations made using that lot or serial number can be found here, as well.

.. toctree::
   :titlesonly:

   product_tracking/serial_numbers
   product_tracking/lots
   product_tracking/reassign
   product_tracking/expiration_dates



==================================================
SECTION: putaway.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/putaway.rst
==================================================

=============
Putaway rules
=============

Putaway is the process of routing products to appropriate storage locations upon shipment arrival.

Odoo can accomplish this seamlessly using *putaway rules*, which dictate how products move through
specified warehouse locations.

Upon shipment arrival, operations are generated based on putaway rules to efficiently move products
to specified locations, and ensure easy retrieval for future delivery orders.

In warehouses that process specific kinds of products, putaway rules can also prevent volatile
substances from being stored in close proximity, by directing them to different locations determined
by the warehouse manager.

.. seealso::
   `Odoo Tutorials: Putaway Rules <https://www.youtube.com/watch?v=nCQMf6sj_w8>`_

Configuration
=============

To use putaway rules, navigate to :menuselection:`Inventory app --> Configuration --> Settings`, and
activate the :guilabel:`Multi-Step Routes` feature under the :guilabel:`Warehouse` section. By doing
so, the :guilabel:`Storage Locations` feature is also automatically activated.

Finally, click :guilabel:`Save`.

.. image:: putaway/activate-multi-step-routes.png
   :alt: Activate Multi-Step Routes in Inventory configuration settings.

.. _inventory/routes/putaway-rule:

Define putaway rule
-------------------

To manage where specific products are routed for storage, navigate to :menuselection:`Inventory app
--> Configuration --> Putaway Rules`. Use the :guilabel:`New` button to configure a new putaway
rule on a :guilabel:`Product` or :guilabel:`Product Category` that the rule affects.

.. important::
   Putaway rules can be defined either per product/product category, and/or package type (the
   *Packages* setting must be enabled in :menuselection:`Inventory app --> Configuration -->
   Settings` for that). Additionally, a :doc:`storage category <storage_category>`
   can be defined to limit capacities of a storage location and route products accordingly.

In the same line, the :guilabel:`When product arrives in` location is where the putaway rule is
triggered to create an operation to move the product to the :guilabel:`Store to` location.

For this to work, the :guilabel:`Store to` location must be a *sub-location* of the first (e.g.,
`WH/Stock/Fruits` is a specific, named location inside `WH/Stock` to make the products stored here
easier to find).

.. example::
   In a warehouse location, **WH/Stock**, there are the following sub-locations:

   - WH/Stock/Fruits
   - WH/Stock/Vegetables

   Ensure all apples are stored in the fruits section by filling the field :guilabel:`Store to` with
   the location `WH/Stock/Fruits` when the :guilabel:`Product`, `Apple` arrives in `WH/Stock`.

   Repeat this for all products and hit :guilabel:`Save`.

   .. image:: putaway/create-putaway-rules.png
      :alt: Create putaway rules for apples and carrots.

Use the :guilabel:`Sublocation` field to specify whether to use a sublocation or specify a
storage category:

- :guilabel:`No`: no sublocation is used. Products are directed to whatever is specified in the
  :guilabel:`Store to` field.
- :guilabel:`Last Used`: the last location that had a move associated with it for that product or
  product category is used. If there is no last location used, the destination is whatever is
  specified in the :guilabel:`Store to` field.
- :guilabel:`Closest Location`: the locations specified as part of a storage category are used. A
  storage category is mandatory in the :guilabel:`Having Category` field.

To apply a putaway rule to *all* products, create an empty putaway rule with no specified
:guilabel:`Product` or :guilabel:`Product Category`. All products are stored in the location
specified in the :guilabel:`Store to` field.

.. note::
   A best practice for an empty putaway rule is to specify the :guilabel:`Last used`
   :guilabel:`Sublocation`. Specifying :guilabel:`Last used` ensures that Odoo suggests the last
   location used to store a product.

Putaway rule priority
---------------------

Odoo selects a putaway rule based on the following priority list (from highest to lowest) until a
match is found:

#. Package type and product
#. Package type and product category
#. Package type
#. Product
#. Product category

.. example::
   The product `Lemonade can` has the following putaway rules configured:

   #. When receiving a `Pallet` (:guilabel:`Package Type`) of `Lemonade cans`, it is redirected to
      `WH/Stock/Pallets/PAL1`.
   #. `Lemonade can`'s :guilabel:`Product Category` is `All/drinks`, and when receiving a `Box` of
      any item in this product category, items are redirected to `WH/Stock/Shelf 1`.
   #. Any product on a `Pallet` is redirected to `WH/Stock/Pallets`
   #. The product `Lemonade can` is redirected to `WH/Stock/Shelf 2`
   #. Items in the `All/drinks` product category are redirected to `WH/Stock/Small Refrigerator`.

  .. image:: putaway/putaway-example.png
     :alt: Some examples of putaway rules.



==================================================
SECTION: reassign.rst
PATH: applications/inventory_and_mrp/inventory/product_management/product_tracking/reassign.rst
==================================================

===========================
Reassign lot/serial numbers
===========================

Changing a product's tracking settings to use lots or serial numbers, *after* storing products in
Odoo without them, can lead to inconsistent records. Follow this documentation to learn how to use
an inventory adjustment to assign lot or serial numbers to products that were not originally
assigned lots.

.. image:: reassign/warning.png
   :align: center
   :alt: Warning message: products in stock have no lot/serial number.

.. note::
   This document outlines the process of using two inventory adjustments: one to remove incorrect
   records *without* lot numbers, and another to save the quantities *with* the lot numbers.

.. seealso::
   - :doc:`Set up and use lot numbers <lots>`
   - :doc:`Use serial numbers <serial_numbers>`

Change on-hand quantity to zero
===============================

To change the product's settings to track by lots or serial numbers, begin by navigating to
:menuselection:`Inventory app --> Products --> Products`, and select the intended product.

Next, click the product's :guilabel:`On Hand` smart button to open the :guilabel:`Update Quantity`
page. In the :guilabel:`On Hand Quantity` column, change the value to zero.

.. note::
   If the product is stored in multiple locations, make sure the **total** on hand quantity at
   **all** locations is zero.

.. image:: reassign/remove-quant.png
   :align: center
   :alt: Show the Inventory Adjustments model, highlighting the "On Hand Quantity" field.

Change traceability setting
===========================

Return to the product form (:menuselection:`Inventory app --> Products --> Products`), and switch to
the :guilabel:`Inventory` tab. In the :guilabel:`Traceability` section, change the
:guilabel:`Tracking` option from :guilabel:`No Tracking` to :guilabel:`By Lots` or :guilabel:`By
Unique Serial Number`.

.. seealso::
   :doc:`expiration_dates`

.. image:: reassign/tracking.png
   :align: center
   :alt: Enable lots and serial numbers.

Restore on-hand quantity
========================

After manually changing the on-hand quantity to zero and changing the :guilabel:`Tracking` setting
to lots or serial numbers, restore the quantities by clicking the :guilabel:`On Hand` smart button
from the desired product form.

On the :guilabel:`Update Quantity` page, because the on-hand quantity had been previously changed to
zero, a :guilabel:`No Stock On Hand` warning appears on the page. From here, click the
:guilabel:`New` button in the top-left corner. Doing so reveals a new, modifiable line on the
:guilabel:`Update Quantity` page. Then, input a desired lot number in the :guilabel:`Lot/Serial
Number` field, and adjust the :guilabel:`On Hand Quantity` to its original value.

.. seealso::
   :doc:`../../warehouses_storage/inventory_management/count_products`

.. image:: reassign/update-quantity.png
   :align: center
   :alt: Fill in the "Lot/Serial Number" and "On Hand Quantity" field.

.. tip::
   To find the original quantity, and adjust the :guilabel:`On Hand Quantity` accordingly, after
   assigning a new lot or serial number, click the :icon:`fa-pencil` :guilabel:`(pencil)` icon in
   the :guilabel:`On Hand Quantity` column. Then, click the :icon:`fa-history` :guilabel:`History`
   button on the far-right.

   .. image:: reassign/adjustment.png
      :align: center
      :alt: Show the "History" button on the Inventory Adjustments page.

   The inventory adjustment that changed the on-hand quantity to zero is displayed in the
   :guilabel:`Quantity` field.

    .. image:: reassign/history.png
       :align: center
       :alt: Show the history entry.


==================================================
SECTION: receipts_delivery_one_step.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/receipts_delivery_one_step.rst
==================================================

=============================
One-step receipt and delivery
=============================

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`

In Odoo *Inventory*, both incoming and outgoing shipments are configured to process in one step, by
default. This means purchases will be received directly into stock, and deliveries will be moved
directly from stock to customers.

.. tip::
   Incoming and outgoing shipments do **not** need to be configured with the same amount of steps.

   For example, a warehouse's settings can be configured so products can be received directly in one
   step, and delivered in three steps (pick + pack + ship).

Configuration
=============

To configure one-step receipts and deliveries for a warehouse, navigate to :menuselection:`Inventory
app --> Configuration --> Warehouses`, and select a warehouse to edit.

Under the :guilabel:`Warehouse Configuration` tab, set :guilabel:`Incoming Shipments` to
:guilabel:`Receive goods directly (1 step)`, and set :guilabel:`Outgoing Shipments` to
:guilabel:`Deliver goods directly (1 step)`.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-warehouse-settings.png
   :align: center
   :alt: Incoming and outgoing shipments set to one-step on warehouse form.

.. note::
   Since one-step receipt and delivery is the default for incoming and outgoing shipments in Odoo,
   the *Multi-Step Routes* feature is *not* required.

   However, for the :guilabel:`Shipments` settings to appear on a warehouse form, the feature
   **must** be enabled.

   To enable *Multi-Step Routes*, navigate to :menuselection:`Inventory app --> Configuration -->
   Settings`. Under the :guilabel:`Warehouse` section, tick the checkbox next to
   :guilabel:`Multi-Step Routes`, and click :guilabel:`Save`. Doing so also activates the
   :guilabel:`Storage Locations` feature.

.. _inventory/receipts_delivery_one_step/wh:

Receive goods directly (1 step)
===============================

When products are received in one step, they will move from the vendor location to warehouse stock
in the database immediately upon validation of a purchase order (PO).

Create purchase order
---------------------

To create a |PO|, navigate to the :menuselection:`Purchase app`, and click :guilabel:`New`. This
opens a blank :guilabel:`Request for Quotation` (RfQ) form.

Add a vendor in the :guilabel:`Supplier` field. Then, fill out the various fields on the |RfQ|, as
necessary.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-new-rfq.png
   :align: center
   :alt: Filled out new request for quotation form.

Under the :guilabel:`Products` tab, click :guilabel:`Add a product`, and select a product to add to
the |RfQ|.

Once ready, click :guilabel:`Confirm Order`. This moves the |RfQ| to the :guilabel:`Purchase Order`
stage.

Once the |PO| is confirmed, a :guilabel:`Receipt` smart button appears at the top of the form.
Clicking the smart button opens the warehouse receipt (WH/IN) form.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-receipt-smart-button.png
   :align: center
   :alt: Receipt smart button on confirmed purchase order form.

Process receipt
---------------

From the warehouse receipt form, the products ordered can be received into the warehouse. To receive
the products, click :guilabel:`Validate`. Once validated, the receipt moves to the :guilabel:`Done`
stage.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-done-receipt.png
   :align: center
   :alt: Validated warehouse receipt in Done stage.

Click back to the |PO| (via the breadcrumbs, at the top of the form) to view the |PO| form. On the
product line, the quantity in the :guilabel:`Received` column now matches the ordered
:guilabel:`Quantity`.

.. _inventory/delivery/one-step:

Deliver goods directly (1 step)
===============================

When products are delivered in one step, they will move from warehouse stock to the customer
location in the database immediately upon validation of a sales order (SO).

Create sales order
------------------

To create a |SO|, navigate to the :menuselection:`Sales app`, and click :guilabel:`New`. This
opens a blank sales quotation form.

Add a customer in the :guilabel:`Customer` field. Then, fill out the various fields on the sales
quotation form, as necessary.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-new-sales-order.png
   :align: center
   :alt: Filled out new sales quotation form.

Under the :guilabel:`Product` tab, click :guilabel:`Add a product`, and select a product to add to
the sales order quotation.

Once ready, click :guilabel:`Confirm`. This moves the quotation to the :guilabel:`Sales Order`
stage.

Once the |SO| is confirmed, a :guilabel:`Delivery` smart button appears at the top of the form.
Clicking the smart button opens the warehouse delivery (WH/OUT) form.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-delivery-button.png
   :align: center
   :alt: Delivery smart button on confirmed sales order form.

Process delivery
----------------

From the warehouse delivery form, the products ordered by the customer can be delivered from the
warehouse. To deliver the products, change the value in the :guilabel:`Quantity` field to match the
ordered quantity in the :guilabel:`Demand` field.

Once ready, click :guilabel:`Validate`. Once validated, the delivery order moves to the
:guilabel:`Done` stage.

.. image:: receipts_delivery_one_step/receipts-delivery-one-step-done-delivery.png
   :align: center
   :alt: Validated delivery order in Done stage.

Click back to the |SO| (via the breadcrumbs, at the top of the form) to view the |SO| form. On the
product line, the quantity in the :guilabel:`Delivered` column now matches the ordered
:guilabel:`Quantity`.

.. seealso::
   :doc:`../daily_operations`


==================================================
SECTION: receipts_delivery_two_steps.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/receipts_delivery_two_steps.rst
==================================================

=============================
Two-step receipt and delivery
=============================

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |DO| replace:: :abbr:`DO (Delivery Order)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`

Depending on a company's needs, receiving and shipping products in and out of the warehouse might
require multi-step operations. In Odoo *Inventory*, this can be done using *Multi-Step Routes*.

In the two-step receipt process, products are received in an input area, then transferred to stock.
This kind of process for incoming shipments might be beneficial for warehouses with specific storage
locations, such as freezers and refrigerators, secured locked areas, or special aisles and shelves.

Products can be sorted according to where they are going to be stored, and employees can stock all
the products going to a specific location. The products are *not* available for further processing,
until they are transferred into stock.

In the two-step delivery process, products are first picked from their respective location in the
warehouse, then transferred to an output location before being shipped to the customer.

This might be beneficial for companies using a First In, First Out (FIFO), Last In, First Out
(LIFO), or First Expired, First Out (FEFO) removal strategy.

.. tip::
   Incoming and outgoing shipments do **not** need to be configured with the same amount of steps.

   For example, a warehouse's settings can be configured so products can be received in two steps
   (input + stock), and delivered in three steps (pick + pack + ship).

Configuration
=============

In Odoo *Inventory*, both incoming and outgoing shipments are configured to process in one step, by
default. To change these settings, the *Multi-Step Routes* feature must be enabled.

To enable *Multi-Step Routes*, navigate to :menuselection:`Inventory app --> Configuration -->
Settings`. Under the :guilabel:`Warehouse` section, tick the checkbox next to :guilabel:`Multi-Step
Routes`, and click :guilabel:`Save`. Doing so also activates the :guilabel:`Storage Locations`
feature.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-settings.png
   :align: center
   :alt: Enabled Multi-Step Routes feature in Inventory app settings.

Next, configure a warehouse for two-step receipts and deliveries. Navigate to
:menuselection:`Inventory app --> Configuration --> Warehouses`, and select a warehouse to edit.

Under the :guilabel:`Warehouse Configuration` tab, set :guilabel:`Incoming Shipments` to
:guilabel:`Receive goods in input and then stock (2 steps)`, and set :guilabel:`Outgoing Shipments`
to :guilabel:`Send goods in output and then deliver (2 steps)`.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-shipments.png
   :align: center
   :alt: Incoming and outgoing shipments set to two-step on warehouse form.

.. note::
   Selecting two-step receipts and deliveries automatically creates new *Input* and *Output*
   warehouse locations in the database, named `WH/Input` and `WH/Output`, respectively.

   To rename or edit these locations, navigate to :menuselection:`Inventory app --> Configuration
   --> Locations`, and select the desired location.

   On the location's form, change the :guilabel:`Location Name`, and make any other necessary
   changes.

Process receipt in two steps (input + stock)
============================================

When products are received in two steps, they first move from the vendor location to an input
location. Then, they move from the input location to warehouse stock in the database, upon
validation of a purchase order (PO), and a subsequent internal transfer.

Create purchase order
---------------------

To create a |PO|, navigate to the :menuselection:`Purchase app`, and click :guilabel:`New`. This
opens a blank :guilabel:`Request for Quotation` (RfQ) form.

Add a vendor in the :guilabel:`Vendor` field. Then, fill out the various fields on the |RfQ|, as
necessary.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-new-rfq.png
   :align: center
   :alt: Filled out new Request for Quotation from vendor.

Under the :guilabel:`Products` tab, click :guilabel:`Add a product`, and select a product to add to
the |RfQ|.

Once ready, click :guilabel:`Confirm Order`. This moves the |RfQ| to the :guilabel:`Purchase Order`
stage.

Once the |PO| is confirmed, a :guilabel:`Receipt` smart button appears at the top of the form.
Clicking the smart button opens the warehouse receipt (WH/IN) form.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-smart-button.png
   :align: center
   :alt: Delivery smart button for validated purchase order.

.. tip::
   For businesses with multiple warehouses that have different step configurations, the
   :guilabel:`Deliver To` field on the |PO| form **must** be specified as the correct *input
   location* connected to the two-step warehouse.

   This can be done by selecting the warehouse from the drop-down menu that includes the `Receipts`
   label at the end of the name.

Process receipt
---------------

From the warehouse receipt form, the products ordered can be received into the warehouse. To receive
the products, click :guilabel:`Validate`. Once validated, the receipt moves to the :guilabel:`Done`
stage, and the products move to the :guilabel:`WH/Input` location.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-receipt-form.png
   :align: center
   :alt: Receipt form for products ordered from vendor.

Click back to the |PO| (via the breadcrumbs, at the top of the form) to view the |PO| form. On the
product line, the quantity in the :guilabel:`Received` column now matches the ordered
:guilabel:`Quantity`.

Process internal transfer
-------------------------

Once the receipt is validated, an internal transfer is created and ready to process.

To view the internal transfer, navigate to the :menuselection:`Inventory app`, and locate the
:guilabel:`Internal Transfers` task card.

Click the :guilabel:`# To Process` button on the task card to reveal a list of all internal
transfers to process, and select the transfer associated with the previously validated receipt.

Once ready, click :guilabel:`Validate` to complete the transfer, and move the product from
:guilabel:`WH/Input` to :guilabel:`WH/Stock`.

Once the transfer is validated, the products enter inventory, and are available for customer
deliveries or manufacturing orders.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-internal-transfer.png
   :align: center
   :alt: Internal transfer form for products ordered from vendor.

.. _inventory/shipping_receiving/two-step-delivery:

Process delivery order in two steps (pick + ship)
=================================================

When products are delivered in two steps, they move from warehouse stock to an output location.
Then, they move from the output location to a customer location in the database, upon validation of
a picking order, and a subsequent delivery order (DO).

Create sales order
------------------

To create a |SO|, navigate to the :menuselection:`Sales app`, and click :guilabel:`New`. This
opens a blank sales quotation form.

Add a customer in the :guilabel:`Customer` field. Then, fill out the various fields on the sales
quotation form, as necessary.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-new-sales-order.png
   :align: center
   :alt: Filled out new sales order form.

Under the :guilabel:`Order Lines` tab, click :guilabel:`Add a product`, and select a product to add
to the sales order quotation.

Once ready, click :guilabel:`Confirm`. This moves the quotation to the :guilabel:`Sales Order`
stage.

Once the |SO| is confirmed, a :guilabel:`Delivery` smart button appears at the top of the form.
Clicking the smart button opens the warehouse delivery (WH/OUT) form.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-delivery-button.png
   :align: center
   :alt: Delivery smart button on validated sales order form.

Process picking
---------------

Once the sales order is confirmed, a picking order is generated and ready to process.

To complete the picking, navigate to the :guilabel:`Inventory app`, and locate the :guilabel:`Pick`
task card on the :guilabel:`Inventory Overview` dashboard. Alternatively, the picking order can also
be accessed via the :guilabel:`Delivery` smart button at the top of the sales order form.

From the :guilabel:`Inventory Overview` page, click the :guilabel:`# To Process` button on the
:guilabel:`Pick` task card. This reveals a list of all pickings to process.

Click on the picking (WH/PICK) operation associated with the sales order to reveal the picking
order.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-picking-form.png
   :align: center
   :alt: Picking order form for products included in sales order.

Manually set the quantity by changing the value in the :guilabel:`Quantity` column, to match the
value in the :guilabel:`Demand` column.

Once ready, click :guilabel:`Validate` to complete the picking, and move the product from
:guilabel:`WH/Stock` to :guilabel:`WH/Output.`

Process delivery
----------------

Once the picking is validated, a delivery order is created, and ready to process. Clicking the
:guilabel:`Delivery` smart button on the sales order form reveals the newly created delivery order.

Alternatively, to view the delivery order, navigate back to the :guilabel:`Inventory Overview` page,
via the breadcrumbs, and locate the :guilabel:`Delivery Orders` task card.

Click the :guilabel:`# To Process` button on the task card to reveal a list of all delivery orders
to process, and select the order associated with the previously validated picking.

.. image:: receipts_delivery_two_steps/receipts-delivery-two-steps-delivery-order.png
   :align: center
   :alt: Delivery order form for products ordered by customer.

To deliver the products, change the value in the :guilabel:`Quantity` field to match the ordered
quantity in the :guilabel:`Demand` field.

Once ready, click :guilabel:`Validate`. Once validated, the delivery order moves to the
:guilabel:`Done` stage.

.. seealso::
   :doc:`../daily_operations`


==================================================
SECTION: receipts_three_steps.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/receipts_three_steps.rst
==================================================

==================
Three-step receipt
==================

Some companies require a quality control process before receiving goods from suppliers. To
accomplish this, Odoo has a three-step process for receiving goods.

In the three-step receipt process, products are received in an input area, then transferred to a
quality area for inspection. Products that pass the quality inspection are then transferred into
stock. The products are not available for further processing until they are transferred out of the
quality area and into stock.

Configuration
=============

Odoo is configured by default to :doc:`receive and deliver goods in one step
<receipts_delivery_one_step>`, so the settings need to be changed in order to utilize three-step
receipts. First, make sure the *Multi-Step Routes* option is enabled in :menuselection:`Inventory
--> Configuration --> Settings --> Warehouse`. Note that activating :guilabel:`Multi-Step Routes`
will also activate *Storage Locations*.

.. image:: receipts_three_steps/receipts-three-steps-multi-step-routes.png
   :align: center
   :alt: Activate multi-step routes and storage locations in Inventory settings.

Next, the warehouse needs to be configured for three-step receipts. To do that, go to
:menuselection:`Inventory app --> Configuration --> Warehouses`, and select the desired warehouse to
be edited. Doing so reveals the detail form for that specific warehouse.

On that :guilabel:`Warehouse` detail form page, select :guilabel:`Receive goods in input, then
quality and then stock (3 steps)` for :guilabel:`Incoming Shipments`.

.. image:: receipts_three_steps/receipts-three-steps-incoming-shipments.png
   :align: center
   :alt: Set incoming shipment option to receive in three steps.

Activating three-step receipts and deliveries creates two new internal locations: *Input*
(WH/Input), and *Quality Control* (WH/Quality Control). To rename these locations, go to
:menuselection:`Inventory app --> Configuration --> Locations`, then click on the desired location
to change (or update) the name.

Receive in three steps (input + quality + stock)
================================================

Create a purchase order
-----------------------

To create a new :abbr:`RfQ (Request for Quotation)`, navigate to :menuselection:`Purchase app -->
New`, which reveals a blank :abbr:`RfQ (Request for Quotation)` form page. On this page, select a
:guilabel:`Vendor`, add a storable :guilabel:`Product`, and click :guilabel:`Confirm Order`.

A :guilabel:`Receipt` smart button will appear in the top right, and the receipt will be associated
with the purchase order. Clicking on the :guilabel:`Receipt` smart button will show the receipt
order.

.. image:: receipts_three_steps/receipts-three-steps-smart-button.png
   :align: center
   :alt: After confirming a purchase order, a Receipt smart button will appear.

Process a receipt
-----------------

Once the purchase order (PO) is confirmed, a receipt (`WH/IN`) operation is generated and ready to
process.

The receipt can be confirmed from the original purchase order form, or it can be accessed by
navigating to the :menuselection:`Inventory app`, and locating the :guilabel:`Receipts` task card.

Click the :guilabel:`# To Process` button to reveal all incoming receipts to process. Click the
receipt associated with the previous purchase order.

Click :guilabel:`Validate` to validate the receipt, and move the product to the destination
location, :guilabel:`WH/Input`.

.. image:: receipts_three_steps/receipts-three-steps-receipt-form.png
   :align: center
   :alt: Receipt operation for product being moved to WH/Input location.

Process a transfer to Quality Control
-------------------------------------

Once the receipt has been validated, an internal transfer operation to move the product to quality
control is ready to process.

Click :guilabel:`Inventory Overview` in the breadcrumbs to navigate back to the dashboard, and
locate the :guilabel:`Internal Transfers` task card.

Select the :guilabel:`# To Process` button to reveal all internal transfers to process. Then, choose
the internal transfer associated with the validated receipt.

Once ready, click :guilabel:`Validate` to complete the transfer, and move the product from
:guilabel:`WH/Input` to :guilabel:`WH/Quality Control`.

.. image:: receipts_three_steps/receipts-three-steps-internal-transfer.png
   :align: center
   :alt: Internal transfer for product being moved to quality control zone.

Process a transfer to stock
===========================

Once the internal transfer to move the product to quality control has been validated, another
internal transfer operation to move the product into warehouse stock is ready to process.

Click :guilabel:`YourCompany: Internal Transfers` in the breadcrumbs to reveal the list of all
internal transfers to process. Then, select the new internal transfer to move the product from
`WH/Quality Control` to `WH/Stock`.

Once ready, click :guilabel:`Validate` to complete the transfer, and move the product from
:guilabel:`WH/Quality Control` to :guilabel:`WH/Stock`.

.. image:: receipts_three_steps/receipts-three-steps-second-transfer.png
   :align: center
   :alt: Internal transfer for product being moved to warehouse stock.


==================================================
SECTION: removal_strategies.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/removal_strategies.rst
==================================================

:show-content:
:hide-page-toc:

==================
Removal strategies
==================

For companies with warehouses, *removal strategies* determine **which** products are taken from the
warehouse, and **when**. For example, for perishable products, prioritizing the picking of goods
with the nearest expiration date helps minimize food spoilage.

The following columns in the table below list the removal strategies available in Odoo, and detail
how pickings are determined along with the picking order. Leverage these removal strategies to have
Odoo automatically select how products are selected for orders:

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - :doc:`FIFO <removal_strategies/fifo>`
     - :doc:`LIFO <removal_strategies/lifo>`
     - :doc:`FEFO <removal_strategies/fefo>`
     - :doc:`Closest Location <removal_strategies/closest_location>`
     - :doc:`Least Packages <removal_strategies/least_packages>`
   * - Based on
     - :ref:`Incoming date <inventory/warehouses_storage/arrival_date>`
     - :ref:`Incoming date <inventory/warehouses_storage/arrival_date>`
     - :ref:`Removal date <inventory/warehouses_storage/removal-date>`
     - :ref:`Location sequence <inventory/warehouses_storage/sequence>`
     - :ref:`Package quantity <inventory/warehouses_storage/pkg-qty>`
   * - Selection order
     - First in
     - Last in
     - :ref:`First to expire <inventory/warehouses_storage/exp-date>`
     - Alphanumeric name of location
     - Quantity closest to fulfilling demand

For comprehensive examples for how to use each removal strategy, refer to each individual
documentation page.

.. _inventory/warehouses_storage/removal-config:

Configuration
=============

Removal strategies are set on either the product category or storage location.

.. image:: removal_strategies/navigate-location-category.png
   :align: center
   :alt: Change the Force Removal Strategy for either the Product Categories or Locations.

Configure removal strategies on the location by going to :menuselection:`Inventory --> Configuration
--> Locations`, and selecting the desired location. On the location form, choose a removal strategy
from the :guilabel:`Removal Strategy` field's drop-down menu options.

.. important::
   To set a removal strategy on a location, the :guilabel:`Storage Locations` and
   :guilabel:`Multi-Step Routes` settings **must** be enabled in :menuselection:`Inventory -->
   Configuration --> Settings`.

   These features are **only** necessary when setting the removal strategy on a location.

Configure removal strategies on product categories by going to :menuselection:`Inventory -->
Configuration --> Product Categories` and selecting the intended product category. Next, choose a
removal strategy from the :guilabel:`Force Removal Strategy` drop-down menu options.

.. important::
   When there are different removal strategies applied on both the location and product category for
   a product, the value set on the :guilabel:`Force Removal Strategy` field set on a
   :guilabel:`Product Category` form is applied as top priority.

Required features
=================

While some removal strategies are available by default, some additional features **must** be enabled
in :menuselection:`Inventory --> Configuration --> Settings` for the removal strategy option to
appear in the drop-down menu of the :guilabel:`Force Removal Strategy` or :guilabel:`Removal
Strategy` field.

Refer to the table below for a summary of required features. Otherwise, refer to the dedicated
sections for the removal strategy for more details on requirements and usage.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - FIFO
     - LIFO
     - FEFO
     - Closest Location
     - Least Packages
   * - Required features
     - Lots & Serial Numbers
     - Lots & Serial Numbers
     - Lots & Serial Numbers, Expiration Date
     - Storage Locations, Multi-Step Routes
     - Packages

.. _inventory/warehouses_storage/lots-setup:

Lots and serial numbers
-----------------------

Lots and serial numbers differentiate identical products and track information like arrival or
expiration dates. To enable this feature, navigate to :menuselection:`Inventory --> Configuration
--> Settings`. Under the :guilabel:`Traceability` heading, check the box beside :guilabel:`Lots &
Serial Numbers` to enable the feature.

.. image:: removal_strategies/enable-lots.png
   :align: center
   :alt: Enable lots and serial numbers.

Next, ensure the intended product is tracked by lots or serial numbers by navigating to the product
form through :menuselection:`Inventory --> Products --> Products`, and selecting the desired
product. On the product form, switch to the :guilabel:`Inventory` tab, and under the
:guilabel:`Tracking` field, select either the :guilabel:`By Unique Serial Number` or :guilabel:`By
Lots` options.

After enabling the features, assign lot or serial numbers to products using an :doc:`inventory
adjustment <../warehouses_storage/inventory_management/count_products>` or during :ref:`product
reception <inventory/product_management/assign-lots>`.

Locations and routes
--------------------

**Storage locations** and **multi-step routes** are necessary features for setting **all** types of
removal strategies on a location. However, these features are specifically required for the closest
location removal strategy since it is only applied at the location level.

To activate these features, navigate to :menuselection:`Inventory --> Configuration --> Settings`.
Under the :guilabel:`Warehouse` heading, enable the :guilabel:`Storage Location` and
:guilabel:`Multi-Step Routes` features.

.. image:: removal_strategies/enable-location.png
   :align: center
   :alt: Enable the locations and route features.

.. _inventory/warehouses_storage/exp-setup:

Expiration date
---------------

Enable the **expiration date** feature to track expiration dates, best before dates, removal dates,
and alert dates on a lot or serial number by navigating to :menuselection:`Inventory -->
Configuration --> Settings`.

Under the :guilabel:`Traceability` heading, ensure the :guilabel:`Lots & Serial Numbers` feature is
selected, and then select the check box for :guilabel:`Expiration Dates` to enable the feature.

.. image:: removal_strategies/enable-expiration.png
   :align: center
   :alt: Enable expiration dates feature for FEFO.

.. _inventory/warehouses_storage/pack-setup:

Packages
--------

The *packages* feature is used to group products together and is required for the least packages
removal strategy.

Navigate to :menuselection:`Inventory --> Configuration --> Settings` and select the check box for
the :guilabel:`Packages` feature.

.. image:: removal_strategies/enable-pack.png
   :align: center
   :alt: Enable the packages feature.

.. seealso::
   - :doc:`Packages <../product_management/configure/package>`
   - :doc:`2-step delivery <daily_operations/receipts_delivery_two_steps>`
   - :doc:`3-step delivery <daily_operations/delivery_three_steps>`

.. toctree::
   :titlesonly:

   removal_strategies/fifo
   removal_strategies/lifo
   removal_strategies/fefo
   removal_strategies/closest_location
   removal_strategies/least_packages


==================================================
SECTION: reordering_rules.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/reordering_rules.rst
==================================================

================
Reordering rules
================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOs| replace:: :abbr:`SOs (Sales Orders)`
.. |RFQ| replace:: :abbr:`RFQ (Request for Quotation)`
.. |RFQs| replace:: :abbr:`RFQs (Requests for Quotations)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`
.. |BoMs| replace:: :abbr:`BoMs (Bills of Materials)`
.. |adjust| replace:: :icon:`oi-settings-adjust` :guilabel:`(adjust settings)` icon

*Reordering rules* are used to keep forecasted stock levels above a certain threshold without
exceeding a specified upper limit. This is accomplished by specifying a minimum quantity that stock
should not fall below and a maximum quantity that stock should not exceed.

Reordering rules can be configured for each product based on the route used to replenish it. If a
product uses the *Buy* route, then a *request for quotation* (RFQ) is created when the reordering
rule is triggered. If a product uses the *Manufacture* route, then a *manufacturing order* (MO) is
created instead. This is the case regardless of the selected replenishment route.

.. seealso::
   - `Odoo Tutorials: Automatic Reordering Rules <https://www.youtube.com/watch?v=XEJZrCjoXaU>`_
   - `Odoo Tutorials: Manual Reordering Rules <https://www.youtube.com/watch?v=deIREJ1FFj4>`_

To set up reordering rules for the first time, refer to:

- :ref:`Reordering rules setup <inventory/warehouses_storage/configure-rr>`
- :ref:`Trigger <inventory/warehouses_storage/trigger>`
- :ref:`Preferred route <inventory/warehouses_storage/route>`

To understand and optimize replenishment using advanced features, see:

- :doc:`Just in time logic <just_in_time>`
- :ref:`Horizon days <inventory/warehouses_storage/horizon-days>`

.. _inventory/warehouses_storage/configure-rr:

Reordering rules setup
======================

To configure automatic and manual reordering rules, complete the following:

#. :ref:`Product type configuration <inventory/warehouses_storage/set-product-type>`
#. :ref:`Replenishment method <inventory/warehouses_storage/set-method>`
#. :ref:`Create rule <inventory/warehouses_storage/rr-fields>`

.. _inventory/warehouses_storage/set-product-type:

Product type configuration
--------------------------

A product must be configured correctly to use reordering rules. Begin by navigating to
:menuselection:`Inventory app --> Products --> Products`, then select an existing product, or create
a new one by clicking :guilabel:`New`.

On the product form, under the :guilabel:`General Information` tab, set the :guilabel:`Product Type`
to :guilabel:`Goods`, and make sure the :guilabel:`Track Inventory` checkbox is ticked. This is
necessary for Odoo to track the product's stock levels and trigger reordering rules.

.. image:: reordering_rules/product-type.png
   :alt: Product Type and Track Inventory configurations.

.. _inventory/warehouses_storage/set-method:

Replenishment method
--------------------

Next, configure the replenishment method (e.g. buy or manufacture).

If the product is purchased, :ref:`install <general/install>` the **Purchase** app, and confirm that
the :guilabel:`Purchase` checkbox is enabled under the product name. In the :guilabel:`Purchase`
tab, add at least one vendor to the :doc:`vendor pricelist <../../../purchase/products/pricelist>`.
Odoo uses the vendor at the top of the list to generate |RFQs| when reordering rules are triggered.

.. seealso::
   :doc:`Vendor pricelist <../../../purchase/products/pricelist>`

If the product is manufactured, :ref:`install <general/install>` the **Manufacturing** app.

Next, ensure at least one :doc:`bill of materials
<../../../manufacturing/basic_setup/bill_configuration>` (BoM) is displayed in the :guilabel:`Bill
of Materials` smart button at the top of the product form. This is necessary because Odoo only
creates manufacturing orders (MOs) for products with a |BoM|.

If a |BoM| does not already exist for the product, click the :guilabel:`Bill of Materials` smart
button, then click :guilabel:`New` to configure a new |BoM|.

.. seealso::
   :doc:`Configure BoM <../../../manufacturing/basic_setup/bill_configuration>`

.. _inventory/warehouses_storage/rr-fields:

Create a reordering rule
------------------------

To create a new reordering rule, navigate to :menuselection:`Inventory app --> Operations -->
Replenishment`, then click :guilabel:`New`, and fill out the following fields for the new reordering
rule line item:

- :guilabel:`Product`: The product that is replenished by the rule.
- :guilabel:`Location`: The location where the product is stored.
- :guilabel:`Min`: The minimum quantity that can be forecasted without the rule being
  triggered. When forecasted stock falls below this number, a replenishment order for the product is
  created.
- :guilabel:`Max`: The maximum quantity at which the stock is replenished.

.. figure:: reordering_rules/reordering-rule-form.png
   :alt: The form for creating a new reordering rule.

   The form for creating a new reordering rule.

.. tip::
   Reordering rules can also be created from the :guilabel:`Reordering Rules` smart button on the
   product form.

.. note::
   To learn how the :guilabel:`On Hand`, :guilabel:`Forecast`, and :guilabel:`To Order` fields are
   calculated using on-hand quantities and future demand, see :doc:`Just in time logic
   <just_in_time>`

For advanced usage, learn about the following reordering rule fields:

- :ref:`Trigger <inventory/warehouses_storage/trigger>`
- :ref:`Preferred route <inventory/warehouses_storage/route>`
- :ref:`Vendor <inventory/warehouses_storage/set-vendor>`
- :ref:`Bill of materials <inventory/warehouses_storage/set-bom-field>`
- :ref:`Multiple <inventory/warehouses_storage/multiple>`
- :ref:`Procurement group <inventory/warehouses_storage/procurement-grp>`

.. note::
   The fields above are not available by default, and must be enabled by selecting the |adjust| in
   the far-right corner and selecting the desired column from the drop-down menu.

.. _inventory/warehouses_storage/zero-zero:

0/0/1 reordering rule
---------------------

The *0/0/1* reordering rule is a specialty rule used to replenish a product that is not kept
on-hand, each time a sales order (SO) is confirmed for that product.

.. important::
   The 0/0/1 reordering rule is similar to the *Replenish on Order (MTO)* route, in that both
   workflows are used to replenish a product upon confirmation of an |SO|.

   The main difference between the two methods is that the *Replenish on Order* route automatically
   reserves the product for the |SO| that caused it to be replenished. This means the product
   **cannot** be used for a different |SO|.

   The 0/0/1 reordering rule does not have this limitation. A product replenished using the rule is
   not reserved for any specific |SO|, and can be used as needed.

   Another key difference is that replenishment orders created by the *Replenish on Order* route are
   linked to the original |SO| by a smart button at the top of the order. When using the 0/0/1
   reordering rule, a replenishment order is created, but is not linked to the original |SO|.

   See the :doc:`Replenish on Order (MTO) <mto>` documentation for a full overview of the MTO route.

To create a 0/0/1 reordering rule, navigate to :menuselection:`Inventory app --> Products -->
Products`, and select a product.

At the top of the product's page, click the :icon:`fa-refresh` :guilabel:`Reordering Rules` smart
button to open the :guilabel:`Reordering Rules` page for the product. On the resulting page, click
:guilabel:`New` to begin configuring a new reordering rule.

In the :guilabel:`Location` field of the new reordering rule, select the location in which
replenished products should be stored. By default, this location is set to :guilabel:`WH/Stock`.

In the :guilabel:`Route` field, select the route the rule should use to replenish the item. For
example, if the product should be purchased from a vendor, select the :guilabel:`Buy` route.

In the :guilabel:`Min` field and :guilabel:`Max` field, leave the values set to `0.00`. In the
:guilabel:`To Order` field, enter a value of `1.00`.

.. image:: reordering_rules/001-rule.png
   :alt: A 0/0/1 reordering rule.

With the reordering rule configured using these values, each time an |SO| causes the forecasted
quantity of the product to fall below the :guilabel:`Min` of `0.00`, the selected :guilabel:`Route`
is used to replenish the product in one-unit increments, back up to the :guilabel:`Max` of `0.00`.

.. example::
   An item is configured with a 0/0/1 reordering rule that uses the *Buy* route. Zero units are kept
   on-hand at any given time.

   A |SO| is confirmed for one unit, which causes the forecasted quantity to drop to `-1.00`. This
   triggers the reordering rule, which automatically creates a |PO| for one unit.

   Once the product is received from the vendor, the forecasted quantity returns to `0.00`. There is
   now one unit on-hand, but it is not reserved for the |SO| which triggered its purchase. It can be
   used to fulfill that |SO|, or reserved for a different order.

.. _inventory/warehouses_storage/multiple:

Multiple
--------

The :guilabel:`Multiple` field on the replenishment report (:menuselection:`Inventory app -->
Operations --> Replenishment`) defines the unit used when replenishing a product. Odoo rounds the
ordered quantity *up* to the nearest multiple that meets or slightly exceeds the :guilabel:`Max`
quantity set on the reordering rule. If no multiples apply, select :guilabel:`Units`.

.. example::
   A vendor sells soda only in cases of six cans, but your company tracks quantities per can.
   Setting the :guilabel:`Multiple` to `6` ensures soda is ordered in multiples of six (6, 12,
   18...).

   For a reordering rule with the :guilabel:`Min` = `10` and :guilabel:`Max` = `40`:

   - If the forecasted quantity is `10`, the amount :guilabel:`To Order` is `30`, a multiple of six
     that will bring the :guilabel:`On Hand` quantity to exactly the maximum.
   - If the forecasted quantity is `8`, the quantity needed to reach the max is `32`. But 32 is not
     a multiple of six, so Odoo rounds the :guilabel:`To Order` quantity up to `36`. This will cause
     the :guilabel:`On Hand` quantity to slightly exceed the maximum.

   .. image:: reordering_rules/multiple.png
      :alt: Reordering rule with the Multiple set to 6.

.. note::
   If the maximum is exceeded, expect to see a :icon:`fa-warning` warning indicating the possibility
   of excessive stock.

Configuration
~~~~~~~~~~~~~

Multiples are based on defined :doc:`packagings <../../product_management/configure/packaging>`.
Only packaging types listed on the product's :doc:`vendor pricelist
<../../../purchase/products/pricelist>` appear as options in the :guilabel:`Multiple` field when
configuring reordering rules.

.. _inventory/warehouses_storage/trigger:

Trigger
=======

A reordering rule's *trigger* can be set to *automatic* or *manual*. While both function the same
way, the difference between the two types of reordering rules is how the rule is launched:

- :ref:`Auto <inventory/warehouses_storage/auto-rr>`: A purchase or manufacturing order is
  automatically created when the forecasted stock falls below the reordering rule's minimum
  quantity. By default, the :guilabel:`Auto` trigger is selected.
- :ref:`Manual <inventory/warehouses_storage/manual-rr>`: The :doc:`Replenishment report <report>`
  lists products needing replenishment, showing current/forecasted stock, lead times, and arrival
  dates. Users can review forecasts before clicking *Order*.

To enable the :guilabel:`Trigger` field, go to :menuselection:`Inventory app --> Operations -->
Replenishment`. Then, click the |adjust|, located to the far-right of the column titles, and tick
the :guilabel:`Trigger` checkbox.

In the :guilabel:`Trigger` column, select :guilabel:`Auto` or :guilabel:`Manual`. Refer to the
sections below to learn about the different types of reordering rules.

.. _inventory/warehouses_storage/auto-rr:

Auto
----

*Automatic reordering rules*, enabled by setting the reordering rule's :guilabel:`Trigger` field to
:guilabel:`Auto`, generate purchase or manufacturing orders when either:

#. The scheduler runs, and the *Forecasted* quantity is below the minimum, or
#. A |SO| is confirmed, and lowers the *Forecasted* quantity of the product below the minimum.

If the :guilabel:`Buy` route is selected, then an |RFQ| is generated. To view and manage |RFQs|,
navigate to :menuselection:`Purchase app --> Orders --> Requests for Quotation`.

If the :guilabel:`Manufacture` route is selected, then an |MO| is generated. To view and manage
|MOs|, navigate to :menuselection:`Manufacturing app --> Operations --> Manufacturing Orders`.

When no route is selected, Odoo selects the :guilabel:`Route` specified in the :guilabel:`Inventory`
tab of the product form.

.. tip::
   The scheduler is set to run once a day, by default.

   To manually trigger a reordering rule before the scheduler runs, ensure :ref:`developer mode
   <developer-mode>` is enabled, and select :menuselection:`Inventory app --> Operations --> Run
   Scheduler`. Then, click the purple :guilabel:`Run Scheduler` button on the pop-up window that
   appears.

   Be aware that this also triggers any other scheduled actions.

.. example::
   The product, `Office Lamp`, has an automatic reordering rule set to trigger when the forecasted
   quantity falls below the :guilabel:`Min Quantity` of `5.00`. Since the current
   :guilabel:`Forecast` is `55.00`, the reordering rule is **not** triggered.

   .. image:: reordering_rules/auto.png
      :alt: Show automatic reordering rule from the Reordering Rule page.

.. _inventory/warehouses_storage/manual-rr:

Manual
------

*Manual reordering rules*, configured by setting the reordering rule's :guilabel:`Trigger` field to
:guilabel:`Manual`, list a product on the :doc:`replenishment dashboard <report>` when the
forecasted quantity falls below a specified minimum. Products on this dashboard are called *needs*,
because they are needed to fulfill upcoming |SOs|, for which the forecasted quantity is not enough.

The replenishment dashboard, accessible by navigating to :menuselection:`Inventory app -->
Operations --> Replenishment`, considers order deadlines, forecasted stock levels, and lead times.
It displays needs **only** when it is time to reorder items, thanks to the :guilabel:`To Reorder`
filter.

When a product appears on the replenishment dashboard, clicking the :guilabel:`Order` button
generates the purchase or manufacturing order with the specified amounts :guilabel:`To Order`.

.. image:: reordering_rules/manual.png
   :alt: Click the Order button on the replenishment dashboard to replenish stock.

.. _inventory/warehouses_storage/route:

Route
=====

Odoo allows for multiple routes to be selected as replenishment methods under the
:guilabel:`Inventory` tab on each product form. For instance, it is possible to select both
:guilabel:`Buy` and :guilabel:`Manufacture`, indicating to Odoo that the product can be bought or
manufactured.

.. seealso::
   :ref:`Set route on product form <inventory/warehouses_storage/set-method>`

Odoo also enables users to set a preferred route for a product's reordering rule. This is the
replenishment method (e.g., buying or manufacturing) that the rule defaults to, if multiple are
available.

To specify a preferred route, begin by navigating to :menuselection:`Inventory app --> Operations
--> Replenishment`.

By default, the :guilabel:`Route` column is hidden. To reveal it, select the |adjust| to the
far-right of the column titles, and ticking :guilabel:`Route` from the drop-down menu that appears.

Click inside of the column on the row of a reordering rule, and a drop-down menu shows all available
routes for that rule. Select one to set it as the preferred route.

.. image:: reordering_rules/select-preferred-route.png
   :alt: Select a preferred route from the drop-down.

.. important::
   If multiple routes are enabled for a product but no preferred route is set for its reordering
   rule, the product is reordered using the *Buy* route, then *Manufacture*.

Advanced uses
-------------

Pairing :guilabel:`Route` with one of the following fields on the replenishment report unlocks
advanced configurations of reordering rules. Consider the following:

.. _inventory/warehouses_storage/set-vendor:

- :guilabel:`Vendor`: When the selected :guilabel:`Route` is :guilabel:`Buy`, setting the
  :guilabel:`Vendor` field to one of the multiple vendors on the vendor pricelist indicates to Odoo
  that the vendor is automatically populated on |RFQs| when a reordering rule triggers the creation
  of a purchase order.

.. _inventory/warehouses_storage/set-bom-field:

- :guilabel:`Bill of Materials`: When the :guilabel:`Route` is set to :guilabel:`Manufacture`, and
  there are multiple |BoMs| in use, specifying the desired |BoM| in the replenishment report, draft
  manufacturing orders are created with this |BoM| in use.

.. _inventory/warehouses_storage/procurement-grp:

- :guilabel:`Procurement Group`: This is a way to group related |POs| or |MOs| that are tied to
  fulfilling a specific demand, like an |SO| or a project. It helps organize and track which orders
  are linked to a particular demand.

  .. note::
     Procurement groups link replenishment methods to demand, making smart buttons to appear â€”
     similar to how smart buttons appear when using the :doc:`MTO route <mto>`.

     .. figure:: reordering_rules/po-smartbutton.png
        :alt: Showing smart button to PO.

        Sales order (demand) with a smart button linking to the related purchase order
        (replenishment method).

  In the context of reordering rules:

  - Reordering rules do not automatically assign a procurement group, which is why there are no
    smart buttons that link |SOs| to |POs|, unlike the :abbr:`MTO (Make to Order)` route.
  - To enable smart buttons for products replenished by reordering rules (not :abbr:`MTO (Make to
    Order)`), with specific quantities linked to specific demands (e.g. |SOs|), assign a procurement
    group.
  - Without a procurement group, demands for the same product can be combined into a single |RFQ|,
    even if the reordering rule is executed multiple times for those demands. This allows for more
    efficient procurement by consolidating demands into fewer orders.

  Selecting a procurement group in the :guilabel:`Procurement Group` field on the replenishment
  report ensures that all linked orders are grouped under the same demand, based on the defined
  route.

  .. exercise::
     How can you set the *Procurement Group*, *Vendor*, and *Route* fields on the replenishment
     report to generate a single |RFQ| for five different products in sales order SO35, given they
     share the same vendor, Azure Interior, and ensure other demands for these products are handled
     separately?

     .. spoiler:: View the answer

        #. Set the :guilabel:`Procurement Group` to `SO35`, in the reordering rule for all five
           products. This groups the demands for `SO35` in the same |RFQ| or |MO|.
        #. Set the :guilabel:`Vendor` to `Azure Interior` to ensure the |RFQ| is created for the
           same supplier.
        #. Set the :guilabel:`Route` to :guilabel:`Buy` to generate an |RFQ|.
        #. Click the :guilabel:`Order` button to generate a single |RFQ| for the five products tied
           to `SO35`.

        | After placing the order, remove `SO35` from the :guilabel:`Procurement Group` field of the
          five products' reordering rules. This ensures future demands for these products are
          managed separately and assigned to different |RFQs| (the usual behavior).

.. seealso::
   :doc:`Just-in-time logic <just_in_time>`

Horizon days
============

*Horizon days* allow users to extend the time window between today's date and the forecasted date
when calculating for the forecasted quantity. This features allows users to plan and restock
inventory proactively, rather than following a just-in-time approach. The feature is meant to help
users plan replenishment in advance by increasing the :ref:`forecasted date
<inventory/warehouses_storage/forecasted-date>`.

.. math::
   :class: overflow-scroll

   \text{Forecasted date} = \text{Current date} + \text{Vendor Lead Time} + \text{Horizon Days}

Since horizon days are only meant to be used with manual reordering rules, find details about the
feature in the :doc:`Replenishment report article <report>`.

.. note::
   Horizon days are configured on a company level.

The default horizon days setting can be set or updated by navigating to the
:menuselection:`Inventory app --> Advanced Scheduling`. Enter the desired number of days in the
:guilabel:`Replenishment Horizon` field, and click :guilabel:`Save`.

.. image:: reordering_rules/replenishment-horizon.png
   :alt: The Replenishment Horizon setting in the Inventory app.

Example of how horizon days affect replenishment planning
---------------------------------------------------------

On the Replenishment report, there are currently two products listed due for reordering: `Drawer,
Black` and `Corner Desk`. This is based on their current level of on-hand stock, and their
forecasted stock level. The default horizon days is set as `20`.

.. image:: reordering_rules/twenty-days.png
   :alt: Replenishment report with horizon days set at 20.

However, by extending the horizon days to `30`, an additional product is added to the list.

.. image:: reordering_rules/thirty-days.png
   :alt: Replenishment report with horizon days set at 30.

This is because the additional product, `[FURN_0789] Individual Workplace`, has a delivery scheduled
in twenty-nine days, at which point their on-hand stock levels will fall below the minimum needed
on-hand.


==================================================
SECTION: replenishment.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment.rst
==================================================

:show-content:
:hide-page-toc:

=============
Replenishment
=============

.. |MTO| replace:: :abbr:`MTO (Make to Oder)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`
.. |SO| replace:: :abbr:`SO (Sales Order)`

In Odoo, stock can be replenished one of three ways: *reordering rules*, the *make to order* (MTO)
route, or using the *master production schedule* (MPS).

Each replenishment mechanism triggers the creation or suggestion of a purchase order (PO) or
manufacturing order (MO), with the best choice depending on the business process.

.. cards::

   .. card:: Reordering rules
      :target: replenishment/reordering_rules
      :tag: Recommended
      :large:

      Automatically suggest or generate POs or MOs when stock falls below a minimum level.

   .. card:: Just in time logic
      :target: replenishment/just_in_time
      :tag: Recommended
      :large:

      Avoid overstocking by placing order precisely to meet deadlines.

   .. card:: MTO
      :target: replenishment/mto
      :tag: Beginner-friendly

      Automatically generate POs or MOs when sales orders are confirmed.

   .. card:: MPS
      :target: ../../manufacturing/workflows/use_mps

      Manage long-term replenishment based on inputted sales forecasts, via a dashboard.

   .. card:: Suggest quantities
      :target: ../../purchase/advanced/suggest
      :tag: Beginner-friendly

      Suggest quantities to order based on a past sales.

Replenishment strategies
========================

Replenishment report and reordering rules
-----------------------------------------

Reordering rules are rules that can be set up to maintain a minimum stock level. They are often
configured to support manufacturing or sales requirements. When a product's stock falls at or below
the minimum level, Odoo generates (or suggests) a purchase or manufacturing order to replenish stock
to the maximum level.

When using automatic reordering rules, Odoo generates a new order. When using manual, Odoo suggests
orders on the replenishment report. For detailed guidance, refer to the :doc:`replenishment report
<replenishment/report>` and :doc:`reordering rules <replenishment/reordering_rules>`.

Key points include:

- :ref:`Automatic reordering rules <inventory/warehouses_storage/auto-rr>`: Automatically create
  |POs| or |MOs| when stock falls below the minimum level. While this is convenient, it is less
  flexible.
- :ref:`Manual reordering rules <inventory/warehouses_storage/manual-rr>`: Generate suggestions in
  the replenishment report for user review, allowing adjustments and batch orders while meeting
  deadlines.
- :doc:`Just in time logic <replenishment/just_in_time>`: A strategy to replenish only what is
  needed to prevent overstocking.

.. seealso::
   - :doc:`replenishment/reordering_rules`
   - :doc:`replenishment/report`

.. _inventory/management/products/strategies:

Make to order
-------------

An |MTO| strategy means that procurement or production is triggered only after a sales order has
been confirmed. This strategy is recommended when products are customizable, demand is
unpredictable, there is limited storage capacity, and when products are high in value and low in
demand. In such cases, it does not make sense to keep on-hand inventory.

Unlike products replenished using reordering rules, Odoo automatically links the sales order to the
|PO| or |MO| generated by the |MTO| route.

Another difference between reordering rules and |MTO| is, with |MTO|, Odoo generates a draft |PO| or
|MO| immediately after the |SO| is confirmed. With reordering rules, Odoo generates a draft |PO| or
|MO| when the product's forecasted stock falls below the set minimum quantity.

In addition, Odoo automatically adds quantities to the |PO| or |MO| as the forecast changes, so long
as the |PO| or |MO| is not confirmed.

The |MTO| route is the best replenishment strategy for products that are customized, and/or for
products that have no stock kept on-hand.

.. seealso::
   :doc:`replenishment/mto`

Master production schedule
--------------------------

The :abbr:`MPS (Master Production Schedule)` is a dashboard where products and their forecasted
quantities are entered. Based on confirmed manufacturing and purchase orders, the dashboard
recommends amounts to order or produce.

This a useful **manual** tool for keeping track of quantities. The :abbr:`MPS (Master Production
Schedule)` **should absolutely not** be used alongside reordering rules, as the automated workflow
disrupts its manual replenishment method.

.. seealso::
   :doc:`../../manufacturing/workflows/use_mps`

.. toctree::
   :titlesonly:

   replenishment/mto
   replenishment/reordering_rules
   replenishment/just_in_time
   replenishment/report
   replenishment/lead_times
   replenishment/resupply_warehouses


==================================================
SECTION: report.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/report.rst
==================================================

====================
Replenishment report
====================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOs| replace:: :abbr:`SOs (Sales Orders)`

The *replenishment report* is an interactive dashboard that uses :doc:`manual reordering rules
<reordering_rules>`, lead times, and upcoming demands to forecast quantities of products that need
restocking.

Reordering rules used on this dashboard are normal reordering rules, but the user benefits from a
monitoring menu with extra options to manage suggestions for replenishment.

This enables users to anticipate future needs, keep less products on hand without the risk of
running out, plan and consolidate orders.

Navigate the replenishment report
=================================

To access the replenishment report, go to :menuselection:`Inventory app --> Operations -->
Replenishment.`

.. note::
   Automatic reordering rules are available on this menu as well, but are hidden by default.

The fields and features unique to the replenishment dashboard are displayed below. For definitions
of the other fields, go to the :ref:`Create reordering rules section
<inventory/warehouses_storage/rr-fields>`.

By default, the quantity in the :guilabel:`To Order` field is the quantity required to reach the set
:guilabel:`Max Quantity`. However, the :guilabel:`To Order` quantity can be adjusted by clicking on
the field and changing the value. To replenish a product manually, click :icon:`fa-truck`
:guilabel:`Order`.

Click :icon:`fa-bell-slash` :guilabel:`Snooze` to temporarily deactivate the reordering rule for the
set period, hiding the entry from the replenishment dashboard, when it is supposed to appear.

.. tip::
   Defining a :guilabel:`Vendor` allows filtering or grouping demands by the vendor. This simplifies
   the process of identifying products to order and can reduce shipment costs. Click the
   :icon:`oi-settings-adjust` :guilabel:`(adjust settings)` icon and select :guilabel:`Vendor` from
   the drop-down list to view the field on the report.

.. image:: report/replenishment-dashboard.png
   :alt: Replenishment report that displays recommended quantities to order.

Order to max
------------

If a reordering rule does not forecast the product to arrive below the minimum, the replenishment
cannot be triggered, because it is seen as *unnecessary*. However, there can be instances where a
product needs to be replenished even if it is not deemed *necessary*, such as when an order needs to
be maximized to obtain better discounts, or to save on delivery costs.

First, select one or more products by ticking the appropriate checkbox. Then, click the
:guilabel:`Replenish` button and select :guilabel:`Order to Max`. Doing so creates a request for
quotation (RFQ) for the first possible replenishment date for each product for the maximum specified
in the reordering rule.

.. image:: report/order-to-max.png
   :alt: The Order to Max option on the replenishment dashboard.

.. _inventory/warehouses_storage/horizon-days:

Horizon days
------------

*Horizon days* determine how many days ahead Odoo checks if the forecasted quantity will drop below
reordering rule's minimum. The feature is meant to help users plan replenishment in advance, by
increasing the :ref:`forecasted date <inventory/warehouses_storage/forecasted-date>` on the
:doc:`replenishment report <report>`. Horizon days look ahead a specified number of days and trigger
reordering rules as soon as the forecasted quantity falls below the minimum within that window, even
if no replenishment is needed today.

.. example::
   Setting horizon days to `7` ensures all manual reordering rules set to trigger within the next
   seven days appear on the replenishment report, allowing users to review and decide which products
   to order in advance.

To set horizon days, go to :menuselection:`Inventory app --> Operations --> Replenishment`, and
click :icon:`fa-angle-double-right` :icon:`fa-folder` :guilabel:`Manual` in the left sidebar. In the
menu that appears, set the number of :guilabel:`Horizon` days.

.. example::
   - Current date: Feb 18
   - On hand quantity: 10
   - Reordering rule: Min: 5, Max 10
   - Vendor lead time: 1 day

   8 units are needed for an |SO| on Feb 23. That means, on Feb 23, there will only be 2 units in
   stock.

   **Without horizon days**

   - The demand appears on the replenishment report only on Feb 22, one day before the delivery
     date.
   - Forecasted date: Feb 19 (current date + vendor lead time)

   **With horizon days (4 or more days)**

   - Odoo considers demand up to Feb 23 as relevant today (Feb 18)
   - The need for 8 more units appears immediately in the replenishment report
   - Forecasted date: Feb 23 (current date + vendor lead time + horizon days)

   .. image:: report/horizon-days.png
      :alt: Show forecasted date brought forward.

Replenishment information
=========================

In each line of the replenishment report, clicking the :icon:`fa-info-circle` :guilabel:`(info)`
icon opens the :guilabel:`Replenishment Information` pop-up window, which displays the *lead times*
and *forecasted date*.

For detailed information on how to use this feature for replenishment, go to the :doc:`just-in-time
<just_in_time>` section.

Select a warehouse
------------------

If a warehouse's replenishment method is :doc:`resupply from another warehouse
<resupply_warehouses>`, check for available product quantities in other warehouses by opening the
:guilabel:`Replenishment Information` pop-up window. Warehouses that can replenish the stock are
listed under the :guilabel:`Warehouses` tab, and the :guilabel:`Available Quantity` shows the
on-hand stock in each warehouse.

After selecting a sourcing warehouse, click :guilabel:`Select Route` :guilabel:`Order` button is
clicked, the reordering rule will revert to its preferred route (Buy or Manufacture).

.. image:: report/select-warehouse.png
   :alt: The warehouse tab on the Replenishment Information pop-up window.

.. seealso::
   :ref:`Temporary Reordering Rules <purchase/check-replenishment>`


==================================================
SECTION: reporting.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting.rst
==================================================

:nosearch:

=========
Reporting
=========

.. toctree::
   :titlesonly:

   reporting/forecast
   reporting/stock
   reporting/locations
   reporting/moves_history
   reporting/dashboards


==================================================
SECTION: reservation_methods.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/reservation_methods.rst
==================================================

:show-content:
:hide-page-toc:

===================
Reservation methods
===================

Companies that sell and deliver goods to customers need to make sure they always have stock on-hand,
so when new sales orders are confirmed, they can deliver products on time.

In Odoo, this can be handled using *reservation methods*. Reservation methods control how products
included in a delivery order (DO) should be reserved for delivery, ensuring they are reserved at the
correct times, for the correct orders.

There are three different reservation methods in Odoo: *At Confirmation*, *Manually*, and *Before
scheduled date*.

.. tabs::

   .. tab:: At Confirmation

      Reserves products **only** when a sales order is confirmed, **and** if stock is already
      available.

   .. tab:: Manually

      Once a quote is confirmed, product availability **must** be checked manually, and the required
      quantity **must** be reserved manually.

   .. tab:: Before scheduled date

      A specific number of days can be selected; this is the maximum number of days **before** a
      scheduled delivery date that products should be reserved.

Configuration
=============

Reservation methods are set on individual operations types. To configure reservation methods, go to
:menuselection:`Inventory app --> Configuration --> Operations Types`. Then, select the desired
operation type. Or, create a new one by clicking :guilabel:`New`.

In the :guilabel:`General` tab of the operation type form, locate the :guilabel:`Reservation Method`
option, and choose which method should be used for this type of operation.

.. image:: reservation_methods/reservation-methods-operations-type-field.png
   :align: center
   :alt: Reservation method field on delivery order operation type form.

.. tip::
   If the :guilabel:`Before scheduled date` reservation method is selected, a new
   :guilabel:`Reserve before scheduled date` field appears below. From this field, the number of
   :guilabel:`days before` and :guilabel:`days before when starred` can be changed from the default
   `0`.

   Changing the :guilabel:`days before` value changes the maximum number of days before a scheduled
   date that products should be reserved.

   Changing the :guilabel:`days before when starred` value changes the maximum number of days before
   a scheduled date that starred (favorited) transfers for products should be reserved.

   .. image:: reservation_methods/reservation-methods-before-scheduled-date.png
      :align: center
      :alt: Reserve before scheduled date fields with before scheduled date method chosen.

Required applications
=====================

The two required applications that **must** be :ref:`installed <general/install>` to use reservation
methods are the *Sales* and *Inventory* apps.

.. note::
   In addition to delivery orders, reservation methods can also be used for *manufacturing orders*,
   *resupply subcontractor* orders, orders for *repairs*, and *internal transfers*, if desired. To
   enable this, configure the additional settings:

   - **For manufacturing orders:** Install the *Manufacturing* application by going to the
     :menuselection:`Apps` application, locating the *Manufacturing* app, and clicking
     :guilabel:`Install`.
   - **For resupply subcontractor:** Navigate to :menuselection:`Manufacturing app --> Configuration
     --> Settings`, and under the :guilabel:`Operations` section, enable :guilabel:`Subcontracting`.
     Then, click :guilabel:`Save`.
   - **For repairs:** Install the *Repairs* application by going to the :menuselection:`Apps`
     application, locating the *Repairs* app, and clicking :guilabel:`Install`.
   - **For internal transfers:** Navigate to :menuselection:`Inventory app --> Configuration -->
     Settings`, and under the :guilabel:`Warehouse` section, enable :guilabel:`Storage Locations`.
     Then, click :guilabel:`Save`.

Once these apps are installed, no additional features need to be enabled from the settings for
reservation methods to work. They will be available by default on certain operations types, and can
be viewed and changed by navigating to :menuselection:`Inventory app --> Configuration -->
Operations Types`, and then clicking on a specific operations type.

.. note::
   When the :guilabel:`Type of Operation` is changed to :guilabel:`Receipt` on an
   :guilabel:`Operations Type` form, reservation methods are **not** available.

.. image:: reservation_methods/reservation-methods-operations-type-menu.png
   :align: center
   :alt: Operations Types highlighted from the Configurations submenu in the Inventory app.

.. seealso::
   - :doc:`reservation_methods/at_confirmation`
   - :doc:`reservation_methods/manually`
   - :doc:`reservation_methods/before_scheduled_date`

.. toctree::
   :titlesonly:

   reservation_methods/at_confirmation
   reservation_methods/manually
   reservation_methods/before_scheduled_date


==================================================
SECTION: resupply_warehouses.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/replenishment/resupply_warehouses.rst
==================================================

=============================
Inter-warehouse replenishment
=============================

.. |MTO| replace:: :abbr:`MTO (Make to Order)`

When a business operates multiple locations, such as warehouses, retail shops, or manufacturing
facilities, resupplying stock from a central warehouse is sometimes necessary. Odoo uses a *Route*
configuration that enables locations to replenish from a central distribution center, automatically
generating *inter-warehouse transfers*. Odoo :guilabel:`Inventory` manages these transfers to keep
stores in stock.

This guide explains how to conduct inter-warehouse transfers using two replenishment strategies:

#. :ref:`Make to order (MTO) <inventory/warehouses_storage/MTO>`
#. :ref:`Reordering rule <inventory/warehouses_storage/reordering-rule>`

.. seealso::
   :doc:`Difference between MTO and reordering rules <../replenishment>`

Configuration
=============

The initial configuration for both replenishment strategies is the same. First go to
:menuselection:`Inventory app --> Configuration --> Settings`. In the :guilabel:`Warehouse` section,
activate :guilabel:`Storage Locations`. Then, click :guilabel:`Save` to apply the setting.

.. image:: resupply_warehouses/storage-locations.png
   :align: center
   :alt: Enable Storage Locations in Inventory settings.

Warehouses
----------

Configure the settings for the central warehouse and connecting storage locations by going to
:menuselection:`Inventory app --> Configuration --> Warehouses`.

.. important::
   Each central warehouse and other locations *must* have its own warehouse. For example, each shop
   is considered a local warehouse.

Select an existing warehouse, or create a new one to be resupplied from the central warehouse, by
clicking :guilabel:`New`. Then, give the warehouse a name and a :guilabel:`Short Name`, which will
appear on that warehouse's transfers.

In the :guilabel:`Warehouse Configuration` tab, locate the :guilabel:`Resupply From` field. Check
the box next to the central warehouse's name. If the warehouse can be resupplied by more than one
warehouse, make sure to check those warehouses' boxes too. Now, Odoo knows which warehouses can
resupply this warehouse.

.. example::
   The central warehouse that will supply the shops is called `Central warehouse`. The
   :guilabel:`Resupply From` field is set to this warehouse on the shop's warehouse configuration
   page.

.. seealso::
   :doc:`../inventory_management/warehouses`

.. image:: resupply_warehouses/warehouse.png
   :align: center
   :alt: Supply one warehouse with another in the Warehouse Configuration tab.

Set route on a product
----------------------

Products must also be configured properly in order for them to be transferred between warehouses.

Go to :menuselection:`Inventory app --> Products --> Products` and select the desired product.

In the :guilabel:`Inventory` tab, the new route appears as :guilabel:`X: Supply Product from Y` in
the :guilabel:`Routes` section, where 'X' is the store's warehouse that receives products, and 'Y'
is the warehouse that sends products.

Tick the :guilabel:`X: Supply Product from Y` checkbox, which is intended to be used with the |MTO|
route or a reordering rule to replenish stock by moving the product from one warehouse to another.
Proceed to the dedicated sections below to continue the process.

.. _inventory/warehouses_storage/MTO:

MTO
~~~

To replenish products using the make-to-order method, go to the product form and ensure the
:ref:`MTO route is unarchived <inventory/warehouses_storage/unarchive-mto>`, so it appears in the
:guilabel:`Routes` section of the :guilabel:`Inventory` tab.

With the resupply and |MTO| routes ticked, jump to the section titled: :ref:`Replenish from another
warehouse <inventory/warehouses_storage/resupply-workflow>`.

.. example::
   The product, sold at the warehouse, `Store`, is resupplied from the central warehouse, named
   `YourCompany`. To replenish the product using |MTO|, the following routes are selected:

   - :guilabel:`Store: Supply Product from YourCompany`
   - :guilabel:`Replenish on Order (MTO)`

   .. image:: resupply_warehouses/resupply-route.png
      :align: center
      :alt: Route setting which enables a product to resupplied from a second warehouse.

.. _inventory/warehouses_storage/reordering-rule:

Reordering rule
~~~~~~~~~~~~~~~

To replenish products using reordering rules, first ensure the :guilabel:`X: Supply Product from Y`
route is selected in the :guilabel:`Inventory` tab of the product form.

Then, create a reordering rule to automate replenishment by clicking the :guilabel:`Reordering
Rules` smart button.

Click :guilabel:`New`, and set:

- :guilabel:`Location`: the stock location of the retail store. For example, `SHOP/Stock`.
- :guilabel:`Route`: :guilabel:`X: Supply Product from Y`.
- :guilabel:`Min Quantity` and :guilabel:`Max Quantity` to trigger automatic stock transfers when
  inventory falls below the set threshold.

.. seealso::
   :doc:`reordering_rules`

.. example::
   A :ref:`0/0 reordering rule <inventory/warehouses_storage/zero-zero>` to replenish the shop's
   warehouse is created, with the :guilabel:`Location` set to `SHOP/Stock`, and the
   :guilabel:`Route` set to :guilabel:`Store: Resupply from YourCompany`.

   .. image:: resupply_warehouses/reordering-rule.png
      :align: center
      :alt: Show reordering rule configurations.

.. _inventory/warehouses_storage/resupply-workflow:

Replenish one warehouse from another
====================================

After completing the setup, trigger replenishment using one of several methods, such as:

- Navigate to the product form of the product that is resupplied from another warehouse.

  Click the :guilabel:`Replenish` button on the top-left of the product page. In the pop-up window,
  set the warehouse to the retail shop, (e.g. `Store`), and click :guilabel:`Confirm`.

  .. image:: resupply_warehouses/replenish.png
     :align: center
     :alt: Replenish pop-up window on the product form.

- Create a quotation, and in the :guilabel:`Other Info` tab, set the :guilabel:`Warehouse` to the
  retail shop (e.g. `Store`), when selling the product makes the on-hand quantity of the product go
  below the minimum set on the reordering rule.

  .. image:: resupply_warehouses/warehouse-field.png
     :align: center
     :alt: Create a quote at the store.

Once triggered, Odoo creates two transfers: One is a *delivery order* from the central, supplying
warehouse, which contains all the necessary products to the store, and the second is a *receipt* at
the shop, from the main warehouse.

While in transit, the product is located at `Physical Locations/Inter-warehouse transit`.

.. example::
   A sales order for the product at the shop is created. To replenish the product at the shop and
   ship it from there, Odoo generates a delivery order from the central warehouse's stock,
   `WH/Stock` to the shop's warehouse `SHOP/Stock`. While the products are traveling between
   warehouses, they are in `Physical Locations/Inter-warehouse transit`.

   The final delivery order is from the shop to the customer's delivery address, and is not
   pertinent to the workflow in this guide.

   .. image:: resupply_warehouses/transfers.png
      :alt: Show shipments from warehouse to store.



==================================================
SECTION: scrap_inventory.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/scrap_inventory.rst
==================================================

===============
Scrap inventory
===============

.. |SP| replace:: :abbr:`SP (Scrap Order)`
.. |SPs| replace:: :abbr:`SPs (Scrap Orders)`

Sometimes, products in a company's warehouse stock might be found to be damaged or defective, past
the point of being reparable. If it is not possible to repair the product, or return the product to
a vendor, it can be scrapped.

Odoo *Inventory* allows users to scrap inventory, designating goods or materials that are no longer
usable or sellable for disposal (or recycling).

Scrapping inventory in a database helps stock counts remain accurate, by removing scrapped products
from physical inventory, and placing it in a virtual scrap location (*Virtual Locations/Scrap*).

.. note::
   *Virtual locations* in Odoo are **not** real, physical spaces in a warehouse. Rather, they are
   designated locations in a database that provide tracking of items that shouldn't be counted in a
   physical inventory.

   For more information about virtual locations, see the documentation about the different types of
   :ref:`location types <inventory/warehouses_storage/location-type>`.

Scrap from stock
================

To create a new scrap order (SP) for an in-stock product, navigate to :menuselection:`Inventory app
--> Operations --> Scrap`, and click :guilabel:`New`. This opens a new |SP| form.

Click the drop-down menu in the :guilabel:`Product` field, and select the product that should be
scrapped from inventory. In the :guilabel:`Quantity` field, change the value to the quantity of the
product that should be scrapped (by default, this value is set to `1.00`).

.. image:: scrap_inventory/scrap-inventory-new-scrap-order.png
   :align: center
   :alt: Filled out new scrap order form with product details.

The :guilabel:`Source Location` defaults to the location where the product is currently stored. The
:guilabel:`Scrap Location` defaults to the designated scrap location (:guilabel:`Virtual
Locations/Scrap`). Either of these locations can be changed by selecting a different location from
their respective drop-down menus.

If the scrapping is tied to a specific existing operation, specify the operation in the
:guilabel:`Source Document` field.

The :guilabel:`Company` field displays the company whose warehouse this product belongs to. If a
replenishment rule is set up for the product being scrapped, and if the product should be
replenished, tick the checkbox for :guilabel:`Replenish Quantities`.

Once ready, click :guilabel:`Validate` to complete the new |SP|. Once validated, a
:guilabel:`Product Moves` smart button appears at the top of the form. Click the smart button to
view the details of the scrap operation.

.. image:: scrap_inventory/scrap-inventory-product-moves-button.png
   :align: center
   :alt: Product Moves smart button on new scrap order form.

.. tip::
   To view the all-time total quantities of scrapped items, navigate to :menuselection:`Inventory
   app --> Configuration --> Locations`. Click the :guilabel:`x (remove)` button on the
   :guilabel:`Internal` filter in the :guilabel:`Search...` bar, to display virtual locations.

   Select the :guilabel:`Virtual Locations/Scrap` location. From the :guilabel:`Scrap` location's
   form, click the :guilabel:`Current Stock` smart button, at the top of the form.

   A list of all scrapped products, and their quantities, is displayed.

   .. image:: scrap_inventory/scrap-inventory-current-stock.png
      :align: center
      :alt: Current Stock list of all scrapped products in virtual scrap location.

Scrap from an existing operation
================================

Scrap orders (SPs) can *also* be created from existing operations, such as receipts, delivery
orders, and internal transfers, before they are entered into, or removed from, stock for an
operation.

To scrap a product during an operation, navigate to the :menuselection:`Inventory app`. From the
:guilabel:`Inventory Overview`, click the :guilabel:`# To Process` button on an operation's task
card (i.e. the :guilabel:`Receipts` task card).

.. image:: scrap_inventory/scrap-inventory-receipts-task-card.png
   :align: center
   :alt: # To Process button on Receipts task card on Inventory Overview page.

Then, select an operation to process from the resulting list of existing orders. Doing so opens that
operation's form.

Click the :icon:`fa-cog` :guilabel:`(cog)` icon, and select :guilabel:`Scrap` from the resulting
drop-down menu. This opens a :guilabel:`Scrap Products` pop-up window.

.. image:: scrap_inventory/scrap-inventory-popup-window.png
   :align: center
   :alt: Scrap Products pop-up window on operation form.

From this pop-up window, click the drop-down menu in the :guilabel:`Product` field, and select the
products from the operation that should be scrapped. Adjust the value in the :guilabel:`Quantity`
field, if necessary.

If the :guilabel:`Product` selected is tracked using a lot or serial number, a
:guilabel:`Lot/Serial` field appears. Specify the tracking number in that field.

The :guilabel:`Source Location` and :guilabel:`Scrap Location` can be changed, if needed. If a
replenishment rule is set up for the product being scrapped, and if the product should be
replenished, tick the checkbox for :guilabel:`Replenish Quantities`.

Once ready, click :guilabel:`Scrap Products`. A :guilabel:`Scraps` smart button appears at the top
of the operation form. Click this smart button to view the details of all scrap orders created from
this specific operation.

.. image:: scrap_inventory/scrap-inventory-scraps-smart-button.png
   :align: center
   :alt: Scraps smart button showing all scrap orders from operation.


==================================================
SECTION: sendcloud_shipping.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/sendcloud_shipping.rst
==================================================

=====================
Sendcloud integration
=====================

Sendcloud is a shipping service aggregator that facilitates the integration of European shipping
carriers with Odoo. Once integrated, users can select shipping carriers on inventory operations in
their Odoo database.

Setup in Sendcloud
==================

Create an account and activate carriers
---------------------------------------

To get started, `create or log in to a Sendcloud account <https://account.sendcloud.com/signup/
?utm_source=odoo&utm_medium=partnerships&utm_campaign=partner_integrations_page>`_.

On the Sendcloud platform, follow the `Sendcloud integration documentation
<https://support.sendcloud.com/hc/en-us/articles/360059470491-Odoo-Native-integration>`_ to
configure the account and generate the connector credentials.

.. note::
   For new account creation, Sendcloud will ask for a :abbr:`VAT (Value-Added Tax Identification)`
   number or :abbr:`EORI (Economic Operators' Registration and Identification)` number. After
   completing the account setup, activate (or deactivate) the shipping carriers that will be used in
   the Odoo database.

.. important::
   Odoo integration of Sendcloud works on free Sendcloud plans *only* if a bank account is linked,
   since Sendcloud won't ship for free. To use shipping rules, or individual custom carrier
   contacts, a paid plan of Sendcloud is **required**.

.. _inventory/shipping_receiving/sendcloud-warehouse-config:

Warehouse configuration
-----------------------

Once logged into the Sendcloud account, navigate to :menuselection:`Settings --> Shipping -->
Addresses`, and fill in the field for :guilabel:`Warehouse address`.

.. image:: sendcloud_shipping/settings-shipping.png
   :align: center
   :alt: Adding addresses in the Sendcloud settings.

To allow Sendcloud to process returns as well, a :guilabel:`Return Address` is required. Under the
:guilabel:`Miscellaneous section`, there is a field called :guilabel:`Address Name (optional)`. The
Odoo warehouse name should be entered here, and the characters should be exactly the same.

.. example::

   | **SendClould configuration**
   | :guilabel:`Miscellaneous`
   | :guilabel:`Address Name (optional)`: `Warehouse #1`
   | :guilabel:`Brand`: `Default`

   | **Odoo warehouse configuration**
   | :guilabel:`Warehouse`: `Warehouse #1`
   | :guilabel:`Short Name`: `WH`
   | :guilabel:`Company`: `My company (San Francisco)`
   | :guilabel:`Address`: `My Company (San Francisco)`

   Notice how the inputs for the :guilabel:`Warehouse` field, for both the Odoo configuration and
   the Sendcloud configuration, are the exact same.

Generate Sendcloud credentials
------------------------------

In the Sendcloud account, navigate to :menuselection:`Settings --> Integrations` in the menu on the
right. Next, search for :guilabel:`Odoo Native`. Then, click on :guilabel:`Connect`.

After clicking on :guilabel:`Connect`, the page redirects to the :guilabel:`Sendcloud API` settings
page, where the :guilabel:`Public and Secret Keys` are produced. The next step is to name the
:guilabel:`Integration`. The naming convention is as follows: `Odoo CompanyName`, with the user's
company name replacing `CompanyName` (e.g. `Odoo StealthyWood`).

Then, check the box next to :guilabel:`Service Points` and select the shipping services for this
integration. After saving, the :guilabel:`Public and Secret Keys` are generated.

.. image:: sendcloud_shipping/public-secret-keys.png
   :align: center
   :alt: Configuring the Sendcloud integration and receiving the credentials.

Setup in Odoo
=============

To ensure seamless Sendcloud integration with Odoo, :ref:`install
<inventory/shipping_receiving/sendcloud-module>` and :ref:`link
<inventory/shipping_receiving/link-sendcloud-module>` the Sendcloud shipping connector to the
Sendcloud account. Then, :ref:`configure Odoo fields
<inventory/shipping_receiving/sendcloud-shipping-info>`, so Sendcloud can accurately pull shipping
data to generate labels.

.. seealso::
   :ref:`Enable pickup points on websites <inventory/shipping_receiving/sendcloud-pickups>`

.. _inventory/shipping_receiving/sendcloud-module:

Install Sendcloud shipping module
---------------------------------

After the Sendcloud account is set up and configured, it's time to configure the Odoo database. To
get started, go to Odoo's :guilabel:`Apps` module, search for the `Sendcloud Shipping` integration,
and install it.

.. image:: sendcloud_shipping/sendcloud-mod.png
   :align: center
   :alt: Sendcloud Shipping module in the Odoo Apps module.

.. _inventory/shipping_receiving/link-sendcloud-module:

Sendcloud shipping connector configuration
------------------------------------------

Once installed, activate the :guilabel:`Sendcloud Shipping` module in :menuselection:`Inventory -->
Configuration --> Settings`. The :guilabel:`Sendcloud Connector` setting is found under the
:guilabel:`Shipping Connectors` section.

After activating the :guilabel:`Sendcloud Connector`, click on the :guilabel:`Sendcloud Shipping
Methods` link below the listed connector. Once on the :guilabel:`Shipping Methods` page, click
:guilabel:`New`.

.. tip::
   :guilabel:`Shipping Methods` can also be accessed by going to :menuselection:`Inventory -->
   Configuration --> Delivery --> Shipping Methods`.

Fill out the following fields in the :guilabel:`New Shipping Method` form:

- :guilabel:`Shipping Method`: type `Sendcloud DPD`.
- :guilabel:`Provider`: select :guilabel:`Sendcloud` from the drop-down menu.
- :guilabel:`Delivery Product`: set the product that was configured for this shipping method or
  create a new product.
- In the :guilabel:`SendCloud Configuration` tab, enter the :guilabel:`Sendcloud Public Key`.
- In the :guilabel:`SendCloud Configuration` tab, enter the :guilabel:`Sendcloud Secret Key`.

.. _inventory/shipping_receiving/sendcloud-pickups:

Pickup points
~~~~~~~~~~~~~

Sendcloud's `service point delivery
<https://support.sendcloud.com/hc/en-us/articles/360026097951-FAQ-Service-Points>`_ lets customers
choose a pickup location (such as a nearby shop or locker) instead of entering a private delivery
address.

To enable the feature, go to the shipping method form, and in the :guilabel:`SendCloud
Configuration` tab, under the :guilabel:`Options` section, enable :guilabel:`Use Sendcloud
Locations` feature.

.. important::
   Pickup point selection is only available through the **Website** app (the online checkout view).
   It is not currently possible to select a pickup point manually through the **Sales** app (the
   internal database view).

   For example, if the customer selects a shipping method like *Sendcloud Mondial Relay*, they must
   choose a pickup point during the checkout process on the website. If no pickup point is selected,
   the delivery order cannot be validated in Odoo.

Load shipping products
~~~~~~~~~~~~~~~~~~~~~~

After configuring and saving the form, follow these steps to load the shipping products:

- In the :guilabel:`SendCloud Configuration` tab of the :guilabel:`New Shipping Method` form, click
  on the :guilabel:`Load your SendCloud shipping products` link.
- Select the shipping products the company would like to use for deliveries and returns.
- Click :guilabel:`Select`.

.. example::
   Sample Sendcloud shipping products configured in Odoo:

   | :guilabel:`DELIVERY`
   | :guilabel:`Shipping Product`: `DPD Home 0-31.5kg`
   | :guilabel:`Carrier`: `DPD`
   | :guilabel:`Minimum Weight`: `0.00`
   | :guilabel:`Maximum Weight`: `31.50`

   :guilabel:`Countries`: `Austria` `Belgium` `Bosnia` `Herzegovina` `Bulgaria` `Croatia` `Czech`
   `Republic` `Denmark` `Estonia` `Finland` `France` `Germany` `Greece` `Hungary` `Iceland`
   `Ireland` `Italy` `Latvia` `Liechtenstein` `Lithuania` `Luxembourg` `Monaco` `Netherlands`
   `Norway` `Poland` `Portugal` `Romania` `Serbia` `Slovakia` `Slovenia` `Spain` `Sweden`
   `Switzerland`

   | :guilabel:`RETURN`
   | :guilabel:`Return Shipping Product`: `DPD Return 0-20kg`
   | :guilabel:`Return Carrier`: `DPD`
   | :guilabel:`Return Minimum Weight`: `0.00`
   | :guilabel:`Return Maximum Weight`: `20.00`
   | :guilabel:`Return Countries`: `Belgium` `Netherlands`

.. image:: sendcloud_shipping/sendcloud-example.png
   :align: center
   :alt: Example of shipping products configured in Odoo.

.. tip::
   Sendcloud does not provide test keys when a company tests the sending of a package in Odoo. This
   means if a package is created, the configured Sendcloud account will be charged, unless the
   associated package is cancelled within 24 hours of creation.

   Odoo has a built-in layer of protection against unwanted charges when using test environments.
   Within a test environment, if a shipping method is used to create labels, then those labels are
   immediately cancelled after the creation â€” this occurs automatically. The test and production
   environment settings can be toggled back and forth from their respective smart buttons.

.. _inventory/shipping_receiving/sendcloud-shipping-info:

Shipping information
--------------------

To use Sendcloud to generate shipping labels, the following information **must** be filled out
accurately and completely in Odoo:

#. **Customer information**: when creating a quotation, ensure the selected :guilabel:`Customer` has
   a valid phone number, email address, and shipping address.

   To verify, select the :guilabel:`Customer` field to open their contact page. Here, add their
   shipping address in the :guilabel:`Contact` field, along with their :guilabel:`Mobile` number and
   :guilabel:`Email` address.

#. **Product weight**: ensure all products in an order have a specified :guilabel:`Weight` in the
   :guilabel:`Inventory` tab of their product form. Refer to the :ref:`Product weight section
   <inventory/shipping_receiving/configure-weight>` of this article for detailed instructions.

#. **Warehouse address**: ensure the warehouse name and address in Odoo match the :ref:`previously
   defined warehouse <inventory/shipping_receiving/sendcloud-warehouse-config>` in the Sendcloud
   setup. For details on warehouse configuration in Odoo, refer to the :ref:`warehouse configuration
   section <inventory/shipping_receiving/configure-source-address>` of the third-party shipping
   documentation.

Generate labels with Sendcloud
==============================

When creating a quotation in Odoo, add shipping and a :guilabel:`Sendcloud shipping product`. Then,
:guilabel:`Validate` the delivery. Shipping label documents are automatically generated in the
chatter, which include the following:

#. :guilabel:`Shipping label(s)` depending on the number of packages.
#. :guilabel:`Return label(s)` if the Sendcloud connector is configured for returns.
#. :guilabel:`Customs document(s)` should the destination country require them.

Additionally, the tracking number is now available.

.. important::
   When return labels are created, Sendcloud automatically charges the configured Sendcloud account.

Shipping rules
--------------

Optionally, create shipping rules to automatically generate shipping labels tailored to different
product needs. For example, a shipping rule can be created for customers shipping expensive jewelry
items to purchase insurance.

.. note::
   Shipping rules do **not** affect :ref:`shipping rate calculations
   <inventory/shipping_receiving/third-party-rate>`, and are only used to improve the process of
   :doc:`generating shipping labels <labels>`.

To use shipping rules, navigate to :menuselection:`Inventory app --> Configuration --> Delivery:
Shipping Methods`, and select the intended `Sendcloud` shipping method.

Under the :guilabel:`Sendcloud Configuration` tab, in the :guilabel:`OPTIONS` section, choose the
kind of shipments the shipping rules apply to, via the :guilabel:`Use Sendcloud shipping rules`
field.

From here, choose either: :guilabel:`Shipping` to customers, :guilabel:`Returns` from customers, or
:guilabel:`Both`.

.. image:: sendcloud_shipping/enable-shipping-rules.png
   :align: center
   :alt: Use Shipping Rules field.

Then, in the Sendcloud website, navigate to :menuselection:`Settings --> Shipping rules`. Create a
new shipping rule by clicking :guilabel:`Create New`.

In the :guilabel:`Actions` section, set a :guilabel:`Condition` to determine when the rule applies.
Then, configure what to do when packages meet the condition.

.. seealso::
   `Create shipping rules on Sendcloud <https://support.sendcloud.com/hc/en-us/articles/
   10274470454292-How-to-create-shipping-rules#examples-smart-shipping-rules>`_

FAQ
===

Shipment is too heavy
---------------------

If the shipment is too heavy for the Sendcloud service that is configured, then the weight is split
to simulate multiple packages. Products will need to be put in different :guilabel:`Packages` to
:guilabel:`Validate` the transfer and generate labels.

:guilabel:`Rules` can also be set up in Sendcloud to use other shipping methods when the weight is
too heavy. However, note that these rules will not apply to the shipping price calculation on the
calculation on the sales order.

Personal carrier contract
-------------------------

Use custom prices from a direct carrier contract, via CSV upload, by first logging into Sendcloud,
navigating to :menuselection:`Settings --> Carriers --> My contracts`, and then selecting the
intended contract.

.. image:: sendcloud_shipping/contracts.png
   :align: center
   :alt: Navigate to the contracts section in Sendcloud.

Under the :guilabel:`Contract prices` section, click :guilabel:`Download CSV` and fill out the
contract prices in the :guilabel:`price` column of the CSV file template.

.. warning::
   Ensure the CSV file includes the correct prices to avoid any inaccuracies.

.. image:: sendcloud_shipping/price-csv.png
   :align: center
   :alt: Show sample contract CSV from Sendcloud, highlighting the price column.

:guilabel:`Upload` the completed CSV file to Sendcloud, then click :guilabel:`Save these prices`.

.. seealso::
   `Sendcloud: How to upload contract prices with carriers
   <https://support.sendcloud.com/hc/en-us/articles/5163547066004>`_

Measuring volumetric weight
---------------------------

Many carriers have several measures for weight. There is the actual weight of the products in the
parcel, and there is the *volumetric weight* (:dfn:`Volumetric weight is the volume that a package
occupies when in transit. In other words it is the physical size of a package`).

.. tip::
   Check to see if selected carrier(s) already have defined formulas to compute the volumetric
   weight.

.. seealso::
   `Sendcloud: How to calculate & automate parcel volumetric weight <https://support.sendcloud.com/
   hc/en-us/articles/360059644051-How-to-calculate-automate-parcel-volumetric-weight>`_

Unable to calculate shipping rate
---------------------------------

First, verify that the product being shipped has a weight that is supported by the selected shipping
method. If this is set, then verify that the destination country (from the customer address) is
supported by the carrier. The country of origin (warehouse address) should also be supported by the
carrier.


==================================================
SECTION: serial_numbers.rst
PATH: applications/inventory_and_mrp/inventory/product_management/product_tracking/serial_numbers.rst
==================================================

==============
Serial numbers
==============

*Serial numbers* are one of the two ways to identify and track products in Odoo, along with
:doc:`lots <lots>`. A serial number is a unique identifier assigned to a product to distinguish it
from other products in a series. Serial numbers can consist of several character types: they can
contain numbers, letters, other typographical characters, or any mix of these character types.

The goal of assigning serial numbers allows for the tracking of individual products and their
:doc:`expiration dates <expiration_dates>` and location throughout the supply chain. For instance,
serial numbers can help manufacturers locate products to provide after-sales services or in the
event of a recall.

.. seealso::
   `Odoo Tutorials: Serial Numbers <https://www.youtube.com/watch?v=XWJjWc0Vl04>`_

.. _inventory/product_management/enable-lots:

Enable lots & serial numbers
============================

To track products using serial numbers, two settings need to be enabled: the :ref:`Lots & Serial
Numbers traceability setting <inventory/product_management/traceability-setting>`, and :ref:`serial
number usage by operation type <inventory/product_management/operation-type-setting>`.

.. _inventory/product_management/traceability-setting:

Traceability setting
--------------------

The *Lots & Serial Numbers* traceability feature *must* be enabled first to track
products. To do so, go to :menuselection:`Inventory app --> Configuration --> Settings`, scroll down
to the :guilabel:`Traceability` section, and tick the :guilabel:`Lots & Serial Numbers` checkbox.
Remember to click the :guilabel:`Save` button to save changes.


.. image:: serial_numbers/enabled-setting.png
   :alt: Enabled Lots & Serial Numbers setting.

.. _inventory/product_management/operation-type-setting:

By operation type
-----------------

Next, specify whether the ability to create new or use existing serial numbers should be turned on
for particular operation types (such as shipping or receiving goods). In other words, this setting
allows for serial number tracking on warehouse receipts and delivery orders.

.. example::
   Enabling the *Create New* option for receipts allows new serial numbers to be assigned
   as items are received. However, for delivery orders, it is often disabled to prevent workers from
   accidentally assigning serial numbers that do not exist in inventory.

To enable the creation of new serial numbers on an operation, navigate to :menuselection:`Inventory
app --> Configuration --> Operations Types`.

From the :guilabel:`Operations Types` page, select the desired operation type (e.g.
:guilabel:`Receipts`, :guilabel:`Delivery Orders`, or :guilabel:`Manufacturing`), and select the
:guilabel:`Create New` option in the :guilabel:`Lots/Serial Numbers` section of the operation type's
configuration page.

.. image:: serial_numbers/create-new-setting.png
   :alt: Create New option is selected on the Receipts operation type.

.. _inventory/product_management/detailed-operations:

Configure serial number tracking on individual products
=======================================================

Once the :ref:`Lots & Serial Numbers setting <inventory/product_management/traceability-setting>`
has been activated, individual products can now be tracked using serial numbers. To track a product,
go to :menuselection:`Inventory app --> Products --> Products`, and select the desired product.

In the :guilabel:`General Information` tab on the product form, make sure the box next to
:guilabel:`Track Inventory` is checked. Then, select :guilabel:`By Unique Serial Number`, and click
:guilabel:`Save` to save the changes. Now, existing or new serial numbers can now be selected and
assigned to newly-received or manufactured batches of this product.

.. image:: serial_numbers/product-tracking.png
   :alt: Enabled serial number tracking on the product form.

.. _inventory/product_management/assign-sn:

Assign serial numbers
=====================

In Odoo, serial numbers can be assigned at several times and places:

- When a product is :ref:`already in stock <inventory/product_management/already-in-stock>`
- Via the :ref:`Moves smart button <inventory/product_management/moves-button>` on a receipt
- Via the :ref:`Open: Stock move window <inventory/product_management/stock-move>` on a receipt
- :doc:`During a manufacturing order
  <../../../manufacturing/basic_setup/configure_manufacturing_product>` for a product tracked by
  lots/serial numbers
- When :doc:`making an inventory adjustment
  <../../warehouses_storage/inventory_management/count_products>`

.. _inventory/product_management/already-in-stock:

Create new serial numbers for products already in stock
-------------------------------------------------------

New serial numbers can be created for products already in stock with no assigned serial number. To
do so, go to :menuselection:`Inventory --> Products --> Lots/Serial Numbers`, and click
:guilabel:`New`. Doing so reveals a blank lot/serial number form. On this form, a new
:guilabel:`Lot/Serial Number` is generated automatically.

.. tip::
   While Odoo automatically generates a new lot/serial number to follow the most recent number, it
   can be edited and changed to any desired number, by clicking the line under the
   :guilabel:`Lot/Serial Number` field, and changing the generated number.

Once the :guilabel:`Lot/Serial Number` is generated, click the blank field next to
:guilabel:`Product` to reveal a drop-down menu. From this menu, select the product to which this new
number will be assigned.

This form also provides the option to adjust the :guilabel:`On Hand Quantity`, to assign a unique
:guilabel:`Internal Reference` number (for additional traceability), and to assign this specific
lot/serial number configuration to a specific company in the :guilabel:`Company` field. A detailed
description of this specific lot/serial number can also be added in the :guilabel:`Description` tab
below.

.. tip::
   The :guilabel:`Internal Reference` number field is a space for manufacturers to input an
   additional unique number to allow for easier tracking. For instance, SKU values may be used
   here.

When all desired configurations are complete, click the :guilabel:`Save` button to save all changes.

.. image:: serial_numbers/new-serial-number.png
   :alt: New serial number created for existing product stock.

After a new serial number has been created, assigned to the desired product, and saved, navigate
back to the product form, by going to :menuselection:`Inventory app --> Products --> Products`, and
selecting the product that this newly-created serial number was just assigned to.

On that product's detail form, click the :guilabel:`Lot/Serial Numbers` smart button to view the new
serial number.

.. _inventory/product_management/incoming-outgoing-products:

Create serial numbers for incoming or outgoing products
-------------------------------------------------------

Serial numbers can be assigned to both incoming and outgoing goods. The receipt and delivery order
forms mirror one another; the instructions below can be followed to assign serial numbers in either
form.

- **Incoming goods:** Assign serial numbers directly on the **receipt**. Receipts can be accessed by
  navigating to :menuselection:`Inventory app --> Operations --> Receipts`.
- **Outgoing goods:** Assign serial numbers directly on the **delivery order**. Receipts can be
  accessed by navigating to :menuselection:`Inventory app --> Operations --> Deliveries`.

.. important::
   Before assigning serial numbers on receipts or delivery orders, be sure that the ability to
   :ref:`create new serial numbers by operations type
   <inventory/product_management/operation-type-setting>` is enabled.

Lots/serial number field
~~~~~~~~~~~~~~~~~~~~~~~~

Serial numbers can be entered directly into the :guilabel:`Serial Numbers` field on a receipt or
delivery order.

.. image:: serial_numbers/enter-in-field.png
   :alt: Select value for Serial Number field on receipt.

.. tip::
   To make the :guilabel:`Serial Numbers` field visible on a receipt or delivery order, click the
   :icon:`oi-settings-adjust` :guilabel:`(Adjust Settings)` icon, and in the drop-down menu, tick
   the :guilabel:`Serial Numbers` checkbox.

   .. figure:: serial_numbers/field-visible.png
      :alt: Allow Serial Numbers field to show on a receipt or delivery order.

      Example **Serial Numbers** field on a delivery order.

.. _inventory/product_management/stock-move:

Detailed Operations pop-up window
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

For various methods of assigning serial numbers individually or in bulk, click the
:guilabel:`Details` link in the product line of a receipt.

Add a line
**********

In the :guilabel:`Detailed Operations` pop-up window, manually enter serial numbers in the
:guilabel:`Lot/Serial Number` column. This method is best reserved for adding only one or a few
serial numbers.

.. image:: serial_numbers/stock-move-add-line.png
   :alt: Add a line on the Detailed Operations pop-up.

.. _inventory/product_management/generate-serials:

Generate Serials/Lots
*********************

Assign multiple serial numbers at once by clicking the :guilabel:`Generate Serials/Lots` button in
the :guilabel:`Detailed Operations` pop-up window.

.. image:: serial_numbers/stock-move-generate-serials.png
   :alt: Show generate serials pop-up.

Doing so opens a new popup, :guilabel:`Generate Serial numbers`, which contains a few fields:

- :guilabel:`First Serial Number`: Input the first serial number that should start the sequence.
  From there, Odoo automatically detects what pattern should be followed to generate more serial
  numbers.
- :guilabel:`Number of SN`: Specify the desired number of serial numbers to generate.

  .. note::
     The number of serials generated will be reflected in the :guilabel:`Quantity` field on a
     receipt or delivery order. Even if the number of serial numbers generated exceeds the
     :guilabel:`Demand` value, Odoo still allows the quantity (based on the serial numbers) to be
     delivered or received.

     .. image:: serial_numbers/stock-move-generate-quantity-tip.png
        :alt: Show how the quantity of serial numbers alters the delivery order quantity.

- :guilabel:`Keep current lines` checkbox: Check this box to keep existing serial numbers that may
  have been previously added. To replace existing serial numbers in the list, leave the box
  unchecked.

After filling out these fields, click the :guilabel:`Generate` button. The newly generated serials
now appear in the :guilabel:`Detailed Operations` window. By clicking :guilabel:`Save`, the
:guilabel:`Quantity` and the :guilabel:`Serial Numbers` fields on the delivery order or receipt
update automatically.

Import Serials/Lots
*******************

Another option for assigning multiple serial numbers at once is to click the :guilabel:`Import
Serials/Lots` button in the :guilabel:`Detailed Operations` pop-up window.

.. important::
   If the import button is not visible, ensure the :guilabel:`Create New` box is checked in the
   :ref:`receipt's configuration page <inventory/product_management/operation-type-setting>`.

Doing so opens the :guilabel:`Import Serials` pop-up window. Enter each serial number on a separate
line in the :guilabel:`Lots/Serial numbers` text field.

As when :ref:`generating serials <inventory/product_management/generate-serials>`, check the
:guilabel:`Keep current lines` box to keep existing serial numbers, or leave it unchecked to
overwrite them.

.. tip::
   To expedite this process, copy/paste serial numbers from an existing spreadsheet and add them to
   the :guilabel:`Lots/Serial numbers` text field.

Finally, click :guilabel:`Generate`.

.. image:: serial_numbers/stock-move-import-serials.png
   :alt: Show import serials pop-up.

.. example::
   For a receipt with a :guilabel:`Demand` of `10.00` products, one product has already been
   assigned a serial number in the :guilabel:`Detailed Operations` pop-up window.

   So, in the :guilabel:`Import Lots` pop-up window, two serial numbers, `SN-2` through `SN-10` are
   assigned to the remaining products by entering the following in the :guilabel:`Lots/Serial
   numbers` input field:

   .. code-block::

      SN-2
      SN-3
      SN-4
      SN-5
      SN-6
      SN-7
      SN-8
      SN-9
      SN-10

   The :guilabel:`Keep current lines` option is selected to add these two serial numbers **in
   addition** to the serial number, `SN-1`, that has already been assigned.

   .. image:: serial_numbers/import-serial.png
      :alt: Show example of correctly inputting serial numbers in the text field.

.. _inventory/product_management/moves-button:

Detailed operations
~~~~~~~~~~~~~~~~~~~

Accessible from both receipt and delivery order forms, the *Detailed Operations* page shows a
detailed view of product movements, including information about serial numbers, exact locations,
expiration dates, etc. This level of detail permits more precise tracking, for example, when
handling perishable or regulated goods.

To access this page, first :ref:`select a warehouse receipt or delivery order
<inventory/product_management/incoming-outgoing-products>`. Then, click on the :icon:`fa-bars`
:guilabel:`Moves` smart button at the top of the page.

In the :guilabel:`Lot/Serial Number` column, manually type (or select from the drop-down menu)
the desired serial numbers for each individual product.

.. image:: serial_numbers/moves-button.png
   :alt: Show the detailed Moves page.

When finished, click the receipt/delivery order's breadcrumbs, and the assigned serial numbers are
automatically saved.

Display serial numbers on delivery slips
========================================

When selling products tracked using serial numbers, it is possible to include the serial numbers on
the delivery slips sent to customers. This can be helpful to customers in cases where serial numbers
are needed, such as filing an RMA or repair request, or registering the product.

To include serial numbers on delivery slips, open the :menuselection:`Inventory` app, and navigate
to :menuselection:`Configuration --> Settings`. Scroll down to the :guilabel:`Traceability` section,
tick the :guilabel:`Display Lots & Serial Numbers on Delivery Slips` checkbox, and click
:guilabel:`Save`.

After enabling the :guilabel:`Display Lots & Serial Numbers on Delivery Slips` setting, serial
numbers are listed on delivery slips for products tracked by serial numbers, once the delivery order
is validated.

To view serial numbers on delivery orders and delivery slips, navigate to the
:menuselection:`Inventory` app, click on :guilabel:`Delivery Orders`, and select an order containing
a product tracked using serial numbers.

To view the serial numbers of products included in the order, make sure the :guilabel:`Operations`
tab is selected, then click the :icon:`oi-settings-adjust` :guilabel:`(adjust)` icon to the right of
the tab. Ensure that the :guilabel:`Serial Numbers` checkbox is ticked, which causes a
:guilabel:`Serial Numbers` column to appear. The serial number(s) for each product included in the
order are displayed in this column.

When the order is ready to be processed, click :guilabel:`Validate` to confirm the delivery and add
product information to the delivery slip.

At the top of the order's form, click the :icon:`fa-cog` :guilabel:`(Actions)` button, and select
:menuselection:`Print --> Delivery Slip`. The delivery slip is then downloaded. Open the delivery
slip using the device's browser or file manager. Serial numbers are listed next to their respective
products in the :guilabel:`Lot/Serial Number` column.

.. image:: serial_numbers/delivery-slip.png
   :alt: The order lines section of a delivery slip, showing a product and its serial number.

Traceability & reporting
========================

Manufacturers and companies can refer to the *Lots/Serial Numbers* dashboard and traceability
reports to see the entire lifecycle of a product: when and where it originated, where it was stored,
and who it was shipped to.

Lots/Serial Numbers dashboard
-----------------------------

To see the full traceability of a product, or group by serial numbers, go to
:menuselection:`Inventory app --> Products --> Lots/Serial Numbers`. Doing so reveals the
:guilabel:`Lots/Serial Numbers` dashboard.

Reporting
~~~~~~~~~

On the :guilabel:`Lots/Serial Numbers` dashboard, products with serial numbers assigned to them are
listed by default. Click the :icon:`fa-caret-right` :guilabel:`(expand)` icon to show which serial
numbers are assigned to the chosen product.

To group by serial numbers (or lots), first remove any default filters from the search bar in the
upper-right corner. Then, click the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon and select
:guilabel:`Add Custom Group`, which reveals a mini drop-down menu. From this mini drop-down menu,
select :guilabel:`Lot/Serial Number`, and click :guilabel:`Apply`.

Doing so reveals all existing serial numbers and lots. Each row can be expanded to show all
quantities of product assigned to that serial/lot number. For unique serial numbers that are not
reused, there should be just one product per serial number.

.. image:: serial_numbers/serial-numbers-dashboard.png
   :alt: Serial numbers reporting page with drop-down lists.

.. tip::
   For additional information regarding an individual serial (or lot) number, click the line
   item for the serial number to reveal that specific :guilabel:`Serial Number` form. From this
   form, click the :guilabel:`Location` and :guilabel:`Traceability` smart buttons to see all stock
   on-hand using that serial number, and any operations made using that serial number.

.. seealso::
   :doc:`Reassign <reassign>`

   In addition to using the :guilabel:`Lots/Serial Numbers` dashboard, there are several other
   reporting templates that display the :guilabel:`Lot/Serial Number` field or the ability to filter
   by serial number. Go to :menuselection:`Inventory app --> Reporting` to access:

   - :guilabel:`Locations` report
   - :guilabel:`Moves History` report
   - :guilabel:`Moves Analysis` report


==================================================
SECTION: setup_configuration.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration.rst
==================================================

:show-content:

================
Delivery methods
================

In Odoo, *delivery methods* make it possible to calculate shipping costs directly on sales orders
and e-commerce carts, providing customers and sales teams with accurate shipping fee information.
This transparency helps close sales by showing customers the exact cost for each shipping carrier or
delivery timeframe.

When activated in Odoo, the *Delivery Methods* setting adds the option of calculating the cost of
shipping on sales orders and e-commerce shopping carts.

When integrated with a :ref:`third-party carrier <inventory/shipping/third_party>`, shipping prices
are calculated based on the carrier's pricing information.

.. seealso::
   - :ref:`Third-party shipping carrier setup <inventory/shipping/third_party>`
   - `Odoo Tutorials: Delivery Prices
     <https://www.odoo.com/slides/slide/delivery-prices-613?fullscreen=1>`_

Configuration
=============

To calculate shipping on sales orders and e-commerce, the **Delivery Costs** module must be
installed. To do so, navigate to the :menuselection:`Apps` application from the main Odoo dashboard.

Then, remove the :guilabel:`Apps` filter, and type in `Delivery Costs` in the search bar. After
finding the :guilabel:`Delivery Costs` module, click :guilabel:`Install` to install it.

.. image:: setup_configuration/install-module.png
   :alt: Install the Delivery Costs module.

.. _inventory/shipping/sales-order:

Add shipping
============

Shipping methods are added to sales orders in the form of delivery products, which appear as
individual line items. First, navigate to the desired sales order by going to :menuselection:`Sales
app --> Orders --> Orders`.

Open the desired sales order, then click the :guilabel:`Add shipping` button. The :guilabel:`Add a
shipping method` pop-up window opens. Then, using the drop-down menu, select an available shipping
method.

The :guilabel:`Total Order Weight` is pre-filled based on product weights (that are defined in the
:ref:`Inventory <inventory/product_management/manufacture>` tab for each product form). Edit the
field to specify the exact weight, and then click :guilabel:`Add` to add the shipping method.

.. important::
   The amount defined in :guilabel:`Total Order Weight` overwrites the total product weights defined
   on the product form.

.. note::
   Some connected shipping methods require obtaining rates from the carrier. In this situation,
   click the :icon:`oi-arrow-right` :guilabel:`Get rate` button, and the shipping costs are
   automatically updated from the carrier. These rates cannot be modified.

The shipping cost is added as a line item in the :guilabel:`Order Lines` tab as the
:guilabel:`Delivery Product` detailed on the shipping method form.

.. example::
   A customer purchased a left-sided desk with storage and requested the item be delivered by hand.
   This delivery method is defined as `Furniture Delivery (Manual)` and has a cost of `$200`. The
   sales order contains two line items: one for the desk, and another for the delivery method.

     .. image:: setup_configuration/delivery-product.png
        :alt: Show delivery order on the sales order line.

Delivery order
--------------

The shipping method added to the sales order is linked to the shipping carrier details on the
delivery order. After confirming the order, a :icon:`fa-truck` :guilabel:`Delivery` smart button
appears at the top of the page. Click the :icon:`fa-truck` :guilabel:`Delivery` smart button to open
the warehouse delivery form. To add or change the delivery method on the delivery itself, open the
:guilabel:`Additional Info` tab and modify the :guilabel:`Carrier` field.

.. image:: setup_configuration/delivery-order.png
   :alt: Shipping carrier information on the delivery form.

.. toctree::
   :titlesonly:

   setup_configuration/new_delivery_method
   setup_configuration/third_party_shipper
   setup_configuration/labels
   setup_configuration/bpost
   setup_configuration/dhl_credentials
   setup_configuration/envia_shipping
   setup_configuration/fedex
   setup_configuration/sendcloud_shipping
   setup_configuration/starshipit_shipping
   setup_configuration/ups_credentials
   setup_configuration/zebra
   setup_configuration/cancel
   setup_configuration/invoicing
   setup_configuration/label_type
   setup_configuration/multipack
   setup_configuration/print_on_validation
   setup_configuration/dispatch


==================================================
SECTION: shipping_receiving.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving.rst
==================================================

:nosearch:

======================
Shipping and receiving
======================

.. toctree::
   :titlesonly:

   shipping_receiving/daily_operations
   shipping_receiving/setup_configuration
   shipping_receiving/reservation_methods
   shipping_receiving/picking_methods
   shipping_receiving/removal_strategies


==================================================
SECTION: starshipit_shipping.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/starshipit_shipping.rst
==================================================

===================
Starshipit shipping
===================

Starshipit is a shipping service operator that facilitates the integration of Australasian
shipping couriers with Odoo. Once integrated, users can create shipping methods that will
automatically get rates from specific couriers (such as Australia Post, NZ Post, DHL,...)
based on predefined conditions.

.. seealso::
   - :doc:`Automatically calculate shipping <../setup_configuration>`
   - :doc:`Integrate other third-party couriers <third_party_shipper>`

Setup in Starshipit
===================

Create an account and activate couriers
---------------------------------------

To get started, go to `Starshipit's platform <https://starshipit.com/>`_ to configure the account
and generate the connector credentials. Log in with the Starshipit account, or create a new one if
needed.

Pickup address configuration
----------------------------

Once logged into the Starshipit account, navigate to :menuselection:`Settings --> Pickup address`,
and fill in the :guilabel:`Pickup address`. Ensure this field matches the warehouse address.

.. image:: starshipit_shipping/starshipit-settings-address.png
   :align: center
   :alt: Adding addresses in the Starshipit settings.

Couriers configuration
----------------------

To integrate with third-party couriers, navigate to :menuselection:`Settings --> Couriers`, and
select :guilabel:`Couriers`.

.. image:: starshipit_shipping/starshipit-settings-couriers.png
   :align: center
   :alt: Adding addresses in the Starshipit settings.

.. tip::
   For details on integrating with different couriers, refer to `Starshipit's support center
   <https://support.starshipit.com/hc/en-us/>`_.

Checkout rates
--------------

To configure shipping rate calculations, navigate to :menuselection:`Settings --> Checkout rates`.
The selected delivery costs are automatically applied in Odoo when calculating shipping costs.

.. image:: starshipit_shipping/starshipit-checkout-rate.png
   :align: center
   :alt: Checkout rates in the Starshipit settings.

Starshipit API key
------------------

Configure shipping rules to assign the correct shipping methods to orders based on specific
conditions.

To create a rule, go to :menuselection:`Settings --> Rules` and click :guilabel:`Add a new rule`.

While there are multiple ways to configure rules, it is recommended to set:

#. :guilabel:`Condition` to :guilabel:`Contains`
#. :guilabel:`Value` to the :guilabel:`product code`
#. :guilabel:`Action` to :guilabel:`Set Courier & Product Code`

.. image:: starshipit_shipping/starshipit-rules.png
   :align: center
   :alt: Shipping rules in the Starshipit settings.

.. _inventory/shipping_receiving/star-api:

Finding Starshipit API credentials
----------------------------------

In the Starshipit account, navigate to :menuselection:`Settings --> API` in the side menu.
This page contains the :abbr:`API (Application Programming Interface)` keys needed to connect to
Odoo.

.. image:: starshipit_shipping/starshipit-settings-api.png
   :align: center
   :alt: Finding the Starshipit API keys.

Setup in Odoo
=============

Install
-------

After the Starshipit account is set up, integrate it with the Odoo database. To do that, go to
Odoo's :guilabel:`Apps` module, search for the :guilabel:`Starshipit Shipping` module, and click
:guilabel:`Activate` to install it.

.. image:: starshipit_shipping/starshipit-app.png
   :align: center
   :alt: Starshipit Shipping module in the Odoo Apps module.

Configuration
-------------

Once installed, activate the feature by going to :menuselection:`Inventory --> Configuration -->
Settings`. Under the :guilabel:`Shipping Connectors` section, activate the :guilabel:`Starshipit
Connector` option.

After activating :guilabel:`Starshipit Connector`, click the :guilabel:`Starshipit Shipping Methods`
link below the listed connector. Once on the :guilabel:`Shipping Methods` page, click
:guilabel:`Create`.

.. tip::
   :guilabel:`Shipping Methods` can also be accessed by going to :menuselection:`Inventory -->
   Configuration --> Delivery --> Shipping Methods`.

Configure Starshipit in Odoo by filling out the fields on the :guilabel:`Shipping Methods` form as
follows:

- :guilabel:`Shipping Method`: type `Starshipit`.
- :guilabel:`Provider`: select :guilabel:`Starshipit` from the drop-down menu.
- :guilabel:`Delivery Product`: assign or create the delivery product that will appear on the sales
  order line when the cost of shipping is computed.

  .. note::
   The fields discussed in this section are specific to configuring Starshipit. For more information
   about the other fields, refer to :doc:`../setup_configuration`.

In the :guilabel:`Starshipit Configuration` tab, fill out these fields:

- :guilabel:`Starshipit API Key`: enter the :abbr:`API (Application Programming Interface)` key
  :ref:`obtained from Starshipit <inventory/shipping_receiving/star-api>`.
- :guilabel:`Starshipit Subscription Key`: enter the subscription key obtained from the same place
  as the :ref:`API key <inventory/shipping_receiving/star-api>`.
- :guilabel:`Origin Address`: Enter the address where products are shipped from. This field is
  crucial for calculating shipping rates and :ref:`generating shipping labels
  <inventory/shipping_receiving/star-label>`.
- :guilabel:`Default Package Type`: Set a default package type to include the weight of the empty
  package when automatically calculating shipping rates.

.. important::
   To set a default package type, the *Packages* feature **must** be enabled in
   :menuselection:`Inventory --> Configuration --> Settings`.

- Manually :guilabel:`Save` the form by clicking the cloud icon next to the :guilabel:`Shipping
  Methods / New` breadcrumbs.

To load the newly configured shipping products, click the :guilabel:`Select a service linked to the
Starshipit account` link at the bottom of the :guilabel:`Starshipit Configuration` tab.

Doing so opens the :guilabel:`Choose Starshipit Shipping Service` pop-up window. In the
:guilabel:`Delivery Service` field, choose the desired shipping service for deliveries and returns
from the drop-down menu. Finally, click :guilabel:`Confirm`.

The chosen delivery service will populate in the :guilabel:`Service Name` field.

.. example::
   Sample of a Starshipit shipping product configured in Odoo:

   | :guilabel:`Sendle: Sendle drop off`
   | :guilabel:`Shipping Product`: `Sendle Delivery`
   | :guilabel:`Starshipit Service Code`: `STANDARD-DROPOFF`

.. image:: starshipit_shipping/starshipit-configuration.png
   :align: center
   :alt: Example of shipping products configured in Odoo.

.. tip::
   Starshipit does not provide test keys when a company tests the sending of a package in Odoo. This
   means that if a package is created, the account may be charged.

   Odoo has a built-in layer of protection against unwanted charges when using test environments.
   Within a test environment, if a shipping method is used to create labels, then those labels are
   immediately cancelled after creation â€” this occurs automatically. Please note that depending on
   the shipping provider being used, the account might be charged for printing label, unless the
   order is cancelled manually on the couriersâ€™s portal.


   Switch between the test and production environment by clicking the :guilabel:`Environment` smart
   button at the top of the shipping method form.

.. _inventory/shipping_receiving/star-label:

Generate a label with Starshipit
--------------------------------

When creating a quotation in Odoo, add the Starshipit shipping method by clicking the :guilabel:`Add
shipping` button.

In the :guilabel:`Add a shipping method` pop-up window, select Starshipit in the :guilabel:`Shipping
Method` field.

Calculate the shipping rate by clicking :guilabel:`Get rate`.
Finally, click :guilabel:`Add` to include the cost of shipping to the sales order line, labeled as
the *delivery product*.

.. note::
   Automatically calculate shipping costs for Starshipit in **both** Odoo *Sales* and *eCommerce*
   applications.

Then, :guilabel:`Validate` the delivery. Shipping label documents are automatically generated in the
chatter, which includes the following:

#. :guilabel:`Shipping label(s)` depending on the number of packages.
#. :guilabel:`Tracking number(s)` if the selected courier supports it.
#. :guilabel:`Return label(s)` if the Starshipit connector is configured for returns.

.. image:: starshipit_shipping/starshipit-shipping.png
   :align: center
   :alt: Example of a shipped order in Odoo.

.. important::
   Package weight in Odoo is calculated by adding the weights of the products plus the empty package
   saved in the database. Ensure the correct shipping option is selected, as the package weight is
   not automatically verified.

   Verify the destination address, as Starshipit checks it when the order is created.

   Finally, some couriers may require other information, such as an email address or phone number.
   Please ensure that all necessary information are set upon sending a shipping order.

Returns
-------

Starshipit allows returns with the following couriers:
 * Australia Post eParcel
 * TNT
 * Couriers Please
 * Aramex
 * StarTrack
 * DHL Express
 * NZ Post Domestic

This can be done by clicking the :guilabel:`Return` smart button on the intended delivery order.
If the selected courier supports returns, the :guilabel:`Print Return Label` button will be
available.

Cancellations
-------------

If a delivery order is cancelled in Odoo, it will be automatically archived in Starshipit.
However, the cancellation will not be sent to the courier itself, so make sure to log onto the
courier's platform to handle the cancellation manually.


==================================================
SECTION: stock.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/reporting/stock.rst
==================================================

============
Stock report
============

Use the stock report in Odoo *Inventory* for a detailed list of all stored products, including those
reserved, purchased and in transit, as well as those delivered to customers.

.. note::
   The reporting feature is only accessible to users with :doc:`admin access
   <../../../../general/users/access_rights>`.

To access the stock report, go to :menuselection:`Inventory app --> Reporting --> Stock`.

.. image:: stock/stock-report.png
   :align: center
   :alt: Show the stock report, accessible by going to Inventory > Reporting > Stock.

Navigate the report
===================

On the stock report, the left sidebar includes several groupings to narrow down what is being shown.
The default groupings are :guilabel:`Warehouses`,  which filters products by specific warehouses,
and :guilabel:`Category`, which shows products within a selected product category.

.. note::
   The :guilabel:`Warehouse` grouping is only available when there are multiple warehouses in the
   database. Refer to the :doc:`../inventory_management/warehouses` documentation for more details.

In the report itself, the columns represent:

- :guilabel:`Product`: name of the product.
- :guilabel:`Unit Cost`: average inventory valuation per unit, adjusted based on the cost to
  purchase and/or manufacture the product.
- :guilabel:`Total Value`: Total inventory valuation of the product, calculated by multiplying unit
  cost by on-hand quantity.

  .. seealso::
     - :ref:`Compute average cost inventory valuation per unit <inventory/avg_cost/formula>`
     - :doc:`Inventory valuation methods <../../inventory_valuation/cheat_sheet>`

- :guilabel:`On Hand`: current quantity of products. Click the :icon:`fa-pencil`
  :guilabel:`(pencil)` icon to :doc:`modify the on-hand quantity
  <../inventory_management/count_products>`.
- :guilabel:`Free to Use`: on-hand quantity that are **not** reserved for delivery or manufacturing
  orders, and are available to sell or use.
- :guilabel:`Incoming`: items expected to arrive at the warehouse. Number of products is based on
  quantities in confirmed purchase orders.
- :guilabel:`Outgoing`: items expected to leave the warehouse or be consumed in manufacturing
  orders. Number of products is based on quantities in confirmed sales or manufacturing orders.

Click the buttons to the right of each row item to access additional information:

- :guilabel:`History`: access the stock move history of the product, displaying information about
  the quantity and description of why the product was moved from one location to another.
- :guilabel:`Replenishment`: access the :doc:`reordering rules
  <../replenishment/reordering_rules>` page for the product to create or manage methods of procuring
  the product.
- :guilabel:`Locations`: break down of on-hand quantity at multiple storage locations. Only
  available when the product is stored in multiple locations.
- :guilabel:`Forecast`: access the forecasted report to view on-hand, incoming, and outgoing
  quantities. Report also contains links to confirmed purchase, sales, or manufacturing orders. Only
  available when there are confirmed sales, purchase, or manufacturing orders for the product.

Search options
--------------

.. tabs::

   .. tab:: Filters

      The :guilabel:`Filters` section allows users to search among pre-made and custom filters to
      find specific stock records.

      - :guilabel:`Published`: display products published on the website. Only available with the
        *Website* app installed.
      - :guilabel:`Available in POS`: display products available through the *Point of Sale* app.
      - :guilabel:`Available in Self`: display products available in self order through the *Point
        of Sale* app. Appears in the search because the :guilabel:`Available in Self Order` checkbox
        was ticked in the :guilabel:`Point of Sale` section of a product form's :guilabel:`Sales`
        tab. The option is only available when the :guilabel:`Available in POS` checkbox is ticked.

        .. image:: stock/available-in-self-order.png
           :align: center
           :alt: In the Sales tab of a product form, showing *Available in Self Order* setting.

      - :guilabel:`Not available in Self`: display products available in *PoS*, but not available in
        self order.

      .. seealso::
         `Configure PoS products <https://youtu.be/REbA3TBhFa4>`_

      - :guilabel:`Can be Sold`: display products that can be sold to customers. Appears in the
        search because the :guilabel:`Can be Sold` checkbox is ticked on the product form.
      - :guilabel:`Can be Purchased`: display products that can be bought from vendors. Appears in
        the search because the :guilabel:`Can be Purchased` checkbox is ticked on the product form.
      - :guilabel:`Can be Recurring`: show subscription products, indicated by ticking the
        :guilabel:`Recurring` checkbox on the product form. Only available with the *Subscription*
        app activated.
      - :guilabel:`Can be Rented`: show products that can be loaned to customers for a certain time.
        Appears in the search because the :guilabel:`Can be Rented` checkbox was ticked on the
        product form. Only available with the *Rental* app installed.
      - :guilabel:`Can be Subcontracted`: display products that can be produced by a
        third-party manufacturer. Available only with the *Manufacturing* app installed.
      - :guilabel:`Can be Expensed`: show items that can be expensed. Only available with the
        *Expenses* app installed.

      .. seealso::
         :doc:`../../product_management/configure/type`

   .. tab:: Group By

      The :guilabel:`Group By` section allows users to add pre-made and custom groupings to the
      search results.

      - :guilabel:`Product Type`: group items by :doc:`product type
        <../../product_management/configure/type>`.
      - :guilabel:`Product Category`: group items by product category. To configure these, go to
        :menuselection:`Inventory app --> Configuration --> Products: Product Categories`.
      - :guilabel:`POS Product Category`: group items by :doc:`point of sale product categories
        <../../../../sales/point_of_sale/configuration>`.

   .. tab:: Favorites

      To save the current applied filters and groupbys, so the same information can be easily
      accessed after closing this page, click :guilabel:`Save current search`.

      Optionally, tick the :guilabel:`Default filter` checkbox to make this current view the default
      filter when opening the stock report. Or tick the :guilabel:`Shared` checkbox to make the
      search option available to other users.

      Lastly, click the :guilabel:`Save` button.

.. seealso::
   :doc:`../../../../essentials/search`


==================================================
SECTION: stock_warehouses.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/stock_warehouses.rst
==================================================

===========================================================
Sell stock from multiple warehouses using virtual locations
===========================================================

While keeping stock and selling inventory from one warehouse might work for smaller companies,
bigger companies might need to keep stock in, or sell from, multiple warehouses in multiple
locations.

Sometimes products included in a single sales order might take stock from two (or more) warehouses;
in Odoo, pulling products from multiple warehouses to satisfy sales demands can be done using
*virtual locations*.

.. important::
   The solution in this document, describing the use of a virtual warehouse to fulfill orders for
   multiple warehouses, has some limitations. Consider the following before proceeding:

   #. When the :guilabel:`Warehouse` field is set to a virtual warehouse on a sales order, the
      virtual warehouse's address is indicated on the picking, packing, and delivery forms, **not**
      the actual warehouse's address.
   #. Each location has a `warehouse_id` (hidden field). This means that the stock in the virtual
      warehouse will **not** be the sum of the stock of the real warehouses, but rather the sum of
      the stock in the locations whose warehouse ID is the virtual warehouse.

.. danger::
   Potential limitation for those using :doc:`two
   <../../shipping_receiving/daily_operations/receipts_delivery_two_steps>` or :doc:`three-step
   delivery <../../shipping_receiving/daily_operations/delivery_three_steps>`:

   #. The output or packing zone on the various forms is incorrectly listed as the virtual
      warehouse's address.
   #. There is no workaround for two or three-step deliveries.
   #. Proceed **only** if setting a virtual warehouse's address as the output or packing zone makes
      sense for the company's workflow.

.. note::
   In order to create virtual locations in warehouses, and proceed to the following steps, the
   :guilabel:`Storage Locations` and :guilabel:`Multi-Step Routes` features **must** be enabled.

   To do so, go to :menuselection:`Inventory app --> Configuration --> Settings`, scroll down to the
   :guilabel:`Warehouse` section, and enable the :guilabel:`Storage Locations` and
   :guilabel:`Multi-Step Routes` options. Then, :guilabel:`Save` the changes to finish.


.. _inventory/routes/virtual-wh:

Create virtual parent location
==============================

Before creating any virtual stock locations, create a new warehouse that acts as a *virtual*
warehouse â€” the *parent* location of other physical warehouses.

.. spoiler:: Why a "virtual" warehouse?

   Virtual warehouses are great for companies with multiple physical warehouses. This is because a
   situation might arise when one warehouse runs out of stock of a particular product, but another
   warehouse still has stock on-hand. In this case, stock from these two (or more) warehouses could
   be used to fulfill a single sales order.

   The "virtual" warehouse acts as a single aggregator of all the inventory stored in a company's
   physical warehouses, and is used (for traceability purposes) to create a hierarchy of locations
   in Odoo.

To create a new warehouse, go to :menuselection:`Inventory app --> Configuration --> Warehouses`,
and click :guilabel:`Create`. From here, the warehouse :guilabel:`Name` and :guilabel:`Short Name`
can be changed, and other warehouse details can be changed under the :guilabel:`Warehouse
Configuration` tab.

Lastly, click :guilabel:`Save` to finish creating a *regular* warehouse. Continue following the
steps below to finish configuring the virtual parent warehouse.

.. image:: stock_warehouses/stock-warehouses-create-warehouse.png
   :align: center
   :alt: New warehouse form.

.. seealso::
   - :doc:`Warehouse configurations <../../warehouses_storage/inventory_management/warehouses>`
   - :ref:`Incoming and outgoing shipments <inventory/receipts_delivery_one_step/wh>`
   - :doc:`../../warehouses_storage/replenishment/resupply_warehouses`

.. _inventory/routes/child-wh:

Create child warehouses
=======================

Create at least two *child* warehouses to link to the virtual warehouse.

.. important::
   In order to take stock from multiple warehouses to fulfill a sales order, there needs to be at
   least **two** warehouses acting as child locations of the virtual parent location warehouse.

To do that, navigate to :menuselection:`Inventory app --> Configuration --> Warehouses`, click
:guilabel:`Create`, and follow the :ref:`preceding instructions <inventory/routes/virtual-wh>` to
configure the physical stock locations.

.. example::

   | **Parent Warehouse**
   | :guilabel:`Warehouse`: `Virtual Warehouse`
   | :guilabel:`Location`: `VWH/Stock`

   | **Child Warehouses**
   | :guilabel:`Warehouses`: `Warehouse A` and `Warehouse B`
   | :guilabel:`Locations`: `WHA` and `WHB`

   .. image:: stock_warehouses/parent-location.png
      :align: center
      :alt: Graphic of child locations 'WHA' and 'WHB' tied to the parent location.

.. important::
   While the virtual stock location will be changed to 'View' later, the :guilabel:`Location Type`
   **must** be :guilabel:`Internal Location` at this point to :ref:`link the child warehouses
   <inventory/routes/link-to-vwh>` in the next section.

.. _inventory/routes/link-to-vwh:

Link child warehouses to virtual stock
======================================

To set physical warehouses as child locations of the virtual location configured in the
:ref:`previous step <inventory/routes/virtual-wh>`, navigate to :menuselection:`Inventory app -->
Configuration --> Locations`.

Remove any filters from the search bar. Then, click the physical warehouse :guilabel:`Location` that
was previously created to be a child location (e.g. `WHA`), and click :guilabel:`Edit`.

Change the :guilabel:`Parent Location` field from :guilabel:`Physical Locations` to the virtual
warehouse's **stock location** (e.g. `VWH/Stock`) from the drop-down menu, and click
:guilabel:`Save`.

.. important::
   To select the virtual warehouse's stock location in the :guilabel:`Parent Location` drop-down
   menu, the parent warehouse stock location (e.g. `VWH/Stock`) **must**  have its
   :guilabel:`Location Type` set to :guilabel:`Internal Location`.

.. image:: stock_warehouses/configure-physical-wh.png
   :align: center
   :alt: Set the child warehouse's *Parent Location* to the virtual warehouse.

Repeat the preceding steps to configure two or more child warehouses.

Once complete, the virtual, parent warehouse (e.g. `VWH/Stock`) fulfills orders using stock from
child warehouses (e.g. `WHA` and `WHB`), if there is insufficient stock in any one location.

Set virtual stock location as 'view'
====================================

Set the virtual stock location's :guilabel:`Location Type` to :guilabel:`View`, as it is a
non-existent location used to group various physical warehouses together.

To do that, navigate to :menuselection:`Inventory app --> Configuration --> Locations`.

Click the virtual warehouse's stock location (e.g. `VWH/Stock`) that was :ref:`previously created
<inventory/routes/virtual-wh>`, from the :guilabel:`Locations` list.

On the location form, under the :guilabel:`Additional Information` heading, set the
:guilabel:`Location Type` to :guilabel:`View`. :guilabel:`Save` the changes.

.. image:: stock_warehouses/set-location-type-view.png
   :align: center
   :alt: Warehouse location types in location creation screen.

.. tip::
   To view the total quantity across **all** linked child warehouses, go to the product form and
   click the :guilabel:`On Hand` smart button.

   .. image:: stock_warehouses/on-hand.png
      :align: center
      :alt: Display stock across all linked warehouses.

Example: sell products from a virtual warehouse
===============================================

To sell products from multiple warehouses using a virtual parent location, the database must have at
least **two** warehouses configured â€” with at least **one** product, with quantity on-hand in each
warehouse, respectively.

.. example::
   The following product, `Toy soldier`, is available at each location with the quantities:

   - `WHA/Stock` : 1
   - `WHB/Stock` : 2
   - Warehouses `WHA` and `WHB` are child warehouses of the virtual warehouse `VWH`.

Create a quotation for the product by navigating to the :menuselection:`Sales` app and clicking
:guilabel:`Create`. On the quote, add a :guilabel:`Customer`, and click :guilabel:`Add a product` to
add the two products stored in the two warehouses.

Then, click the :guilabel:`Other Info` tab on the sales order form. Under the :guilabel:`Delivery`
section, change the :guilabel:`Warehouse` field value to the virtual warehouse that was
:ref:`previously created <inventory/routes/virtual-wh>`. Next, :guilabel:`Confirm` the sales order.

.. image:: stock_warehouses/set-virtual-wh.png
   :align: center
   :alt: Set virtual warehouse as the *Warehouse* field in sales order's *Other Info* tab.

Then, click the :guilabel:`Delivery` smart button. From the warehouse delivery form, confirm that
the :guilabel:`Source Location` value matches the :guilabel:`Warehouse` field value from the sales
order. Both should list the virtual warehouse location.

Finally, on the warehouse delivery form, under the :guilabel:`Detailed Operations` tab, confirm that
the :guilabel:`Locations` in the :guilabel:`From` column for each product match the child locations
that are tied to the virtual parent location.

.. image:: stock_warehouses/delivery-order.png
   :align: center
   :alt: Delivery order with matching source and child locations.

.. important::
   The :guilabel:`Source Location` on the warehouse delivery form, and the :guilabel:`Warehouse`
   under the :guilabel:`Other Info` tab on the sales order, **must** match for products in the sales
   order to be pulled from different warehouses.

  - If the virtual warehouse is not in the :guilabel:`Source Location` field on the warehouse
    delivery form, retry product reservation by:

    - Running the scheduler: turn on :ref:`developer mode <developer-mode>`, and then go to
      :menuselection:`Inventory app --> Operations --> Run Scheduler`.
    - Clicking :guilabel:`Check Availability` on the delivery order.
  - If the virtual warehouse is **not** assigned to the :guilabel:`Warehouse` field on the sales
    order, then cancel it, and create a new sales order with the virtual warehouse set in the
    :guilabel:`Warehouse` field.
  - If the :guilabel:`Warehouse` field is missing on the sales order form, then the multiple child
    warehouses may not have been set up correctly. Review the :ref:`previous section
    <inventory/routes/child-wh>` to ensure the correct settings.

.. tip::
   To use a virtual *parent* location as the default warehouse for sales orders, each salesperson
   should have the virtual warehouse assigned to them from the drop-down menu next to
   :guilabel:`Default Warehouse` on their employee form.

   .. image:: stock_warehouses/stock-warehouses-employee-form.png
      :align: center
      :alt: Default warehouse location on employee form.


==================================================
SECTION: storage_category.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/storage_category.rst
==================================================

==================
Storage categories
==================

A *storage category* is used with :doc:`putaway rules <putaway>` to assign a storage location to
incoming products while accounting for the capacity of that location.

Follow these steps to complete the setup:

#. :ref:`Enable features in the settings <inventory/routes/enable-storage-categories>`
#. :ref:`Define capacity limitations <inventory/routes/define-storage>`
#. Assign a :ref:`category to storage locations <inventory/routes/assign-location>`
#. Add the storage category as an attribute to a :ref:`putaway rule
   <inventory/routes/set-putaway-attribute>`

.. seealso::
   :doc:`putaway`

.. note::
   Assigning categories to storage locations tells Odoo these locations meet specific requirements,
   such as temperature or accessibility. Odoo then evaluates these locations, based on defined
   capacity, and recommends the best one on the warehouse transfer form.

.. _inventory/routes/enable-storage-categories:

Configuration
=============

To enable storage categories, go to :menuselection:`Inventory app --> Configuration --> Settings`.
Then, in the :guilabel:`Warehouse` section, ensure the :guilabel:`Storage Locations` and
:guilabel:`Multi-Step Routes` features are enabled.

If intending to set capacities by :ref:`package type <inventory/routes/set-capacity-package>`, also
make sure :guilabel:`Packages` is enabled. Click :guilabel:`Save`.

.. image:: storage_category/enable-categories.png
   :alt: Enable Storage Locations and Multi-Step Routes to enable storage categories.

.. _inventory/routes/define-storage:

Define storage category
=======================

A storage category with specific limitations **must** be created first, before it is applied to
locations, in order to decide the optimal storage location.

To create a storage category, go to :menuselection:`Inventory app --> Configuration --> Storage
Categories`, and click :guilabel:`New`.

On the storage category form, type a name for the category in the :guilabel:`Storage Category`
field.

Options are available to limit capacity by weight, product, and package type.

.. note::
   Weight limits can be combined with capacity by package or product (e.g. a maximum of one hundred
   products with a total weight of two hundred kilograms).

   While it is possible to limit capacity by product and package type at the same location, it may
   be more practical to store items in different amounts across various locations, as shown in this
   example of :ref:`capacity by package <inventory/routes/set-capacity-package>`.

The :guilabel:`Allow New Product` field defines when the location is considered available to store a
product:

- :guilabel:`If location is empty`: a product can be added there only if the location is empty.
- :guilabel:`If products are the same`: a product can be added there only if the same product is
  already there.
- :guilabel:`Allow mixed products`: several different products can be stored in this location at the
  same time.

.. tip::
   When clicked, the :icon:`oi-arrows-v` :guilabel:`Locations` smart button shows which storage
   locations the category has been assigned to.

.. important::
   Odoo does **not** automatically split quantities across multiple storage locations. If an
   incoming receipt contains several units or packages and the first recommended location exceeds
   its capacity, Odoo still routes all items to that same location instead of selecting another one
   with available space.

   *(Example: If a location can hold 10 units and 12 units arrive, all 12 are still assigned to that
   location.)*

Capacity by weight
------------------

On a storage category form (:menuselection:`Inventory app --> Configuration --> Storage
Categories`), set a maximum product weight in the :guilabel:`Max Weight` field. This limit applies
to each location assigned this storage category.

Capacity by product
-------------------

In the :guilabel:`Capacity by Product` tab, click :guilabel:`Add a Line` to input items, and enter
their capacities in the :guilabel:`Quantity` field.

.. example::
   Ensure only a maximum of five `Large Cabinets` and two `Corner Desk Right Sit` are stored at a
   single storage location, by specifying those amounts in the :guilabel:`Capacity by Product` tab
   of a storage category form.

   .. image:: storage_category/capacity-by-product.png
      :alt: Show storage category limiting by product count.

.. _inventory/routes/set-capacity-package:

Capacity by package
-------------------

For companies using :doc:`packages <../../product_management/configure/package>`, it becomes
possible to ensure real-time storage capacity checks, based on package types (e.g., crates, bins,
boxes, etc.).

Create the :ref:`package type <inventory/warehouses_storage/package-type>` before assigning it to a
storage category. Create it on the :guilabel:`Inventory` tab of the product form (in the
:guilabel:`Packaging` section), or create it from the :guilabel:`Product Packagings` page. Be sure
to set the :guilabel:`Package Type`.

.. example::
   Create putaway rules for pallet-stored items, by creating the `High frequency pallets` storage
   category.

   In the :guilabel:`Capacity by Package` tab, specify the number of packages for the designated
   :guilabel:`Package Type`, and set a maximum of `2.00` `Pallets` for a specific location.

   .. image:: storage_category/storage-category.png
      :alt: Create a storage category.

.. important::
   Odoo does **not** automatically split quantities across multiple storage locations. If an
   incoming receipt contains several units or packages and the first recommended location exceeds
   its capacity, Odoo still routes all items to that same location instead of selecting another one
   with available space.

   *(Example: If a location can hold 10 units and 12 units arrive, all 12 are still assigned to that
   location.)*

.. _inventory/routes/assign-location:

Assign to location
==================

Once the storage category is created, assign it to a location. Navigate to the location by going to
:menuselection:`Inventory app --> Configuration --> Locations`, and select the desired location.
Then, select the created category in the :guilabel:`Storage Category` field.

.. example::
   Assign the `High frequency pallets` storage category (which limits pallets stored at any location
   to two pallets) to the `WH/Stock/Pallets/PAL1` sub-location.

   .. image:: storage_category/location-storage-category.png
      :alt: When a Storage Category is created, it can be linked to a warehouse location.

.. _inventory/routes/set-putaway-attribute:

Putaway rule
============

With the :ref:`storage category <inventory/routes/define-storage>` and :ref:`location
<inventory/routes/assign-location>` set up, create the :doc:`putaway rule <putaway>` by navigating
to :menuselection:`Inventory app --> Configuration --> Putaway Rules`.

Click the :guilabel:`New` button to create the putaway rule. Specify a location to store to in the
:guilabel:`Store to` field.

Use the :guilabel:`Sublocation` field to specify that you want to use a sublocation with the storage
category:

- :guilabel:`Last Used`: The last location that had a move associated with it for that product or
  product category is used. If there is no last location used, the destination is whatever is
  specified in the :guilabel:`Store to` field.
- :guilabel:`Closest Location`: The locations specified as part of the storage category are used. A
  storage category is mandatory in the :guilabel:`Having Category` field.

If using multiple storage locations for a single storage category, create putaway rules for each
location to ensure that if one storage location is in use, the secondary locations must be used.

.. example::
   Continuing the example from above, the `High frequency pallets` storage category is assigned to
   the putaway rule directing pallets of lemonade to locations with the `High frequency pallets`
   storage category :ref:`assigned to them <inventory/routes/assign-location>`.

   .. image:: storage_category/smart-putaways.png
      :alt: Storage Categories used in a variety of putaway rules.

Use case: limit capacity by package
===================================

To limit the capacity of a storage location by a specific number of packages, :ref:`create a storage
category with a Capacity By Package <inventory/routes/set-capacity-package>`.

Continuing the example from above, the `High frequency pallets` storage category is assigned to the
`PAL1` and `PAL2` locations.

Then, :ref:`putaway rules <inventory/routes/putaway-rule>` are set, so that any pallets received in
the warehouse are directed to be stored in `PAL1` and `PAL2` locations.

Depending on the number of pallets on-hand at each of the storage locations, when two pallets of
lemonade cans is received, the following scenarios happen:

- If `PAL1` and `PAL2` are empty, the pallet is redirected to `WH/Stock/Pallets/PAL1`.
- If `PAL1` is full, the pallet is redirected to `WH/Stock/Pallets/PAL2`.
- If `PAL1` and `PAL2` are full, the pallet is redirected to `WH/Stock/Pallets`.
- If `PAL1` is partially full (for example, with one pallet), Odoo treats more than one received
  pallet as a single pallet on the receipt. You must manually separate the two pallets into separate
  storage locations. Click the :guilabel:`Open Move` icon to the right of the :guilabel:`Units`
  field, and then in the :guilabel:`Open: Stock move` box, click :guilabel:`Add a line`. Finally,
  split the receipt by quantity into separate locations, then click :guilabel:`Save`.

     .. image:: storage_category/package-stock-move.png
        :alt: Update the Stock move box to route pallets to the correct locations before validating.


==================================================
SECTION: third_party_shipper.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/third_party_shipper.rst
==================================================

=============================
Third-party shipping carriers
=============================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |DO| replace:: :abbr:`DO (Delivery Order)`

.. _inventory/shipping/third_party:

Users can link third-party shipping carriers to Odoo databases, in order to verify carriers'
delivery to specific addresses, :doc:`automatically calculate shipping costs
<../setup_configuration>`, and :doc:`generate shipping labels <labels>`.

In Odoo, shipping carriers can be applied to a sales order (SO), invoice, or delivery order. For
tips on resolving common issues when configuring shipping connectors, skip to the
:ref:`Troubleshooting <inventory/shipping_receiving/third-party-troubles>` section.

.. seealso::
   - :doc:`dhl_credentials`
   - :doc:`sendcloud_shipping`
   - :doc:`ups_credentials`

The following is a list of available shipping connectors in Odoo:

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Carrier
     - Region availability
   * - :doc:`DHL Express <dhl_credentials>`
     - All
   * - :doc:`Envia.com <envia_shipping>`
     - All
   * - :doc:`FedEx <fedex>`
     - All
   * - :doc:`UPS <ups_credentials>`
     - All
   * - US Postal Service
     - United States of America
   * - :doc:`Sendcloud <sendcloud_shipping>`
     - Some European countries (see details below)
   * - :doc:`Bpost <bpost>`
     - Belgium
   * - Easypost
     - North America
   * - Shiprocket
     - India
   * - :doc:`Starshipit <starshipit_shipping>`
     - Australia and New Zealand

.. important::
   Other services from DHL are **not** supported.

   Sendcloud currently supports shipping **from** Austria, Belgium, France, Germany, Italy, the
   Netherlands, Spain, and the United Kingdom, and **to** any European country.

Configuration
=============

To ensure proper setup of a third-party shipping carrier with Odoo, follow these steps:

#. :ref:`Install the shipping connector <inventory/shipping_receiving/shipping-connector>`.
#. :ref:`Set up delivery method <inventory/shipping_receiving/configure-delivery-method>`.
#. :ref:`Activate production environment <inventory/shipping_receiving/production-env>`.
#. :ref:`Configure warehouse <inventory/shipping_receiving/configure-source-address>`.
#. :ref:`Specify weight of products <inventory/shipping_receiving/configure-weight>`.

.. _inventory/shipping_receiving/shipping-connector:

Install shipping connector
--------------------------

To install shipping connectors, go to :menuselection:`Inventory app --> Configuration --> Settings`.

Under the :guilabel:`Shipping Connectors` section, tick the third-party shipping carrier's checkbox
to install it. Multiple third-party shipping connectors can be selected at once. Then, click
:guilabel:`Save`.

.. note::
   :doc:`Delivery methods <../setup_configuration>` can also be integrated with operations in the
   *Sales*, *eCommerce*, and *Website* apps. To install, refer to the :ref:`install apps and modules
   <general/install>` documentation.

.. image:: third_party_shipper/shipping-connectors.png
   :align: center
   :alt: Options of available shipping connectors in Odoo.

.. _inventory/shipping_receiving/configure-delivery-method:

Delivery method
---------------

To configure the API credentials, and activate the shipping carrier, begin by going to
:menuselection:`Inventory app --> Configuration --> Shipping Methods`, and select the desired
delivery method.

.. note::
   The list often includes **two** delivery methods from the same :guilabel:`Provider`: one for
   international shipping and one for domestic shipping.

   Additional delivery methods can be created for specific purposes, such as :doc:`packaging
   <../../product_management/configure/packaging>`.

.. seealso::
   :doc:`Configure delivery methods <../setup_configuration>`

.. note::
   Ensure the delivery method is published when it should be available on the *Website* app. To
   publish a delivery method on the website, click the desired delivery method, then click the
   :guilabel:`Unpublished` smart button. Doing so changes that smart button to read:
   :guilabel:`Published`.

.. _inventory/shipping_receiving/shipping-methods-details:

The :guilabel:`Shipping Method` page contains details about the provider, including:

- :guilabel:`Shipping Method` (*Required field*): the name of the delivery method (e.g. `FedEx US`,
  `FedEx EU`, etc.).
- :guilabel:`Website`: configure shipping methods for an *eCommerce* page that is connected to a
  specific website in the database. Select the applicable website from the drop-down menu, or leave
  it blank to apply the method to all web pages.
- :guilabel:`Provider` (*Required field*): choose the third-party delivery service, like FedEx. Upon
  choosing a provider, the :guilabel:`Integration Level`, :guilabel:`Invoicing Policy` and
  :guilabel:`Insurance Percentage` fields become available.
- :guilabel:`Integration Level`: choose :guilabel:`Get Rate` to simply get an :ref:`estimated
  shipment cost <inventory/shipping_receiving/third-party-so>` on an |SO| or invoice.

  .. important::
     Select :guilabel:`Get Rate and Create Shipment` to also :doc:`generate shipping labels
     <labels>`.

- :guilabel:`Company`: if the shipping method should apply to a specific company, select it from the
  drop-down menu. Leave the field blank to apply the method to all companies.
- :guilabel:`Delivery Product` (*Required field*): the delivery charge name that is added to the
  |SO| or invoice.
- :guilabel:`Invoicing Policy`: select and calculate an :guilabel:`Estimated cost` of shipping
  directly from the shipping carrier. If the :guilabel:`Real cost` of shipping is wanted instead,
  refer to :doc:`Invoice real shipping costs <invoicing>` document.
- :guilabel:`Margin on Rate`: specify an additional percentage amount added to the base shipping
  rate to cover extra costs, such as handling fees, packaging materials, exchange rates, etc.
- :guilabel:`Free if order amount is above`: enables free shipping for orders surpassing a specified
  amount entered in the corresponding :guilabel:`Amount` field.
- :guilabel:`Insurance Percentage`: specify a percentage amount of the shipping costs reimbursed to
  the senders if the package is lost or stolen in transit.

.. figure:: third_party_shipper/fedex.png
   :align: center
   :alt: Screenshot of a FedEx shipping method.

   **Shipping Method** configuration page for `FedEx US`.

In the :guilabel:`Configuration` tab, fill out the API credential fields (e.g. API key, password,
account number, etc.). Depending on the third-party shipping carrier chosen in the
:guilabel:`Provider` field, the :guilabel:`Configuration` tab will contain different required
fields. For more details about configuring specific carriers' credentials, refer to the following
documents:

.. seealso::
   - :doc:`DHL credentials <dhl_credentials>`
   - :doc:`Sendcloud credentials <sendcloud_shipping>`
   - :doc:`UPS credentials <ups_credentials>`

.. _inventory/shipping_receiving/production-env:

Production environment
----------------------

With the delivery method details configured, click the :guilabel:`Test Environment` smart button to
set it to :guilabel:`Production Environment`.

.. warning::
   Setting the delivery method to :guilabel:`Production` creates **real** shipping labels, and users
   are at risk of being charged through their carrier account (e.g. UPS, FedEx, etc.) **before**
   users charge customers for shipping. Verify all configurations are correct before launching the
   delivery method to :guilabel:`Production`.

.. image:: third_party_shipper/production.png
   :align: center
   :alt: Show the "Test Environment" smart button.

.. _inventory/shipping_receiving/configure-source-address:

Warehouse configuration
-----------------------

Ensure the warehouse's :guilabel:`Address` (including ZIP code) and :guilabel:`Phone` number are
entered accurately. To do that, go to :menuselection:`Inventory app --> Configuration -->
Warehouses`, and select the desired warehouse.

On the warehouse configuration page, open the warehouse contact page by clicking the
:guilabel:`Company` field.

.. image:: third_party_shipper/internal-link.png
   :align: center
   :alt: Highlight the "Company" field.

Verify that the :guilabel:`Address` and :guilabel:`Phone` number are correct, as they are required
for the shipping connector to work properly.

.. image:: third_party_shipper/company.png
   :align: center
   :alt: Show company address and phone number.

.. _inventory/shipping_receiving/configure-weight:

Product weight
--------------

For the carrier integration to work properly, specify the weight of products by going to
:menuselection:`Inventory app --> Products --> Products`, and selecting the desired product.

Then, switch to the :guilabel:`Inventory` tab, and define the :guilabel:`Weight` of the product in
the :guilabel:`Logistics` section.

.. image:: third_party_shipper/product-weight.png
   :align: center
   :alt: Display the "Weight" field in the Inventory tab of the product form.

.. _inventory/shipping_receiving/apply-third-party-carrier:

Apply third-party shipping carrier
==================================

Shipping carriers can be applied on a :abbr:`SO (Sales Order)`, invoice, or delivery order.

After configuring the third-party carrier's :ref:`delivery method
<inventory/shipping_receiving/configure-delivery-method>` in Odoo, create or navigate to a quotation
by going to :menuselection:`Sales app --> Orders --> Quotations`.

.. _inventory/shipping_receiving/third-party-so:

Sales order
-----------

To assign a third-party shipping carrier, and get an estimated cost of shipping, begin by going to
:menuselection:`Sales app --> Orders --> Quotations`. Create or select an existing quotation, and
add the cost of shipping through a third-party carrier to a quotation, by clicking the
:guilabel:`Add Shipping` button in the bottom-right corner of the :guilabel:`Order Lines` tab.

.. image:: third_party_shipper/add-shipping.png
   :align: center
   :alt: Show the "Add shipping" button at the bottom of a quotation.

In the resulting :guilabel:`Add a shipping method` pop-up window, select the intended carrier from
the :guilabel:`Shipping Method` drop-down menu. The :guilabel:`Cost` field is automatically filled
based on:

- the amount specified in the :guilabel:`Total Order Weight` field (if it is not provided, the sum
  of :ref:`product weights <inventory/shipping_receiving/configure-weight>` in the order is used)
- the distance between the warehouse's :ref:`source address
  <inventory/shipping_receiving/configure-source-address>` and the customer's address.

.. _inventory/shipping_receiving/third-party-rate:

After selecting a third-party provider in the :guilabel:`Shipping Method` field, click
:guilabel:`Get Rate` in the :guilabel:`Add a shipping method` pop-up window to get the estimated
cost through the shipping connector. Then, click the :guilabel:`Add` button to add the delivery
charge to the |SO| or invoice.

.. seealso::
   :doc:`Charge customers for shipping after product delivery <invoicing>`

.. _inventory/shipping_receiving/third-party-do:

Delivery order
--------------

For users making shipments without installing the *Sales* app, assign the shipping carrier to the
delivery order, by first going to the :menuselection:`Inventory` app. Then, from the
:guilabel:`Inventory Overview` dashboard, select the :guilabel:`Delivery Orders` operation type, and
choose the desired delivery order that is not already marked as :guilabel:`Done` or
:guilabel:`Cancelled`.

In the :guilabel:`Additional info` tab, set the :guilabel:`Carrier` field to the desired third-party
shipping carrier. When the delivery method is set to :ref:`production mode
<inventory/shipping_receiving/configure-delivery-method>`, a :guilabel:`Tracking Reference` is
provided.

.. seealso::
   :doc:`Generate shipping labels <labels>`

.. image:: third_party_shipper/delivery-info.png
   :align: center
   :alt: Show the delivery order's "Additional info" tab.

.. _inventory/shipping_receiving/third-party-troubles:

Troubleshooting
===============

Since shipping connectors can sometimes be complex to set up, here are some checks to try when
things are not working as expected:

#. Ensure the :ref:`warehouse information <inventory/shipping_receiving/configure-source-address>`
   (e.g., address and phone number) in Odoo is correct **and** matches the records saved in the
   shipping provider's website.
#. Verify that the :ref:`package type <inventory/warehouses_storage/package-type>` and parameters
   are valid for the shipping carrier. To check, ensure the shipment can be directly created on the
   shipping carrier's website.
#. When encountering a price mismatch between Odoo's estimated cost and the provider's charge, first
   ensure the delivery method is set to :ref:`production environment
   <inventory/shipping_receiving/production-env>`.

   Then, create the shipment in both the carrier's website and Odoo, and verify the prices are the
   same across Odoo, the shipping provider, and in the *debug logs*.

   .. example::
      When checking for a price mismatch in the debug logs, if the request says the package weighs
      six kilograms, but the response from FedEx says the package weights seven kilograms, it
      concludes that the issue is on FedEx's side.

Debug log
---------

Track shipping data inconsistencies by activating debug logging. To do that, go to the delivery
method's configuration page (:menuselection:`Inventory app --> Configuration --> Shipping
Method`), and select the desired shipping method. Click the :guilabel:`No Debugging` smart button to
activate :guilabel:`Debug Requests`.

.. image:: third_party_shipper/no-debug.png
   :align: center
   :alt: Show the "No Debug" smart button.

With :guilabel:`Debug Requests` activated, each time the shipping connector is used to estimate the
cost of shipping, records are saved in the :guilabel:`Logging` report. To access the report, turn on
:ref:`developer mode <developer-mode>`, and go to :menuselection:`Settings app --> Technical -->
Database Structure section --> Logging`.

.. note::
   Logs are created for a shipping method each time the :ref:`Get Rate
   <inventory/shipping_receiving/third-party-rate>` button is clicked on :abbr:`SOs (Sales Orders)`
   and invoices, **and** when a customer adds the shipping carrier to their order through the
   *Website* app.

.. image:: third_party_shipper/log.png
   :align: center
   :alt: Show how to find the "Logging" option from the "Technical" menu.

Click the *HTTP request* line item to open a detailed page, and verify the correct information is
sent from Odoo to the shipping carrier. In the *HTTP response*, verify that the same information is
received.

.. image:: third_party_shipper/logging.png
   :align: center
   :alt: Show debug request history in Settings > Technical > Logging.


==================================================
SECTION: type.rst
PATH: applications/inventory_and_mrp/inventory/product_management/configure/type.rst
==================================================

============
Product type
============

.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`

In Odoo, goods and services are both set up as *products*. When setting up a new product, there are
several fields that should be carefully chosen, as they determine how to invoice and track a
business' goods or services.

To configure an existing product, go to :menuselection:`Inventory app --> Products --> Products`,
and select the desired product from the list. Alternatively, from the :guilabel:`Products` menu,
click :guilabel:`New` to create a new product.

.. seealso::
   `Odoo Tutorials: Product Type <https://www.youtube.com/watch?v=l6j0ZkP5mLM>`_

.. _inventory/product_management/for-sale-or-purchase:

For sale vs. purchase
=====================

Goods and services can be designated as those that can be bought, sold, or both. On the product
form, tick the :guilabel:`Sales` checkbox if a product can be *sold* to a customer (e.g. finished
goods). Tick :guilabel:`Purchase` if the product can be *purchased* (e.g. raw materials).

.. example::
   If a resale clothing shop buys discounted denim jackets and sells them at a higher cost to the
   end consumer, the `Jacket` product form might have *both* the :guilabel:`Sales` and
   :guilabel:`Purchase` checkbox ticked.

   On the other hand, say the store occasionally sews new jackets using denim and thread as
   raw materials. In the `Denim` and `Thread` product forms, only :guilabel:`Purchase` should be
   ticked, whereas the `Handmade Jacket` product form would only tick :guilabel:`Sales`.

Goods vs. services
==================

When configuring a product, a :guilabel:`Product Type` needs to be selected on the
:guilabel:`General Information` tab of a product form. Each product type impacts different
operations in other Odoo applications, such as **Sales** and **Purchase**, and should be chosen
carefully.

- :guilabel:`Goods`: a tangible, material object (e.g. anything from a hamburger to a house)
- :guilabel:`Service`: an intangible, immaterial offering (e.g., a repair, a haircut, call center
  assistance)
- :guilabel:`Combo`: any mix of goods and services (e.g. a new car (*good*) with an oil change
  included (*service*))

.. note::
  Due to their immaterial nature, services are not trackable in Odoo's **Inventory** application.

.. _inventory/product_management/manufacture:

Configure goods
===============

Selecting :guilabel:`Goods` as the :guilabel:`Product Type` automatically triggers the appearance of
a few fields and tabs in the product form:

- :guilabel:`Inventory` tab: From here,
  :doc:`purchasing and manufacturing routes <../../shipping_receiving/daily_operations/use_routes>`
  and product logistics, such as product weight and customer lead time, can be specified.
- :ref:`Invoicing Policy <inventory/product_management/invoicing-policy>` field: This field
  determines at what point in the sales process a customer is invoiced.

  .. important::
     The :guilabel:`Invoicing Policy` field **only** appears if the **Sales** app is installed.

- :ref:`Track Inventory <inventory/product_management/tracking-inventory>` field: This checkbox
  determines whether Odoo tracks inventory for this product.
- Smart buttons: Some smart buttons appear above the form when :guilabel:`Goods` is selected;
  others show upon selecting a :guilabel:`Track Inventory` method. For example,
  :guilabel:`On Hand` and :guilabel:`Forecasted` display when :guilabel:`Track Inventory` is
  ticked. In general, most smart buttons on a product form link to :ref:`inventory operations
  <inventory/product_management/inventory-ops-by-product-type>`.

.. image:: type/product-form.png
   :alt: Designate a product as a good or service.

.. _inventory/product_management/invoicing-policy:

Invoicing policy
----------------

The :guilabel:`Invoicing policy` field only shows on the product form if a product is for sale (in
other words, if :guilabel:`Sales` is ticked, and the **Sales** app is installed).

When configuring a product for sale, it is necessary to choose an
:doc:`invoicing policy <../../../../sales/sales/invoicing/invoicing_policy>`. When an invoicing
policy of :guilabel:`Ordered quantities` is selected, customers are invoiced once the sales order
is confirmed. When :guilabel:`Delivered quantities` is selected, customers are invoiced once the
delivery is completed.

.. _inventory/product_management/tracking-inventory:

Tracked vs. untracked goods
---------------------------

The :guilabel:`Track Inventory` field on the product form determines a lot of Odoo's **Inventory**
operations.

*Tracked* products are those for which stock and inventory are maintained. Examples include finished
goods and, often, the raw materials or components needed to make them.

When :guilabel:`Track Inventory` is ticked, a drop-down menu appears, offering for inventory to be
tracked one of three ways: :guilabel:`By Unique Serial Number`, :guilabel:`By Lots`, or
:guilabel:`By Quantity`.

.. image:: type/tracked.png
   :alt: Configure a tracked good.

*Untracked* products (sometimes referred to as *non-inventory* products) are typically consumed in a
short period of time, meaning that stock/inventory does *not* need to be maintained. Non-inventory
products are often essential, but exact counts are unnecessary. Examples include: office supplies,
packaging materials, or items used in production that do not need to be individually tracked.

.. tip::
   Tick the :guilabel:`Track Inventory` checkbox if it is necessary to track a product's stock at
   various locations, for inventory valuation, with lots and/or serial numbers, or when using
   reordering rules.

.. seealso::
   :doc:`Tracking storable products using lot and serial numbers <../product_tracking>`

.. _inventory/product_management/inventory-ops-by-product-type:

Inventory operations by product type
------------------------------------

:ref:`Whether a good is tracked or untracked <inventory/product_management/tracking-inventory>`
affects common **Inventory** operations, like transfers and reordering rules.

The table below summarizes which operations (and smart buttons) are enabled for tracked vs.
untracked goods. Click highlighted chart items to navigate to detailed sections and related
documents.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * - Inventory operation
     - Tracked
     - Untracked
   * - :ref:`Show on-hand quantity <inventory/product_management/on-hand>`
     - Yes
     - No
   * - :ref:`Show forecasted quantity <inventory/product_management/on-hand>`
     - Yes
     - No
   * - :ref:`Use reordering rules <inventory/product_management/replenishment>`
     - Yes
     - No
   * - :ref:`Can be included in a purchase order <inventory/product_management/po>`
     - Yes
     - Yes
   * - :ref:`Use putaway rules <inventory/product_management/putaway>`
     - Yes
     - No
   * - :ref:`Can be manufactured, subcontracted, or used in another good's BoM
       <inventory/product_management/manufacturing>`
     - Yes
     - Yes
   * - :doc:`Use inventory adjustments <../../warehouses_storage/inventory_management/count_products>`
     - Yes
     - No
   * - :doc:`Use inventory valuation <../../inventory_valuation/cheat_sheet>`
     - Yes
     - No
   * - :ref:`Create transfer <inventory/product_management/transfer-store>`
     - Yes
     - Yes
   * - :doc:`Use lot/serial number tracking <../product_tracking>`
     - Yes
     - No
   * - :doc:`Can be placed in a kit <../../../manufacturing/advanced_configuration/kit_shipping>`
     - Yes
     - Yes
   * - :ref:`Can be placed in a package <inventory/product_management/package>`
     - Yes
     - Yes
   * - :ref:`Appears on inventory reports <inventory/product_management/report>`
     - Yes
     - No

Inventory
~~~~~~~~~

.. _inventory/product_management/on-hand:

On-hand and forecasted quantities
*********************************

A tracked product's on-hand and forecasted quantities, based on incoming and outgoing orders, are
reflected on the product form with two smart buttons:

- :icon:`fa-cubes` :guilabel:`On-Hand Quantity`: This represents the number of units currently
  available in inventory. Click the button to view or add stock levels for a tracked product.
- :icon:`fa-area-chart` :guilabel:`Forecasted`: This represents the number of units *expected* to be
  available in inventory after all orders are taken into account. In other words,
  :math:`\text{forecasted} = \text{on hand quantity} + \text{incoming shipments} - \text{outgoing shipments}`.
  Click the button to view the :guilabel:`Forecasted Report`.

On the other hand, untracked products are regarded as *always* available. Consequently,
:guilabel:`On-Hand Quantity` is not tracked, and there is no :guilabel:`Forecasted` quantity
available.

.. _inventory/product_management/putaway:

Putaway rules and storage
*************************

Both tracked and untracked goods can optimize storage using:

- :icon:`fa-random` :doc:`Putaway Rules <../../shipping_receiving/daily_operations/putaway>`:
  This represents putaway rules that apply to a good, such as where to store it when a new shipment
  arrives.
- :icon:`fa-cubes`
  :doc:`Storage Capacities <../../shipping_receiving/daily_operations/storage_category>`:
  This represents any storage capacity limitations specified for this good. For example, a warehouse
  may require that only ten (or less) sofas be stored there at any given time, due to their large
  size.

.. _inventory/product_management/replenishment:

Replenishment
*************

Reordering rules
^^^^^^^^^^^^^^^^

Only tracked products can trigger
:doc:`reordering rules <../../warehouses_storage/replenishment/reordering_rules>` to generate
purchase orders. Untracked goods *cannot* be managed using reordering rules.

Reordering rules can be configured directly on the product form via the
:icon:`fa-refresh` :guilabel:`(refresh)` icon.

.. note::
   If reordering rules already exist on a product, Odoo re-labels this button to
   :guilabel:`Min / Max`, to show the minimum and maximum number of units that must be in stock.

.. _inventory/product_management/po:

Create purchase orders
^^^^^^^^^^^^^^^^^^^^^^

Both tracked and untracked products can be included in a request for quotation in the **Purchase**
app. However, when receiving untracked products, their on-hand quantity does not change upon
validating the receipt (`WH/IN`).

Replenish smart button
^^^^^^^^^^^^^^^^^^^^^^

The :guilabel:`Replenish` smart button allows all goods to be restocked directly from the product
form, according to the *Preferred Route*.

.. seealso::
   :doc:`Replenishment <../../warehouses_storage/replenishment>`
   `Odoo Tutorials: Replenishment Methods for Manufacturing
   <https://www.youtube.com/watch?v=vtjeMGcG8aM>`_

.. _inventory/product_management/manufacturing:

Manufacturing
~~~~~~~~~~~~~

Both tracked and untracked products can be manufactured,
:doc:`subcontracted <../../../manufacturing/subcontracting>`, or included in another product's
:doc:`bill of materials (BoM) <../../../manufacturing/basic_setup/bill_configuration>`.

.. _inventory/product_management/BoM:

On the product form for a tracked or untracked good, there are several smart buttons that may
appear for manufacturing operations:

- :icon:`fa-flask` :guilabel:`Bill of Materials`: This shows the BoMs used to make this product.
- :icon:`fa-level-up` :guilabel:`Used In`: This shows other goods that include this product in their
  BoM.

.. _inventory/product_management/transfer-store:

Transfer goods
~~~~~~~~~~~~~~

*Transfers* are warehouse operations that involve the movement of goods. Examples of transfers
include :doc:`deliveries and receipts
<../../shipping_receiving/daily_operations/receipts_delivery_one_step>`, as well as
:doc:`internal transfers <../../warehouses_storage/replenishment/resupply_warehouses>` between
warehouses.

When creating a transfer for tracked products in the **Inventory** app, transfers modify the on-hand
quantity at each location. For example, transferring five units from the internal location
`WH/Stock` to `WH/Packing Zone` decreases the recorded quantity at `WH/Stock` and increases it at
`WH/Packing Zone`.

For untracked products, transfers can be created, but exact quantities at each storage location are
not tracked.

.. _inventory/product_management/package:

Packages
~~~~~~~~

Both tracked and untracked (non-inventory), products can be placed in :doc:`packages <package>`.

However, for non-inventory products, the quantity is not tracked, and the product is not listed in
the package's :guilabel:`Contents` (which can be accessed by going to :menuselection:`Inventory app
--> Products --> Packages`, and selecting the desired package).

.. figure:: type/package-content.png
   :alt: Show Packages page, containing the package contents list.

   An untracked product was placed in the package, but the **Content** section does not list it.

Additionally, if the *Move Entire Packages* feature is enabled, moving a package updates the
location of the contained tracked products but not the contained untracked products. To enable this
feature, navigate to :menuselection:`Inventory app --> Configuration --> Operations Types`, select
any operation, and tick the :guilabel:`Move Entire Packages` checkbox.

.. _inventory/product_management/report:

Inventory reports
~~~~~~~~~~~~~~~~~

**Only** tracked products appear on the following reports.

.. important::
   These reports are only available to users with
   :doc:`administrator access <../../../../general/users/access_rights>`.

- :doc:`Stock report <../../warehouses_storage/reporting/stock>`: This report provides a
  comprehensive list of all on-hand, unreserved, incoming, and outgoing tracked inventory. To access
  the report, go to :menuselection:`Inventory app --> Reporting --> Stock`.
- :doc:`Location report  <../../warehouses_storage/reporting/locations>`: This report shows a
  breakdown of which tracked products are held at each location (internal, external, or virtual).
  The report is only available with the *Storage Location* feature activated
  (:menuselection:`Inventory app --> Configuration --> Settings`). To access it, go to
  :menuselection:`Inventory app --> Reporting --> Locations`.
- :doc:`Moves History report <../../warehouses_storage/reporting/moves_history>`: This report
  summarizes where and when this good has moved in/out of stock. To access the report, go to
  :menuselection:`Inventory app --> Reporting --> Moves History`. Alternatively, click the
  :icon:`fa-exchange` :guilabel:`In / Out` smart button on a product form to filter the report
  on that product's specific moves history.
- :guilabel:`Moves Analysis`: This report provides a pivot table view of inventory transfers by
  operation type.
- :ref:`Stock Valuation report <inventory/product_management/valuation-report>`: A
  detailed record of the monetary value of all tracked inventory.



==================================================
SECTION: uom.rst
PATH: applications/inventory_and_mrp/inventory/product_management/configure/uom.rst
==================================================

================
Units of measure
================

.. |UOM| replace:: :abbr:`UoM (Unit of Measure)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |RFQ| replace:: :abbr:`RFQ (Request for Quotation)`
.. |SO| replace:: :abbr:`SO (Sales Order)`

In some cases, handling products in different units of measure is necessary. For example, a business
can buy products from a country that uses the metric system, and then sell those products in a
country that uses the imperial system. In that case, the business needs to convert the units.

Another case for unit conversion is when a business buys products in a big pack from a supplier, and
then sells those products in individual units.

Odoo can be set up to use different *units of measure (UoM)* for one product.

Configuration
=============

To use different units of measure in Odoo, first go to :menuselection:`Inventory app -->
Configuration --> Settings`, and under the :guilabel:`Products` section, activate the
:guilabel:`Units of Measure & Packagings` setting. Then, click :guilabel:`Save`.

.. image:: uom/uom-enable-setting.png
   :alt: Enable Units of Measure & Packagings in the Inventory settings.

Configure units of measure
==========================

To set units of measure on a product, first go to :menuselection:`Inventory app --> Products -->
Products` and select a product to open its product form page.

Inventory unit of measure
-------------------------

The inventory unit of measure specifies how inventory is measured. For example, track inventory of
blue fabric in yards. This unit of measure is also used to track internal transfers.

To specify what unit the product is inventoried in, update the second field of the :guilabel:`Sales
Price` or :guilabel:`Cost` fields.

.. image:: uom/inventory-uom.png
   :alt: Edit the inventory unit of measure in the "Sales Price" or "Cost" fields.

.. important::
   The :guilabel:`Sales Price` and :guilabel:`Cost` units of measure cannot be updated independently
   of each other. When one unit of measure is updated, the other unit of measure automatically
   updates to use the same unit of measure.

Sales unit of measure (packagings)
----------------------------------

Units of measure that the product is sold in are considered packagings. To define these packagings,
open the :guilabel:`Sales` tab of the product, and then in the :guilabel:`Upsell & Cross-Sell`
section, add a packaging to the :guilabel:`Packagings` field. Multiple packagings can be specified
for each product.

.. image:: uom/sales-uom.png
   :alt: Add a packaging to the "Sales" tab of the product.

.. seealso::
   :doc:`Packaging <packaging>`

Purchase unit of measure
------------------------

Units of measure that the product is purchased in are defined in the :guilabel:`Purchase` tab of the
product. Purchase orders can be created in these units of measure after they are defined in the
vendor price list. Purchase units of measure must be in the same category as the default unit of
measure.

.. image:: uom/purchase-uom.png
   :alt: Specify a purchase unit of measure in the "Purchase" tab.

.. _inventory/product_replenishment/unit-conversion:

Unit conversion
===============

Odoo automatically converts unit measurements when products have different :abbr:`UoMs (Units of
Measure)` and purchase :abbr:`UoMs (Units of Measure)`.

This occurs in various scenarios, including:

#. :ref:`Vendor orders <inventory/product_replenishment/buy-in-uom>`: purchase |UOM| on purchase
   orders (POs) converts to |UOM| on internal warehouse documents
#. :ref:`Automatic replenishment <inventory/product_replenishment/replenish>`: generates |POs| when
   the stock levels of a product (tracked in |UOM|) dips below a certain level. But, the |POs| are
   created using the purchase |UOM|
#. :ref:`Sell products <inventory/product_replenishment/sell-in-uom>`: if a different |UOM| is used
   on the sales order (SO), the quantity is converted to the warehouse's preferred |UOM| on the
   delivery order

.. _inventory/product_replenishment/buy-in-uom:

Buy products in the purchase UoM
--------------------------------

When creating a new request for quotation (RFQ) in the *Purchase* app, Odoo pulls the unit that the
vendor prefers to use, defined in the :guilabel:`Unit` field of the vendor line in the
:guilabel:`Purchase` tab of the product. The unit the vendor prefers **can** be different from the
unit your company prefers to use. If needed, manually edit the :guilabel:`Unit` value on the |RFQ|.

After the |RFQ| is confirmed into a |PO|, click the :guilabel:`Receipt` smart button at the top of
the |PO|.

Odoo automatically converts the purchase unit of measure into the product's sales/inventory unit of
measure, so the :guilabel:`Demand` column of the delivery receipt shows the converted quantity.

.. example::
   When the product's purchase :guilabel:`Unit` is `m` (meters), and its inventory unit of measure
   is `yard`, the |PO| shows the quantity in meters, and the receipt (and other internal warehouse
   documents) shows the quantity in yards.

   .. figure:: uom/on-po.png
      :alt: Image of a purchase order that is using the purchase unit of measure.

      An order of 10 quantities is placed using the purchase "Unit": `m`.

   .. figure:: uom/on-receipt.png
      :alt: Image of receipt displaying the unit of measure.

      Upon warehouse receipt, the recorded quantities are in the internal "Unit": `yards`.

.. _inventory/product_replenishment/replenish:

Replenishment
-------------

A request for quotation for a product can also be generated directly from the product's
:guilabel:`Forecasted Report` using the :guilabel:`Replenish` button. To open the Forecasted Report,
click the :guilabel:`Forecasted` smart button on the product form.

After clicking :guilabel:`Replenish`, a :guilabel:`Product Replenish` box pops up. The purchase unit
of measure can be manually edited in the :guilabel:`Quantity` field, if needed. Then, click
:guilabel:`Confirm` to create the |RFQ|.

.. important::
   A |PO| can **only** be automatically generated if at least **one** vendor is listed in the
   product form's :guilabel:`Purchase` tab.

.. image:: uom/replenish.png
   :alt: Click the Confirm button to manually replenish.

Navigate to the created |PO| by scrolling down to the :guilabel:`Forecasted Inventory` section, and
in the :guilabel:`Requests for quotation` line, click the |RFQ| reference number to open the draft
|RFQ|. If necessary, the purchase |UOM| can be edited directly on the |PO|.

.. _inventory/product_replenishment/sell-in-uom:

Sell in a different UoM
-----------------------

When creating a new quotation in the *Sales* app, Odoo automatically uses the product's specified
unit of measure. If needed, the :guilabel:`Unit` can be manually edited on the quotation.

After the quotation is sent to the customer, and confirmed into a sales order (SO), click the
:guilabel:`Delivery` smart button at the top of the |SO|. Odoo automatically converts the unit of
measure into the product's inventory unit of measure, so the :guilabel:`Demand` column of the
delivery shows the converted quantity.

.. example::
   When the product's sales :guilabel:`Unit` is `m` (meters), and its inventory unit of measure is
   `yard`, the |SO| shows the quantity in meters, and the delivery (and other internal warehouse
   documents) shows the quantity in yards.

   .. figure:: uom/on-so.png
      :alt: Sales order that is using the sales unit of measure.

      An order of 5 quantities is placed using the sales "Unit": `m`.

   .. figure:: uom/on-delivery.png
      :alt: Delivery displaying the inventory unit of measure.

      Upon warehouse delivery, the recorded quantities are in the internal "Unit": `yards`.

Create custom units of measure
==============================

Create custom units of measure by going to :menuselection:`Inventory app --> Configuration --> Units
& Packagings`. Each unit of measure can also use a reference unit to convert between different units
of measure.

To create a new unit, click the :guilabel:`New` button. Specify a unit name. If you want to convert
between units, specify a quantity and a reference unit of measure to convert between. If applicable,
enter a :guilabel:`UNSPSC Category`, which is a globally recognized `code managed by GS1
<https://www.unspsc.org/>`_, that **must** be purchased in order to use.

.. example::
   You will be purchasing fabric in terms of yards or meters. Specify that one yard is equal to
   `0.9144` of its reference unit, `m`, in the :guilabel:`Quantity` field.

   .. figure:: uom/custom-uom.png
      :alt: Specify a reference unit in the "Quantity" field.


==================================================
SECTION: ups_credentials.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/ups_credentials.rst
==================================================

===============
UPS integration
===============

UPS is a shipping carrier service that integrates with Odoo to coordinate shipping to all regions.
Once integrated, users can create shipping methods that estimate shipping costs and :doc:`generate
labels <labels>`.

.. seealso::
   :doc:`third_party_shipper`

To set up the UPS shipping connector in Odoo, complete these steps:

#. Create a UPS account to get :ref:`account number
   <inventory/shipping_receiving/ups-account-number>`
#. Create UPS developer account to get :ref:`client credentials
   <inventory/shipping_receiving/ups-client-id>`
#. Set up shipping method in Odoo

.. warning::
   When configuring a shipping method to use UPS, make sure the :guilabel:`Provider` is set to
   :guilabel:`UPS`, **NOT** :guilabel:`UPS Legacy`.

   If shipping methods currently exist with the :guilabel:`Provider` set to :guilabel:`UPS Legacy`,
   archive them, and create new shipping methods using :guilabel:`UPS`, instead.

UPS account setup
=================

To get started, go to the `UPS website <https://www.ups.com>`_ and click the :guilabel:`Log In`
button in the top-right corner to log in or create a UPS account.

After logging in, click the profile icon in the top-right corner, and select :guilabel:`Accounts and
Payment` from the drop-down menu.

.. image:: ups_credentials/accounts-payment.png
   :align: center
   :alt: Show how to navigate to the "Accounts and Payment" page from the home screen.

On the :guilabel:`Accounts and Payment Options` page, two accounts must be configured: an Odoo
shipment account and a payment card.

Shipping account
----------------

To add an Odoo shipment account, select :guilabel:`Add New Account` from the :guilabel:`Add a
Payment Method` drop-down menu, and click :guilabel:`Add`.

.. image:: ups_credentials/new-account.png
   :align: center
   :alt: Display "Add an account" option from the drop-down menu.

On the next screen, labeled :guilabel:`Open a Shipping Account`, complete the forms to configure the
shipping account type (e.g. :guilabel:`Business`) and if any regulated items will be shipped. Then
finish the remaining three steps in the wizard to :guilabel:`Add Addresses`, :guilabel:`Verify
Identity`, and :guilabel:`Explore Discounts`, with the last option being optional.

When complete, submit the application on the last page of the wizard to finish setting up the
shipping account.

.. image:: ups_credentials/shipping-account.png
   :align: center
   :alt: Display UPS form to fill out company shipping information.

.. _inventory/shipping_receiving/ups-account-number:

Get account number
------------------

With the shipping account set up, the UPS :guilabel:`Account Number` becomes available. To access
it, navigate to :menuselection:`Profile --> Accounts and Payment` and refer to the shipping
account's :guilabel:`Number` field.

.. image:: ups_credentials/account-number.png
   :align: center
   :alt: Show Account "Number" field for the shipping account.

Payment card
------------

Navigate back to the :guilabel:`Accounts and Payments` page and select the :guilabel:`Add Payment
Card` option from the :guilabel:`Add a Payment Method` drop-down menu. Then, complete the form to
add the credit card information.

.. image:: ups_credentials/payment-card.png
   :align: center
   :alt: Show "Add Payment Card" option from the drop-down.

UPS developer account setup
===========================

Next, log into the `UPS developer account <http://developer.ups.com/>`_ to generate the developer
key. To begin, click the profile icon in the top-right corner, and choose the :guilabel:`Apps`
option from the drop-down menu.

.. image:: ups_credentials/apps.png
   :align: center
   :alt: Display the "Apps" drop-down option after clicking the profile picture icon.

Add app
-------

Then, click the :guilabel:`Add Apps` button to begin filling out the form. In the :guilabel:`I need
API credentials because \*` field, select :guilabel:`I want to integrate UPS technology into my
business`.

Under the next label, :guilabel:`Choose an account to associate with these credentials. \*`, select
:guilabel:`Add existing account` from the drop-down menu in the corresponding field, and then select
the :ref:`account number <inventory/shipping_receiving/ups-account-number>` linked to the UPS
account created in the previous step.

.. image:: ups_credentials/developer-account-setup.png
   :align: center
   :alt: Show form to fill in the UPS account number.

Click :guilabel:`Next`, and proceed to the :guilabel:`Add App` form, and fill out the fields:

- :guilabel:`App Name`: Type the name to identify the app by.
- :guilabel:`Callback URL`: Type the URL of the Odoo database, in the format:
  `https://databaseName.odoo.com`. Do **not** include `www` in the URL.

In the :guilabel:`Add Products` section on the right, search for and click the :guilabel:`+ (plus)`
icon to add the following products to the app:

- :guilabel:`Authorization (O Auth)`: Used to generate the authorization token to request
  information from the UPS API.
- :guilabel:`Address Validation`: Validates addresses at the street level in the United States and
  Puerto Rico.
- :guilabel:`Locator`: Enables search for UPS shipping locations based on type and available
  services.
- :guilabel:`Paperless Documents`: Enables the upload of document images to link to shipments.
- :guilabel:`Shipping`: Enables UPS shipping services, such as preparing packages for shipment,
  managing returns, and cancelling scheduled shipments.
- :guilabel:`Rating`: Compare delivery services and shipping rates.

Finally, click :guilabel:`Save` and accept UPS's terms and conditions.

.. seealso::
   `UPS API Catalog <https://developer.ups.com/catalog?loc=en_US>`_

.. image:: ups_credentials/add-app-development.png
   :align: center
   :alt: Show "Add Apps" form, where the app details are configured.

.. _inventory/shipping_receiving/ups-client-id:

Client ID and Client Secret
---------------------------

With the new app created, in the :menuselection:`Profile --> My Apps --> App` page, select the app
from the :guilabel:`Credentials` section to view the UPS credentials.

.. image:: ups_credentials/my-apps.png
   :align: center
   :alt: Show newly created app in the "My Apps" section.

In the :guilabel:`Credentials` section, copy the :guilabel:`Client ID` and :guilabel:`Client Secret`
key.

.. image:: ups_credentials/credentials.png
   :align: center
   :alt: Display the "Client ID" and "Client Secret" key.

Setup in Odoo
=============

With the credentials obtained, configure the UPS shipping method in Odoo by going to
:menuselection:`Inventory app --> Configuration --> Shipping Methods`.

On the :guilabel:`Shipping Methods` page, click the :guilabel:`New` button.

.. note::
   For existing UPS shipping methods whose :guilabel:`Provider` is :guilabel:`UPS Legacy`, archive
   it and create a new shipping method using :guilabel:`UPS`.

In the :guilabel:`Provider` field, select :guilabel:`UPS`. Doing so reveals the :guilabel:`UPS
Configuration` tab, where various fields must be entered. For details instructions on configuring
the other fields on the shipping method, refer to the :doc:`Configure third-party carrier
<third_party_shipper>` documentation.

In the :guilabel:`UPS Configuration` tab, complete the following fields:

- :guilabel:`UPS Account Number`: (*required*) Get the :ref:`account number
  <inventory/shipping_receiving/ups-account-number>` from the UPS portal.
- :guilabel:`UPS Client ID`: (*required*) Get the :ref:`Client ID
  <inventory/shipping_receiving/ups-client-id>` from the UPS developer website.
- :guilabel:`UPS Client Secret`: (*required*) Get the :ref:`Client Secret
  <inventory/shipping_receiving/ups-client-id>` key from the UPS developer website.
- :guilabel:`UPS Service Type`: Select from the drop-down menu the type of shipping service.
- :guilabel:`UPS Package Type`: (*required*) Select from the drop-down menu the :doc:`package type
  <../../product_management/configure/package>` that is supported for the shipping service.
- :guilabel:`Package Weight Unit`: The unit of measure for the package weight.
- :guilabel:`Package Size Unit`: The unit of measure for the package dimensions.
- :guilabel:`Label Format`: Choose the label format shipping labels: :guilabel:`PDF`,
  :guilabel:`ZPL`, :guilabel:`EPL`, or :guilabel:`SPL`.

.. image:: ups_credentials/ups-configuration.png
   :align: center
   :alt: Show the "UPS Configuration" tab on the Shipping Methods form.

In the :guilabel:`Options` section, the following features are available:

- :guilabel:`Bill My Account`: Charge the user's UPS account for shipping in the *eCommerce* app.
- :guilabel:`Collect on Delivery`: Collect payment from customers for shipping after the shipment is
  delivered.
- :guilabel:`Generate Return Label`: Print the return label for the order after the delivery order
  is validated.
- :guilabel:`Duties paid by`: Select whether duties or other fees are charged to the
  :guilabel:`Sender` or :guilabel:`Recipient` of the order.


==================================================
SECTION: use_locations.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/use_locations.rst
==================================================

=========
Locations
=========

A *location* is a specific space within a warehouse. This can be a shelf, room, aisle, etc.

Configuration
=============

To create specific storage locations, enable the *Storage Locations* feature by going to
:menuselection:`Inventory app --> Configuration --> Settings`. In the :guilabel:`Warehouses`
section, tick the :guilabel:`Storage Locations` checkbox. Then, click :guilabel:`Save`.

.. note::
   Typically, the :guilabel:`Storage Locations` feature is used with :doc:`Multi-Step Routes
   <../../shipping_receiving/daily_operations/use_routes>`, which controls how products move between
   locations.

.. image:: use_locations/enable-location.png
   :alt: Show Storage Locations feature.

Create new location
===================

After enabling *Storage Locations*, go to :menuselection:`Inventory app --> Configuration -->
Locations`.

.. image:: use_locations/locations.png
   :alt: List of internal locations.

On this page, click :guilabel:`New`. The new location form can then be configured as follows:

- :guilabel:`Location Name`: recognizable name of the location.
- :guilabel:`Parent Location`: the location within which the new location exists. After the location
  is created, it is listed on the :guilabel:`Locations` page using a *location hierarchy*, to
  describe how a specific location fits within larger areas of the warehouse.

  .. example::
    In `WH/Stock/Zone A/Refrigerator 1`, `Refrigerator 1` is the location name, `Zone A` is the
    parent location, and everything before it is the path showing where this spot is within the
    warehouse.

Additional Information section
------------------------------

In addition to the required fields above, configure the following location fields to ensure the
location serves its intended purpose in the database:

- :guilabel:`Location Type`: from the drop-down menu, choose :guilabel:`Vendor`,
  :guilabel:`Virtual`, :guilabel:`Internal`, :guilabel:`Customer`, :guilabel:`Inventory Loss`,
  :guilabel:`Production`, or :guilabel:`Transit` to categorize the location. For details on each
  location type, refer to the :ref:`Location Types section
  <inventory/warehouses_storage/location-type>`.
- :guilabel:`Storage Category`: only available with the :doc:`Storage Categories
  <../../shipping_receiving/daily_operations/storage_category>` feature enabled in
  :menuselection:`Inventory app --> Configuration --> Settings`.
- :guilabel:`Company`: the company the location belongs to.
- :guilabel:`Barcode`: used with the *Barcode* app, enter the barcode to :ref:`identify actions
  <barcode/setup/location>` at this location when scanned.
- :guilabel:`Replenishments`: used for :doc:`configuring routes
  <../../shipping_receiving/daily_operations/use_routes>`, tick this checkbox to set the location as
  a destination for receiving products from *Buy*, *Manufacture*, or other procurement routes,
  ensuring products are correctly supplied to the warehouse.

.. image:: use_locations/new-location.png
   :alt: Additional Information section of new location creation form.

In the :guilabel:`Cyclic Counting` section, change the value in the :guilabel:`Inventory Frequency`
field from the default `0`, if necessary.

.. image:: use_locations/use-locations-cyclic-counting.png
   :alt: Cyclic Counting section of new location creation form.

When different than `0`, the inventory count dates for products stored at this location are
automatically set at the defined frequency.

In the :guilabel:`Logistics` section, in the :guilabel:`Removal Strategy` field, click the drop-down
menu and select the :doc:`removal strategy <../../shipping_receiving/removal_strategies>` for how
items should be removed from this location.

.. _inventory/location-hierarchy:

Cyclic Counting section
-----------------------

To schedule regular inventory counts at this location, set the :guilabel:`Inventory Frequency` field
to the desired interval. By default, it is set to `0` (no scheduled counts).

For example, setting this field to `30` schedules a count every thirty days. For more specifics on
setting up and using this feature, refer to the :doc:`Cycle Counts documentation <cycle_counts>`.

The :guilabel:`Last Inventory` field displays the date the last inventory count at this location
occurred. When scheduled inventory counts are enabled, the :guilabel:`Next Expected` field displays
the date of the next inventory count.

.. example::
   With inventory counts scheduled to occur every `30` days, and the :guilabel:`Last Inventory`
   count occurring on November 13, the :guilabel:`Next Expected` is December 13.

   .. image:: use_locations/scheduled-count.png
      :alt: Show Cyclic Count section of the locations form.

Logistics section
-----------------

In the :guilabel:`Logistics` section of the locations form, optionally select a :guilabel:`Removal
Strategy` to determine the order and priority of how products are picked from inventory. The options
are: :guilabel:`First In First Out (FIFO)`, :guilabel:`Last In First Out (LIFO)`, :guilabel:`Closest
Location`, :guilabel:`Least Packages`, and :guilabel:`First Expiry First Out (FEFO)`.

.. seealso::
   :doc:`../../shipping_receiving/removal_strategies`

Current stock at location
=========================

To view the current stock at a single location, go to :menuselection:`Inventory app -->
Configuration --> Locations`, and select the desired location.

Next, click the :guilabel:`Products` smart button to get a list of all products at the location.

.. example::
   A list of current stock at `Shelf 2` consists of `90` cable management boxes.

   .. image:: use_locations/products.png
      :alt: Show stock at Shelf 1.


==================================================
SECTION: use_routes.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/daily_operations/use_routes.rst
==================================================

==========================
Routes and push/pull rules
==========================

*Routes* in Odoo control the movement of products between different locations, whether internal or
external, using push and pull rules. Once set up, these rules help automate the logistics of product
movement based on specific conditions.

.. seealso::
   - `Odoo Tutorials: Routes <https://www.youtube.com/watch?v=qkhDUezyZuc>`_
   - :doc:`Standard routes in Odoo <../daily_operations>`

.. note::
   Routes are applicable on products, product categories, shipping methods, and on the sales order
   line.

About routes and terminology
============================

In a generic warehouse, there are receiving docks, a quality control area, storage locations,
picking and packing areas, and shipping docks. All products go through all these locations. As the
products move through the locations, each location triggers the products' specified route and
rules.

.. image:: use_routes/stock-example.png
   :align: center
   :alt: View of a generic warehouse with stock and quality control area.

In this example, vendor trucks unload pallets of ordered products at the receiving docks. Operators
then scan the products in the receiving area. Depending on the product's route and rules, some of
these products are sent to a quality control area (for example, products that are components used
in the manufacturing process), while others are directly stored in their respective locations.

.. image:: use_routes/push-to-rule-example.png
   :align: center
   :alt: View of a generic push to rule when receiving products.

Here is an example of a fulfillment route. In the morning, items are picked for all the orders that
need to be prepared during the day. These items are picked from storage locations and moved to the
picking area, close to where the orders are packed. Then, the orders are packed in their respective
boxes, and conveyor belts bring them to the shipping docks, ready to be delivered to customers.

.. image:: use_routes/pull-from-rule-example.png
   :align: center
   :alt: View of a generic pull from rule when preparing deliveries.

Push rules
----------

Push rules are used to *supply products into a storage locations* as soon as they arrive at a
specific receiving location.

.. note::
   Push rules can only be triggered if there are no pull rules that have already generated the
   product transfers.

In a :doc:`one-step receipt route <receipts_delivery_one_step>`, which uses one push rule, when a
product arrives in the warehouse, a push rule can automatically transfer it to the *Storage
Location*. Different push rules can be applied to different products, allowing for customized
storage locations.

.. figure:: use_routes/push-rule.png
   :align: center
   :alt: Rule for a Receive in one step route.

   Push rule for the 'Receive in one step' route.

For more information about configuring rules, skip to the :ref:`Configure rules section
<inventory/shipping_receiving/configure-rules>`.

Pull rules
----------

Pull rules trigger product moves on demand, such as a sales order or a :doc:`need to restock
<../../warehouses_storage/replenishment/reordering_rules>`.

Pull rules work backward from the demand location. For example, in a :ref:`two-step delivery
<inventory/shipping_receiving/two-step-delivery>` route, where items move from *Stock* to *Output*
before being delivered to the *Customer Location*, the pull rule first creates a transfer from
*Output* to the customer. If the product is not at *Output*, another pull rule creates a transfer
from *Stock* to *Output*. The warehouse workers then process these transfers in the reverse order:
picking, then shipping.

.. figure:: use_routes/pull-rule.png
   :align: center
   :alt: Example pull rule.

   Pull rules for the 'Deliver in two steps' route.

For more information about configuring rules, skip to the :ref:`Configure rules section
<inventory/shipping_receiving/configure-rules>`.

.. _use-routes/routes-rules:

Configuration
=============

Since *Routes* are a collection of *Push and Pull Rules*, Odoo helps you manage advanced route
configurations such as:

- Manage product manufacturing chains.
- Manage default locations per product.
- Define routes within the stock warehouse according to business needs, such as quality control,
  after-sales services, or supplier returns.
- Help rental management by generating automated return moves for rented products.

To configure a route for a product, first, open the :guilabel:`Inventory` application and go to
:menuselection:`Configuration --> Settings`. Then, in the :guilabel:`Warehouse` section, enable the
:guilabel:`Multi-Step Routes` feature and click :guilabel:`Save`.

.. image:: use_routes/multi-steps-routes-feature.png
   :align: center
   :alt: Activate the Multi-Step Routes feature in Odoo Inventory.

.. note::
   The :guilabel:`Storage Locations` feature is automatically activated with the
   :guilabel:`Multi-Step Routes` feature.

Once this first step is completed, the user can use pre-configured routes that come with Odoo, or
they can create custom routes.

Pre-configured routes
---------------------

To access Odoo's pre-configured routes, go to :menuselection:`Inventory --> Configuration -->
Warehouses`. Then, open a warehouse form. In the :guilabel:`Warehouse Configuration` tab, the user
can view the warehouse's pre-configured routes for :guilabel:`Incoming Shipments` and
:guilabel:`Outgoing Shipments`.

.. image:: use_routes/example-preconfigured-warehouse.png
   :align: center
   :alt: A pre-configured warehouse in Odoo Inventory.

Some more advanced routes, such as pick-pack-ship, are also available. The user can select the
route that best fits their business needs. Once the :guilabel:`Incoming Shipments` and
:guilabel:`Outgoing Shipments` routes are set, head to :menuselection:`Inventory --> Configuration
--> Routes` to see the specific routes that Odoo generated.

.. image:: use_routes/preconfigured-routes.png
   :align: center
   :alt: View of all the preconfigured routes Odoo offers.

On the :guilabel:`Routes` page, click on a route to open the route form. In the route form, the
user can view which places the route is :guilabel:`Applicable On`. The user can also set the route
to only apply on a specific :guilabel:`Company`. This is useful for multi-company environments; for
example, a user can have a company and warehouse in Country A and a second company and warehouse in
Country B.

.. image:: use_routes/routes-example.png
   :align: center
   :alt: View of a route example applicable on product categories and warehouses.

At the bottom of the route form, the user can view the specific :guilabel:`Rules` for the route.
Each :guilabel:`Rule` has an :guilabel:`Action`, a :guilabel:`Source Location`, and a
:guilabel:`Destination Location`.

.. image:: use_routes/rules-example.png
   :align: center
   :alt: An example of rules with push & pull actions in Odoo Inventory.

Custom Routes
-------------

To create a custom route, go to :menuselection:`Inventory --> Configuration --> Routes`, and click
on :guilabel:`Create`. Next, choose the places where this route can be selected. A route can be
applicable on a combination of places.

.. image:: use_routes/advanced-custom-route.png
   :align: center
   :alt: View of a pick-pack-ship route.

Each place has a different behavior, so it is important to tick only the useful ones and adapt each
route accordingly. Then, configure the :guilabel:`Rules` of the route.

If the route is applicable on a product category, the route still needs to be manually set on the
product category form by going to :menuselection:`Inventory --> Configuration --> Product
Categories`. Then, select the product category and open the form. Next, click :guilabel:`Edit` and
under the :guilabel:`Logistics` section, set the :guilabel:`Routes`.

When applying the route on a product category, all the rules configured in the route are applied to
**every** product in the category. This can be helpful if the business uses the dropshipping
process for all the products from the same category.

.. image:: use_routes/routes-logistic-section.png
   :align: center
   :alt: View of a route applied to the "all" product category.

The same behavior applies to the warehouses. If the route can apply to :guilabel:`Warehouses`, all
the transfers occurring inside the chosen warehouse that meet the conditions of the route's rules
will then follow that route.

.. image:: use_routes/applicable-on-warehouse.png
   :align: center
   :alt: View of the warehouse drop-down menu when selecting applicable on warehouse.

If the route is applicable on :guilabel:`Sales Order Lines`, it is more or less the opposite. The
route must be manually chosen when creating a quotation. This is useful if some products go through
different routes.

Remember to toggle the visibility of the :guilabel:`Route` column on the quotation/sales order.
Then, the route can be chosen on each line of the quotation/sales order.

.. image:: use_routes/add-routes-to-sales-lines.png
   :align: center
   :alt: View of the menu allowing to add new lines to sales orders.

Finally, there are routes that can be applied to products. Those work more or less like the product
categories: once selected, the route must be manually set on the product form.

To set a route on a product, go to :menuselection:`Inventory --> Products --> Products` and select
the desired product. Then, go to the :guilabel:`Inventory` tab and under the :guilabel:`Operations`
section, select the :guilabel:`Routes`.

.. image:: use_routes/on-product-route.png
   :align: center
   :alt: View of a product form, where the route must be selected.

.. important::
   Rules must be set on the route in order for the route to work.

.. _inventory/shipping_receiving/configure-rules:

Rules
~~~~~

The rules are defined on the route form. First, go to :menuselection:`Inventory --> Configuration
--> Routes` and open the desired route form. Next, click :guilabel:`Edit` and in the
:guilabel:`Rules` section, click on :guilabel:`Add a line`.

.. image:: use_routes/add-new-rules.png
   :align: center
   :alt: View of the rules menu, where it is possible to add new rules.

The available rules trigger various actions. If Odoo offers *Push* and *Pull* rules, others are
also available. Each rule has an :guilabel:`Action`:

- :guilabel:`Pull From`: this rule is triggered by a need for the product in a specific location.
  The need can come from a sales order being validated or from a manufacturing order requiring a
  specific component. When the need appears in the destination location, Odoo generates a picking to
  fulfill this need.
- :guilabel:`Push To`: this rule is triggered by the arrival of some products in the defined source
  location. In the case of the user moving products to the source location, Odoo generates a picking
  to move those products to the destination location.
- :guilabel:`Pull & Push`: this rule allows the generation of pickings in the two situations
  explained above. This means that when products are required at a specific location, a transfer is
  created from the previous location to fulfill that need. This creates a need in the previous
  location and a rule is triggered to fulfill it. Once the second need is fulfilled, the products
  are pushed to the destination location and all the needs are fulfilled.
- :guilabel:`Buy`: when products are needed at the destination location, a request for quotation is
  created to fulfill the need.
- :guilabel:`Manufacture`: when products are needed in the source location, a manufacturing order
  is created to fulfill the need.

.. image:: use_routes/pull-from-rule-stock-to-packing.png
   :align: center
   :alt: Overview of a "Pull From" rule that creates a transfer between the stock and the packing
         zone.

The :guilabel:`Operation Type` must also be defined on the rule. This defines which kind of picking
is created from the rule.

If the rule's :guilabel:`Action` is set to :guilabel:`Pull From` or :guilabel:`Pull & Push`, a
:guilabel:`Supply Method` must be set. The :guilabel:`Supply Method` defines what happens at the
source location:

- :guilabel:`Take From Stock`: the products are taken from the available stock of the source
  location.
- :guilabel:`Trigger Another Rule`: the system tries to find a stock rule to bring the products to
  the source location. The available stock is ignored.
- :guilabel:`Take From Stock, if Unavailable, Trigger Another Rule`: the products are taken from
  the available stock of the source location. If there is no stock available, the system tries to
  find a rule to bring the products to the source location.

Example flow
============

In this example, let's use a custom *Pick - Pack - Ship* route to try a full flow with an advanced
custom route.

First, a quick look at the route's rules and their supply methods. There are three rules, all
:guilabel:`Pull From` rules. The :guilabel:`Supply Methods` for each rule are the following:

- :guilabel:`Take From Stock`: When products are needed in the :guilabel:`WH/Packing Zone`, *picks*
  (internal transfers from :guilabel:`WH/Stock` to :guilabel:`WH/Packing Zone`) are created from
  :guilabel:`WH/Stock` to fulfill the need.
- :guilabel:`Trigger Another Rule`: When products are needed in :guilabel:`WH/Output`, *packs*
  (internal transfers from :guilabel:`WH/Packing Zone` to :guilabel:`WH/Output`) are created from
  :guilabel:`WH/Packing Zone` to fulfill the need.
- :guilabel:`Trigger Another Rule`: When products are needed in :guilabel:`Partner
  Locations/Customers`, *delivery orders* are created from :guilabel:`WH/Output` to fulfill the
  need.

.. image:: use_routes/transfers-overview.png
   :align: center
   :alt: Overview of all the transfers created by the pick - pack - ship route.

This means that, when a customer orders products that have a *pick - pack - ship* route set on it,
a delivery order is created to fulfill the order.

.. image:: use_routes/operations-on-transfers.png
   :align: center
   :alt: View of the operations created by a pull from transfer.

.. note::
   If the source document for multiple tranfers is the same sales order, the status is not the same.
   The status will be :guilabel:`Waiting Another Operation` if the previous transfer in the list is
   not done yet.

.. image:: use_routes/waiting-status.png
   :align: center
   :alt: View of the transfers' various statuses at the beginning of the process.

To prepare the delivery order, packed products are needed at the output area, so an internal
transfer is requested from the packing zone.

.. image:: use_routes/detailed-operations-2.png
   :align: center
   :alt: View of the detailed operations for a transfer between the packing and output zones.

Obviously, the packing zone needs products ready to be packed. So, an internal transfer is
requested to the stock and employees can gather the required products from the warehouse.

.. image:: use_routes/detailed-operations-transfer.png
   :align: center
   :alt: View of the detailed operations for a transfer between the stock and packing zones.

As explained in the introduction of the documentation, the last step in the process (for this
route, the delivery order) is the first to be triggered, which then triggers other rules until we
reach the first step in the process (here, the internal transfer from the stock to the packing
area). Now, everything is ready to be processed so the customer can get the ordered items.

In this example, the product is delivered to the customer when all the rules have been triggered and
the transfers are done.

.. image:: use_routes/transfers-status.png
   :align: center
   :alt: View of the transfers' statuses when the route is completed.


==================================================
SECTION: valuation_by_lots.rst
PATH: applications/inventory_and_mrp/inventory/inventory_valuation/valuation_by_lots.rst
==================================================

================================
Valuation by lots/serial numbers
================================

Track :doc:`inventory valuation <cheat_sheet>` by :doc:`lots or serial numbers
<../product_management/product_tracking>` to:

#. :ref:`Compare and differentiate purchasing cost <inventory/product_management/view-valuation>`,
   based on lot or serial numbers.
#. Track the actual cost of manufactured products, based on the real cost of each tracked component
   used.
#. Depreciate specific lot or serial numbers when they sit in stock for too long.

.. important::
   Please read this :doc:`introduction to inventory valuation <cheat_sheet>` before setting up
   valuation by lot/serial numbers.

Configuration
=============

To enable valuation by lots or serial numbers, begin by enabling the :ref:`Lots and Serial Numbers
feature <inventory/product_management/enable-lot-serial>`. After that, go to
:menuselection:`Inventory app --> Products --> Products`, and select the desired product, or create
a new product, by clicking :guilabel:`New`.

On the product form, in the :guilabel:`Category` field, choose a product category. Ensure the
product category's :guilabel:`Costing Method` is set to *First In First Out (FIFO)* or
*Average Cost (AVCO)*.

.. tip::
   To check the costing method set on the product category, hover over the :guilabel:`Category`
   field, and click the :icon:`oi-arrow-right` :guilabel:`(Internal Link)` icon.

Next, activate the product to be tracked by lots or serial numbers by ticking the :guilabel:`Track
Inventory` checkbox. Then, click the adjacent field that appears, and choose either :guilabel:`By
Lots` or :guilabel:`By Unique Serial Number` from the resulting drop-down menu.

Doing so makes the :guilabel:`Valuation by Lot/Serial number` checkbox appear below it. Tick that
checkbox, and the configuration to track valuation by lot or serial numbers is complete.

.. figure:: valuation_by_lots/product-form.png
   :alt: Product form showing the Valuation by Lot or Serial Number feature.

   Product form showing the Valuation by Lot or Serial Number feature

Valuation layers
================

To understand how valuation by lots and serial numbers works, consider these scenarios:

#. :ref:`Purchase and sell products <inventory/product_management/valuation-cost-example>`: cost is
   calculated based on the *product category's* costing method.
#. :ref:`Create new lot/serial numbers <inventory/product_management/valuation-cost-new>` using an
   inventory adjustment: value of the new lot/serial number is assigned to the cost from the product
   form.
#. Inventory adjustment to update quantities for an :ref:`existing lot/serial number
   <inventory/product_management/valuation-cost-existing>`: value is assigned based on the most
   recent cost for that lot/serial number.

For both :abbr:`AVCO (Average Cost)` and :abbr:`FIFO (First In First Out)` methods, the *Cost* field
on the product form is calculated using this formula:

:math:`Avg~Cost = \frac{Total~Value}{Total~Qty}`

.. _inventory/product_management/valuation-cost-example:

Purchase products
-----------------

Consider how purchasing products affect the inventory valuation, in the table below.

.. list-table::
   :header-rows: 1
   :stub-columns: 1

   * -
     - Quantity
     - Lot number
     - Math
     - Average cost on product form
   * - Empty stock
     - 0.00
     -
     -
     - $0
   * - Day 1: Receive one product at $10/unit
     - 1.00
     - LOT 1
     - :math:`\frac{10}{1}`
     - $10
   * - Day 2: Receive another product at $20/unit
     - 1.00
     - LOT 2
     - :math:`\frac{10+20}{2}`
     - $15

.. figure:: valuation_by_lots/lip-gloss.png
   :alt: Show Cost on the product form.

   As a result, the product form displays an average cost of $15 in the **Cost** field.

.. _inventory/product_management/valuation-cost-new:

Create new lot/serial number
----------------------------

Creating a new lot/serial number through an :doc:`inventory adjustment
<../warehouses_storage/inventory_management/count_products>` assigns the same value as the cost
on the product form.

To make an inventory adjustment, and assign a lot number, go to :menuselection:`Inventory app -->
Operations --> Physical Inventory`. Then, click :guilabel:`New`.

In the new inventory adjustment line that appears, set the :guilabel:`Product`, create the
:guilabel:`Lot/Serial Number`, set the :guilabel:`Counted Quantity`, and click :icon:`fa-floppy-o`
:guilabel:`Apply`.

To view the valuation layer, go to :menuselection:`Inventory app --> Reporting --> Valuation`. The
:guilabel:`Total Value` per unit matches the *Cost* on the product form.

.. example::
   Continuing the example in the table above, when the product cost is `$15`, the valuation for a
   newly-created `LOT3` is also be `$15`.

   .. image:: valuation_by_lots/create-new.png
      :alt: Show inventory adjustment valuation.

.. _inventory/product_management/valuation-cost-existing:

Existing lot/serial number
--------------------------

When adjusting the quantity of an existing lot/serial number, the value is based on the most recent
valuation layer for that specific lot/serial number.

.. example::
   Continuing the example in the table above, the value for `LOT 1` is `$10`.

   So, when the quantity is updated from `1.00` to `2.00`, the additional quantity is also valued at
   `$10`, reflecting the latest valuation layer for `LOT 1`.

   .. figure:: valuation_by_lots/existing.png
      :alt: Show valuation of LOT 1 getting updated.

      The inventory adjustment (top line) is valued the same as LOT 1 (bottom line).

.. _inventory/product_management/view-valuation:

View valuation
==============

To find the average cost of a specific lot/serial number, go to :menuselection:`Inventory app -->
Products --> Lots/Serial Numbers`, and select the desired record.

Both the :guilabel:`Cost` and :guilabel:`Average Cost` fields show a unit's average cost. The
:guilabel:`Total Value` reflects the total on-hand value for that lot/serial number.

.. important::
   Ensure the costing method is set to *First In First Out (FIFO)* or *Average Cost (AVCO)* to
   display the cost on this page.

.. figure:: valuation_by_lots/lot.png
   :alt: Show cost of the lot/serial number.

   Lot form, displaying **Cost** field. The **Valuation** smart button is in the top-right.

Valuation layers of a lot/serial number can be viewed through the :ref:`valuation report
<inventory/product_management/valuation-report>`, or by clicking the lot/serial number's
:guilabel:`Valuation` smart button. These detailed, line-by-line records can help determine how each
inventory move of the specific lot/serial number affects its valuation.

.. _inventory/product_management/valuation-report:

Valuation report
----------------

Display the valuation of lots and serial numbers in the database by going to
:menuselection:`Inventory app --> Reporting --> Valuation`.

On the resulting :guilabel:`Stock Valuation` report, click the search bar, and in the
:icon:`oi-group` :guilabel:`Group By` section of the resulting drop-down menu, select
:guilabel:`Lot/Serial number`.

.. tip::
   Click the :icon:`fa-plus` :guilabel:`(plus)` icon to the right of a collapsed lot number line to
   manually modify the cost.

   This is useful for adjusting individual lot prices when a purchase order or bill includes
   multiple lots/serial numbers, as initial prices are identical upon reception.

.. image:: valuation_by_lots/stock-valuation.png
   :alt: Show valuation report, by lots.

Valuation smart button
----------------------

To access a filtered part of the *Stock Valuation* report, specific to a lot or serial number, go to
:menuselection:`Inventory app --> Products --> Lots/Serial Numbers`, and select the desired item.

On the :guilabel:`Lot/Serial Numbers` page, click the :guilabel:`Valuation` smart button.

.. figure:: valuation_by_lots/lot-stock-valuation.png
   :alt: All stock moves relating to `LOT 1`.

   All stock moves that affect the valuation of `LOT 1`.


==================================================
SECTION: warehouses.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage/inventory_management/warehouses.rst
==================================================

==========
Warehouses
==========

In the Odoo *Inventory* app, a *warehouse* is a physical space with an address for storing items,
such as a storage facility, distribution center, or physical store.

Each database has a pre-configured warehouse with the company's address. Users can set up multiple
warehouses, and :doc:`create stock moves <../../shipping_receiving/daily_operations/use_routes>`
between them.

Configuration
=============

To create or manage warehouses, go to :menuselection:`Inventory app --> Configuration -->
Warehouses`.

Then, select an existing warehouse, or create a new one by clicking :guilabel:`New`. Doing so opens
the warehouse form, which contains the following fields:

- :guilabel:`Warehouse` (*required field*): the full name of the warehouse.
- :guilabel:`Short Name` (*required field*): the abbreviated code for the warehouse (maximum five
  characters). The short name for the default warehouse in Odoo is `WH`.

  .. important::
     The :guilabel:`Short Name` appears on warehouse documents, so it is recommended to use a
     memorable one, like "WH[first letters of location]" (e.g. `WHA`, `WHB`, etc.).

- :guilabel:`Address` (*required field*): the address of the warehouse. To change the warehouse
  address when creating two or more warehouses, hover over the field, and click the
  :icon:`fa-arrow-right` :guilabel:`(right arrow)`.
- :guilabel:`Company` (*required field*): the company that owns the warehouse; this can be set as
  the company that owns the Odoo database, or the company of a customer or vendor.
- :guilabel:`Intrastat region`: :doc:`region name
  <../../../../finance/accounting/reporting/intrastat>` required for companies in the European
  Union.

.. important::
   The options below are available **only** when the *Multi-Step Routes* feature is enabled in
   :menuselection:`Inventory app --> Configuration --> Settings`.

- :guilabel:`Incoming Shipments`: select the option to receive products from the warehouse in
  :doc:`one <../../shipping_receiving/daily_operations/receipts_delivery_one_step>`, :doc:`two
  <../../shipping_receiving/daily_operations/receipts_delivery_two_steps>`, or :doc:`three
  <../../shipping_receiving/daily_operations/receipts_three_steps>` steps.

- :guilabel:`Outgoing Shipments`: select the option to deliver products from the warehouse in
  :doc:`one <../../shipping_receiving/daily_operations/receipts_delivery_one_step>`, :doc:`two
  <../../shipping_receiving/daily_operations/receipts_delivery_two_steps>`, or :doc:`three
  <../../shipping_receiving/daily_operations/delivery_three_steps>` steps.

- :guilabel:`Dropship Subcontractors`: available with the *Subcontracting* feature enabled in
  :menuselection:`Manufacturing app --> Configuration --> Settings`. Tick this checkbox to purchase
  components from vendors, and dropship them to subcontractors.
- :guilabel:`Resupply Subcontractors`: available with the *Subcontracting* feature, tick this
  checkbox to supply subcontractors with raw materials stored in *this* specific warehouse.
- :guilabel:`Manufacture to Resupply`: tick this checkbox to allow for items to be manufactured in
  this warehouse.
- :guilabel:`Manufacture`: choose whether to manufacture products in :doc:`one
  <../../../manufacturing/basic_setup/one_step_manufacturing>`, :doc:`two
  <../../../manufacturing/basic_setup/two_step_manufacturing>`, or :doc:`three steps
  <../../../manufacturing/basic_setup/three_step_manufacturing>`.
- :guilabel:`Buy to Resupply`: tick this checkbox to allow for purchased products to be delivered to
  the warehouse.
- :guilabel:`Resupply From`: available with multiple warehouses in the database, select warehouses
  to pull stock *from* to fulfill orders.

.. seealso::
   :doc:`Use inventory adjustments to add stock to new warehouses <count_products>`

.. image:: warehouses/warehouse-form.png
   :align: center
   :alt: Example warehouse form.



==================================================
SECTION: warehouses_storage.rst
PATH: applications/inventory_and_mrp/inventory/warehouses_storage.rst
==================================================

:nosearch:

======================
Warehouses and storage
======================

.. toctree::
   :titlesonly:

   warehouses_storage/inventory_management
   warehouses_storage/replenishment
   warehouses_storage/reporting


==================================================
SECTION: wave.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/picking_methods/wave.rst
==================================================

==============
Wave transfers
==============

.. |SO| replace:: :abbr:`SO (sales order)`

While a batch transfer is a group of several pickings, a **wave transfer** contains certain parts
of different pickings. In Odoo, wave transfers are batch transfers with an extra step: transfers are
split before being grouped in a batch.

Wave picking is ideal for warehouses that need to optimize the handling of high order volumes while
managing complex picking criteria. With wave transfers, orders are grouped into waves based on
factors like product location, category, or scheduled shipping times. Each wave is assigned to a
different employee for the most efficient execution.

Wave picking is particularly useful for operations where multiple sales orders (SOs), or a single
order, must be picked across different waves. This approach enables flexible scheduling, allowing
warehouses to align picking activities with shipping deadlines, or resource availability.

.. example::
   #. |SO| 1 calls for one apple and one orange
   #. |SO| 2 calls for one apple and one banana
   #. |SO| 3 calls for one apple, one orange, and two bananas

   Apples are stored in Shelf A, oranges in Shelf B, and bananas in Shelf C. A warehouse employee is
   assigned to the wave, and is provided with the following instructions:

   - Shelf A: Pick three apples. Place them into a central cart designated for the wave.
   - Shelf B: Pick two oranges. Add them to the same cart.
   - Shelf C: Pick three bananas. Add them to the cart.

   The employee then takes the cart to the sorting/packing station. Items are then sorted and packed
   into individual orders.

Configuration
=============

To enable wave picking, begin by navigating to :menuselection:`Inventory --> Configuration -->
Settings`. In the :guilabel:`Operations` section, tick the :guilabel:`Batch, Wave & Cluster
Transfers` checkbox to enable the setting.

.. image:: wave/wave-transfers-setting.png
   :alt: View of Odoo Inventory app settings to enable the wave transfers option.

Next, the :guilabel:`Storage Locations` and :guilabel:`Multi-Step Routes` options, under the
:guilabel:`Warehouse` heading, must also be checked on this settings page.

*Storage locations* allow products to be stored in specific locations they can be picked from, while
*multi-step routes* enable the picking operation itself.

Then, click :guilabel:`Save` to save the changes.

Create a wave
=============

Wave transfers can only contain product lines from transfers of the same operation type. To view
all the transfers and product lines in a specific operation, navigate to the
:menuselection:`Inventory app`. Find the desired Kanban card, then click the :icon:`fa-ellipsis-v`
:guilabel:`(vertical ellipsis)` icon to open the options menu. Under :guilabel:`New`, click
:guilabel:`Prepare Wave`.

.. image:: wave/list-of-operations.png
   :alt: How to get an operation type's list of operations.

Create a new wave
-----------------

On the :guilabel:`Prepare Wave` pop-up, stock moves lines are grouped by source location. Select the
checkboxes for the product lines that should be added. Then, click :guilabel:`Add to Wave`.

.. image:: wave/select-lines.png
   :alt: Select lines to add to the wave.

.. tip::
   Use the :guilabel:`Filters` in the search bar to group lines with the same product, location,
   carrier, etc.

Add products to an existing wave
--------------------------------

To add products to an existing wave, navigate to :menuselection:`Inventory --> Operations --> Wave
Transfers`. Click on the appropriate wave from the list to open it.

Under the :guilabel:`Detailed Operations` tab, click :guilabel:`Add a line`. Then, in the
:guilabel:`Product` field, search for the desired product.

Process a wave
==============

To view all wave transfers and their statuses, go to :menuselection:`Inventory --> Operations -->
Wave Transfers`. Click on the appropriate wave from the list to open it.

To assign the wave to a specific employee, click the :guilabel:`Responsible` field and select the
appropriate name from the drop-down list.

To designate a :ref:`Dock location <inventory/shipping_receiving/docks>`, select an option from the
drop-down menu in the :guilabel:`Docks Location` field.

.. note::
   The :doc:`dispatch management system <../../shipping_receiving/setup_configuration/dispatch>`
   feature in Odoo is used to plan and build shipments. Assigning batches to loading docks ensures
   the right products are pack into the appropriate trucks for delivery.

Select a :guilabel:`Vehicle` from the drop-down. Making a selection in this field automatically
updates the :guilabel:`Vehicle Category` field.

Enter a :guilabel:`Description` for this wave, if desired.

.. note::
   The :guilabel:`Description` field is automatically generated for :ref:`automatic waves
   <inventory/shipping_receiving/auto-waves>`.

.. _inventory/shipping_receiving/auto-waves:

Automatic waves
===============

Waves can be automatically created and assigned based on different criteria. The *Automatic Batches*
option is defined on the *operation type* level, which enables the creation of waves with distinct
grouping criteria for each operation type.

To enable *Automatic Batches*, navigate to :menuselection:`Inventory app --> Configuration -->
Operation Types`, and select the desired operation type (e.g. :guilabel:`Delivery`,
:guilabel:`Pick`, etc). Under the :guilabel:`Batch & Wave Transfers` heading, tick the
:guilabel:`Automatic Batches` checkbox.

Then, select one or more :guilabel:`Wave Grouping` criteria by ticking the appropriate checkbox.
Even if more than one grouping option is selected, only one wave is created.

Automatic waves can be created based on the following criteria:

- :guilabel:`Product`: Split transfers by product, then group transfers that have the same product.
- :guilabel:`Product Category`: Split transfers by product category, then group transfers that have
  the same product category.

.. image:: wave/auto-wave-grouping.png
   :alt: The Automatic batches feature with the wave grouping option for product category selected.


==================================================
SECTION: zebra.rst
PATH: applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/zebra.rst
==================================================

=========================
Zebra label configuration
=========================

.. |ZPL| replace:: :abbr:`ZPL (Zebra Programming Language)`

In Odoo, labels printed in the Zebra Programming Language (ZPL) file format are designed to fit a
four-by-six inch label. To resize (or reformat) text to fit a variety of |ZPL| label sizes,
:ref:`navigate to the ZPL label view <inventory/shipping_receiving/zpl-view>`, and alter the |ZPL|
code.

.. warning::
   When customizing code in Odoo, please note that upgrading the database to newer versions may
   break custom |ZPL| code. **Customers are responsible for maintaining their custom code**.

Refer to the following sections for explanations, and example code, for frequently requested Zebra
label customizations.

- :ref:`Adjust margins <inventory/shipping_receiving/margin>`
- :ref:`Enlarge/minimize barcodes <inventory/shipping_receiving/resize>`
- :ref:`Rotate elements <inventory/shipping_receiving/rotate>`

.. _inventory/shipping_receiving/zpl-view:

Navigate to ZPL label view
==========================

To begin customizing a Zebra label in Odoo, turn on :ref:`developer mode <developer-mode>`, and on
the main Odoo dashboard, type `Reports`. From the search results that appear in the resulting pop-up
window, choose :guilabel:`Settings / Technical / Reporting / Reports` to open the
:guilabel:`Reports` page.

.. note::
   To manually navigate to the :guilabel:`Reports` page, go to :menuselection:`Settings app -->
   Technical --> Reporting: Reports`.

.. image:: zebra/search.png
   :align: center
   :alt: Show global search result for "Reports".

On the :guilabel:`Reports` page, in the :guilabel:`Search...` bar, type `ZPL`, and hit :kbd:`Enter`.
Upon doing so, Odoo presents a list of available Zebra labels in Odoo. Select the desired Zebra
label from the list to modify it on a separate page.

.. note::
   Printable ZPL labels in Odoo:

   - :ref:`lot/serial number <inventory/shipping_receiving/lot-sn-labels>`
   - operation type
   - package barcode
   - :ref:`product label <inventory/shipping_receiving/product-labels>`
   - product packaging
   - finished product (Odoo *Manufacturing* app required)

Next, click the :icon:`fa-code` :guilabel:`Qweb Views` smart button, and choose the desired label
:doc:`view <../../../../../developer/reference/user_interface/view_records>`.

.. figure:: zebra/qweb-views.png
   :align: center
   :alt: Show Qweb smart button on the Lot and Serial Number (ZPL) report.

   **Lot and Serial Number (ZPL)** report, highlighting the Qweb smart button.

On the resulting view form, go to the :guilabel:`Architecture` tab to view the |ZPL| code.

.. important::
   To ensure the customization is **not** overwritten during an update, click the :icon:`fa-bug`
   :guilabel:`(bug)` icon on the view page. Then, select the :guilabel:`View Metadata` option from
   the resulting drop-down menu, in order to open the :guilabel:`View Metadata` pop-up window. Then,
   ensure the :guilabel:`No Update` field is set to :guilabel:`true (change)`. Click :guilabel:`Ok`
   to exit the :guilabel:`View Metadata` pop-up window.

.. image:: zebra/architecture.png
   :align: center
   :alt: Architecture tab in the view.

.. _inventory/shipping_receiving/margin:

Adjust margin
=============

Text gets cut off from standard |ZPL| labels printed in Odoo when the line exceeds fifty-five
characters. To fit long product names, or lot numbers, on a single line, adjust the margin.

To begin, navigate to the :ref:`ZPL code of the label <inventory/shipping_receiving/zpl-view>` in
the :guilabel:`Architecture` tab. In the |ZPL| code for product labels, look for the `^FT` command,
which specifies where to start placing the text, or graphic element, on the label. The two numbers
immediately following `^FT` define the x-coordinate and y-coordinate in dots (:dfn:`similar to
pixels for printers`) from the left and top margins.

.. important::
   When customizing lot/serial number labels, look for the `^FO` command, instead of `^FT`.

.. example::

    The following is an example where the product's name gets cut off with Odoo's default |ZPL|
    formatting. In the **Fixed** tab, the x-coordinate of the starting position of the label is
    changed from `^FT100,80` to `^FT0,80`, to fit the entire name.

.. tabs::

   .. tab:: Default

      .. image:: zebra/default-margin.png
         :align: center
         :alt: Example barcode label with the product name cut off.

      **Code**:

      .. code-block:: xml

         ^XA^CI28
         ^FT100,80^A0N,40,30^FD[E-COM11] Cabinet with Doors (wood: Cherry, handles: brass)^FS
         ...
         ^XZ

   .. tab:: Modified

      .. image:: zebra/fixed-margin.png
         :align: center
         :alt: Example barcode label with the product name margin adjusted to the left.

      **Code**:

      .. code-block:: xml

         ^XA^CI28
         ^FT0,80^A0N,40,30^FD[E-COM11] Cabinet with Doors (wood: Cherry, handles: brass)^FS
         ...
         ^XZ

.. _inventory/shipping_receiving/resize:

Resize barcode
==============

To adjust the size of the barcode to scale, begin by navigating to the :ref:`ZPL code of the label
<inventory/shipping_receiving/zpl-view>` in the :guilabel:`Architecture` tab. Look for the `^FO`
command (typically in the third line), which is the starting point of the margin for the barcode.

The `^BY` command configures barcode size, and takes three numbers: bar width, width of wide bars
relative to narrow bars, and bar height. By default, |ZPL| code in Odoo uses `^BY3`, setting the bar
width to three dots, a typical size that is easy for barcode scanners to read.

.. example::
   To shrink the barcode to scale, `^BY3` is reduced to `^BY2`.

.. tabs::

   .. tab:: Default

      .. image:: zebra/normal-barcode.png
         :align: center
         :alt: Example barcode label.

      **Code**:

      .. code-block:: xml

         ^XA^CI28
         ...
         ^FO100,160^BY3
         ...
         ^XZ

   .. tab:: Modified

      .. image:: zebra/shrink-barcode.png
         :align: center
         :alt: Example barcode label with the barcode size reduced.

      **Code**:

      .. code-block:: xml

         ^XA^CI28
         ...
         ^FO100,160^BY2
         ...
         ^XZ

.. _inventory/shipping_receiving/rotate:

Rotate elements
===============

To rotate elements in |ZPL|, begin by navigating to the :ref:`ZPL code of the label
<inventory/shipping_receiving/zpl-view>` in the :guilabel:`Architecture` tab.

The `^BC` command's first parameter (:dfn:`information that affects the behavior of the command`)
defines the rotation of an item, which can be:

- `N`: display normally
- `R`: rotate 90 degrees
- `I`: rotate 180 degrees
- `B`: rotate 270 degrees

.. example::
   To rotate the barcode, `^BCN` is changed to `^BCB`.

.. tabs::

   .. tab:: Default

      .. image:: zebra/lot.png
         :align: center
         :alt: Example barcode label.

      **Code**:

      .. code-block:: xml

         ^XA^CI28
         ...
         ^BCN,100,Y,N,N
         ...
         ^XZ

   .. tab:: Modified

      .. image:: zebra/rotate.png
         :align: center
         :alt: Example barcode label with the barcode rotated.

      **Code**:

      .. code-block:: xml

          ^XA^CI28
          ...
          ^BCB,100,Y,N,N
          ...
          ^XZ

