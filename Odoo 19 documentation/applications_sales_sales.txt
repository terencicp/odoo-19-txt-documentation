

==================================================
SECTION: sales.rst
PATH: applications/sales/sales.rst
==================================================

:nosearch:
:show-content:
:hide-page-toc:
:show-toc:

=====
Sales
=====

The **Sales** application is used to run the sales process (from quotation to sales order) and
deliver and invoice what has been sold. Any product with the *Sales* checkbox ticked on its product
form can be sold with the **Sales** app.

.. seealso::
   - `Odoo Tutorials: Sales <https://www.odoo.com/slides/sales-17>`_

.. toctree::
   :titlesonly:

   sales/sales_quotations
   sales/invoicing
   sales/products_prices
   sales/commissions
   sales/amazon_connector
   sales/shopee_connector
   sales/gelato


==================================================
SECTION: accessory_products.rst
PATH: applications/sales/sales/products_prices/accessory_products.rst
==================================================

==================
Accessory products
==================

The use of accessory products is a marketing strategy that involves the cross-selling of related
products alongside a desired core product. In Odoo, accessory products can be added to a core
product's product form to integrate them into the customer's shopping experience and help drive
increased sales.

Example
=======

An electronics business has configured their products with an eye on cross-selling accessories
whenever customers purchase big-ticket items. After a customer adds a tablet to their shopping cart,
they are automatically suggested useful accessories like cases, screen protectors, and extra cables
because of the accessory products that have been configured. This helps to drive sales by creating
opportunities for impulse purchases, as well as reminding customers of useful accessories that they
may have intended to purchase but forgot about while shopping.

.. note::
   Accessory products are differentiated from optional products and alternative products by where
   they appear in the customer's shopping experience.

   - Accessory products appear as suggestions when viewing an eCommerce cart with an associated core
     product in it. This creates an opportunity for cross-selling during the checkout process.
   - Optional products are suggested when a core product has been added to a cart or a quotation.
     This creates an opportunity for cross-selling during the shopping process.
   - Alternative products are suggested at the bottom of an eCommerce product page whenever the
     product page is viewed. This creates an opportunity for upselling during the shopping process.

Configuring accessory products
==============================

To add an accessory product to a product form, navigate to :menuselection:`Sales --> Products -->
Products` and choose a product. Ensure that the product's :guilabel:`Sales` checkbox is ticked and
click the :guilabel:`Sales` tab. Under :guilabel:`Upsell & Cross-sell` heading, the
:guilabel:`Accessory Products` drop-down menu allows for accessory products to be set. Products will
be displayed in alphabetical order. If the desired product isn't readily visible, type its name in
the field to bring it up, then select it to add it as an accessory product.

.. image:: accessory_products/accessory-products-product-form.png
   :alt: A product form in Odoo Sales showing the accessory products section.

How accessory products appear to customers
==========================================

Accessory products appear alongside core products prior to checkout. They are automatically
suggested based on what accessory products have been configured and what core products the customer
has added to their shopping cart.

.. figure:: accessory_products/accessory-products-ecommerce.png
   :alt: A screenshot of an eCommerce shopping cart showing accessory products.

   In this example, the core product, "Leather jacket", has several associated accessory products.
   Once a customer adds the core product to their shopping cart, the accessory products will appear
   as suggestions during the checkout process.

.. seealso::
   :doc:`../../../websites/ecommerce/products/cross_upselling`


==================================================
SECTION: alternative_products.rst
PATH: applications/sales/sales/products_prices/alternative_products.rst
==================================================

====================
Alternative products
====================

The use of alternative products is a marketing strategy that involves upselling related products
alongside a desired core product. For instance, by configuring alternative products, a customer
could be suggested a mechanical keyboard or a wireless keyboard when they visit the eCommerce
website page for a standard keyboard.

.. note::
   Alternative products are different from accessory and optional products because of where they
   show up in the customer's shopping experience.

   - Alternative products are suggested at the bottom of an eCommerce product page whenever the
     product page is viewed. This creates an opportunity for upselling during the shopping process.
   - Accessory products appear as suggestions when viewing an eCommerce cart. This creates an
     opportunity for cross-selling during the checkout process.
   - Optional products are suggested when a core product has been added to a cart or a quotation.
     This creates an opportunity for cross-selling during the shopping process.

Configuring alternative products
================================

To add an alternative product to a product form, navigate to :menuselection:`Sales --> Products -->
Products` and choose a product. Ensure that the product's :guilabel:`Sales` checkbox is ticked and
click the :guilabel:`Sales` tab. In the :guilabel:`Upsell & Cross-sell` section, click the
:guilabel:`Alternative Products` drop-down menu to set alternative products. Products are displayed
in alphabetical order. If the desired product isn't readily visible, type its name in the field to
bring it up, then select it to add it as an alternative product.

.. figure:: alternative_products/product-form-alternative-products.png
   :alt: The alternative product field on the product form with multiple entries.

   Entries in the :guilabel:`Alternative Products` field on a product form.

How alternative products appear to customers
============================================

Although the **Sales** app is used to configure alternative products, customers will only encounter
them when visiting a website created with the **eCommerce** app. Alternative products are
automatically suggested during the shopping process when a customer visits the webpage for an
associated core product. They appear underneath the product listing under the header
:guilabel:`Alternative Products`.

.. figure:: alternative_products/alternative-products-ecommerce.png
   :alt: Alternative products as they appear on an eCommerce website.

   The alternative products section of an eCommerce product page.

.. seealso::
   :doc:`/applications/websites/ecommerce/products/cross_upselling`


==================================================
SECTION: amazon_connector.rst
PATH: applications/sales/sales/amazon_connector.rst
==================================================

:nosearch:

================
Amazon Connector
================

.. toctree::
   :titlesonly:

   amazon_connector/features
   amazon_connector/setup
   amazon_connector/manage


==================================================
SECTION: commissions.rst
PATH: applications/sales/sales/commissions.rst
==================================================

===========
Commissions
===========

.. |SOs| replace:: :abbr:`SOs (Sales Orders)`

Commissions are a powerful tool to motivate sales team members. They incentivize performance, boost
productivity, and encourage healthy competition. The *Commissions* feature in Odoo's **Sales**
application provides a way to reward salespeople or sales teams based on their performance. This
feature supports the creation of flexible, measurable commission structures that align with business
goals, whether that means driving revenue, volume, profit, or recurring contracts.

Configuration
=============

To enable the *Commissions* feature, navigate to :menuselection:`Sales app --> Configuration -->
Settings`. Scroll to the :guilabel:`Invoicing` section, and tick the :guilabel:`Commissions`
checkbox. Then, click :guilabel:`Save`. Doing so causes a new :guilabel:`Commissions` menu to appear
in the menu bar. To create a new commission plan, navigate to :menuselection:`Commissions -->
Comission Plans` and click :guilabel:`New`.

Commission plan structure
=========================

Each commission plan is comprised of several components:

- :guilabel:`Based on`: Determines whether commissions are awarded based on progress toward
  :guilabel:`Targets` or :guilabel:`Achievements`
- :guilabel:`per`: Indicates whether the plan applies to individual salespeople or an entire sales
  team
- :guilabel:`Target Frequency`: Sets how often targets reset: **Monthly**, **Quarterly**, or
  **Yearly**.
- :guilabel:`Achievements`: Determines what is being measured toward commissions.

.. image:: commissions/new-commission-plan.png
   :alt: A new commission plan detail form.

Target-based commission plans
-----------------------------

In a *Target* based commission plan, commissions are awarded based on the percentage of sales
targets reached. Target based plans are ideal for setting clear, measurable goals, such as invoicing
a specific amount in sales per quarter, then rewarding sales people progressively based on how close
they come to reaching or exceeding that goal.

.. tip::
   Target based plans differ from *Achievement* based plans because they are based on reaching a
   fixed, predefined goal. They focus on goal-based incentives and performance milestones.

To configure a new target based commission plan, navigate to the :menuselection:`Sales app -->
Commissions --> Commission Plans`, then click :guilabel:`New`. Click in the :guilabel:`Based on`
drop-down menu and select :guilabel:`Targets`. Then, select an option in the :guilabel:`per` field.

In the :guilabel:`On Target Commission` field, set the payout amount for reaching `100%` of the
target. Update the :guilabel:`Effective Period` fields to confirm the dates for this plan. Then,
update the :guilabel:`Target Frequency` field based on how often the targets should be set and
evaluated.

- *Monthly*: short term goals with frequent payouts.
- *Quarterly*: aligns with business cycles and provides mid-range objectives.
- *Yearly*: long term sales goals for strategic planning.

After the :guilabel:`Target Frequency` field is updated, the :guilabel:`Targets` tab updates with a
list of the appropriate time frame. For each :guilabel:`Period`, enter a :guilabel:`Target` goal.

On the :guilabel:`Achievements` tab, add one or more :ref:`Achievement metric
<sales/commissions/achievement-metric>` for this plan by clicking :guilabel:`Add a new achievement`.

Click the :guilabel:`Sales People` tab to assign this plan to the appropriate staff. Click either
:guilabel:`Add a new Sales Person` to add them individually, or :guilabel:`Add Multiple
Salespersons` to bulk add several at once.

.. note::
   The :guilabel:`Add Multiple Salespersons` button is only available if
   :doc:`../../general/developer_mode` is active.

Levels
------

To provide additional incentive, *commission levels* can be added to *Target* based plans. These
tiers allow salespeople to earn varying commission amounts based on their performance levels. Levels
can start at `0%` and increase incrementally. This allows for salespeople to earn commission even if
they do not achieve `100%` of the target, as well as the ability to achieve over `100%` of the
target. Commission levels can be set from the :guilabel:`Commissions` tab when creating a commission
plan.

If no levels are added above 100%, salespeople are **not** able to earn above the stated commission.

.. example::
   In the plan below, the levels start at `0%`, and continue until `300%`. If a salesperson exceeds
   `100%` of the expected target, their expected payout continues to increase up to `300%`.

   .. image:: commissions/commission-levels.png
      :alt: An example of commission levels, with levels above 100 percent.

Achievement-based commission plans
----------------------------------

In a *Achievement* based commission plan, salespeople earn a percentage of their invoice value as
commission. Achievement-based plans are ideal for rewarding sales activity consistently, regardless
of specific goals. For example, offering a `5%` commission on all invoiced amounts, regardless of
how much is sold.

.. tip::
   Achievement based plans differ from *Target* based plans because they are calculated based on
   actual achievements using a flat, consistent rate. They are beneficial for ongoing, non-goal
   based compensation plans.

To configure a new target based commission plan, navigate to the :menuselection:`Sales app -->
Commissions --> Commission Plans`, then click :guilabel:`New`. Click in the :guilabel:`Based on`
drop-down and select :guilabel:`Achievements`. Then, select an option in the :guilabel:`per` field.

Update the :guilabel:`Effective Period` fields to confirm the dates for this plan. Then, update the
:guilabel:`Target Frequency` field based on how often the targets should be set and evaluated.

On the :guilabel:`Achievements` tab, add one or more :ref:`Achievement metric
<sales/commissions/achievement-metric>` for this plan by clicking :guilabel:`Add a new achievement`.

Click the :guilabel:`Sales People` tab to assign this plan to the appropriate staff. Click either
:guilabel:`Add a new Sales Person` to add them individually, or :guilabel:`Add Multiple
Salespersons` to bulk add several at once.

.. _sales/commissions/achievement-metric:

Achievements
------------

Performance can be measured in several ways in performance plans. These are configured in the
:guilabel:`Achievements` tab of each plan. It is possible to track achievements by all products
sold, by specific products sold, by all products sold in a specific category, and more.

- :guilabel:`Amount Sold`: the total value of sales orders (SOs).
- :guilabel:`Amount Invoiced`: the total value of confirmed invoices.
- :guilabel:`Quantity Sold`: the total number of units sold via |SOs|.
- :guilabel:`Quantity Invoiced`: the total number of units invoiced.
- :guilabel:`Margin`: the profit margin (selling price minus cost price).
- :guilabel:`MRR`: the new *Monthly Recurring Revenue* from subscription sales. this option is
  **only** available if the :doc:`Subscriptions <../../sales/subscriptions>` app is installed.

.. note::
   Regardless of what the plan is :guilabel:`Based on`, each plan needs both *Achievements* and
   *Targets* configured.

Plan approval
=============

After confirming the details of the new plan, click :guilabel:`Approve`. This moves the plan from
the :guilabel:`Draft` stage into the :guilabel:`Approved` stage.

.. important::
   Commissions plans in the :guilabel:`Approved` stage **cannot** be edited. To edit an approved
   plan, it must first be :guilabel:`Reset to Draft`.

After a plan is approved, Odoo automatically tracks performance and calculates commissions based on
the established parameters.

.. seealso::
   :doc:`Commissions <../../hr/payroll/commissions>`


==================================================
SECTION: create_quotations.rst
PATH: applications/sales/sales/sales_quotations/create_quotations.rst
==================================================

=================
Create quotations
=================

In Odoo **Sales**, quotations can be created and sent to customers. Once a quotation has been
confirmed, it officially turns into a *sales order*, which can then be invoiced and paid for.

.. _sales/quotation-settings:

Quotation settings
==================

To access these setting options, navigate to :menuselection:`Sales app --> Configuration -->
Settings`, and scroll to the :guilabel:`Quotations & Orders` section.

.. image:: create_quotations/quotations-orders-section.png
   :align: center
   :alt: The Quotations and Orders section on the Odoo Sales app Settings page.

- :guilabel:`Quotation Templates`: Enable this option to create quotation templates featuring
  standard product offers, which are then selectable on quotation forms. When this checkbox is
  ticked, an additional field, :guilabel:`Default Template`, appears, along with a link to the
  :guilabel:`Quotation Templates` page.
- :guilabel:`Online Signature`: Request an online signature to confirm orders.
- :guilabel:`Online Payment`: Request an online prepayment from customers to confirm orders. Request
  a full or partial payment (via down payment). When this checkbox is ticked, an additional field,
  :guilabel:`Prepayment amount (%)`, appears. There is also a link to the :guilabel:`Payment
  Providers` page.
- :guilabel:`Default Quotation Validity`: Determine a set amount (in :guilabel:`days`) that
  quotations can remain valid for.
- :guilabel:`Default Recurrence`: Select a default period from the drop-down menu to use as a
  recurrence period for a new quotation.
- :guilabel:`Sale Warnings`: Get warning messages about orders that include specific products or
  customers.
- :guilabel:`PDF Quote builder`: Customize the look of quotations with header pages, product
  descriptions, footer pages, and more.
- :guilabel:`Lock Confirmed Sales`: Ensure no further edits can be made to confirmed orders.
- :guilabel:`Pro-Forma Invoice`: Send pro-forma invoices to customers.

To activate any of these settings, tick the checkbox beside the desired option(s). Then, click
:guilabel:`Save`.

Quotations dashboard
====================

The *Quotations* dashboard is the page that appears when the :menuselection:`Sales app` is opened.

By default, the :guilabel:`Quotations` dashboard displays all quotations in the database related to
the current user, as indicated by the default :guilabel:`My Quotations` filter present in the search
bar.

.. image:: create_quotations/quotations-dashboard.png
   :align: center
   :alt: The Quotations dashboard present in the Odoo Sales application.

.. note::
   To view *all* quotations in the database, remove the :guilabel:`My Quotations` filter from the
   search bar.

Quotations on this page appear in a default list view, but can also be viewed in a
:icon:`oi-view-kanban` :guilabel:`Kanban` view, :icon:`fa-calendar` :guilabel:`Calendar`,
:icon:`oi-view-pivot` :guilabel:`Pivot` table, :icon:`fa-area-chart` :guilabel:`Graph`, or
:icon:`fa-clock-o` :guilabel:`Activity` view.

To view and/or modify any listed quotation from the :guilabel:`Quotations` dashboard, click on the
desired quotation line from the list, and Odoo reveals the specific form for that selected
quotation.

.. _sales/create-quotation:

Create quotation
================

To create a quotation, open the :menuselection:`Sales app`, and click the :guilabel:`New` button,
located in the upper-left corner of the main :guilabel:`Quotations` dashboard.

.. important::
   The :guilabel:`New` button is **only** present if the :guilabel:`Quotations` dashboard is in list
   or Kanban view.

Clicking the :guilabel:`New` button reveals a blank quotation form, with various fields and tabs to
configure.

.. image:: create_quotations/quotation-form.png
   :align: center
   :alt: A typical quotation form in the Odoo Sales application.

Begin by entering the customer's name in the :guilabel:`Customer` field at the top of the form. This
is a **required** field.

If the customer's information is already in the database, the :guilabel:`Invoice Address` and
:guilabel:`Delivery Address` fields auto-populate with the saved information for those respective
fields, based on the data from that customer's contact record (found in the **Contacts**
application).

If the customer was referred by another customer or contact, enter their name in the
:guilabel:`Referrer` field.

If a :guilabel:`Referrer` is selected, a new field, :guilabel:`Commission Plan` appears, in which a
commission can be selected from the drop-down menu. This commission is rewarded to the contact
selected in the :guilabel:`Referrer` field.

Next, if they have not already been auto-populated with the customer's information, enter the
appropriate addresses in the :guilabel:`Invoice Address` and :guilabel:`Delivery Address` fields.
Both of these fields are **required**.

Then, if desired, choose a :guilabel:`Quotation Template` from the drop-down field to apply to this
quotation. It should be noted that some additional fields may appear, depending on the template
selected.

The default date that appears in the :guilabel:`Expiration` field is based on the number configured
in the :ref:`Default Quotation Validity setting <sales/quotation-settings>` (in
:menuselection:`Sales app --> Configuration --> Settings`).

.. tip::
   When using a quotation template, the date in the :guilabel:`Expiration` field is based off the
   :guilabel:`Quotation Validity` figure on the template form.

If the quotation is for a recurring product or subscription, select the desired :guilabel:`Recurring
Plan` from that specific drop-down menu.

If desired, select a specific :guilabel:`Pricelist` to be applied to this quotation.

Lastly, select any specific :guilabel:`Payment Terms` to be used for this quotation.

Order Lines tab
---------------

The first tab on the quotation form is the :guilabel:`Order Lines` tab.

In this tab, select products, and quantities of those products, to add them to the quotation.

There are two ways to add products to the quotation from this tab.

Click :guilabel:`Add a product`, select the desired item from the :guilabel:`Product` drop-down
field, and proceed to adjust the quantity of that selected product, if necessary.

Or, click :guilabel:`Catalog` to reveal a separate page, showcasing every item (and every potential
product variant) in an organized catalog display, with items organizable by :guilabel:`Product
Category` and :guilabel:`Attributes`.

.. image:: create_quotations/product-catalog.png
   :align: center
   :alt: A product catalog accessible via a quotation in the Odoo Sales application.

From here, simply locate the desired items, click the :icon:`fa-shopping-cart` :guilabel:`Add`
button on the product card, and adjust the quantity, if needed. When complete, click the
:guilabel:`Back to Quotation` button in the upper-left corner to return to the quotation, where the
newly-selected catalog items can be found in the :guilabel:`Order Lines` tab.

If multiple items should be presented in a more organized way on the quotation, click :guilabel:`Add
a section`, enter a name for the section, and drag-and-drop that section heading in the desired
location amongst the items in the :guilabel:`Order Lines` tab. The section heading appears in bold
and a sub-total for all products in a section is displayed.

If needed, click :guilabel:`Add a note` beneath a certain product line to add a custom note about
that specific product. The note appears in italics. Then, if needed, proceed to drag-and-drop the
note beneath the desired product line.

Beneath the product lines, there are buttons that can be clicked to apply any of the following:
:guilabel:`Coupon Code`, :guilabel:`Promotions`, :guilabel:`Discount`, and/or :guilabel:`Add
shipping`.

.. seealso::
   - :doc:`../products_prices/ewallets_giftcards`
   - :doc:`../products_prices/loyalty_discount`
   - :doc:`../products_prices/prices/pricing`

Optional Products tab
---------------------

Open the :guilabel:`Optional Products` tab to select related products that can be presented to the
customer, which may result in an increased sale.

For example, if the customer wants to buy a car, an optional product that could be offered is a
*Trailer Hitch*.

.. seealso::
  :doc:`optional_products`

Other Info tab
--------------

In the :guilabel:`Other Info` tab, there are various quotation-related configurations separated into
four different sections: :guilabel:`Sales`, :guilabel:`Delivery`, :guilabel:`Invoicing`, and
:guilabel:`Tracking`.

.. note::
   Some fields **only** appear if specific settings and options have been configured.

Sales section
~~~~~~~~~~~~~

In the :guilabel:`Sales` section of the :guilabel:`Other Info` tab, there are sales specific fields
that can be configured.

.. image:: create_quotations/other-info-sales.png
   :align: center
   :alt: The Sales section of the Other Info tab of a quotation form in Odoo Sales.

- :guilabel:`Salesperson`: Assign a salesperson from the drop-down menu to be associated with this
  quotation. The user who originally created the quotation is selected in this field, by default.
- :guilabel:`Sales Team`: Assign a specific sales team to this quotation. If the selected
  :guilabel:`Salesperson` is a member of a sales team, that team is auto-populated in the field.
- :guilabel:`Company`: Select a company from the drop-down menu this quotation should be associated
  with. This field only appears when working in a multi-company environment.
- :guilabel:`Online signature`: Tick this checkbox to request an online signature from the customer
  to confirm the order. This field only appears if the *Online Signature* setting has been enabled.
- :guilabel:`Online payment`: Tick this checkbox, and enter a desired percentage in the adjacent
  field, to request an online payment from the customer (for that designated percentage of the total
  amount) to confirm the order. This field only appears if the *Online Payment* setting has been
  enabled.
- :guilabel:`Customer Reference`: Enter a custom reference ID for this customer. The entered
  reference ID can contain letters, numbers, or a mix of both.
- :guilabel:`Tags`: Add specific tags to the quotation for added organization and enhanced
  searchability in the Odoo **Sales** application. Multiple tags can be added, if necessary.

Delivery section
~~~~~~~~~~~~~~~~

In the :guilabel:`Delivery` section of the :guilabel:`Other Info` tab, there are delivery-specific
fields that can be configured.

.. image:: create_quotations/other-info-delivery.png
   :align: center
   :alt: The Delivery section of the Other Info tab of a quotation form in Odoo Sales.

- :guilabel:`Shipping Weight`: Displays the weight of the items being shipped. This field is not
  modifiable. Product weight is configured on individual product forms.
- :guilabel:`Incoterm`: Select an Incoterm (International Commerical Term) to use as predefined
  commerical terms for international transactions.
- :guilabel:`Incoterm Location`: If an Incoterm is being used, enter the international location in
  this field.
- :guilabel:`Shipping Policy`: Select a desired shipping policy from the drop-down menu. If all
  products are delivered at once, the delivery order is scheduled, based on the greatest product
  lead time. Otherwise, it is based on the shortest lead time. The available options are:
  :guilabel:`As soon as possible` or :guilabel:`When all products are ready`.
- :guilabel:`Delivery Date`: Click into the empty field to reveal a calendar popover, from which a
  customer delivery date can be selected. If no custom date is required, refer to the
  :guilabel:`Expected` date listed to the right of that field.

Invoicing section
~~~~~~~~~~~~~~~~~

In the :guilabel:`Invoicing` section of the :guilabel:`Other Info` tab, there are invoicing specific
fields that can be configured.

.. image:: create_quotations/other-info-invoicing.png
   :align: center
   :alt: The Invoicing section of the Other Info tab of a quotation form in Odoo Sales.

- :guilabel:`Fiscal Position`: Select a fiscal position to be used to adapt taxes and accounts for
  particular customers or sales orders/invoices. The default value comes from the customer. If a
  selection is made in this field, an :icon:`fa-refresh` :guilabel:`Update Taxes` clickable link and
  icon appear. When clicked, the taxes for this partiuclar customer and quotation are updated. A
  confirmation window appears, as well.
- :guilabel:`Analytic Account`: Select an analytic account to apply to this customer/quotation.

Tracking section
~~~~~~~~~~~~~~~~

In the :guilabel:`Tracking` section of the :guilabel:`Other Info` tab, there are tracking specific
fields that can be configured.

.. image:: create_quotations/other-info-tracking.png
   :align: center
   :alt: The Tracking section of the Other Info tab of a quotation form in Odoo Sales.

- :guilabel:`Source Document`: Enter the reference of the document that generated the
  quotation/sales order, if applicable.
- :guilabel:`Opportunity`: Select the specific opportunity (from the **CRM** app) related to this
  quotation, if applicable.
- :guilabel:`Campaign`: Select the marketing campaign related to this quotation, if applicable.
- :guilabel:`Medium`: Select the method by which this quotation originated (e.g. *Email*), if
  applicable.
- :guilabel:`Source`: Select the source of the link used to generate this quotation (e.g.
  *Facebook*), if applicable.

.. seealso::
   :doc:`../../../websites/website/reporting/link_tracker`

Notes tab
---------

In the :guilabel:`Notes` tab of the quotation form, enter any specific internal notes about the
quotation and/or customer, if desired.

.. _sales/sales_quotations/send-and-confirm:

Sending and confirming quotations
=================================

Once all the necessary fields and tabs have been configured, it is time to send the quotation to the
customer for confirmation. Upon confirmation, the quotation turns into an official sales order.

At the top of the form, there is a series of buttons:

- :guilabel:`Send by Email`: When clicked, a pop-up window appears with the customer's name and
  email address in the :guilabel:`Recipients` field, the quotation (and reference ID) in the
  :guilabel:`Subject` field, and a brief default message in the body of the email, which can be
  modified, if needed.

  Below that, a PDF copy of the quotation is attached. When ready, click :guilabel:`Send` to send
  the quotation, via email, to the customer, so they can review and confirm it.
- :guilabel:`Send PRO-FORMA Invoice`: This button **only** appears if the *Pro-Forma Invoice*
  setting has been enabled. When clicked, a pop-up window appears with the customer's name and email
  address in the :guilabel:`Recipients` field, the *Proforma* invoice (and reference ID) in the
  :guilabel:`Subject` field, and a brief default message in the body of the email, which can be
  modified, if needed.

  Below that, a PDF copy of the quotation is attached. When ready, click :guilabel:`Send` to send
  the quotation, via email, to the customer, so they can review and confirm it.
- :guilabel:`Confirm`: When clicked, the quotation is confirmed, and the status changes to
  :guilabel:`Sales Order`.
- :guilabel:`Preview`: When clicked, Odoo reveals a preview of the quotation the customer sees when
  they log into their customer portal. Click the :icon:`fa-arrow-right` :guilabel:`Back to edit
  mode` link at the top of the preview page, in the blue banner, to return to the quotation form.
- :guilabel:`Cancel`: When clicked, the quotation is canceled.

.. note::
   If the *Lock Confirmed Sales* setting is enabled, the sales order becomes :guilabel:`Locked`, and
   is indicated as such on the sales order form.

At this point, the quotation has been confirmed, turned into a sales order, and is now ready to be
invoiced and paid for.

For more information about invoicing, refer to the :doc:`Invoice based on delivered or ordered
quantities <../invoicing/invoicing_policy>`

.. seealso::
   - :doc:`quote_template`
   - :doc:`deadline`
   - :doc:`get_signature_to_validate`
   - :doc:`get_paid_to_validate`
   - :doc:`pdf_quote_builder`
   - :doc:`../invoicing/proforma`


==================================================
SECTION: currencies.rst
PATH: applications/sales/sales/products_prices/prices/currencies.rst
==================================================

==================
Foreign currencies
==================

With Odoo, pricelists can be used to manage prices in a number of foreign currencies. Specifically,
Odoo has the ability to work with 167 total currencies.

.. note::
   In order to use multiple currencies in Odoo *Sales*, the *Accounting* application **must** be
   installed.

Settings
========

Once the *Accounting* app has been installed, foreign currencies can be added to the database.
Navigate to :menuselection:`Accounting app --> Configuration --> Settings`, scroll to the
:guilabel:`Currencies` section, and locate the :guilabel:`Main Currency` setting.

.. image:: currencies/main-currency-setting-page.png
   :align: center
   :alt: How the main currency feature appears on settings page in Odoo Accounting.

Odoo automatically sets the main currency as the currency of the country the company is based in.

To change the main currency of the company, select the drop-down menu in the :guilabel:`Currency`
field, select the desired currency, and be sure to :guilabel:`Save` the changes.

.. tip::
   To ensure currency rates are updated automatically, enable the *automatic currency rates* feature
   on the *Accounting* settings page (:menuselection:`Accounting app --> Configuration --> Settings
   --> Currencies section`).

   .. image:: currencies/automatic-currency-rates.png
      :align: center
      :alt: How the main currency feature appears on settings page in Odoo Accounting.

   Click the checkbox beside the :guilabel:`Automatic Currency Rates` feature, choose a designated
   bank to get the currency rates from in the :guilabel:`Service` field drop-down menu, and select
   an :guilabel:`Interval` of time for the updates to take place. Then determine when the date of
   the :guilabel:`Next Run` should be.

   To instantly update the currency rates, click the :guilabel:`ðŸ” (circular arrows)` icon, located
   to the right of the :guilabel:`Next Run` field.

   When all configurations are complete, be sure to :guilabel:`Save` all changes.

.. note::
   All payment methods **must** be in the same currency as the sales journal, or the company
   currency, if the company currency is not set. If it is not the same, a :guilabel:`Validation
   Error` message appears.

View, edit, and add currencies
==============================

To view, edit, and add currencies to the database, making them available on pricelists and on the
:guilabel:`Main Currency` drop-down menu, click the :guilabel:`Currencies` link, located beneath the
:guilabel:`Currency` field on the :menuselection:`Accounting app --> Settings` page.

When the :guilabel:`Currencies` link is clicked, a separate :guilabel:`Currencies` page is revealed.

.. image:: currencies/main-currencies-page.png
   :align: center
   :alt: How the main currencies page appears in Odoo Accounting.

On this page, Odoo provides a master list of 167 global currencies. Each row shows the corresponding
:guilabel:`Currency`, :guilabel:`Symbol`, :guilabel:`Name`, date of the :guilabel:`Last Update`, and
:guilabel:`Current Rate` (compared to the default currency of the country in which the company is
based).

To the far right, there are two columns, which can be toggled on or off:

- :guilabel:`Active`: this currency is activated, which means it can be added to a pricelist, or
  used as the main currency of the company, if desired (via :menuselection:`Accounting app -->
  Configuration --> Settings --> Currencies section`).

.. note::
   By default, all the :guilabel:`Active` currency options are at the top of the list.

.. tip::
   It is recommended that *at least* one pricelist is created per :guilabel:`Active` currency. See
   :doc:`./pricing` to learn more about pricelist configuration.

To toggle options on/off, click the toggle switch in the row for the corresponding column. When *on*
the color of the switch is green. When *off*, the color of the switch is grey.

Currency detail form
--------------------

To edit any currency on the :guilabel:`Currencies` page, click the desired currency to reveal the
detail form for that specific currency, and proceed to make any necessary changes.

.. image:: currencies/currency-detail-form.png
   :align: center
   :alt: How a currency detail form looks in Odoo Accounting.

On the currency detail form, the relevant currency code appears in the :guilabel:`Currency` field.
Beneath that, the name for the currency is in the :guilabel:`Name` field.

Then, toggle the currency's availability with the :guilabel:`Active` toggle: *on* is indicated with
a green switch, and *off* is indicated with a grey switch.

On the right of the currency detail form, the appropriate :guilabel:`Currency Unit` (e.g. `Dollars`)
and :guilabel:`Currency Subunit` (e.g. `Cents`) can be found.

Next, under the :guilabel:`Rates` tab, the various conversion rates can be viewed, added, or
deleted. Each row shows the :guilabel:`Date` of that specific rate, the :guilabel:`Company` to which
it is connected, followed by the :guilabel:`Unit per...` and :guilabel:`...per Unit`.

.. note::
   The *...* in each of the last two columns represents the main currency set for the company. For
   example, if the main currency is set to `USD`, the columns are titled :guilabel:`Unit per USD`
   and :guilabel:`USD per Unit`.

To add a new rate, click :guilabel:`Add a line` in the :guilabel:`Rates` tab, and proceed to fill in
the necessary information in the aforementioned columns.

Main currency detail form
-------------------------

If the selected currency is the main currency of the company, a blue banner appears at the top of
the currency detail form with the message: :guilabel:`This is your company's currency.`.

.. image:: currencies/main-currency-detail-form.png
   :align: center
   :alt: How a main currency detail form looks in Odoo Accounting.

All the fields are the same as a typical currency detail form, but there will **not** be a
:guilabel:`Rates` tab because all other currency rates are based off the main currency of the
company.

Create new currency
===================

If a desired currency isn't on the :guilabel:`Currencies` page, click the :guilabel:`New` button to
open a blank currency template form.

.. tip::
   The same :guilabel:`New` button is located in the upper-right corner of any currency detail form.

.. image:: currencies/blank-currency-detail-form.png
   :align: center
   :alt: How a blank currency detail form looks in Odoo Accounting.

On the blank currency detail form, proceed to enter the desired currency code in the
:guilabel:`Currency` field. Beneath that, enter the name for the currency in the :guilabel:`Name`
field.

Then, toggle the currency's availability with the :guilabel:`Active` toggle switch.

On the right of the currency detail form, enter the appropriate :guilabel:`Currency Unit` (e.g.
`Dollars`) and appropriate :guilabel:`Currency Subunit` (e.g. `Cents`).

Next, under the :guilabel:`Rates` tab, add a new rate by clicking :guilabel:`Add a line`. Then,
proceed to confirm and adjust the :guilabel:`Date`, :guilabel:`Company`, :guilabel:`Unit per...`,
and :guilabel:`...per Unit` fields to ensure all the auto-populated information is accurate.

.. note::
   The *...* in each of the last two columns represents the main currency set for the company. For
   example, if the main currency is set to `USD`, the columns are titled :guilabel:`Unit per USD`
   and :guilabel:`USD per Unit`.

.. _sales/products/currencies/currency-specific-pricelists:

Currency-specific pricelists
============================

It is recommended that *at least* one pricelist is created per active currency in the database. To
create (or assign) a pricelist to a specific currency, start by navigating to :menuselection:`Sales
app --> Products --> Pricelists`.

From the :guilabel:`Pricelists` page, either select an existing pricelist to edit, or click
:guilabel:`New` to create a new pricelist.

On the pricelist detail form, for either a new or existing pricelist, adjust the
:guilabel:`Currency` field as desired.

.. seealso::
   :doc:`./pricing` to learn more about pricelist configuration.

Auto-conversion from public price
=================================

It should be noted that the public price seen on products is directly related to the main currency
the company has set, which is configured by navigating to :menuselection:`Accounting app -->
Configuration --> Settings --> Currencies section --> Main Currency --> Currency drop-down menu`.

The sales price automatically updates if the pricelist is changed to a different pricelist that has
a different currency than the company's main currency. The change in price is directly related to
the updated conversion rate for that currency.

Set product prices
==================

In order to have product prices set in place to avoid any changes in currency rates, start by
navigating to :menuselection:`Sales app --> Products --> Products`.

From the :guilabel:`Products` page, select the desired product to modify. Or, create a new product
by clicking the :guilabel:`New` button.

Then, on the product detail form, click the :guilabel:`Extra Prices` smart button, located in the
upper-left corner. Doing so reveals a separate :guilabel:`Price Rules` page, specific to that
particular product.

.. image:: currencies/price-rules-currencies.png
   :align: center
   :alt: How to set product prices based on foreign currency pricelists in Odoo Sales.

Click :guilabel:`New`, and select the desired pricelist from the drop-down menu in the
:guilabel:`Pricelist` column.

The :guilabel:`Applied On` field is auto-populated with the product, so proceed to enter in the
desired figures in the :guilabel:`Min. Quantity` and :guilabel:`Price` fields.

.. note::
   The figure in the :guilabel:`Min. Quantity` field means the :guilabel:`Price` being set will
   **only** trigger if at least that amount of product is purchased.

If necessary, configure a :guilabel:`Start Date` and :guilabel:`End Date` for the set prices.
Leaving those columns blank ensures the set price will remain valid, regardless of the date of sale.

If working in a multi-company environment, designate to which company this price rule should be
applied in the :guilabel:`Company` field. Leaving that field blank ensures the price rule applies to
all companies in the database.

With those configurations complete, regardless of any changes/updates in conversion, whenever those
designated pricelists are applied to a customer trying to purchase this specific product, these
pre-determined set prices appear.

.. seealso::
   :doc:`./pricing`


==================================================
SECTION: deadline.rst
PATH: applications/sales/sales/sales_quotations/deadline.rst
==================================================

===================
Quotation deadlines
===================

In the Odoo *Sales* application, it is possible to set deadlines on sales quotations. Doing so
encourages customers to act quickly during sales negotiations, for they might fear for missing out
on a good deal. As well, deadlines also can also act as protection for a company in case an order
has to be fulfilled at a price that is no longer profitable for the business.

Quotation expiration
====================

In Odoo *Sales*, there's the option to add an expiration date to a quotation.

To add an expiration date to a quotation, navigate to :menuselection:`Sales app`, and select a
desired quotation, or create a new one by clicking :guilabel:`New`.

On the quotation form, click the :guilabel:`Expiration` field to reveal a pop-up calendar. From this
pop-up calendar, select the desired month and date as the expiration date for the quotation.

.. image:: deadline/quotation-deadlines-expiration-field.png
   :align: center
   :alt: The expiration field on a standard quotation form in Odoo Sales.

.. tip::
   By clicking the :guilabel:`Preview` button on a quotation, Odoo clearly displays when that
   specific offer expires.

   .. image:: deadline/quotation-deadlines-preview.png
      :align: center
      :alt: How customers will see deadlines on Odoo Sales.

Quotation template expiration
=============================

The Odoo *Sales* application also makes it possible to add a deadline expiration date to quotation
templates.

To add a deadline expiration date to a quotation template, navigate to :menuselection:`Sales app -->
Configuration --> Quotation Templates`, and either select the desired quotation template to which a
deadline should be added, or click :guilabel:`New` to build a new quotation template from scratch.

On the quotation template form, add a specific number of days to the :guilabel:`Quotation expires
after` field, located beneath the quotation template name. The number of days represents how long
the quotation will be valid for, before it expires.

.. image:: deadline/quotation-deadlines-expires-after.png
   :align: center
   :alt: The quotation expires after field on a quotation template form in Odoo Sales.

Then, whenever that specific quotation template is used in a quote, an expiration date is
automatically calculated, based on the number of days designated above. However, this date can be
overwritten before sending the quotation to the customer.

.. seealso::
   :doc:`quote_template`


==================================================
SECTION: different_addresses.rst
PATH: applications/sales/sales/sales_quotations/different_addresses.rst
==================================================

==============================================
Deliveries and invoices to different addresses
==============================================

People and businesses often use separate addresses for billing (invoicing) and shipping (delivery)
purposes. With the Odoo **Sales** app, contacts can have different specified addresses for delivery
and invoicing.

Settings
========

To properly utilize multiple addresses in Odoo, go to the :menuselection:`Accounting app -->
Configuration --> Settings`, and scroll down to the :guilabel:`Customer Invoices` heading. Then,
tick the :guilabel:`Customer Addresses` checkbox.

.. image:: different_addresses/customer-addresses-setting.png
   :alt: Activate the Customer Addresses setting.

.. _sales/send_quotations/contact-form-config:

Contact form configuration
==========================

To add multiple addresses to a contact, go to the :menuselection:`Sales app --> Orders -->
Customers`, and clear any default filters from the search bar. Then, click on the desired customer
to open their contact form.

.. tip::
   Contact forms can be accessed in the **Contacts** application, as well.

From the contact form, click the :guilabel:`Add Contact` button, which is located under the
:guilabel:`Contacts` tab. This brings up the :guilabel:`Create Contact` pop-up form, in which
additional addresses can be configured.

.. image:: different_addresses/contact-form-add-address.png
   :alt: Add a contact/address to the contact form.

On the :guilabel:`Create Contact` pop-up form, select any of the following options:

- :guilabel:`Contact`: Adds another contact, such as an employee at a company, to the contact form.
- :guilabel:`Invoice`: Adds a default invoice address to the contact form.
- :guilabel:`Delivery`: Adds a default delivery address to the contact form.
- :guilabel:`Other Address`: Adds an alternate address to the contact form.

.. image:: different_addresses/create-contact-window.png
   :alt: Create a new contact/address on a contact form.

Once the corresponding information has been entered, click :guilabel:`Save & Close` to save the
address and close the :guilabel:`Create Contact` window. To save the address and input additional
contact information, click :guilabel:`Save & New` instead.

Quotations and autopopulated addresses
======================================

When a customer with invoice and delivery addresses in their contact form is added to a quotation,
the :guilabel:`Invoice Address` and :guilabel:`Delivery Address` fields autopopulate with the
corresponding addresses.

.. image:: different_addresses/quotation-address-autopopulate.png
   :alt: Invoice and Delivery Addresses autopopulate on a quotation.

The :guilabel:`Invoice Address` and :guilabel:`Delivery Address` can also be edited directly from
the quotation by mousing over the address and clicking the :icon:`oi-arrow-right`
:guilabel:`(Internal Link)` icon.


==================================================
SECTION: discounts.rst
PATH: applications/sales/sales/products_prices/prices/discounts.rst
==================================================

=========
Discounts
=========

The *Discounts* feature allows users to decrease or increase the price on item lines in a sales
quotation or order. This is calculated as a percentage of the products' sales price.

To access discounts in the **Sales** app, navigate to :menuselection:`Sales app --> Configuration
--> Settings`. In the :guilabel:`Pricing` section, tick the :guilabel:`Discounts` checkbox, then
click :guilabel:`Save`.

After the setting has been activated, navigate to the desired quotation by going to
:menuselection:`Sales app --> Orders --> Quotations` at the top of the page. Once there, click on
the desired quote from the list.

Discounts on product lines
==========================

In the :guilabel:`Order Lines` tab of the quotation form, a new column heading appears labeled
:guilabel:`Disc.%`. This column is used to set discounts on individual line items. Enter the desired
discount for each product line and the new price is automatically calculated in the
:guilabel:`Total` at the bottom of the page.

.. tip::
   A discount can also be added directly to a sales order in the same way. Navigate to
   :menuselection:`Sales app --> Orders --> Orders`, click the desired sales order, and add the
   discount to :guilabel:`Disc.%` field as described above.

.. image:: discounts/discount-on-sales-order.png
   :alt: The Dis.% heading will now appear in Order Lines.

.. note::
   Positive values for :guilabel:`Disc.%` will apply a *discount*, while negative values can be
   used to *increase* the price.

.. important::
   Positive values, or price decreases, will be visible to the customer, while negative values, or
   price increases, will *not* be visible to the customer. Instead of a discount column, the
   negative discount will change the product's unit price.

.. _sales/discounts/discount-button:

Discount button
===============

With the *Discounts* settings enabled, a :guilabel:`Discount` button appears at the bottom of sales
orders.

.. image:: discounts/discount-button-sales-order.png
   :alt: The discount button located at the bottom of a sales order form in the Odoo Sales app.

Clicking the :guilabel:`Discount` button on a sales order opens a pop-up window, where the
:guilabel:`Discount` percentage, and options are configured:

- :guilabel:`On All Order Lines`: Add the specified discount percentage (configured in the
  :guilabel:`Discount` field of the pop-up window) on all existing order lines of the sales order.
- :guilabel:`Global Discount`: Add a discount product line to the order, which has the cumulative
  value equivalent to the specified discount percentage.

  .. example::
     A global discount of 10% is added in the last line of a sales order with a subtotal of $4,200
     by adding a discount line with a -$420 value (which is 10% of $4,200).

     .. image:: discounts/global-discount-option.png
        :alt: The sales order with the applied global discount option in the Odoo Sales application.

  .. important::
     Any product added (or removed) *after* the global discount line is added does **not** affect
     the discount value on the discount line. To include new products or amend current products in
     the global discount, delete the current global discount line and repeat the steps.

- :guilabel:`Fixed Amount`: Add a monetary amount to the :guilabel:`Discount` field. Once applied,
  this amount is added to the order as a product line, with the monetary value subtracted from the
  order total.

  .. example::
     A fixed discount of $20 appears as a product line, with a negative :guilabel:`Unit Price`.

     .. image:: discounts/fixed-discount-on-sales-order.png
        :alt: The sales order with the applied fixed discount option in the Odoo Sales application.

.. note::
   It is more beneficial to add a :guilabel:`Fixed Amount` discount after **all** desired products
   have been added to a sales order. If there are changes made to the sales order *after* the
   discount is added, adjust the value on the :guilabel:`Discount` line, or remove the line and add
   the discount again, as needed.


==================================================
SECTION: down_payment.rst
PATH: applications/sales/sales/invoicing/down_payment.rst
==================================================

=============
Down payments
=============

A down payment is an initial up-front payment made during the confirmation of a sales transaction.
With a down payment, the buyer pays a portion of the total amount owed while agreeing to pay the
remaining amount at a later date. In turn, the seller provides goods or services to the buyer upon
or after accepting the down payment, trusting that the remaining amount will be paid later on.

In the Odoo **Sales** app, down payments can be customized to fit the needs of each individual sales
transaction.

Create invoices
===============

When a sales order is confirmed, the option to create an invoice becomes available via the
:guilabel:`Create Invoice` button. When clicked, a :guilabel:`Create invoice(s)` pop-up appears.

.. image:: down_payment/create-invoices-popup-form.png
   :alt: Create invoice(s) pop-up form that appears in Odoo Sales.

.. note::
   Invoices are automatically created as drafts so they can be reviewed before validation.

On the :guilabel:`Create invoice(s)` pop-up, there are 3 options to choose from in the
:guilabel:`Create Invoice` field:

- :guilabel:`Regular invoice`
- :guilabel:`Down payment (percentage)`
- :guilabel:`Down payment (fixed amount)`

Initial down payment request
============================

On the :guilabel:`Create invoice(s)` pop-up window, the down payment options are:

- :guilabel:`Down payment (percentage)`
- :guilabel:`Down payment (fixed amount)`

Select a down payment option and set the desired payment, either as a percentage or a fixed amount,
in the :guilabel:`Down Payment Amount` field.

Once all fields are filled in, click the :guilabel:`Create Draft` button. Upon clicking this button,
Odoo reveals the :guilabel:`Customer Invoice Draft`.

.. important::
   If an :guilabel:`Invalid Operation` error appears, double-check that the :doc:`invoicing policy
   <invoicing_policy>` is configured correctly. In some cases, for example, the invoicing policy is
   configured to require delivery before sending an invoice.

In the :guilabel:`Invoice Lines` tab of the :guilabel:`Customer Invoice Draft`, the down payment
that was just configured in the :guilabel:`Create invoice(s)` pop-up form appears under a new
:guilabel:`Down Payments` section.

.. _sales/invoicing/50-percent-down-payments:

Example: requesting a 50% down payment
======================================

.. note::
   The following example involves a 50% amount down payment on a (:guilabel:`Cabinet with Doors`)
   with :guilabel:`Ordered quantities` as the :guilabel:`Invoicing Policy`.

   .. image:: down_payment/cabinet-product-details.png
      :alt: Cabinet with doors product form showcasing various details and fields.

Navigate to :menuselection:`Sales app --> New`, and add a :guilabel:`Customer` to the quotation.
Then, click :guilabel:`Add a product` in the :guilabel:`Order Lines` tab, and select the
:guilabel:`Cabinet with Doors` product. When the order is confirmed (via the :guilabel:`Confirm`
button), the quotation turns into a sales order. Once this occurs, create and view the invoice by
clicking :guilabel:`Create Invoice`.

.. image:: down_payment/cabinet-sales-orders-confirmed.png
   :alt: Cabinet with doors sales order that's been confirmed in the Odoo Sales application.

Next, on the :guilabel:`Create invoice(s)` pop-up window that appears, select :guilabel:`Down
payment (percentage)`, and type `50` in the :guilabel:`Down Payment` field.

.. note::
   The :guilabel:`Income Account` attached to the :guilabel:`Down payment` can be changed. For more
   information, check out the documentation on :ref:`income account modification on down payments
   <sales/invoicing/income-account-modification>`. A :guilabel:`Down payment Account` can also be
   set on a product category. If set, this account is prioritized for future down payments.

Lastly, click :guilabel:`Create Draft Invoice` to create and view the invoice draft, which includes
the down payment under the :guilabel:`Down Payments` section of the :guilabel:`Invoice Lines` tab.
From there, the invoice can be confirmed and posted by clicking :guilabel:`Confirm`. Confirming the
invoice changes the status from :guilabel:`Draft` to :guilabel:`Posted`. It also reveals a new
series of buttons at the top of the page.

.. image:: down_payment/draft-invoice-sample.png
   :alt: A sample draft invoice with down payment mentioned in Odoo Sales.

From those buttons, the payment can be registered by clicking :guilabel:`Pay`. Doing so reveals a
:guilabel:`Pay` pop-up form, which is auto-populated with the necessary information. Confirm the
information provided is correct, and make any necessary adjustments. When ready, click the
:guilabel:`Create Payment` button.

.. image:: down_payment/register-payment-pop-up-window.png
   :alt: Showcase of the Pay pop-up window with create payment button.

After clicking :guilabel:`Create Payment`, Odoo reveals the customer invoice, now with a green
:guilabel:`In Payment` or :guilabel:`Paid` banner in the upper-right corner, depending on how the
database has configured and if manual confirmation of payments is required.

.. image:: down_payment/customer-invoice-green-payment-banner.png
   :alt: Customer Invoice with a green Paid banner located in the upper-right corner.

On the sales order, a new :guilabel:`Down Payments` section is present in the :guilabel:`Order
Lines` tab, along with the down payment that was just invoiced and posted. When the customer wants
to pay the remaining amount of the order, another invoice must be created.

.. image:: down_payment/down-payments-section-order-lines.png
   :alt: The down payments section in the order lines tab of a sales order.

Next, click the :guilabel:`Create Invoice` button. On the :guilabel:`Create invoice(s)` pop-up
window that appears, there is a new field: :guilabel:`Already invoiced` and :guilabel:`Amount to
invoice`.

.. image:: down_payment/create-invoices-pop-up-already-invoiced.png
   :alt: The deduct down payment option on the Create invoice(s) pop up in Odoo Sales.

If the remaining amount is ready to be paid, select the :guilabel:`Regular Invoice` option. Odoo
will create an invoice for the exact amount needed to complete the total payment, as indicated in
the :guilabel:`Amount to invoice` field.

Once ready, click :guilabel:`Create Draft Invoice`. Doing so reveals another :guilabel:`Customer
Invoice Draft` page, listing all the invoices for that specific sales order in the
:guilabel:`Invoice Lines` tab. Each invoice line item displays all the necessary information related
to each invoice.

To complete the flow, click :guilabel:`Confirm` to change the status of the invoice from
:guilabel:`Draft` to :guilabel:`Posted`. Then, click :guilabel:`Pay`. The :guilabel:`Pay` form
appears, with all fields auto-populated with the necessary information, including the remaining
amount left to be paid on the order.

.. image:: down_payment/second-register-payment-popup.png
   :alt: The second Pay pop-up form in Odoo sales.

After confirming that information, click :guilabel:`Create Payment`. Doing so reveals the final
:guilabel:`Customer Invoice` with a green :guilabel:`In Payment` or :guilabel:`Paid` banner in the
upper-right corner, depending on how the database has configured and if manual confirmation of
payments is required. Upon returning to the sales order, both down payments are present in the
:guilabel:`Order Lines` tab.

.. image:: down_payment/final-sales-order.png
   :alt: The second down payment invoice with Paid banner in Odoo Sales.

At this point, the flow is now complete. This flow is also possible with the :guilabel:`Fixed
amount` down payment option.

.. important::
   If a down payment is used with a product that has a :guilabel:`Delivered quantities` invoicing
   policy, and the cost of the product exceeds the 50% down payment, a regular invoice is created.
   However, for products that cost less than the 50% down payment, the down payments will not be
   able to be deducted when it comes time to invoice the customer. This is because the product(s)
   would have to be delivered *before* creating the final invoice due to Odoo not allowing negative
   totals for invoices. If nothing has been delivered, a :guilabel:`Credit Note` is created, which
   cancels the draft invoice that was created after the down payment.

   To utilize the :guilabel:`Credit Note` option, the **Inventory** application must be installed in
   order to confirm the delivery. Otherwise, the delivered quantity can be entered manually directly
   on the sales order.

.. _sales/invoicing/100-percent-down-payments:

Example: requesting a 100% down payment
=======================================

Requesting a 100% down payment is similar to requesting a :ref:`50% down payment
<sales/invoicing/50-percent-down-payments>`, but with fewer steps.

.. note::
   A 100% down payment is not the same as a full payment of the sales order. A sales order paid
   through the regular invoice process will not allow any additional invoices to be generated and
   will not display the :guilabel:`Create Invoice` button on the Sales Order. Instead, following
   this example will cause the :guilabel:`Create Invoice` button to be displayed on the Sales Order.
   This is because the system expects another invoice to be created after the down payment to
   complete payment of the sales order.

The *Solar Panel Installation* product is being used in this example.

To configure a 100% down payment, navigate to :menuselection:`Sales app --> New` and add a
:guilabel:`Customer` to the quote. Next, click :guilabel:`Add a product` in the :guilabel:`Order
Lines` tab, and select the `Solar Panel Installation` product. Upon clicking the :guilabel:`Confirm`
button, the quotation turns into a sales order. At that point, an invoice can now be created by
clicking :guilabel:`Create Invoice` in the top-left corner. On the :guilabel:`Create invoice(s)`
pop-up window that appears, select :guilabel:`Down payment (percentage)`, and type `100` in the
:guilabel:`Down Payment` field.

.. image:: down_payment/100p-down-payment-percentage.png
   :alt: The Down payment (percentage) option selected with 100% set as the Down Payment.

Next, click :guilabel:`Create Draft Invoice` to create an invoice draft. This will also bring the
draft invoice into view, which includes the :guilabel:`Down payment` under the :guilabel:`Down
Payments` section of the :guilabel:`Invoice Lines` tab. The invoice can now be confirmed and posted
by clicking :guilabel:`Confirm`. Confirming the invoice changes the status from :guilabel:`Draft` to
:guilabel:`Posted`. It also reveals a new series of buttons at the top of the page.

The payment can be registered by clicking the :guilabel:`Pay` button. This brings up the
:guilabel:`Pay` pop-up form, which is auto-populated with the necessary information. When ready,
click the :guilabel:`Create Payment` button.

After clicking :guilabel:`Create Payment`, Odoo reveals the customer invoice, now with a green
:guilabel:`In Payment` or :guilabel:`Paid` banner in the upper-right corner, depending on how the
database has configured and if manual confirmation of payments is required. The process is now
complete, and the 100% down payment has been successfully applied.

.. _sales/invoicing/income-account-modification:

Income account modification on down payments
============================================

.. important::
   To change or adjust the income account attached to down payments, the **Accounting** app must be
   installed. With the **Accounting** app installed, the :guilabel:`Accounting` column becomes
   available on the draft invoice.

Navigate to the invoice to be modified by going to :menuselection:`Sales app --> Orders --> Orders`.
Open an order, then click the :guilabel:`Invoices` smart button. Open an invoice, click the
drop-down arrow on the entry in the :guilabel:`Account` column and click :guilabel:`Search more...`
to bring up the :guilabel:`Search: Account` form. In this form, a different account can be chosen
from the list of pre-existing accounts. A new account can also be created by clicking the
:guilabel:`New` button.

.. image:: down_payment/income-account.png
   :alt: The Search:Account form with existing accounts displayed and a button to create a new
         account.

.. seealso::
   :doc:`invoicing_policy`


==================================================
SECTION: ewallets_giftcards.rst
PATH: applications/sales/sales/products_prices/ewallets_giftcards.rst
==================================================

===========================
Use eWallets and gift cards
===========================

With Odoo, customers can use **eWallets** and **gift cards** for online and in-store shopping.

To enable eWallets and gift cards for eCommerce and Point of Sale (PoS), first enable
:guilabel:`Discounts, Loyalty & Gift Card` under :menuselection:`Sales app --> Configuration -->
Settings --> Pricing section`. Once enabled, go to :menuselection:`Sales app --> Products --> Gift
cards & eWallet` and :guilabel:`Create` a new eWallet or gift card program.

eWallets
========

eWallets allow customers to save credits on their online account and use these credits as a payment
method when buying items in an online store or a brick-and-mortar store. eWallets can also be used
to centralize multiple :ref:`gift cards <ewallet_gift/gift-cards>`.

Before creating an eWallet program, it is necessary to create an eWallet **top-up** product. Top-ups
are pre-defined digital credit values added to an eWallet in exchange for its equivalent in real
currency. These credits can then be used as a payment method in the eCommerce shop or :abbr:`PoS
(Point of Sale)`. Top-up values can be of different amounts.

.. example::
   A $50 top-up can be bought for $50, and adds that same amount of credits to the eWallet.

To create a top-up product, go to :menuselection:`Sales app --> Products --> Products` and
:guilabel:`Create` a new product. On the product template, configure the options as follows:

- :guilabel:`Product Name`: enter a name for the top-up product (for example, `$50 Top-Up`)
- :guilabel:`Can be Sold`: enabled
- :guilabel:`Product Type`: select :guilabel:`Service`
- :guilabel:`Invoicing Policy`: select :guilabel:`Prepaid/Fixed Price`
- :guilabel:`Create on Order`: select :guilabel:`Nothing`
- :guilabel:`Sales Price`: enter the amount of the top-up

.. note::
   In order to have eWallet top-ups of different amounts, create multiple top-up products and
   modify the :guilabel:`Sales Price` accordingly.

Once the top-up is created, go to :menuselection:`Sales app --> Products --> Gift cards & eWallet`
to :guilabel:`Create` an eWallet program. The following configuration options are available:

- :guilabel:`Program Name`: enter a name for the eWallet program
- :guilabel:`Program Type`: select :guilabel:`eWallet`
- :guilabel:`eWallet Products`: select the eWallet top-up created earlier. Repeat the process if
  you created top-ups of different amounts.
- :guilabel:`Email template`: select the email template used for the email sent to the customer. To
  create a new template, click on the field, select :guilabel:`Search More`, and then click
  :guilabel:`Create`.
- :guilabel:`Currency`: select the currency to use for the eWallet program
- :guilabel:`Company`: select the company for which the program is valid and available
- :guilabel:`Available On`: select the applications on which the program is valid and available
- :guilabel:`Website`: select the website on which the program is valid and available. Leave this
  field empty to include all websites.
- :guilabel:`Point of Sale`: select the :abbr:`PoS (Point of Sale)` in which the program is valid
  and available. Leave this field empty to include all :abbr:`PoS (Point of Sale)`.

.. image:: ewallets_giftcards/ewallet-configuration.png
   :align: center
   :alt: eWallet program configuration page

Once the program is configured, click the :guilabel:`Generate eWallet` button in the upper-left
corner to generate eWallets. eWallets can be generated based on :guilabel:`Customers` and/or
:guilabel:`Customer Tags`. The quantity is automatically adapted according to the
:guilabel:`Customers` and :guilabel:`Customer Tags` selected. Then, set the :guilabel:`eWallet
value`. Finally, set the :guilabel:`Valid Until` period if applicable.

Generated eWallets can be accessed through the :guilabel:`eWallets` smart button in the upper-right
corner. From there, :guilabel:`Send` or :guilabel:`Share` the eWallets via email or a URL link.

.. image:: ewallets_giftcards/ewallet-share.png
   :align: center
   :alt: eWallets send and share buttons

Click on an eWallet to change the :guilabel:`Expiration Date`, :guilabel:`Partner`, or
:guilabel:`Balance`. The :guilabel:`Code` of an eWallet *cannot* be changed, deleted, or duplicated.

.. _ewallet_gift/gift-cards:

Gift cards
==========

Gift cards can be purchased by customers, and in turn used as a payment method upon checkout at an
eCommerce shop or :abbr:`PoS (Point of Sale)`.

Before creating a new gift card program, it is necessary to first create gift cards as products. To
do so, go to :menuselection:`Sales app --> Products --> Products` and :guilabel:`Create` a product.
On the product template, configure the options as follows:

- :guilabel:`Product Name`: enter a name for the gift card product
- :guilabel:`Can be Sold`: enabled
- :guilabel:`Product Type`: select :guilabel:`Service`
- :guilabel:`Invoicing Policy`: select :guilabel:`Prepaid/Fixed Price`
- :guilabel:`Create on Order`: select :guilabel:`Nothing`
- :guilabel:`Sales Price`: enter the amount of the gift card

.. note::
  In order to have gift cards of different amounts, create multiple gift card products and modify
  the :guilabel:`Sales Price` accordingly.

Once the gift card product is created, go to :menuselection:`Sales app --> Products --> Gift cards
& eWallet` to :guilabel:`Create` a gift card program. The following configuration options are
available:

- :guilabel:`Program Name`: enter a name for the gift card program
- :guilabel:`Program Type`: select :guilabel:`Gift Card`
- :guilabel:`Gift Card Products`: select the gift card product created earlier. Repeat the process
  if you created gift card products of different amounts.
- :guilabel:`Email template`: select the default :guilabel:`Gift Card: Gift Card Information`
  template, or create a new template by clicking on the field, selecting :guilabel:`Search More`,
  and then clicking :guilabel:`Create`.
- :guilabel:`Print Report`: select :guilabel:`Gift Card`
- :guilabel:`Currency`: select the currency to use for the gift card program
- :guilabel:`Company`: select the company for which the program is valid and available
- :guilabel:`Available On`: select the applications on which the program is valid and available
- :guilabel:`Website`: select the website on which the program is valid and available. Leave this
  field empty to include all websites.
- :guilabel:`Point of Sale`: select the :abbr:`PoS (Point of Sale)` in which the program is valid
  and available. Leave this field empty to include all :abbr:`PoS (Point of Sale)`.

.. image:: ewallets_giftcards/giftcard-configuration.png
   :align: center
   :alt: Gift card program configuration page

Once the program is configured, click the :guilabel:`Generate Gift Cards` button in the upper-left
corner to generate gift cards. Gift cards can be generated either for :guilabel:`Anonymous
Customers` or :guilabel:`Selected Customers`. Set the :guilabel:`Quantity to generate` for
:guilabel:`Anonymous Customers`, or select the :guilabel:`Customers` and/or :guilabel:`Customer
Tags` for :guilabel:`Selected Customers`. Then, set the :guilabel:`Gift Card value`. Finally, set
the :guilabel:`Valid Until` period if applicable.

Generated gift cards can be accessed through the :guilabel:`Gift Cards` smart button in the
upper-right corner. From there, :guilabel:`Send` or :guilabel:`Share` the gift cards via email or a
URL link.

.. image:: ewallets_giftcards/giftcard-share.png
   :align: center
   :alt: Gift cards send and share buttons

Click on a gift card to change the :guilabel:`Expiration Date`, :guilabel:`Partner`, or
:guilabel:`Balance`. The :guilabel:`Code` of a gift card *cannot* be changed, deleted, or
duplicated.


==================================================
SECTION: expense.rst
PATH: applications/sales/sales/invoicing/expense.rst
==================================================

===============================
Reinvoice expenses to customers
===============================

While working on a project for a client, employees often have to spend their own money on various
expenses related to the project.

For example, an employee may need to use their own money to pay for a hotel, while they provide an
on-site service for a client. As a company, this expense should be reinvoiced to the customer. With
Odoo, these kinds of expenses can quickly be reinvoiced to the customer related to the project.

Expenses application
====================

To be able to reinvoice a customer for an expense, the *Expenses* application **must** be installed.

To install the *Expenses* application, navigate to :menuselection:`main Odoo dashboard --> Apps`,
and click :guilabel:`Install` on the *Expenses* application block. When clicked, Odoo installs the
application, refreshes the page, and returns to the main Odoo dashboard.

Add expenses to sales orders
============================

To begin, have a sales order confirmed in the *Sales* app to which a reinvoiced expense can be
added. Or, create a new sales order from scratch. To do that, navigate to the :menuselection:`Sales
app --> New`. Doing so reveals a blank quotation form.

Then, add a :guilabel:`Customer`, and add a product to the :guilabel:`Order Lines` tab, by clicking
:guilabel:`Add a product`. Next, select a product from the drop-down menu.

Lastly, click :guilabel:`Confirm` to confirm the sales order.

.. image:: expense/confirmed-sales-order.png
   :align: center
   :alt: This is how a confirmed sales order looks in the Odoo Sales application.

With the sales order confirmed, it's time to create an expense.

To do that, navigate to the *Expenses* application, by going to :menuselection:`main Odoo dashboard
--> Expenses`.

Then, from the *Expenses* dashboard, click :guilabel:`New` to reveal a blank expenses form.

.. image:: expense/blank-expenses-form.png
   :align: center
   :alt: A blank expenses form in the Odoo Expenses application.

On the expenses form, add a :guilabel:`Description` to easily reference the expense.

Then, in the :guilabel:`Category` field, select one of the following options from the drop-down
menu:

- :guilabel:`Communication`: any form of communication related to a project/order.
- :guilabel:`Others`: expense that doesn't fit into any other categories.
- :guilabel:`Meals`: any form of meal costs related to a project/order.
- :guilabel:`Gifts`: any form of gift costs related to a project/order.
- :guilabel:`Mileage`: any form of mileage (gas) costs related to project/order.
- :guilabel:`Travel \& Accommodation`: any travel or accommodation costs related to a project/order.

.. tip::
   New expense categories can be created from an expense form, by clicking the :guilabel:`Category`
   field drop-down menu, selecting :guilabel:`View All`, and clicking :guilabel:`New` from the
   :guilabel:`Search:Category` pop-up window.

   .. image:: expense/expense-category-pop-up.png
      :align: center
      :alt: The Search:Category expenses pop-up window from a blank expenses form in Odoo Expenses.

For this sample workflow, which will reinvoice a customer for a brief hotel stay, the
:guilabel:`Category` for this example is :guilabel:`[TRANS \& ACC] Travel \& Accommodation`.

.. note::
   The following example requires the *Sales*, *Accounting*, and *Expense* apps to view/modify all
   the fields mentioned during the workflow.

Beneath the :guilabel:`Category` field, enter in the amount to be expensed in the :guilabel:`Total`
field.

Next, designate if there are any :guilabel:`Included taxes` in the :guilabel:`Total`. If a
preconfigured tax amount is selected from the :guilabel:`Included taxes` field, Odoo auto-calculates
the taxed amount, based on the amount entered in the :guilabel:`Total` field.

Then, choose which :guilabel:`Employee` was responsible for the expense, and choose an option in the
:guilabel:`Paid By` field: :guilabel:`Employee (to reimburse)` or :guilabel:`Company`.

In this case, our employee paid for the hotel with their own money, so the :guilabel:`Employee (to
reimburse)` option is chosen.

On the right-hand side of the expenses form, the option to add a :guilabel:`Bill Reference` is
available. Beneath that, the auto-populated :guilabel:`Expense Date` and :guilabel:`Account` fields
are available.

.. note::
   The :guilabel:`Expense Date` and :guilabel:`Account` field can be modified, if needed.

Next, in the :guilabel:`Customer to Reinvoice` field, click the blank field to reveal a drop-down
menu. From this drop-down menu, select the appropriate sales order to which this expense should be
attached. This field **must** be filled, in order to reinvoice a customer for an expense.

Lastly, the option to modify the :guilabel:`Analytic Distribution` and :guilabel:`Company` fields
are available. These fields are *not* required to complete a reinvoiced expense to a customer, but
are available to modify, if needed.

Also, at the bottom of the expense form, there is a :guilabel:`Notes...` section, wherein any notes
related to this expense can be added, if needed.

.. image:: expense/filled-in-expense-form.png
   :align: center
   :alt: A filled out expenses form in the Odoo Expenses application.

At the top of the expense form, there are buttons to :guilabel:`Attach Receipt`, :guilabel:`Create
Report`, and :guilabel:`Split Expense`.

If there is a physical or digital receipt that should be attached to the expense, click
:guilabel:`Attach Receipt`.

If the cost of this expense needs to be split, click :guilabel:`Split Expense`. This feature can be
used for a number of reasons (spitting expense with another employee, to accommodate different tax
rates, etc.).

If neither of these options are necessary, click :guilabel:`Create Report` to lock in the expense
report that was just configured.

Doing so reveals an :guilabel:`Expense Report Summary` for the new expense.

.. image:: expense/expense-report-summary-form.png
   :align: center
   :alt: An expense report summary in the Odoo Expenses application.

Here, once the details related to the expense have been confirmed, click :guilabel:`Submit to
Manager`. This sends the expense report to the approving manager, who will review the expense.

The manager in charge of reviewing and approving the expense will inspect the details related to
the expense, and if there are no issues, they will click the :guilabel:`Approve` button â€” which
*only* appears on the manager's view of the :guilabel:`Expense Report Summary` that's been submitted
to the manager by the employee.

.. image:: expense/expense-report-summary-manager-approve.png
   :align: center
   :alt: An expense report summary that a manager will approve with an Approve button.

Once approved, the buttons at the top of the :guilabel:`Expense Report Summary` change once again.
At this point, the buttons at the top of the :guilabel:`Expense Report Summary` are: :guilabel:`Post
Journal Entries`, :guilabel:`Report in Next Payslip`, :guilabel:`Refuse`, and :guilabel:`Reset to
Draft`.

.. image:: expense/expense-report-summary-manager-post-journal.png
   :align: center
   :alt: An expense report summary with post journal entries button at the top of the form.

When the manager is satisfied with the :guilabel:`Expense Report Summary`, they'll click
:guilabel:`Post Journal Entries`.

Upon clicking :guilabel:`Post Journal Entries`, that button disappears, and the :guilabel:`Analytic
Distribution` column in the :guilabel:`Expense` tab is filled with the sales order that was
initially configured to the expense in the :guilabel:`Customer to Reinvoice` field.

.. important::
   By default, the :guilabel:`Customer to Reinvoice` field is enabled for the :guilabel:`[TRANS &
   ACC] Travel & Accommodation`, :guilabel:`[COMM] Communication`, :guilabel:`[FOOD] Meals`, and
   :guilabel:`[MIL] Mileage` expense category.

   It should be noted that **not** all of the default expense categories that come installed with
   the *Expenses* application have reinvoicing policies activated. The setting may have to be
   manually activated.

   To do that, navigate to :menuselection:`Expenses app --> Configuration --> Expenses Categories`
   to view a list of all expense categories in the database.

   Look in the :guilabel:`Re-Invoice Expenses` column to see which selections have been made for
   each expense category.

   .. image:: expense/expense-categories-page.png
      :align: center
      :alt: The Re-Invoice Expenses column on the Expense Categories page in the Odoo Expenses app.

   To modify an expense category, click the :icon:`fa-arrow-right` :guilabel:`(right arrow)` in the
   :guilabel:`Category` field, to reveal that specific expense from.

   Under the :guilabel:`Invoicing` section, in the :guilabel:`Re-Invoice Expenses` field, select
   either :guilabel:`At cost` or :guilabel:`Sales price`.

   .. image:: expense/reinvoice-expenses-field.png
      :align: center
      :alt: The Re-Invoice Expenses field on an Expense Category form in the Odoo Expenses app.

Reinvoice expense
=================

With those steps completed, it's time to return to the sales order to complete the reinvoice of the
expense to the customer.

To do that, navigate to :menuselection:`main Odoo dashboard --> Sales app`, and select the
appropriate sales order that should be reinvoiced for the expense.

On the sales form, the newly-configured expense is now in the :guilabel:`Order Lines` tab, with its
:guilabel:`Delivered` column filled in, and ready to be invoiced.

.. image:: expense/sales-order-with-expense-order-lines.png
   :align: center
   :alt: A sales order with the configured expense ready to be invoiced in the Order Lines tab.

After confirming the details of the expense, click :guilabel:`Create Invoice` at the top of the
sales order. When clicked, a :guilabel:`Create invoices` pop-up window appears.

.. image:: expense/create-invoices-popup.png
   :align: center
   :alt: A create invoices pop-up window that appears when the Create Invoice is clicked.

From this pop-up window, leave the :guilabel:`Create Invoice` field on the default
:guilabel:`Regular invoice` option, and click :guilabel:`Create Draft Invoice`.

Doing so reveals a :guilabel:`Customer Invoice Draft` showing *only* the expense in the
:guilabel:`Invoice Lines` tab.

.. image:: expense/customer-invoice-draft-with-expense.png
   :align: center
   :alt: A customer invoice draft with the expense in the Invoice Lines tab of the form.

If all the information related to the expense is correct, click :guilabel:`Confirm` to confirm the
invoice. Doing so moves the status of the invoice from :guilabel:`Draft` to :guilabel:`Posted`.

To send the invoice to the customer, click :guilabel:`Send \& Print`. Doing so reveals a
:guilabel:`Send` pop-up window, with a preconfigured message and PDF invoice in the body of the
message. The message can be reviewed and modified, if needed.

Once ready, click :guilabel:`Send \& Print` to send the invoice to the customer. When clicked, the
pop-up window disappears, and Odoo sends the message/invoice to the customer. Additionally, a PDF of
the invoice is automatically downloaded for record-keeping and/or printing purposes.

Back on the :guilabel:`Customer Invoice`, click the :guilabel:`Register Payment` button when the
customer pays for the invoiced expense.

.. image:: expense/customer-invoice-register-payment.png
   :align: center
   :alt: A customer invoice with the register payment button ready to be clicked.

When :guilabel:`Register Payment` is clicked, a :guilabel:`Register Payment` pop-up window appears.
In this pop-up window, the necessary fields are auto-populated with the correct information. After
reviewing the information, click :guilabel:`Create Payment`.

.. image:: expense/register-payment-popup.png
   :align: center
   :alt: A register payment pop-up window on a customer invoice in Odoo Sales.

Once :guilabel:`Create Payment` is clicked, the pop-up window disappears, and a green :guilabel:`In
Payment` banner is in the upper-right corner of the invoice, signifying this invoice is paid for in
full. Thus, completing the workflow.

.. image:: expense/expense-invoice-in-payment-banner.png
   :align: center
   :alt: A register payment pop-up window on a customer invoice in Odoo Sales.

.. seealso::
   - :doc:`invoicing_policy`
   - :doc:`time_materials`
   - :doc:`milestone`


==================================================
SECTION: features.rst
PATH: applications/sales/sales/amazon_connector/features.rst
==================================================

=========================
Amazon Connector features
=========================

The *Amazon Connector* synchronizes orders between Amazon and Odoo, which considerably reduces the
amount of time spent manually entering Amazon orders (from the Amazon Seller account) into Odoo. It
also allows users to accurately keep track of Amazon sales in Odoo.

Supported features
==================

The Amazon Connector is able to:

- Synchronize (Amazon to Odoo) all confirmed orders (both FBA and FBM), and their order items, which
  include:

  - product name, description, and quantity
  - shipping costs for the product
  - gift wrapping charges

- Create any missing partner related to an order in Odoo (contact types supported: contact and
  delivery address).

- Notify Amazon of confirmed shipment in Odoo (FBM) to get paid.

- Synchronize (Odoo to Amazon) all available quantities of your products (FBM).

- Support multiple seller accounts.

- Support multiple marketplaces per seller account.

The following table lists capabilities provided by Odoo when using the Amazon Connector:

+---------------------------+----------------------------+-------------------------------------+
|                           | Fulfilled By Amazon (FBA)  | Fulfilled By Merchant (FBM)         |
+===========================+============================+=====================================+
| **Orders**                | Synchronize shipped and    | Synchronize unshipped and cancelled |
|                           | cancelled orders.          | orders.                             |
+---------------------------+----------------------------+-------------------------------------+
| **Shipping**              | Shipping cost is computed  | Shipping cost is computed by Amazon |
|                           | by Amazon, and included in | and included in the synchronized    |
|                           | the synchronized order.    | orders.                             |
|                           +----------------------------+-------------------------------------+
|                           | Shipping done by Amazon.   | A delivery order is automatically   |
|                           |                            | created in Odoo for each new order. |
|                           |                            | Once it has been processed in Odoo, |
|                           |                            | the status is then synchronized in  |
|                           |                            | Amazon.                             |
+---------------------------+----------------------------+-------------------------------------+
| **Gift Wrapping**         | Handled by Amazon.         | Cost is computed by Amazon, and     |
|                           |                            | included in the synchronized order. |
|                           |                            | Gift message is added on a line of  |
|                           |                            | the order and on the delivery order.|
|                           |                            | Then it is up to the user.          |
+---------------------------+----------------------------+-------------------------------------+
| **Stock Management**      | Managed by Amazon, and     | Managed in Odoo Inventory app, and  |
|                           | synchronized with a virtual| synchronized with Amazon.           |
|                           | location to follow it in   |                                     |
|                           | Odoo.                      |                                     |
+---------------------------+----------------------------+-------------------------------------+
| **Delivery Notifications**| Handled by Amazon.         | Send by Amazon, based on delivery   |
|                           |                            | status synchronized from Odoo.      |
+---------------------------+----------------------------+-------------------------------------+

.. note::
   The Amazon Connector is designed to synchronize the data of sales orders. Other actions, such as
   downloading monthly fees reports, handling disputes, or issuing refunds, **must** be managed from
   the *Amazon Seller Central*, as usual.

.. warning::
   As of February 19, 2024, in North American marketplaces, :abbr:`FBA (Fulfilled by Amazon)` orders
   created with the *Amazon Connector*, do not get the customer's name passed onto the
   sales/delivery order in Odoo. This is due to the fact that Amazon now calculates, and remits,
   sales tax on behalf of sellers. In other words, personally identifiable customer information is
   not transmitted to the seller any longer, after a :abbr:`FBA (Fulfilled by Amazon)` order.

.. _amazon/supported-marketplaces:

Supported marketplaces
======================

If a marketplace is not listed in your Amazon marketplaces, it's possible to :ref:`add a new
marketplace <amazon/add-new-marketplace>`.

+-------------------------------+
| **North America region**      |
+===============+===============+
| Canada        | Amazon.ca     |
+---------------+---------------+
| Mexico        | Amazon.com.mx |
+---------------+---------------+
| US            | Amazon.com    |
+---------------+---------------+

+-------------------------------+
| **Europe region**             |
+===============+===============+
| Germany       | Amazon.de     |
+---------------+---------------+
| Spain         | Amazon.es     |
+---------------+---------------+
| France        | Amazon.fr     |
+---------------+---------------+
| UK            | Amazon.co.uk  |
+---------------+---------------+
| Italy         | Amazon.it     |
+---------------+---------------+
| Netherlands   | Amazon.nl     |
+---------------+---------------+

.. seealso::
   - :doc:`setup`
   - :doc:`manage`


==================================================
SECTION: gelato.rst
PATH: applications/sales/sales/gelato.rst
==================================================

======
Gelato
======

Gelato is a global print-on-demand platform that integrates with Odoo to sync product catalogs and
automate order fulfillment.

Connecting Gelato's services with Odoo's **Sales** and **eCommerce** apps enables the following:

- Sync Odoo sales orders with Gelato for automated order fulfillment
- Create and manage Gelato products within Odoo; supports product variant and image sync
- Configure delivery options in Odoo and receive order updates via webhooks.

Configuration
=============

.. important::
   The company information (*Company name* and *Billing address*) in the Gelato account *must* match
   the company information in the Odoo database in order for sales orders to be confirmed and sent
   to Gelato for fulfillment.

   .. image:: gelato/gelato-company.png
      :alt: Company information in Gelato.

   .. image:: gelato/odoo-company.png
      :alt: Company information in Odoo.

Configure API keys and webhooks in Gelato
-----------------------------------------

Before configuring the Gelato connector in Odoo, first obtain API credentials and webhooks from the
Gelato account.

API connectors enable Odoo **Sales** to send and receive data from Gelato for order processing,
while webhooks provide real-time updates on order status and shipment tracking.

API Key
~~~~~~~

An API Key is a unique authentication token that allows Odoo to securely communicate with Gelato's
API, enabling order transmission, status updates, and data synchronization.

After logging into Gelato, click :icon:`fa-code` :guilabel:`Developer` in the left menu bar. From
here, click on :guilabel:`API keys`. In the new page, click the :guilabel:`Add API Key` button to
open a new API key form. Type in a name, then click :guilabel:`Create Key`.

Copy the generated API key using :guilabel:`Copy to Clipboard`.

.. image:: gelato/gelato-api-key.png
   :alt: Newly generated API key in the Gelato platform.

.. important::
   Copy the API key and store it somewhere safe and secure before leaving this page. Once the page
   is refreshed or exited, the key will not be available to copy.

   If the key cannot be copied or is lost, return to the :guilabel:`API key` page and start over,
   creating a new API key.

Webhook
~~~~~~~

A webhook is an automated notification system that instantly updates Odoo when Gelato processes,
ships, or delivers an order, ensuring real-time tracking and minimal manual intervention.

To create a webhook, go to :menuselection:`Developer --> Webhooks` under the :guilabel:`Developer`
drop-down menu in the left menu bar. In the new page, click :guilabel:`Add Webhook` to open a
:guilabel:`Create Webhook` form.

The webhook form requires several specific configurations:

- :guilabel:`URL`: This tells Gelato where to send the order updates in Odoo. Copy and paste the
  Odoo database URL with the additional suffix `/gelato/webhook`.

  .. example::
     `https://stealthywood.odoo.com/gelato/webhook`

- :guilabel:`Events`: Click into the field and select :guilabel:`order_status_updated`. Selecting
  :guilabel:`order_status_updated` ensures Odoo receives order changes automatically.
- :guilabel:`Method`: Click into the field and select the :guilabel:`HTTP Post` option, as this is
  the request method used to send data from Gelato to Odoo.
- Tick the checkbox next to :guilabel:`I want to take Authorization to this webhook`.
- :guilabel:`Header Name`: In this field, type in `signature` to match the field in Odoo.
- Click :guilabel:`Generate Key` to generate a :guilabel:`Header Value`.
- Click :guilabel:`Create` to complete this webhook configuration.

.. image:: gelato/gelato-webhook.png
   :alt: Newly configured webhook in the Gelato platform.

.. tip::
   Copy and paste the API key and webhook on a notepad before tabbing out of the Gelato webpage as
   backup.

Configure Gelato connector in Odoo
----------------------------------

In Odoo, navigate to :menuselection:`Sales app --> Configuration --> Settings`, then scroll to the
:guilabel:`Connectors` section. Enable the :guilabel:`Gelato` connector by ticking the checkbox.
Next, paste the newly generated API keys and webhook secret key into their respective fields. Once
saved, Gelato is available in Odoo **Sales** and **eCommerce** products.

Synchronizing Gelato products with Odoo Sales
=============================================

It is recommended to have products already configured in Gelato before configuring them in Odoo. To
get the product ID in Gelato, navigate to the :guilabel:`Templates` page from the side bar menu.
Select which product to synchronize in Odoo, then hover over the product card to reveal the
:icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` menu icon. Click the menu icon, then click
:guilabel:`Copy Template ID` to copy the product template ID to the clipboard.

.. seealso::
   `Start selling products with Gelato: Quick & easy setup
   <https://www.gelato.com/blog/get-started-with-gelato-creating-products>`_


Odoo Sales product
------------------

To create a product in Odoo that matches the Gelato product, navigate to :menuselection:`Sales app
--> Products --> Products`, select :guilabel:`New` to create a new product form. Type in the product
:guilabel:`Name`, then navigate to the :guilabel:`Sales` tab. Find the :guilabel:`Gelato` section,
then click into the :guilabel:`Template Reference` field and paste the copied template ID from the
Gelato product. Finally, click :guilabel:`Synchronize`.

Successful synchronization pulls the Gelato product variant options into the newly configured Odoo
product.

In the new :guilabel:`Print Images` field, click the :guilabel:`default` marker to set a default
product image. Click the :icon:`fa-pencil` :guilabel:`(edit)` icon and select the product image file
to upload, then :guilabel:`Save & Close`.

.. important::
   The :guilabel:`Print Images` field *must* be configured on all Gelato products and their
   respective product variations before they can be ordered.

Product variants
----------------

To view and edit the newly synchronized product variants, navigate to the :guilabel:`Attributes &
Variants` tab, which will have the variants pulled from the Gelato product configuration. Click the
:guilabel:`Configure` button to edit and configure the variant images, delivery methods, additional
pricing, etc.

Order a Gelato product from Odoo
--------------------------------

Once synchronized, Gelato products are available to order in Odoo through :doc:`sales quotations
<sales_quotations>` or on the **eCommerce** store. Gelato delivery options are automatically
synchronized upon API and webhook configuration.

To add Gelato delivery, click :guilabel:`Add shipping` on the sales order. Select
:guilabel:`Standard Delivery` or :guilabel:`Express Delivery` in the :guilabel:`Shipping Method`
field, then click :guilabel:`Get rate`.

Once the quotation is confirmed, it becomes an active sales order, and the order is sent to Gelato
for fulfillment. Once a sales order is sent from Odoo to Gelato, Gelato processes the order,
produces the product at the nearest fulfillment center, and ships it directly to the end-customer.

.. seealso::
   :doc:`sales_quotations/create_quotations`

.. important::
   When creating a sales order for Gelato products in the database, only Gelato products can be
   added to the same sales order. Multivendor orders are not available with the Gelato connector at
   this time.


==================================================
SECTION: get_paid_to_validate.rst
PATH: applications/sales/sales/sales_quotations/get_paid_to_validate.rst
==================================================

=================================
Online payment order confirmation
=================================

The Odoo *Sales* application provides customers with the ability to confirm orders, via an online
payment, directly on a sales order. Once the sales order is electronically paid for by the customer,
the salesperson attached to the sales order is instantly notified that the order is confirmed.

Activate online payments
========================

In order to have customers confirm orders with an online payment, the *Online Payment* setting
**must** be activated.

To activate the *Online Payment* feature, go to :menuselection:`Sales app --> Configuration -->
Settings`, scroll to the :guilabel:`Quotations \& Orders` heading, check the box next to the
:guilabel:`Online Payment` feature, and click :guilabel:`Save`.

.. image:: get_paid_to_validate/online-payment-setting.png
   :align: center
   :alt: The online payment setting in the Odoo Sales application.

Beneath the :guilabel:`Online Payment` option on the *Sales* :guilabel:`Settings` page, there's a
:guilabel:`Default Quotation Validity` field. In this field, there's the option to add a specific
number of days for quotations to remain valid by default.

To enable this feature on a standard quotation, click the checkbox for the :guilabel:`Payment`
feature option, located in the :guilabel:`Online confirmation` field, on the :guilabel:`Other Info`
tab.

.. image:: get_paid_to_validate/online-payment-option-quotation.png
   :align: center
   :alt: The online payment setting on a standard quotation in Odoo Sales.

To enable this feature on a quotation template, click the checkbox for the :guilabel:`Payment`
feature option, located in the :guilabel:`Online confirmation` field of the quotation template form.

.. image:: get_paid_to_validate/online-payment-option-quotation-template.png
   :align: center
   :alt: The online payment setting on quotation template forms in Odoo Sales.

Payment providers
=================

After activating the :guilabel:`Online Payment` feature, a link to configure :guilabel:`Payment
Providers` appears beneath it.

Clicking that link reveals a separate :guilabel:`Payment Providers` page, in which a large variety
of payment providers can be enabled, customized, and published.

.. image:: get_paid_to_validate/payment-providers-page.png
   :align: center
   :alt: Payment providers page in Odoo Sales.

.. seealso::
   :doc:`../../../finance/payment_providers`

Register a payment
==================

After opening quotations in their customer portal, customers can click :guilabel:`Accept \& Pay` to
confirm their order with an online payment.

.. image:: get_paid_to_validate/accept-and-pay-button.png
   :align: center
   :alt: The accept and pay button on an online quotation in Odoo Sales.

After clicking :guilabel:`Accept \& Pay`, customers are presented with :guilabel:`Validate Order`
pop-up window containing different options for them to make online payments, in the :guilabel:`Pay
with` section.

.. image:: get_paid_to_validate/validate-order-pay-with.png
   :align: center
   :alt: How to register a payment on a validate order pop-up window in Odoo Sales.

.. note::
   Odoo will **only** offer payment options on the :guilabel:`Validate Order` pop-up window that
   have been published and configured on the :guilabel:`Payment Providers` page.

Once the customer selects their desired method of payment, they will click the :guilabel:`Pay`
button on the pop-up window to confirm the order. Odoo instantly notifies the assigned salesperson
upon order confirmation with an online payment.

.. image:: get_paid_to_validate/payment-confirmation-notification-chatter.png
   :align: center
   :alt: Sample of notification that appears in the chatter when an online payment is made.

.. seealso::
   - :doc:`quote_template`
   - :doc:`get_signature_to_validate`
   - :doc:`../../../finance/payment_providers`


==================================================
SECTION: get_signature_to_validate.rst
PATH: applications/sales/sales/sales_quotations/get_signature_to_validate.rst
==================================================

=========================================
Online signatures for order confirmations
=========================================

The Odoo **Sales** application provides customers with the ability to confirm orders, via an online
signature, directly on the sales order. Once the sales order is electronically signed by the
customer, the salesperson attached to the sales order is instantly notified that the order is
confirmed.

Activate online signatures
==========================

In order to have customers confirm orders with an online signature, the *Online Signature* feature
**must** be activated.

To activate the *Online Signature* feature, go to :menuselection:`Sales app --> Configuration -->
Settings`, scroll to the :guilabel:`Quotations \& Orders` heading, and activate the
:guilabel:`Online Signature` feature by checking the box beside it.

.. image:: get_signature_to_validate/signature-setting.png
   :alt: The Online Signature feature option in the Settings of the Odoo Sales application.

Then, click the :guilabel:`Save` button in the top-left corner.

.. note::
   When making a quotation template, the online signature feature is the :guilabel:`Signature`
   option, located in the :guilabel:`Online confirmation` field of the quotation template form.

   .. image:: get_signature_to_validate/signature-feature-quotation-template.png
      :alt: The Online confirmation signature option found on every quotation template in Odoo.

   On standard quotations, the online signature feature is the :guilabel:`Signature` option, located
   under the :guilabel:`Other Info` tab of the quotation form.

   .. image:: get_signature_to_validate/signature-other-info-tab.png
      :alt: The online signature feature option in the Other Info tab of a quotation form in Odoo.

Order confirmations with online signatures
==========================================

When clients access quotations online through their customer portal, there's a :guilabel:`Sign \&
Pay` button directly on the quotation.

.. image:: get_signature_to_validate/sign-and-pay-button.png
   :alt: The Sign and Pay button present on online quotations in Odoo Sales.

When clicked, a :guilabel:`Validate Order` pop-up window appears. In this pop-up window, the
:guilabel:`Full Name` field is auto-populated, based on the contact information in the database.

.. image:: get_signature_to_validate/validate-order-popup.png
   :alt: The Validate Order pop-up window for online signatures in Odoo Sales.

Then, customers have the option to enter an online signature with any of the following options:
:guilabel:`Auto`, :guilabel:`Draw`, or :guilabel:`Load`.

:guilabel:`Auto` lets Odoo automatically generate an online signature based on the information in
the :guilabel:`Full Name` field. :guilabel:`Draw` lets the customer use the cursor to create a
custom signature directly on the pop-up window. And :guilabel:`Load` lets the customer upload a
previously-created signature file from their computer.

After the customer has chosen any of the three previously mentioned signature options
(:guilabel:`Auto`, :guilabel:`Draw`, or :guilabel:`Load`), they will click the :guilabel:`Accept \&
Sign` button.

When :guilabel:`Accept \& Sign` is clicked, the various payment method options become available for
them to choose from (if the *online payment* option applies to this quotation).

Then, when the quotation is paid and confirmed, a delivery order is automatically created (if the
Odoo **Inventory** app is installed).

View online signatures in Developer Mode
----------------------------------------

Clients can view the online signature in :ref:`developer mode <developer-mode>`.

To view a online signature from a paid invoice, go to :menuselection:`Sales app --> Orders -->
Orders` and select the desired sales order. A new tab, :guilabel:`Customer Signature`, is available.
Click the tab to view the electronic signature as well as the :guilabel:`Signed By` and
:guilabel:`Signed On` information.

.. image:: get_signature_to_validate/customer-signature-tab.png
   :alt: The Customer Signature tab on a sales order when in Developer Mode.

.. seealso::
   - :doc:`quote_template`
   - :doc:`get_paid_to_validate`



==================================================
SECTION: import.rst
PATH: applications/sales/sales/products_prices/products/import.rst
==================================================

===============
Import products
===============

The Odoo **Sales** app provides a template for importing products with categories and variants,
which can be opened and edited with any spreadsheet software (Microsoft Excel, OpenOffice, Google
Sheets, etc.).

When this spreadsheet is filled out correctly, it can be uploaded to the Odoo database within
minutes. By the end of the process, all the products and their variants are live within Odoo and
accessible in the product catalog.

Download template
=================

To import products with categories and variants, the *Import Template for Products* must be
downloaded. Once downloaded, the template can be adjusted and customized, and then uploaded into the
Odoo database.

To download the necessary import template, navigate to :menuselection:`Sales app --> Products -->
Products`. On the :guilabel:`Products` page, click the :icon:`fa-cog` :guilabel:`(Action)` icon in
the upper-left corner.

From the drop-down menu, select the :guilabel:`Import records` option.

.. image:: import/cog-import-records.png
   :alt: The Import records option selectable from the cog icon on the Products page in Odoo Sales.

Selecting :guilabel:`Import records` displays a separate page with a :guilabel:`Import Template for
Products` link to download the template.

.. image:: import/import-template-products.png
   :alt: The Import records option selectable from the cog icon on the Products page in Odoo Sales.

Once downloaded, open the spreadsheet file to customize it.

Customize product import template
=================================

When modifying the product import template, keep in mind the following:

- Feel free to remove any columns that aren't deemed necessary. But, it is recommended that the
  :guilabel:`Internal Reference` column remain.

  While it is not mandatory, having a unique identifier (e.g., `FURN_001`) in the
  :guilabel:`Internal Reference` column for each product can be helpful in many cases. This can even
  be from previous software spreadsheets to ease the transition into Odoo.

  For example, when updating imported products, the same file can be imported several times without
  creating duplicates, thus enhancing the efficiency and simplicity of imported product management.
- Do **not** change the labels of columns that are meant to be imported. Otherwise, Odoo won't
  recognize them, forcing the user to map them manually on the import screen.
- Feel free to add new columns to the template spreadsheet, if desired. However, to be added, those
  fields **must** exist in Odoo. If Odoo can't match the column name with a field, it can be matched
  manually during the import process.

  During the import of the completed template, Odoo displays a page that shows all the elements of
  the newly configured product template spreadsheet, separated by :guilabel:`File Column`,
  :guilabel:`Odoo Field`, and :guilabel:`Comments`.

  To manually match a column name with a field in Odoo, click the :guilabel:`Odoo Field` drop-down
  menu next to the :guilabel:`File Column` that needs a manual adjustment, and select the
  appropriate field.

  .. image:: import/odoo-field-dropdown-menu.png
     :alt: The Odoo Field drop-down menu next to a Field Column that needs to be manually adjusted.

Import product template spreadsheet
===================================

After customizing the product template spreadsheet, return to the Odoo product import page, where
the template download link is found, and click the :guilabel:`Upload File` button in the upper-left
corner.

.. image:: import/upload-file-button.png
   :alt: The upload file button on the import products template download page in Odoo Sales.

Then, a pop-up window appears, in which the completed product template spreadsheet file should be
selected and uploaded to Odoo.

After that, Odoo displays a page that shows all the elements of the newly configured product
template spreadsheet, organized by :guilabel:`File Column`, :guilabel:`Odoo Field`, and
:guilabel:`Comments`.

.. image:: import/import-a-file-page.png
   :alt: The import a file page in Odoo Sales after a product template has been uploaded.

From here, the :guilabel:`File Column` can be manually assigned to an :guilabel:`Odoo Field`, if
necessary.

To ensure everything is appropriate and that all the columns and fields are aligned correctly, click
the :guilabel:`Test` button in the upper-left corner.

If everything is lined up and applied correctly, Odoo displays a blue banner at the top of the page,
indicating that :guilabel:`Everything seems valid`.

.. image:: import/everything-seems-valid-message.png
   :alt: The everything seems valid message that appears if file columns are entered correctly.

If there are any errors, Odoo displays a red banner at the top of the page with instructions on
where to locate the specific issues and how to fix them.

.. image:: import/import-error-message.png
   :alt: The import error message that appears if file columns don't match an Odoo Field.

Once those errors are fixed, click :guilabel:`Test` again to ensure all necessary issues have been
remedied appropriately.

If additional product template spreadsheets need to be uploaded, click the :guilabel:`Load Data
File` button, select the desired template, then repeat the process.

When everything is ready, click the :guilabel:`Import` button.

When clicked, Odoo instantly imports those products and reveals the main :guilabel:`Products` page,
with a pop-up message in the upper-right corner. This pop-up message informs the user how many
products were successfully imported.

.. image:: import/successful-import-popup.png
   :alt: The pop-up window that appears after a successful product import process in Odoo Sales.

At this point, all the newly imported products are accessible and editable on the
:guilabel:`Products` page.

Import relation fields, attributes, and variants
================================================

It's important to note that an Odoo object is always related to many other objects. For example, a
product is linked to product categories, attributes, vendors, and related information. These
links/connections are known as relations.

.. note::
   To import product relations, the records of the related object **must** be imported *first* from
   their own list menu.

Relation fields
---------------

In Odoo, product forms include several fields that can be modified and customized at any time. These
fields are available on every tab of a product form. While these fields can be edited directly on
the product form, they can also be modified via a product import.

As mentioned, relation fields of this nature can **only** be imported for products if they already
exist in the database. For example, if a user attempts to import a product with a *Product Type*, it
must be one of the preconfigured product types in the database (e.g., *Tracked Product*,
*Untracked*, etc.).

To import information for a relation field on a product import template spreadsheet, add the name of
the field as a column name/title on the spreadsheet. Then, on the appropriate product line, add the
desired relation field option.

When all desired relation field information has been entered, save the spreadsheet, and import it to
the database. Go to the :menuselection:`Sales app --> Products --> Products`. On the
:guilabel:`Product` page click the :icon:`fa-cog` :guilabel:`(Action)` icon and select
:menuselection:`Import records --> Upload File`.

Once the spreadsheet with the newly-configured relation field information has been uploaded, click
:guilabel:`Import`, and Odoo returns to the :guilabel:`Products` page.

Once the newly changed/modified products, complete with the new relation field information, have
been imported and uploaded, that new information can be found on the :guilabel:`Products` page.

Attributes and values
---------------------

Odoo supports importing attributes and values for both already existing and newly imported products.
Attributes and values **must** be uploaded through a separate spreadsheet or CSV file before they
can be applied to other products.

The column names/titles for the attributes and values spreadsheet should be: :guilabel:`Attribute`,
:guilabel:`Display Type`, :guilabel:`Variant Creation Mode`, and :guilabel:`Values / Value`.

.. image:: import/attributes-and-values-spreadsheet.png
   :alt: An attributes and values spreadsheet template for imports.

- :guilabel:`Attribute`: name of the attribute (e.g., `Size`).
- :guilabel:`Display Type`: display type used in the product configurator. There are three display
  type options:

  - :guilabel:`Radio`: values displayed as radio buttons
  - :guilabel:`Selection`: values displayed in a selection list
  - :guilabel:`Color`: values denoted as a color selection

- :guilabel:`Variant Creation Mode`: how the variants are created when applied to a product. There
  are three variant creation mode options:

  - :guilabel:`Instantly`: all possible variants are created as soon as the attribute and its values
    are added to a product.
  - :guilabel:`Dynamically`: each variant is created **only** when its corresponding attributes and
    values are added to a sales order.
  - :guilabel:`Never`: variants are **never** created for the attribute.

    .. note::
       The :guilabel:`Variants Creation Mode` **cannot** be changed once the attribute is used on at
       least one product.

- :guilabel:`Values/Value`: values pertaining to the corresponding attribute. If there are multiple
  values for the same attribute, they need to be on separate lines in the spreadsheet.

Once the desired attributes and values have been entered and saved in the spreadsheet, it's time to
import and upload the spreadsheet to Odoo. To do that, navigate to :menuselection:`Sales app -->
Configuration --> Attributes`. On the :guilabel:`Attributes` page, click the :icon:`fa-cog`
:guilabel:`(Action)` icon and select :menuselection:`Import records --> Upload File`.

Once the spreadsheet with the newly-configured attributes and values has been uploaded, click
:guilabel:`Import`, and Odoo returns to the :guilabel:`Attributes` page. That's where the newly
added attributes and values can be found and edited, if necessary.

As mentioned previously, when attributes and values have been added to the Odoo database, they can
be used for existing or imported products.

Product variants
----------------

When product attributes and values are configured in the database, they can be used in product
import spreadsheets to add more information and detail imported products.

To import products with product attributes and values, the product import template spreadsheet must
be configured with specific :guilabel:`Product Attributes / Attribute`, :guilabel:`Product
Attributes / Values`, and :guilabel:`Name` columns.

There may be other columns as well, but these are **required** to import products with specific
variants properly.

.. image:: import/product-attribute-spreadsheet-import.png
   :alt: Product variants spreadsheet with product attributes and variants for import purposes.

- :guilabel:`Name`: product name
- :guilabel:`Product Attributes / Attribute`: name of attribute
- :guilabel:`Product Attributes / Values`: values pertaining to the corresponding attribute

.. tip::
   To import multiple values, separate them with a single comma, **not a comma followed by a
   space**, in the product import template spreadsheet (e.g., `furniture,couch,home`).

When the desired products and product variants have been entered and saved in the spreadsheet, it is
time to import them into Odoo. To do that, navigate to :menuselection:`Sales app --> Products -->
Products`. On the :guilabel:`Products` page, click the :icon:`fa-cog` :guilabel:`(Action)` icon and
select ::menuselection:`Import records --> Upload File`.

Once the spreadsheet with the newly-configured products and product variants has been uploaded,
click :guilabel:`Import`, and Odoo returns to the :guilabel:`Products` page. That's where the
newly-added products can be found.

To view and modify the attributes and variants on any products, select the desired product from the
:guilabel:`Products` page and click the :guilabel:`Attributes \& Variants` tab.

.. seealso::
   :doc:`variants`


==================================================
SECTION: invoicing.rst
PATH: applications/sales/sales/invoicing.rst
==================================================

:nosearch:

================
Invoicing Method
================

.. toctree::
   :titlesonly:

   invoicing/invoicing_policy
   invoicing/down_payment
   invoicing/proforma
   invoicing/time_materials
   invoicing/milestone
   invoicing/expense


==================================================
SECTION: invoicing_policy.rst
PATH: applications/sales/sales/invoicing/invoicing_policy.rst
==================================================

==================
Invoicing policies
==================

Depending on business needs, it may be advantageous to choose whether to invoice customers based on
the goods and services that they order or when those goods and services are delivered to them. To
allow businesses maximum flexibility to best meet their needs, Odoo offers two invoicing policies
that can be enabled in the **Sales** app: :ref:`Invoice what is ordered <invoice-on-order>` and
:ref:`Invoice what is delivered <invoice-on-delivery>`.

- The *Invoice what is ordered* rule is used as the default mode in Odoo **Sales**, which means
  customers are invoiced once the sales order is confirmed.
- The *Invoice what is delivered* rule invoices customers once the delivery is done. This rule is
  often used for businesses that sell materials, liquids, or food in large quantities. In these
  cases, the ordered quantity may differ slightly from the delivered quantity, making it preferable
  to invoice the quantity actually delivered. When the delivery order is validated, Odoo will
  automatically decrease the on-hand quantity in the inventory.

To configure an invoicing policy, go to :menuselection:`Sales app --> Configuration --> Settings`,
and under the :guilabel:`Invoicing` heading, select an :guilabel:`Invoicing Policy` option:
:guilabel:`Invoice what is ordered` or :guilabel:`Invoice what is delivered`.

Activating an invoicing policy option automatically applies the chosen option to all newly created
products. Existing products **must** have their invoicing policy manually updated on their product
forms.

.. image:: invoicing_policy/invoicing-policy-setting.png
   :alt: Choosing an invoicing policy in the Sales app.

.. important::
   If the :guilabel:`Invoice what is delivered` option is chosen, it is **not** possible to activate
   the :guilabel:`Automatic Invoice` feature, which automatically generates invoices when an online
   payment is confirmed. Regular draft invoices can only be created once the delivery order has been
   processed and validated.

Changing the invoicing policy for existing products
---------------------------------------------------

After the invoicing policy has been configured in *Settings*, navigate to a product's form through
:menuselection:`Sales app --> Products --> Products` and choosing a product. Locate the
:guilabel:`Invoicing Policy` option located under the :guilabel:`General Information` tab. Use the
drop-down menu to change the policy.

.. image:: invoicing_policy/invoicing-policy-general-info-tab.png
   :alt: How to change invoicing policy on a product form in the **Sales** app.

.. _invoice-on-order:

Invoicing what is ordered
=========================

The *Invoice what is ordered* option is used as the default mode in the **Sales** app, which means
customers are invoiced once a quotation has been sent to the customer and confirmed. The creation of
a quotation in turn leads to the creation and confirmation of a sales order. An invoice can then be
created as soon as the sales order is confirmed.

This invoicing policy has no impact on the basic Odoo sales flow.

Invoice ordered quantity workflow
---------------------------------

Confirm that the product's invoicing policy is set to :guilabel:`Ordered quantities` in the product
form. :ref:`Create a quotation and sales order <sales/create-quotation>` as normal. After the sales
order has been confirmed, create an invoice by clicking the :guilabel:`Create Invoice` button on the
sales order form. Choose the type of invoice to be sent, click :guilabel:`Create Draft Invoice`,
confirm the invoice when ready, and proceed with the payment flow as normal.

.. example::
   A independent artisan with a small business sells handmade jewelery nationwide online. Because
   they have direct control over their inventory levels and ship with 3rd party carriers, they
   invoice their customers after a sales order has been confirmed.

   The artisan receives an order for a necklace. They send their customer a quotation, confirm it,
   and create a sales order. After the sales order has been confirmed, an invoice can be created and
   sent to the customer for payment without any additional steps be taken. The invoice gets paid,
   the necklace is shipped and delivered, and the transaction is complete.

.. _invoice-on-delivery:

Invoicing what is delivered
===========================

The *Invoice what is delivered* option invoices customers as different amounts of the ordered goods
are delivered. This option is often used for businesses that sell large quantities of physical goods
in each sales order, but may not always be able to completely fulfill a given order all at once. In
these cases, the ordered quantity may differ slightly from the delivered quantity based on product
availability. Once a quotation is confirmed, and the status changes from :guilabel:`Quotation sent`
to :guilabel:`Sales order`, Odoo automatically adds both the delivered and invoiced quantities to
the invoice and sales order. Both partial and complete deliveries are tracked. :ref:`Backorders
<inventory/shipping/backorders>` can be created for partial orders that will be completed at a later
time.

This invoicing policy has a minor impact on the sales flow because the delivered quantity of a
product needs to be manually entered on the sales order.

.. image:: invoicing_policy/invoicing-policy-order-lines.png
   :alt: How to see delivered and invoiced quantities on Odoo Sales.

Invoice delivered quantity workflow
-----------------------------------

Confirm that the product's invoicing policy is set to :guilabel:`Delivered quantities` in the
product form. :ref:`Create a quotation and sales order <sales/create-quotation>` as normal. After
the sales order has been confirmed, the product must be delivered before an invoice can be created.

Once the product has been shipped and delivery has been confirmed, click the :guilabel:`Delivery`
smart button on the sales order screen and click :guilabel:`Validate` to validate the delivery
order. Once at least a partial delivery has been confirmed, return to the sales order form. The
:guilabel:`Create Invoice` button is now purple to indicate that an invoice can be created and
confirmed, and that it is possible to proceed with the payment flow as normal.

.. warning::
   If a user attempts to create an invoice without validating the delivered quantity, the system
   returns an error message alerting them to the issue.

   .. image:: invoicing_policy/invoicing-policy-error-message.png
      :alt: If Delivered Quantities invoicing policy is chosen, ensure a quantity has been
            delivered.

.. example::
   A produce distributor using the invoice what is delivered option sells 50 heads of lettuce to a
   local restaurant. At the time the delivery is made, only 40 heads are available. The distributor
   delivers the available heads of lettuce and creates an invoice for what was delivered. Later,
   when more supply comes in, the distributor delivers the remaning 10 heads of lettuce and creates
   a second invoice to complete the order.

.. seealso::
   - :doc:`../sales_quotations/create_quotations`
   - :doc:`down_payment`
   - :doc:`../../../inventory_and_mrp/inventory`
   - :doc:`../../../inventory_and_mrp/inventory/shipping_receiving/setup_configuration/multipack`


==================================================
SECTION: loyalty_discount.rst
PATH: applications/sales/sales/products_prices/loyalty_discount.rst
==================================================

=============================
Discount and loyalty programs
=============================

The Odoo **Sales**, **eCommerce**, and **Point of Sale** applications allow users to create discount
and loyalty programs that customers can use for online and in-store shopping. These programs offer
more varied, public, and time-sensitive pricing options than :doc:`pricelists
</applications/sales/sales/products_prices/prices/pricing>`.

Configure the settings
======================

To begin using discount and loyalty programs, navigate to :menuselection:`Sales --> Configuration
--> Settings`. Under the :guilabel:`Pricing` heading, activate the :guilabel:`Discounts, Loyalty &
Gift Card` setting by checking the box next to the feature. Finally, click :guilabel:`Save` to save
the changes.

.. _sales/products/loyalty-programs:

Configure discount and loyalty programs
=======================================

To create discount and loyalty programs, go to :menuselection:`Sales --> Products --> Discount &
Loyalty`.

If no discount or loyalty programs have been created yet, Odoo provides a choice of templates to
help create the first program. Choose one of the template cards, or click :guilabel:`New` to create
a new program from scratch.

Or, if there are already existing programs, select an existing program to edit it.

.. image:: loyalty_discount/price-discount-loyalty.png
   :alt: Discount and loyalty program template cards.

.. note::
   Templates **only** appear when no programs have been created, and they disappear once the first
   program is created.

Creating or editing a program opens the program form.

.. image:: loyalty_discount/price-programs.png
   :alt: Program options on the loyalty program form.

The program form contains the following fields:

- :guilabel:`Program Name`: Enter the name of the program in this field. The program name is **not**
  visible to the customer.
- :guilabel:`Program Type`: Select the desired :ref:`program type
  <sales/pricing_management/program-types>` from the drop-down menu.
- :guilabel:`Currency`: Select the currency used for the program.
- :guilabel:`Pricelist`: If desired, select a pricelist from the drop-down menu to have this loyalty
  program applied to a specific pricelist (and customers attached to the pricelist). More than one
  pricelist can be selected in this field. When a single loyalty program is linked to several
  pricelists, it makes it viable for different customer segments to have different pricelists, but
  the *same* loyalty programs. If this field is left blank, the program applies to everyone,
  regardless of pricelist.
- :guilabel:`Points Unit`: Enter the name of the points used for the :guilabel:`Loyalty Cards`
  program (e.g. `Loyalty Points`). The points unit name *is* visible to the customer. This field is
  **only** available when the :guilabel:`Program Type` is set to :guilabel:`Loyalty Cards`.
- :guilabel:`Start Date`: Select the date on which the program becomes valid. Leave this field blank
  if the program should always be valid and not expire.
- :guilabel:`End Date`: Select the date on which the program stops being valid. Leave this field
  blank if the program should always be valid and not expire.
- :guilabel:`Limit Usage`: If desired, tick this checkbox, and enter a number of :guilabel:`usages`
  to limit the number of times the program can be used during the validity period.
- :guilabel:`Company`: If working in a multi-company database, choose the one company for which the
  program is available. If left blank, the program is available to all companies in the database.
- :guilabel:`Available On`: Select the apps on which the program is available.
- :guilabel:`Website`: Select a website on which the program is available. Leave this field blank to
  make it available on all websites.
- :guilabel:`Point of Sale`: Select the point(s) of sale at which the program is available. Leave
  this field blank to make it available at all :abbr:`PoS (Point of Sale)`.

.. note::
   The options available on the program form vary depending on the :ref:`Program Type
   <sales/pricing_management/program-types>` selected.

All of the existing cards, codes, coupons, etc. that have been generated for the program are
accessible through the smart button located at the top of the form.

.. image:: loyalty_discount/price-programs-items.png
   :alt: Program items smart button on the loyalty program form.

.. note::
   In Odoo 17 (and later), when a loyalty card or coupon is associated with a contact in the
   database, a :guilabel:`Loyalty Cards` smart button conditionally appears on the contact form.

   .. image:: loyalty_discount/loyalty-cards-smart-button.png
      :alt: The Loyalty Card smart button as it appears on a contact form in Odoo 17.

   This smart button **only** appears if a loyalty card or coupon is associated with the contact.

.. _sales/pricing_management/program-types:

Program types
-------------

The different :guilabel:`Program Types` available on the program form are:

- :guilabel:`Coupons`: Generate and share single-use coupon codes that grant immediate access to
  rewards.
- :guilabel:`Loyalty Cards`: When making purchases, the customer accumulates points to exchange for
  rewards on current and/or future orders.
- :guilabel:`Promotions`: Set conditional rules for ordering products, which, when fulfilled, grant
  access to rewards for the customer.
- :guilabel:`Discount Code`: Set codes which, when entered upon checkout, grant discounts to the
  customer.
- :guilabel:`Buy X Get Y`: for every (X) item bought, the customer is granted 1 credit. After
  accumulating a specified amount of credits, the customer can trade them in to receive (Y) item.
- :guilabel:`Next Order Coupons`: Generate and share single-use coupon codes that grant access to
  rewards on the customer's next order.

Conditional rules
-----------------

Next, configure the :guilabel:`Conditional rules` that determine when the program applies to a
customer's order.

In the :guilabel:`Rules & Rewards` tab, click :guilabel:`Add` next to :guilabel:`Conditional rules`
to add *conditions* to the program. This reveals a :guilabel:`Create Conditional rules` pop-up
window.

.. image:: loyalty_discount/price-conditional-rewards.png
   :alt: Rules & Rewards tab of the loyalty program form.

.. note::
   The options for :guilabel:`Conditional rules` vary depending on the selected :ref:`Program Type
   <sales/pricing_management/program-types>`.

The following options are available for configuring conditional rules:

- :guilabel:`Discount Code`: Enter a custom code to be used for the :guilabel:`Discount Code`
  program, or use the default one generated by Odoo. This field is only available when the
  :guilabel:`Program Type` is set to :guilabel:`Discount Code`.
- :guilabel:`Minimum Quantity`: Enter the minimum number of products that must be purchased in order
  to access the reward. Set the minimum quantity to at least `1` to ensure that the customer must
  make a purchase in order to access the reward.
- :guilabel:`Minimum Purchase`: Enter the minimum amount (in currency), with :guilabel:`tax
  Included` or :guilabel:`tax Excluded`, that must be spent in order to access the reward. If both a
  minimum quantity *and* minimum purchase amount are entered, then the customer's order must meet
  both conditions.
- :guilabel:`Products`: Select the specific product(s) for which the program applies. Leave this
  field blank to apply it to all products.
- :guilabel:`Categories`: Select the category of products for which the program applies. Choose
  :guilabel:`All` to apply it to all product categories.
- :guilabel:`Product Tag:` Select a tag to apply the program to products with that specific tag.
- :guilabel:`Grant`: Enter the number of points the customer earns :guilabel:`per order`,
  :guilabel:`per currency spent`, or :guilabel:`per unit paid` (for the :guilabel:`Loyalty Cards`
  and :guilabel:`Buy X Get Y` programs).

.. image:: loyalty_discount/price-conditions.png
   :alt: Conditional rules configuration window for a discount or loyalty program.

Click :guilabel:`Save & Close` to save the rule and close the pop-up window, or click
:guilabel:`Save & New` to save the rule and immediately create a new one.

Rewards
-------

In the :guilabel:`Rules & Rewards` tab of the program form, click :guilabel:`Add` next to
:guilabel:`Rewards` to add *rewards* to the program. This reveals a :guilabel:`Create Rewards`
pop-up window.

.. note::
   The options for :guilabel:`Rewards` vary depending on the selected :ref:`Program Type
   <sales/pricing_management/program-types>`.

The following options are available for configuring rewards:

- :guilabel:`Reward Type`: Select the reward type among :guilabel:`Free Product`,
  :guilabel:`Discount`, and :guilabel:`Free Shipping`. The other options for reward configuration
  depend on the :guilabel:`Reward Type` selected.

  - :guilabel:`Free Product`:

    - :guilabel:`Quantity Rewarded`: Select the number of free products rewarded to the customer.
    - :guilabel:`Product`: Select the product given for free as a reward. Only one product can be
      selected.
    - :guilabel:`Product Tag`: Select a tag to further specify the free product eligible for the
      reward.

  - :guilabel:`Discount`:

    - :guilabel:`Discount`: Enter the discounted amount in either :guilabel:`percentage`,
      :guilabel:`currency per point`, or :guilabel:`currency per order`. Then, select whether the
      discount applies to the entire :guilabel:`Order`, only the :guilabel:`Cheapest Product` on the
      order, or only :guilabel:`Specific Products`. If :doc:`developer mode
      </applications/general/developer_mode>` is active, the reward can be set to apply to the
      :guilabel:`Cheapest Product` in a specific domain (for example, the cheapest t-shirt when
      there are multiple types of clothing in a sales order).
    - :guilabel:`Max Discount`: Enter the maximum amount (in currency) that this reward may grant as
      a discount. Leave this field at `0` for no limit.

  - :guilabel:`Free Shipping`:

    - :guilabel:`Max Discount`: Enter the maximum amount (in currency) that this reward may grant as
      a discount. Leave this field at `0` for no limit.

- :guilabel:`In exchange of`: Enter the number of points required to exchange for the reward (for
  the :guilabel:`Loyalty Cards` and :guilabel:`Buy X Get Y` programs).
- :guilabel:`Description on order`: Enter the description of the reward, which is displayed to the
  customer upon checkout.

.. image:: loyalty_discount/price-rewards.png
   :alt: Rewards configuration window for a discount or loyalty program.


==================================================
SECTION: manage.rst
PATH: applications/sales/sales/amazon_connector/manage.rst
==================================================

=======================
Amazon order management
=======================

Order synchronization
=====================

Orders are automatically fetched from Amazon, and synchronized in Odoo, at regular intervals.

The synchronization is based on the Amazon status: only orders whose status has changed since the
last synchronization are fetched from Amazon. This includes changes on either end (Amazon or Odoo).

For *FBA* (Fulfilled by Amazon), only *Shipped* and *Cancelled* orders are fetched.

For *FBM* (Fulfilled by Merchant), the same is done for *Unshipped* and *Cancelled* orders. For each
synchronized order, a sales order and customer are created in Odoo (if the customer is not already
registered in the database).

.. note::
   When an order is cancelled in Amazon, and was already synchronized in Odoo, the corresponding
   sales order is automatically cancelled in Odoo.

Force synchronization
=====================

In order to force the synchronization of an order, whose status has **not** changed since the
previous synchronization, start by activating the :ref:`developer mode <developer-mode>`. This
includes changes on either end (Amazon or Odoo).

Then, navigate to the Amazon account in Odoo (:menuselection:`Sales app --> Configuration -->
Settings --> Connectors --> Amazon Sync --> Amazon Accounts`), and modify the date under
:menuselection:`Orders Follow-up --> Last Order Sync`.

Be sure to pick a date that occurs prior to the last status change of the desired order to
synchronize and save. This will ensure synchronization occurs correctly.


.. tip::
   To immediately synchronize the orders of an Amazon account, switch to :ref:`developer mode
   <developer-mode>`, head to the Amazon account in Odoo, and click :guilabel:`Sync Orders`. The
   same can be done with pickings by clicking :guilabel:`Sync Pickings`.

Manage deliveries in FBM
========================

Whenever an FBM (Fulfilled by Merchant) order is synchronized in Odoo, a picking is instantly
created in the *Inventory* app, along with a sales order and customer record. Then, decide to either
ship all the ordered products to the customer at once, or ship products partially using backorders.

When a picking related to the order is confirmed, a notification is then sent to Amazon, who, in
turn, notifies the customer that the order (or a part of it) is on its way.

.. important::
   Amazon requires users to provide a tracking reference with each delivery. This is needed to
   assign a carrier.

   If the carrier doesn't automatically provide a tracking reference, one must be set manually. This
   rule applies to all Amazon marketplaces.

.. tip::
   If the chosen carrier isn't supported by Odoo, a carrier with the same name can still be created
   (e.g. create a carrier named `easyship`). The name used is **not** case sensitive, but be mindful
   to avoid typos. If there are typos, Amazon will **not** recognize them. Next, create a delivery
   carrier named `Self Delivery` to inform Amazon that the user will make the deliveries. Even with
   this route, a tracking reference still **must** be entered. Remember, the customer is notified by
   email about the delivery, and the carrier, along with the tracking reference, are displayed in
   the email to the customer.

.. seealso::
   :doc:`../../../inventory_and_mrp/inventory/shipping_receiving/setup_configuration/third_party_shipper`

.. _manage/manage_delivery_errors:

Manage errors when synchronizing deliveries
-------------------------------------------

Sometimes, Amazon can fail to correctly process all the information sent by Odoo. In this case, Odoo
sends an email listing all the shipments that failed and the errors Amazon sent with them. In
addition, these shipments are flagged with a :guilabel:`Synchronization with Amazon failed` tag.

Usually, the error can be corrected directly in the Amazon backend or in Odoo. If the problem is
corrected in Odoo, synchronize the shipment again using the :guilabel:`Retry Amazon Sync` button.

.. note::
   It might happen that Odoo receives a notification from Amazon saying that some delivery
   information was not processed, but without specifying which shipments were affected. In that
   case, all the shipments in an unknown state will be treated as if they failed to synchronize.
   Once Odoo receives a notification from Amazon saying that a shipment was processed, its tag will
   change to :guilabel:`Synchronized with Amazon`. To speed up this process, on your Amazon account,
   click on :guilabel:`Sync Orders` to manually synchronize these orders, or click on
   :guilabel:`Recover Order` and enter the relevant Amazon Order Reference.

Follow deliveries in FBA
========================

When an FBA (Fulfilled by Amazon) order is synchronized in Odoo, a stock move is recorded in the
*Inventory* app for each sales order item. That way, it's saved in the system.

Inventory managers can access these stock moves by navigating to :menuselection:`Inventory app -->
Reporting --> Moves History`.

For FBA orders, the stock move is automatically created in Odoo by the Amazon connector, thanks to
the shipping status of Amazon. When sending new products to Amazon, the user should manually create
a picking (delivery order) to transfer these products from their warehouse to the Amazon location.

.. tip::
   To follow *Amazon (FBA)* stock in Odoo, make an inventory adjustment after replenishing stock. An
   automated replenishment from reordering rules can also be triggered on the Amazon location.

The Amazon location is configurable by accessing the Amazon account managed in Odoo. To access
Amazon accounts in Odoo navigate to :menuselection:`Sales app --> Configuration --> Settings -->
Connectors --> Amazon Sync --> Amazon Accounts`.

All accounts of the same company use the same Amazon location, by default. However, it is possible
to follow the stock filtered by marketplace.

To do that, first remove the marketplace, where the desired stock to follow separately can be found,
from the list of synchronized marketplaces, which can be found by navigating to
:menuselection:`Sales app --> Configuration --> Settings --> Connectors --> Amazon Sync --> Amazon
Accounts`.

Next, create another registration for this account, and remove all marketplaces--- **except** the
marketplace this is desired to be isolated from the others.

Lastly, assign another stock location to the second registration of the account.

Invoice and register payments
=============================

Issue invoices
--------------

Due to Amazon's policy of not sharing customer email addresses, it is **not** possible to send
invoices directly to Amazon customers from Odoo. However, it **is** possible to manually upload the
generated invoices from Odoo to the Amazon back-end.

Additionally, for B2B clients, it is currently required to manually retrieve VAT numbers from the
Amazon back-end **before** creating an invoice in Odoo.

Register payments
-----------------

Since customers pay Amazon as an intermediary, creating a dedicated *Bank* journal (e.g. named
`Amazon Payments`), with a dedicated *Bank and Cash* intermediary account is recommended.

Additionally, as Amazon makes a single monthly payment, selecting all the invoices linked to a
single payment is necessary when registering payments.

To do that, use the appropriate :guilabel:`Journal` dedicated to Amazon payments, and select
:guilabel:`Batch Deposit` as the :guilabel:`Payment Method`.

Then, select all the generated payments, and click :menuselection:`Actions --> Create batch payment
--> Validate`.

.. tip::
   This same action can be performed with vendor bills from Amazon dedicated to commissions.

   When the balance is received in the bank account at the end of the month, and the bank statements
   are recorded, credit the Amazon intermediary account by the amount received.

Follow Amazon sales in sales reporting
======================================

On the Amazon account profile in Odoo, a sales team is set under the :guilabel:`Order Follow-up`
tab.

This gives quick access to important metrics related to sales reporting. By default, the Amazon
account's sales team is shared between all of the company's accounts.

If desired, the sales team on the account can be changed for another, in order to perform a separate
reporting for the sales of this account.

.. tip::
   It is also possible to perform reporting on a per-marketplace basis.

   First, remove the desired marketplace from the list of synchronized marketplaces.

   To access the list of synchronized marketplaces in Odoo, navigate to :menuselection:`Sales app
   --> Configuration --> Settings --> Connectors --> Amazon Sync --> Amazon Accounts`.

   Then, create another registration for this account, and remove all other marketplaces **except**
   the one to isolate.

   Lastly, assign another sales team to one of the two registrations of the account.

.. seealso::
   - :doc:`features`
   - :doc:`setup`


==================================================
SECTION: manage.rst
PATH: applications/sales/sales/shopee_connector/manage.rst
==================================================

=======================
Shopee order management
=======================

Product catalog mapping
=======================

New Odoo customers with no existing products
--------------------------------------------

If you are starting a new Odoo database and your products are only on Shopee, you can import your
Shopee product catalog into Odoo.

#. **Export Shopee catalog:** Use the *Mass Function* drop-down to export the product catalog from
   Shopee, ensuring it includes the Shopee SKUs.

   .. image:: manage/shopee-seller-centre-product-extract.png
      :alt: Mass Function drop-down in Shopee.

#. **Import into Odoo:** :doc:`Import <../../../essentials/export_import_data>` the exported catalog
   into Odoo. During the import process, it is *crucial* to map the Shopee SKU to the
   *Internal Reference* field in Odoo. This field will serve as the link between your Shopee and
   Odoo products.

Existing Odoo customers with products already in Odoo
-----------------------------------------------------

If you already have products in your Odoo database, you'll need to map your Shopee listings to your
existing Odoo products.

#. **Export Shopee catalogs:** Use the *Mass Function* drop-down to export the product catalog from Shopee
   (including Shopee SKUs) and :doc:`export <../../../essentials/export_import_data>` your product
   catalog from Odoo (including *Internal References*).
#. **Map in a spreadsheet:** Use a spreadsheet to map the products. Match the Shopee SKU from the
   Shopee export with the corresponding *Internal Reference* from the Odoo export. Create a column
   that links the Shopee SKU with the Odoo *Internal Reference*.
#. **Update Odoo products:** Import the updated spreadsheet back into Odoo. Use the mapping you
   created in the spreadsheet to update the *Internal Reference* field of your existing Odoo
   products with the corresponding Shopee SKU. This establishes the link between your Odoo and
   Shopee products.

.. important::
   Product catalog synchronization between Odoo and Shopee is **not automatic**. It is a
   **manual operation** that you must initiate. The process differs depending on whether your
   products already exist in Odoo.

Order synchronization
=====================

Orders are automatically fetched from Shopee, and synchronized in Odoo, at **regular intervals**.

The synchronization is based on the Shopee orders status: only orders whose status has changed
since the last synchronization are fetched from Shopee. This includes changes on Shopee only.

When an order is canceled on Shopee, it will update the order's status in Odoo. On the other hand,
if an order is canceled on Odoo, the change won't be reflected on Shopee.

For every synchronized order, Odoo creates a sales order and a customer (contact), as long as the
customer hasn't been previously imported from Shopee or doesn't already exist in the database.

.. note::
   The principal of the synchronization is to *only fetch orders that needs to be shipped*
   (i.e., `SHIPPED`, `CANCEL`, `UNPAID`, `COMPLETED`).

Force synchronization
=====================

In order to force the synchronization of an order, whose status has **not** changed since the
previous synchronization:

Then, navigate to the Shopee account in Odoo :menuselection:`Sales app --> Configuration --> Shopee
--> Account --> Shop`. Modify the date for :guilabel:`Last Order Sync` under :guilabel:`Orders
Follow-up`.

Be sure to pick a date that occurs prior to the last status change of the desired order to
synchronize and save. This will ensure synchronization occurs correctly.

Manage deliveries in :abbr:`FBM (Fulfilled by Merchant)`
========================================================

Whenever an FBM (Fulfilled by Merchant) order is synchronized in Odoo, a picking is instantly
created in the **Inventory** app, along with a sales order and customer record.

When a picking related to the order is confirmed, you also have to click on :guilabel:`Arrange
Shipment` in your Shopee Seller Account in order to be able to generate and fetch the
:guilabel:`Shipping Label` and :guilabel:`Tracking Number`.

Shopee delivery statuses
------------------------

Understanding the different Shopee delivery statuses is crucial for managing your orders
effectively. Here's a breakdown:

- **Ready to ship:** The seller can now arrange shipment for this order.
- **Shipment arranged:** The seller has arranged shipment online and received a tracking number
  from the third-party logistics (3PL) provider.
- **Shipped:** The parcel has been dropped off at the 3PL location or picked up by the 3PL
  provider.
- **Cancelled:** The order has been canceled.
- **Pickup failed:** The 3PL parcel pickup attempt failed. The seller needs to rearrange shipment,
  and the rest of the order fulfillment content.

.. image:: manage/shopee-delivery-orders-status.png
   :alt: Shopee delivery status in Odoo.

.. important::
   Unsupported for Non-Shopee Supported Logistics (NSSL)

   This feature is not available for :abbr:`NSSL (Non-Shopee Supported Logistics)`, you have to
   manually create shipping label and tracking number via the logistics provider's website/app.
   Check your region for list of supported logistics (e.g. `Malaysia
   <https://seller.shopee.com.my/edu/article/388>`_).

   Shopee requires users to provide a tracking reference with each delivery. This is needed to
   assign a carrier.

   If the carrier doesn't automatically provide a tracking reference, one must be set manually.
   This rule applies to all Shopee marketplaces.

Follow deliveries in Odoo
=========================

For :abbr:`FBM (Fulfilled by Merchant)` orders, the stock move is automatically created in Odoo by
the Shopee connector, thanks to the shipping status of Shopee.

.. image:: manage/shopee-wh-out.png
   :alt: Stock move created for Shopee order in Odoo.

Order fulfillment process
-------------------------

This section describes the process of fulfilling Shopee orders within Odoo, from order creation to
inventory updates.

#. **New order creation:** When a new order is placed on Shopee, it is automatically created in
   Odoo.
#. **Arrange shipment on Shopee:** Before the order can be shipped, you **must** arrange the
   shipment through the Shopee platform itself. This usually involves selecting a shipping
   provider, generating a shipping label, and scheduling pickup or drop-off. Odoo does *not*
   handle the physical shipping arrangements; this is managed entirely within Shopee.
#. **Fetch Shopee shipping label (delivery note):** Once the shipment is arranged on Shopee,
   Odoo fetches the generated shipping label (which serves as the delivery note). This label
   contains crucial information like the tracking number and is essential for printing and
   attaching to the package. The shipping label is imported into Odoo and associated with the
   corresponding sales order.
#. **Validate stock out in Odoo:** After the shipping label is retrieved, you need to validate the
   stock movement in Odoo. This confirms that the ordered items have left your warehouse or
   inventory. Validating the stock out will decrease the stock levels in Odoo.
#. **Inventory update on Shopee:** Finally, Odoo pushes the updated stock levels back to Shopee.
   This ensures that your Shopee listings reflect the current inventory, preventing overselling and
   keeping your product availability accurate. This synchronization keeps your Shopee storefront
   up-to-date with your Odoo inventory.

Register payments
=================

Since customers pay Shopee as an intermediary, creating a dedicated *Bank* journal (e.g. named
`Shopee Payments`), with a dedicated *Bank and Cash* intermediary account is recommended.

Additionally, as Shopee makes a single weekly or monthly payment, selecting all the invoices linked
to a single payment is necessary when registering payments.

To do that, use the appropriate :guilabel:`Journal` dedicated to Shopee payments, and select
:guilabel:`Batch Deposit` as the :guilabel:`Payment Method`.

Then, select all the generated payments, and click :menuselection:`Actions --> Create batch payment
--> Validate`.

.. tip::
   This same action can be performed with vendor bills from Shopee dedicated to fees/commissions.

   When the balance is received in the bank account at the end of the week/month, and the bank
   statements are recorded, credit the Shopee intermediary account by the amount received.

Analyzing Shopee sales with Odoo's reporting
============================================

Odoo's dashboard consolidates sales data from all your connected sales channels, providing a
comprehensive overview of your business performance. To specifically analyze your Shopee sales, you
will need to configure sales teams for your Shopee shops. This setup enables you to filter and
isolate Shopee sales data within the Odoo dashboard.

Setting up sales teams for Shopee reporting
-------------------------------------------

By default, the Shopee account's sales team is shared across all of your company's accounts. To
generate separate reports for specific Shopee shops or marketplaces, you'll need to assign dedicated
sales teams.

#. **Assign a sales team to your Shopee shop:** Navigate to the Shopee account configuration
   (typically found under :menuselection:`Sales --> Configuration --> Accounts`).  Within the
   account details, assign a specific sales team to your Shopee shop.
#. **Filtering Shopee sales on the dashboard:** Once sales teams are assigned, you can use the
   dashboard filters to view sales data specifically for your Shopee shops. Select the appropriate
   sales team to isolate and analyze your Shopee performance.

.. seealso::
   - :doc:`Shopee supported features and marketplaces <../shopee_connector>`
   - :doc:`setup`


==================================================
SECTION: margin.rst
PATH: applications/sales/sales/sales_quotations/margin.rst
==================================================

=======
Margins
=======

The sales margin is the profit gained from the sale of a product or service after all the costs
related to it have been accounted for.

In the Odoo **Sales** application, it is possible to show sales margins on quotations and sales
orders. Salespeople can use the feature for better management and monitoring of profitability.

Configuration
=============

To activate the *Margins* feature, go to the :menuselection:`Sales app --> Configuration -->
Settings`. In the :guilabel:`Pricing` section, tick the :guilabel:`Margins` checkbox. Then click
:guilabel:`Save`.

.. image:: margin/margins-checkbox.png
   :alt: Margins checkbox.

.. _sales_quotations/margin/configure-price-and-cost:

Configure price and cost
------------------------

To automatically calculate the sales margin for each quotation or sales order line item, go to
:menuselection:`Sales app --> Products --> Products`. Fill out the :guilabel:`Sales Price` and
:guilabel:`Cost` fields in the :guilabel:`General Information` tab for every product.

Odoo calculates the margin by:

.. math::
   Sales~Margin = Sales~Price - Cost

The margin percentage is calculated by:

.. math::
   \frac{Sales~Price - Cost~Price}{Sales~Price} \times 100

.. image:: margin/product-view.png
   :alt: Cable Management box product page.

Compute margins on sales orders
===============================

Go to :menuselection:`Sales app --> Orders --> Quotations` and click the :guilabel:`New` button to
begin a new quotation. Fill out the quotation with the necessary information. While adding products
to the quotation, a new field, :guilabel:`Margin`, automatically appears at the bottom of the
document. This field displays the order's total margin in the configured currency as well as the
percentage.

.. image:: margin/so-with-margin-field.png
   :alt: Sales order with Margin field on the bottom.

To display a product's margin and the margin percentage per line item, click the
:icon:`oi-settings-adjust` :guilabel:`(settings adjust)` icon in the :guilabel:`Order Lines` tab.

Then, tick the checkboxes for :guilabel:`Margin` and :guilabel:`Margin(%)`. The :guilabel:`Margin`
column shows the profit to earn from the sale after accounting for all associated costs. It displays
in the configured currency value. The :guilabel:`Margin(%)` shows the margin value as a percentage.
The margin for one unit is multiplied by the quantity to determine the margin for the entire line.

The :guilabel:`Margin` and :guilabel:`Margin(%)` columns are not displayed by default, but once
enabled, the columns appear on all new and existing quotations and :abbr:`SOs (sales orders)`.

.. image:: margin/so-with-margins-checkboxes.png
   :alt: Sales order with Margin and Margin(%) columns displayed.

.. note::
   The :guilabel:`Margin` and :guilabel:`Margin (%)` columns are not editable since they are
   automatic calculations. To change the calculation, refer to :ref:`Configure price and cost
   <sales_quotations/margin/configure-price-and-cost>` section for more information.

Margin calculation with a pricelist
===================================

To calculate the margin with an applied pricelist, begin with configuring a pricelist for the
product. Follow these steps:

#. Go to :menuselection:`Sales app --> Products --> Pricelists` and click the :guilabel:`New`
   button.
#. Enter the name of the pricelist and click :guilabel:`Add a line` to create a new pricelist rule.
#. Configure the pricelist and click :guilabel:`Save & Close` button.
#. Go to :menuselection:`Sales app --> Orders --> Quotations` and create a quotation.
#. In the :guilabel:`Pricelist` field, select the newly made pricelist.
#. Click on :guilabel:`Update Prices` to refresh the product price and margin.

.. example::
   To apply a seasonal 5% discount on blue denim jeans that requires a minumim of two pairs of jeans
   in an order and is valid only from October to the end of December, the pricelist rule should look
   like this:

   .. image:: margin/pricelist-configuration.png
      :alt: Pricelist Rules pop-up window.

   After saving the pricelist, go to the desired :abbr:`SO (sales order)` and select the newly
   created pricelist, and adjust the quantity according to the pricelist's rule.

   .. image:: margin/so-with-pricelist.png
      :alt: Sales order with a new pricelist selected.

   After the changes are made, click :icon:`fa-refresh` :guilabel:`Update Prices` to update the
   :guilabel:`Margin`, :guilabel:`Margin (%)`, and :guilabel:`Amount`. The margin is recalculated
   based on the pricelist-adjusted product's sales price and cost.

   .. image:: margin/so-with-applied-pricelist.png
      :alt: Sales order with margins recalculated based on the price-list adjustment.

.. tip::
   Another way to visualize the impact of margins on sales orders is to go to :menuselection:`Sales
   app --> Orders --> Quotations`, select the :icon:`fa-area-chart` :guilabel:`(area chart)` icon or
   :icon:`oi-view-pivot` :guilabel:`(pivot)` icon, click :guilabel:`Measures` drop-down button and
   change it to :guilabel:`Margin` to see margin contributions across the customer base.



==================================================
SECTION: milestone.rst
PATH: applications/sales/sales/invoicing/milestone.rst
==================================================

==========================
Invoice project milestones
==========================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOs| replace:: :abbr:`SOs (Sales Orders)`

Milestone-based invoicing is designed for companies that deliver work in clearly defined phases.
Instead of invoicing an entire service upfront or at the very end, businesses can bill customers
progressively as each stage of work is completed. This approach provides customers clearer
visibility into progress and value delivered over time.

In Odoo, milestone invoicing is configured at the product level in the **Sales** app, with milestone
progress and completion managed in the **Projects** app. When a milestone is marked as reached, the
delivered quantity on the sales order (SO) is updated and can be invoiced.

How milestone invoicing works
=============================

Milestone invoicing follows a clear workflow involving multiple applications in Odoo:

- A product is created in the **Sales** application, configured to be invoiced based on milestones.
- A |SO| is created with the product.
- A project in the **Projects** app is created with multiple milestones included.
- A milestone is reached, and marked complete, causing the *Delivered* quantity on the |SO| line to
  update.
- An invoice is created for the completed milestone, which can be sent to the customer.

.. important::
   This document covers the **Sales** app configuration and invoicing flow for invoicing based on
   project milestones. For more information on creating, managing, and marking milestones as
   complete, and how to link them to tasks, see :doc:`Project milestones
   <../../../services/project/project_management/project_milestones>`.

Create milestone products
=========================

To begin, a service product must be configured specifically for milestone-based invoicing. Navigate
to :menuselection:`Sales app --> Products --> Products` and click :guilabel:`New`. Enter the
necessary information, including the product title and :guilabel:`Sales Price`.

For the :guilabel:`Product Type`, select :guilabel:`Service`. Doing so reveals the :guilabel:`Create
on Order` field. Select either :guilabel:`Project`, :guilabel:`Project and Task`, or
:guilabel:`Task`, depending on how the product is to be tracked in the **Project** app.

.. note::
   A :guilabel:`Project Template` can also be selected for the product. See :doc:`Project templates
   <../../../services/project/project_management/project_templates>` for more information. Project
   templates can have milestones defined, however, the *Quantity (%)* field must be manually updated
   on each newly created project.

For the :guilabel:`Invoicing Policy`, select :guilabel:`Based on Milestones`. This option ensures
that the product's delivered quantities update automatically once a milestone is completed.

.. important::
   *Based on Milestones* is only available if there is at least one project with *Milestones*
   enabled.

Defining milestones
-------------------

.. note::
   This document focuses on the process of selling and invoicing a milestone product in the
   **Sales** app. For more information on creating milestones in the **Project** app, see
   :doc:`Project milestones <../../../services/project/project_management/project_milestones>`.

After the milestone product has been sold, a  *Milestones* smart button is added to the |SO|. Click
the smart button to view, edit, or create new milestones.

From here, the :guilabel:`Delivered %` can be altered. This amount equates to the total cost of the
|SO| that is billed when the milestone is reached.

.. example::
   A company that provides pool installation services bills based on predefined milestones as the
   work is completed. Each milestone equates to 25% of the total services:

    - Site Preparation & Excavation
    - Structural Installation
    - Plumbing & Equipment Installation
    - Finishing & Final Inspection

   .. image:: milestone/view-milestones.png
      :alt: The milestones for a sales order line.

   The team uses a project template, called *Pool installation*, with these milestones defined. A
   new project is created whenever a |SO| with the *Pool installation services* product is
   confirmed.

Invoicing a completed milestone
===============================

Milestones can be tracked through the **Project** app (see :ref:`Using milestones
<project/using-milestones>`). Additionally, a milestone can be marked complete by navigating to the
|SO|, and clicking the :guilabel:`Milestones` smart button. On the *Milestones* page, enable the
checkbox in the :guilabel:`Reached` column for the milestone.

Then, click :guilabel:`View Sales Order` or use the breadcrumbs to return to the |SO|. The
:guilabel:`Delivered` column will be updated to reflect the *Delivered %* for the milestone reached.

These steps can be repeated as additional milestones are reached until the |SO| has been fulfilled.

.. important::
   Reaching a milestone does *not* automatically create an invoice. Instead, it updates the |SO| to
   reflect the amount of the total that is ready for invoicing.

Once one or more milestones have been reached, navigate to the |SO|, and confirm the
:guilabel:`Delivered` column has updated correctly. Then, click :guilabel:`Create Invoice`.

Additional milestones can be invoiced as they are completed, until all services are complete.

.. seealso::
   - :doc:`time_materials`
   - :doc:`proforma`
   - :doc:`invoicing_policy`


==================================================
SECTION: optional_products.rst
PATH: applications/sales/sales/sales_quotations/optional_products.rst
==================================================

=================
Optional products
=================

The use of optional products is a marketing strategy that involves the cross-selling of useful and
related products alongside a desired core product. For instance, when a business configures optional
products in their Odoo database, an eCommerce or Website customer could be suggested a mouse and
keyboard or an extended warranty when they add a laptop to their shopping cart.

Optional products are automatically suggested during the quotation process whenever an associated
core product is added to a quote. They are also suggested in eCommerce interactions when a customer
adds an associated core product to their shopping cart.

.. note::
   Optional products are differentiated from accessory products and alternative products by where
   they appear in the customer's shopping experience.

   - Optional products are suggested when a core product has been added to a cart or a quotation.
   - Accessory products appear as suggestions when viewing an eCommerce cart.
   - Alternative products are suggested at the bottom of an eCommerce product page whenever the
     product page is viewed.

.. figure:: optional_products/optional-products-quotation.png
   :alt: A screen from the quotation process shows how optional products appear as a pop-up window.

   Optional products as they appear during the quotation process.

.. figure:: optional_products/optional-products-ecommerce.png
   :alt: An eCommerce shopping cart screen shows how optional products appear in eCommerce websites.

   Optional products as they appear when viewing the shopping cart on an eCommerce website.

Configuring optional products
=============================

With the Odoo **Sales** app, it is possible to add optional products directly to product forms. To
add an optional product to a product form, navigate to :menuselection:`Sales --> Products -->
Products` and choose a product.

Ensure that the product's :guilabel:`Sales` checkbox is checked and click the :guilabel:`Sales` tab.
Under :guilabel:`Upsell & Cross-sell` heading, the :guilabel:`Optional Products` drop-down menu
allows for optional products to be set. Products will be displayed in alphabetical order. If the
desired product isn't readily visible, type its name in the field to bring it up, then select it to
add it as an optional product.

To delete an optional product from the product form, simply click the :icon:`fa-times`
:guilabel:`(Delete)` icon.

.. image:: optional_products/optional-products-product-form.png
   :alt: Where the optional products section appears in product forms in Odoo Sales.

Additional products can also be added to a core product by clicking :guilabel:`Search more...`. This
opens the :guilabel:`Search: Optional Products` form, which displays all products in the catalog and
includes the :guilabel:`New` button to create a new product. Multiple products may be selected as
optional products at once when using this form by clicking their checkboxes and then clicking
:guilabel:`Select`.

.. image:: optional_products/search-optional-products-form.png
   :alt: The Search: Optional Products form accessed by clicking Search more...

Setting optional product sections in quotations
===============================================

When developing a quotation for customers, entire sections of the quotation can be set as optional
products, even if they haven't been configured in the product form. To create a section, click the
:guilabel:`Add a section` link and enter its desired name in the :guilabel:`Enter a description`
field. Click the :icon:`fa-ellipsis-v` :guilabel:`(drop-down menu)` and choose :icon:`fa-list`
:guilabel:`Set Optional`.

.. image:: optional_products/set-optional-dropdown.png
   :alt: The dropdown menu with the "Set Optional" text highlighted.

Once a section is set to optional, the font color changes to reflect its status. All products within
that section default to a quantity of `0`, ensuring they are not included in the total cost
automatically. Both portal users (such as customers or vendors) and employees with access to create
quotations and sales orders can update these quantities. Once a quantity is set to `1` or more, the
product is added to the quote total.

Once an optional product section has been created in a quotation, users who have been :doc:`granted
portal access <../../../general/users/user_portals/portal_access>` can interact with the quotation
there. They can view the quotation and decide whether or not to add the optional products to their
final sales order.

.. image:: optional_products/optional-products-section.png
   :alt: An optional products section with the quanitty and corresponding amount set to 0.

.. seealso::
   :doc:`quote_template`


==================================================
SECTION: orders_and_variants.rst
PATH: applications/sales/sales/sales_quotations/orders_and_variants.rst
==================================================

===============================================
Product variants on quotations and sales orders
===============================================

Before getting into detail about how to use product variants on quotations and sales orders, it's
recommended to learn about :doc:`../products_prices/products/variants` in Odoo.

Once familiarized with the basics surrounding product variants, the following covers how product
variants can be added to quotations and sales orders using the *product configurator* or *order grid
entry*.

.. note::
   It should be noted that the setting is titled, *Variant Grid Entry* on the *Sales* app settings
   page, and titled, *Order Grid Entry* on product forms. So, be sure to keep that in mind.

Settings
========

When working with product variants, Odoo uses the product configurator, by default. To add the
variant grid entry option, that feature **must** be enabled in the Odoo *Sales* application. The
variant grid entry option provides a pop-up window on the quotation/sales order to simplify the
variant selection process.

To enable that setting, go to :menuselection:`Sales app --> Configuration --> Settings`, and scroll
to the :guilabel:`Product Catalog` section. Then, check the box next to the :guilabel:`Variant Grid
Entry` option, and click :guilabel:`Save`.

.. image:: orders_and_variants/order-grid-entry-setting.png
   :align: center
   :alt: The variant grid entry setting in the Odoo Sales application.

.. note::
   Of course, the :guilabel:`Variants` feature **must** also be activated, in order to use product
   variants on quotations and sales orders.

Product configuration
=====================

Once the :guilabel:`Variant Grid Entry` setting is enabled, both options (*Product Configurator* and
*Order Grid Entry*) become available on every product form.

To configure a product form to use either a product configurator or variant grid entry, start by
navigating to :menuselection:`Sales app --> Products --> Products` to view all the products in the
database.

Then, select the desired product to configure, or click :guilabel:`New`, to create a new product
from scratch. Once on the product form, click into the :guilabel:`Attributes \& Variants` tab, where
product variants can be viewed, modified, and added.

At the bottom of the :guilabel:`Attributes \& Variants` tab, there is a :guilabel:`Sales Variant
Selection` section with two options: :guilabel:`Product Configurator` and :guilabel:`Order Grid
Entry`.

.. note::
   It should be noted that these options **only** appear if at least two values of an attribute have
   been added to the record.

.. image:: orders_and_variants/attributes-variants-tab-selection-options.png
   :align: center
   :alt: Sales variant selection options on the attributes and variants tab on product form.

These options determine which method is used when adding product variants to quotations or sales
orders.

The :guilabel:`Product Configurator` provides a pop-up window that neatly displays all the available
product variants for that particular product when it's added to a quotation. However, only one
variant can be selected/added at a time.

The :guilabel:`Order Grid Entry` provides the same information as the :guilabel:`Product
Configurator` in a table layout, allowing the user to select larger numbers of unique product
variants, and add them to a quotation/sales order, in a single view.

Product configurator
====================

The product configurator feature appears as a :guilabel:`Configure` pop-up window, as soon as a
product with (at least two) variants is added to a quotation or sales order, but **only** if the
:guilabel:`Product Configurator` option is selected on its product form.

.. image:: orders_and_variants/product-configurator-window.png
   :align: center
   :alt: The product configurator pop-up window that appears on a quotation or sales order.

.. note::
   This :guilabel:`Configure` pop-up window also appears if the :guilabel:`Order Grid Entry` setting
   is **not** activated, as it is the default option Odoo uses when dealing with product variants on
   quotations and/or sales orders.

The :guilabel:`Product Configurator` option lets salespeople choose exactly which product variant to
add to the quotation or sales order using a format similar to online shopping.

Order grid entry
================

The order grid entry feature appears as a :guilabel:`Choose Product Variants` pop-up window, as soon
as a product with (at least two) variants is added to a quotation or sales order, but **only** if
the :guilabel:`Order Grid Entry` option is selected on its product form.

.. image:: orders_and_variants/choose-product-variants-popup.png
   :align: center
   :alt: The choose product variants pop-up window that appears on a quotation in Odoo.

The :guilabel:`Choose Product Variants` pop-up window features all the variant options for that
particular product. From this pop-up window, the salesperson can designate how many of each variant
they'd like to add to the quotation/sales order at once.

When all the desired quantities and variants have been selected, the salesperson simply clicks
:guilabel:`Confirm`, and those orders are instantly added to the quotation/sales order in the
:guilabel:`Order Lines` tab.

.. image:: orders_and_variants/order-grid-entry-order-lines-tab.png
   :align: center
   :alt: Populated order lines tab after order grid entry has been chosen to select products.

.. seealso::
   :doc:`../products_prices/products/variants`


==================================================
SECTION: pdf_quote_builder.rst
PATH: applications/sales/sales/sales_quotations/pdf_quote_builder.rst
==================================================

=================
PDF quote builder
=================

The *PDF Quote Builder* in Odoo **Sales** app provides the opportunity to send customers a fully
customized PDF file for quotes, showcasing the company and products, with various information and
design elements, instead of showing the price and total.

The PDF Quote Builder groups header pages, product descriptions, prices, and footer pages to create
a detailed quote. It can also inject dynamic texts or custom notes in the PDF to personalize the
offer for the customer.

Having a customized PDF in quotes provides a heightened conclusion to the shopping experience for
customers, and adds an elegant level of professionalism to a company.

.. seealso::
   `Odoo Quick Tips - Create a PDF quote [video] <https://www.youtube.com/watch?v=tQNydBZt-VI>`_

.. note::
   It is recommended to edit PDF forms with Adobe software. The form fields on the header and footer
   PDF templates are necessary to get dynamic values with Odoo.

Configuration
=============

In order to add custom PDF files for quotes, the :guilabel:`PDF Quote builder` feature *must* be
configured.

To do that, navigate to :menuselection:`Sales app --> Configuration --> Settings` and scroll to the
:guilabel:`Quotations & Orders` section. Tick the :guilabel:`PDF Quote builder` checkbox feature,
then click :guilabel:`Save`.

Once enabled, a :icon:`oi-arrow-right` :guilabel:`(right arrow)` icon for
:guilabel:`Headers/Footers` appears beneath it.

Add PDF as Header/Footer
========================

.. important::
   Odoo does **not** allow PDF field names to have a space in them. Only use alphanumerics, hyphens,
   or underscores.


In Odoo **Sales** app allows for the addition a custom PDF, which serves as either as a header or a
footer. Activating the PDF quote builder in a quotation, enables the selection of multiple headers
and footers, which are inserted into the final PDF.

To add a custom PDF as header or footer, start by navigating to :menuselection:`Sales app -->
Configuration`. Click the :icon:`oi-arrow-right` :guilabel:`(right arrow)` icon for
:guilabel:`Headers/Footers` and all available templates appear in a default Kanban view.

Click :guilabel:`New` or :guilabel:`Upload`. Clicking :guilabel:`Upload` instantly provides the
opportunity to upload the desired document.

Then, the document can be further configured on the document card, or by clicking the
:icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` icon in the top-right corner of the document
card, and then clicking :guilabel:`Edit`.

Clicking :guilabel:`New` reveals a blank documents form, in which the desired PDF can be uploaded
via the :guilabel:`Upload your file` button on the form, located in the :guilabel:`File Content`
field.

Various information and configurations related to the uploaded document can be modified here.

The first field on the documents form is for the :guilabel:`Name` of the document, and it is
grayed-out (not clickable) until a document is uploaded. Once a PDF has been uploaded, the
:guilabel:`Name` field is auto-populated with the name of the PDF, and it can then be edited.

Then, in the :guilabel:`Document Type` field, click the drop-down menu, and select either:
:guilabel:`Header`, or :guilabel:`Footer` to define whether these files are selectable at the
beginning or at the end of the quote.

Under this, in the :guilabel:`Quotation Templates` section, this PDF can be restricted quotation
templates only.

.. note::
   Alternatively, navigate to :menuselection:`Sales app --> Configuration --> Quotation Templates`,
   select a template and directly :guilabel:`Add` or :guilabel:`Upload` a PDF to it in the
   :guilabel:`Quote Builder` tab.

Lastly, beside the :guilabel:`File Content` field, the :guilabel:`Configure dynamic fields` option
is available.

Dynamic text in PDFs
====================

While creating custom PDFs for quotes, use *dynamic text* for Odoo to auto-fill the PDF content with
information related to the quote from the Odoo database, like names, prices, etc.

Dynamic text values are form components (text inputs) that can be added in a PDF file, and Odoo
automatically fills those values in with information related to the quote.

Dynamic text values
-------------------

Below are common dynamic text values used in custom PDFs that are already mapped to the correct
fields, and what they represent.

For headers and footers PDF:

- :guilabel:`name`: Sales Order Reference
- :guilabel:`partner_id__name`: Customer Name
- :guilabel:`user_id__name`: Salesperson Name
- :guilabel:`amount_untaxed`: Untaxed Amount
- :guilabel:`amount_total`: Total Amount
- :guilabel:`delivery_date`: Delivery Date
- :guilabel:`validity_date`: Expiration Date
- :guilabel:`client_order_ref`: Customer Reference


For product PDF:

- :guilabel:`description`: Product Description
- :guilabel:`quantity`: Quantity
- :guilabel:`uom`: Unit of Measure (UoM)
- :guilabel:`price_unit`: Price Unit
- :guilabel:`discount`: Discount
- :guilabel:`product_sale_price`: Product List Price
- :guilabel:`taxes`: Taxes name joined by a comma (`,`)
- :guilabel:`tax_excl_price`: Tax Excluded Price
- :guilabel:`tax_incl_price`: Tax Included Price

After uploading a PDF, click :guilabel:`Configure dynamic fields`. This allows the mapping of any
field name found in the PDF to the desired displayed field by writing down any existing path.
Headers and footers start from the current *sale_order* model, while product documents follow their
path from their :guilabel:`sale_order_line`. Leaving that path empty fills a custom note directly
from the specific quote that requires it.

.. example::
   When a PDF is built, it is best practice to use common dynamic text values (:guilabel:`name` and
   :guilabel:`partner_id_name`). When uploaded into the database, Odoo auto-populates those fields
   with the information from their respective fields.

   In this case, Odoo would auto-populate the Sales Order Reference in the :guilabel:`name` dynamic
   text field, and the Customer Name in the :guilabel:`partner_id_name` field.

   .. image:: pdf_quote_builder/pdf-quote-builder-sample.png
      :alt: PDF quote being built using common dynamic placeholders.

Once the PDF files are complete, save them to the computer's hard drive. Next, navigate to
:menuselection:`Sales app --> Configuration --> Headers/Footers`, and click :guilabel:`Upload`.
Select the PDF file to be uploaded, then click :guilabel:`Open`. The PDF is added to the database,
and appears in the first Kanban card.

.. note::
   The Kanban template cards can be rearranged by clicking and dragging the template into the
   desired location.

.. example::
   When uploading PDF containing the form field :guilabel:`invoice_partner_country`, which is an
   information available in the sales order, configure the :guilabel:`path` of the :guilabel:`Form
   Field Name` to:

   - :guilabel:`partner_invoice_id.country_id.name` for a header or footer document
   - :guilabel:`order_id.partner_invoice_id.country_id.name` for a product document fills the form
     with the invoice partner country's name when the PDF is built.


.. tip::
   When uploading any PDF containing the form field :guilabel:`custom_note`, leaving the
   :guilabel:`path` empty allows the seller to write down any note where that form field is in that
   document and shown when the PDF is built.

Add PDF to product
==================

In the Odoo **Sales** app, it is also possible to add a custom PDF to a product form. When a PDF is
added to a product, and that product is used in a quotation, that PDF is also inserted in the final
PDF.

To add a custom PDF to a product, start by navigating to :menuselection:`Sales app --> Products -->
Products`, and select the desired product to add a custom PDF to.

.. note::
   A document could also be added to a product variant, instead of a product. If there are documents
   on a product *and* on its variant, **only** the documents in the variant are shown.

   To add a custom document to a product variant, navigate to :menuselection:`Sales app -->
   Products --> Product Variants`. Select the desired variant, click the :guilabel:`Documents` smart
   button, and proceed to upload the custom document to the specific product variant.

On the product page, click the :guilabel:`Documents` smart button at the top of the page to navigate
to a :guilabel:`Documents` page for that product, where files related to that product can be
uploaded. From this page, either click :guilabel:`New` or :guilabel:`Upload`.

.. image:: pdf_quote_builder/documents-smart-button.png
   :alt: The Documents smart button on a product form in Odoo Sales.

Clicking :guilabel:`Upload` opens the computer's local file directory. An uploaded document can be
further configured on the document card, or by clicking the :icon:`fa-ellipsis-v`
:guilabel:`(vertical ellipsis)` icon in the top-right corner of the document card, and then clicking
:guilabel:`Edit`.

Clicking :guilabel:`New` reveals a blank documents form, in which the desired PDF can be uploaded
via the :guilabel:`Upload your file` button on the form, located in the :guilabel:`File Content`
field.

PDF form configuration
----------------------

The first field on the documents form is for the :guilabel:`Name` of the document, and it is
grayed-out (not clickable) until a document is uploaded. Once a PDF has been uploaded, the
:guilabel:`Name` field is auto-populated with the name of the PDF, and it can then be edited.

Prior to uploading a document, there's the option to designate whether the document is a
:guilabel:`File` or :guilabel:`URL` from the :guilabel:`Type` drop-down field menu.

.. image:: pdf_quote_builder/document-form-uploaded-pdf.png
   :alt: A standard document form with an uploaded PDF in Odoo Sales.

.. note::
    If a PDF is uploaded, the :guilabel:`Type` field is auto-populated to :guilabel:`File`, and it
    cannot be modified.

Then, in the :guilabel:`Sales` section, click the drop-down menu in the :guilabel:`Visible at`
field, and select either: :guilabel:`On quotation`, :guilabel:`On confirmed order`, or
:guilabel:`Inside quote pdf`.

- :guilabel:`Quotation`: The document is sent to (and accessible by) customers at any time.

- :guilabel:`Confirmed order`: The document is sent to customers upon the confirmation of an order.
  This is best for user manuals and other supplemental documents.

- :guilabel:`Inside quote`: The document is included in the PDF of the quotation, between the header
  pages and the :guilabel:`Pricing` section of the quote.

.. example::
   When the :guilabel:`Inside quote` option for the :guilabel:`Visible at` field is chosen, and the
   custom PDF file, `Corner Desk.pdf` is uploaded, the PDF is visible on the quotation in the
   *customer portal* under the :guilabel:`Documents` field.

    .. image:: pdf_quote_builder/pdf-on-quote-sample.png
       :alt: Sample of an uploaded pdf with the on quote option chosen in Odoo Sales.

Beside the :guilabel:`File Content` field, is the :guilabel:`Configure dynamic fields` option. When
doing so, remember that the starting model is the :guilabel:`sale_order_line`, unlike for headers
and footers that start from the :guilabel:`sale_order`.

Lastly, in the :guilabel:`E-Commerce` section, decide whether or not to :guilabel:`Publish on
Website` so that the PDF appears on the product page in the online store.

.. example::
   When the :guilabel:`Publish on Website` option is enabled, a link to the uploaded document,
   `Corner Desk.pdf`, appears on the product's page in the online store.

   It appears beneath a :guilabel:`Documents` heading, with a link showcasing the name of the
   uploaded document.

    .. image:: pdf_quote_builder/show-product-page.png
       :alt: Showing a link to an uploaded document on a product page using Odoo Sales.

PDF quote
=========

On a sales order, in the :guilabel:`Quote Builder` tab, select additional documents to be merged
into the final PDF. If a selected document has custom fields, they appear as editable text boxes to
be filled in.

.. image:: pdf_quote_builder/quote-builder-headers.png
   :alt: Selectable quotation headers and footers under the Quote Builder section in a quotation.

Once a quote with a preconfigured PDF has been confirmed, Odoo provides the option to print the
confirmed quote to check for errors, or to keep for records.

To print the PDF quote, navigate to the confirmed quote, and click :icon:`fa-cog`
:guilabel:`Actions` to reveal a drop-down menu. From this drop-down menu, select :guilabel:`Print`,
then select :guilabel:`PDF Quote`.

.. image:: pdf_quote_builder/drop-down-print-pdf.png
   :alt: Print PDF quote option on drop-down menu located on confirmed sales order in Odoo Sales.

Doing so instantly downloads the PDF quote. When opened, the PDF quote, along with the configured
product PDF that was set to be visible inside the quote, can be viewed and printed.

.. note::
   Download these :download:`PDF quote builder examples
   <pdf_quote_builder/pdfquotebuilderexamples.zip>` or download :download:`sample quotation
   <pdf_quote_builder/sample_quotation.pdf>` for added reference.

.. seealso::
   - :doc:`quote_template`


==================================================
SECTION: prices.rst
PATH: applications/sales/sales/products_prices/prices.rst
==================================================

:nosearch:

===================
Manage your pricing
===================

.. toctree::
   :titlesonly:

   prices/pricing
   prices/currencies
   prices/discounts


==================================================
SECTION: pricing.rst
PATH: applications/sales/sales/products_prices/prices/pricing.rst
==================================================

==========
Pricelists
==========

A *pricelist* is a method of dynamic pricing that applies a list of prices (or price rules) that
overrides the sales price on a product's product form. This adjustment can set to apply to all
products sold or tailored to only apply to specific customers, customer groups, sales orders, time
periods, etc., and is useful for creating pricing strategies and optimizing sales margins.

Odoo **Sales** has a useful pricelist feature that can be tailored to fit any unique pricing
strategy. Pricelists suggest certain prices, but they can always be overridden on the sales order.

.. _sales/products/pricelist-configuration:

Configuration
=============

To enable pricelists in the Odoo **Sales** app, first navigate to :menuselection:`Sales app -->
Configuration --> Settings`. In the :guilabel:`Pricing` section, tick the checkbox next to the
:guilabel:`Pricelists` feature, and click :guilabel:`Save` to save all changes.

.. image:: pricing/pricelist-feature-setting.png
   :alt: How the pricelist feature setting looks in Odoo Sales.

After activating and saving the :guilabel:`Pricelists` feature, the :guilabel:`Settings` page
reloads. From here, either select the :icon:`oi-arrow-right` :guilabel:`Pricelists` link (beneath
the :guilabel:`Pricelists` feature on the :guilabel:`Settings` page), or navigate to
:menuselection:`Sales app --> Products --> Pricelists`.

Either option reveals the :guilabel:`Pricelists` page, in which pricelists can be created and/or
modified at any time.

.. image:: pricing/18-sales-pricelist-page.png
   :alt: How the pricelists page looks in Odoo Sales.

.. important::
   If there is no specific pricelist configured on a sales quotation, the :guilabel:`Default`
   pricelist is applied. The :guilabel:`Default` pricelist is the first pricelist found in
   :menuselection:`Sales app --> Products --> Pricelists` without an assigned :guilabel:`Country
   Group`. Odoo will read the :guilabel:`Pricelist Name` column from top to bottom to determine the
   :guilabel:`Default` pricelist.

.. note::
   The :guilabel:`Selectable` column is only applicable to Odoo **eCommerce**. This option allows
   website visitors to choose a pricelist when shopping in your **eCommerce** website.

.. note::
   In Odoo 17 (and above), you are *not required* to enter a pricelist in the :guilabel:`Pricelist`
   field on a sales quotation form in order to confirm it (i.e. turn it into a sales order).

   The chatter section is available on pricelist forms, which allows you to add notes and
   communications on each pricelist page.

Creating and editing pricelists
-------------------------------

From the :guilabel:`Pricelists` page, either select the pricelist to edit, or click :guilabel:`New`
to create a new pricelist, which reveals a blank pricelist form that can be configured in a number
of different ways.

.. image:: pricing/18-sales-new-pricelist-form.png
   :alt: How the pricelist detail form looks in Odoo Sales.

When creating a new pricelist, start by adding a name for the pricelist at the blank field at top of
the form. Next, select which :guilabel:`Currency` should be used.

If working in a multi-company environment, select which company this pricelist should apply to in
the :guilabel:`Company` field. If this field is left blank, the pricelist is automatically applied
to all companies in the database.

If working in a multinational company, select the countries where this pricelist will apply under
the :guilabel:`Country Groups` column.

.. _sales/products/price-rules:

Price Rules tab
---------------

In the :guilabel:`Price Rules` tab, each line creates a new record that will implement customized
pricing to the sales order where the pricelist is applied. This can be used to create complex
pricing structures, such as progressive discounts when greater quantities of a product are
purchased.

To create a new price rule, click on :guilabel:`Add a line`, which opens a new pricelist rules form.
Then, select whether to apply this set of rules to a :guilabel:`Product` or :guilabel:`Category`.

From here, there are several configuration options:

- :guilabel:`Product`: If selected in the :guilabel:`Apply To` field, use this field to choose one
  or more products to which this pricelist will apply.
- :guilabel:`Category`: Select one or more product categories to which this pricelist will apply.
- :guilabel:`Price Type`: Select whether the specialized pricing will fall under
  :guilabel:`Discount`, :guilabel:`Formula`, or :guilabel:`Fixed Price`. Depending on the price
  type, there will be additional configurations on how to apply the pricelist.

  - :guilabel:`Discount`: Enter the percentage to be discounted. A mark-up can be configured by
    using a negative value in this field.

    .. important::
       If a pricelist is applied to a sales quotation with the discount :guilabel:`Price Type` set
       as :guilabel:`Discount`, the discount will visible to the customer.

       .. image:: pricing/sales-pricelist-pricerule-discount.png
          :alt: A pricelist rule using Price Type: Discount to create a discount.

       .. image:: pricing/sales-pricelist-pricerule-discount-customer.png
          :alt: How a pricelist rule using Price Type: Discount appears on customer preview.

  - :guilabel:`Formula`: Calculate the pricelist rules based the following configuration:

    - :guilabel:`Discount`: Percentage discount to be applied. Negative values can be entered to
      increase prices.

    .. important::
       If a pricelist is applied to a sales quotation with the discount :guilabel:`Price Type` set
       as :guilabel:`Formula`, the discount will *not* be visible to the customer.

    - :guilabel:`Round off to`: Numerical value to act as round-off multiple, to be applied after
      discount. The rounding method sets the price so that it is a multiple of the value in this
      field.

      .. note::
         Rounding is applied *after* the discount and *before* the extra fee.

         - :guilabel:`Extra Fee`: Fixed amount to be added or subtracted once :guilabel:`Discount`
           and :guilabel:`Round off to` have been applied.
         - :guilabel:`Fixed Price`: Enter fixed price for this pricelist. When applied, all product
           lines in the quotation form will be updated to this price.

- :guilabel:`Min Qty`: Specify the minimum quantity of selected products for this pricelist to
  apply.
- :guilabel:`Validity Period`: Specify the start and end date during which this pricelist can be
  applied to quotations.

.. example::
   To formulate a 100% markup (or two times the price of the product), with a $5 minimum margin, set
   the :guilabel:`Based price` field to :guilabel:`Sales Price` and the :guilabel:`Discount` to
   `-100`. This is often seen in retail situations.

   .. image:: pricing/formula-markup-cost-example.png
      :alt: How it looks to formulate a markup cost with 5 dollar minimum margin in Odoo Sales.

.. example::
   To apply 20% discounts, with prices rounded up to 9.99, set the :guilabel:`Based on` field to
   :guilabel:`Sales Price`, the :guilabel:`Discount` field to `20`, the :guilabel:`Extra Fee` field
   to `-0.01`, and the :guilabel:`Rounding Method` field to `10`.

   .. image:: pricing/formula-discount-example.png
      :alt: Example of a 20% discount with prices rounded to 9.99 in Odoo Sales.

.. tip::
   To have prices that end in 9.99, set the :guilabel:`Rounding Method` to `10` and the
   :guilabel:`Extra Fee` to `-0.01`.

Recurring Prices tab
--------------------

Time-based rules are used specifically with subscription products. Be sure to check out the Odoo
:doc:`Subscriptions </applications/sales/subscriptions>` documentation for more information.

In the :guilabel:`Recurring Prices` tab, pricelists are configured with the same options as in the
:guilabel:`Price Rules` tab, with additional columns for :guilabel:`Product Variants` and
:guilabel:`Recurring Plan`.

:guilabel:`Product Variants` are configured under products that have one or more values, such as
color, size, etc. Once a product has been selected under the :guilabel:`Products Tab`, if
applicable, select the desired product variants to be included in the price rule.

Then, select the blank field in the :guilabel:`Recurring Plan` column to reveal a drop-down menu of
pre-designated recurrence periods (e.g. `Monthly`, `Quarterly`, `Weekly`, etc.).

.. image:: pricing/sales-pricelist-recurringprices.png
   :alt: The recurring prices tab in a pricelist configuration form.

New recurrence periods can also be created from this column. To do so, type in the name for the new
:guilabel:`Recurring Plan`, then select :guilabel:`Create` from the resulting drop-down menu to
create the time period, which can be edited later. Alternatively, select :guilabel:`Create and
edit...` to reveal a :guilabel:`Create Recurring Plan` pop-up form. From this pop-up form, the new
recurrence period can be configured, with specific :guilabel:`Details`, :guilabel:`Self-Service`,
and :guilabel:`Pricing` options. When the configurations are complete, click the :guilabel:`Save &
Close` button.

.. image:: pricing/time-period-popup.png
   :align: center
   :alt: Custom time period pop-up form in Odoo Sales.

Lastly, add the desired price for this recurring price rule in the :guilabel:`Recurring Price`
column.

.. seealso::
   :doc:`../../../subscriptions`

Rental rules tab
----------------

Price rules can be configured for :doc:`rental products <../../../rental>` under the
:guilabel:`Rental rules` tab, using the same methodology as the :guilabel:`Price Rules` and
:guilabel:`Recurring Prices` tabs.

To add a rental rule, click :guilabel:`Add a line`, and select a desired product in the
:guilabel:`Products` column. Then, select any specific :guilabel:`Variants`, if necessary.

Next, designate a :guilabel:`Period` of time for the rental rule (e.g. `Daily`, `Hourly`, etc.).

Lastly, configure a :guilabel:`Price` for the rental rule in the respective column.

.. image:: pricing/sales-pricelist-rental.png
   :alt: The rental tab in a pricelist configuration form.

.. seealso::
   :doc:`Ecommerce price configuration </applications/websites/ecommerce/products/prices>`

.. _sales/products/customer-pricelist-application:

Customer pricelist application
==============================

While the default pricelist applied to any customer is the :guilabel:`Public Pricelist`, Odoo
provides the opportunity to directly apply a different pricelist to customers on their contact form.

To do that, open the desired customer's contact form, either by navigating to :menuselection:`Sales
app --> Orders --> Customers` and selecting the customer from the main :guilabel:`Customers` page,
or by clicking on the customer's name on a sales order.

.. image:: pricing/customer-detail-form.png
   :align: center
   :alt: Sample customer detail form in Odoo Sales.

On the desired customer's contact form, under the :guilabel:`Sales & Purchase` tab, in the
:guilabel:`Sales` section, designate what pricelist should be applied to this specific customer from
the drop-down menu in the :guilabel:`Pricelist` field.

.. image:: pricing/customer-form-pricelist-field.png
   :align: center
   :alt: The pricelist field in a customer detail form in Odoo Sales.

.. note::
   When a customer is added to the database, the default pricelist is automatically applied to them.
   There is **no way** to have a blank *Pricelist* field on a contact form. Even if that field is
   left blank, the default pricelist appears when that contact form is opened again.

   However, when that contact is added to a quotation, and the *Pricelist* field is auto-populated
   (based on the information from their contact form), that predetermined pricelist can be removed
   from the *Pricelist* field, and the quotation can still be confirmed, and subsequently, turned
   into a sales order.

Conditions
----------

At the bottom of the :guilabel:`Create Pricelist Rules` pop-up form is the :guilabel:`Conditions`
section.

Here, start by selecting one of the options in the :guilabel:`Apply On` field:

- :guilabel:`All Products`: the advanced pricelist rule will be applied to all products.
- :guilabel:`Product Category`: the advanced pricelist rule will be applied to a specific category
  of products.
- :guilabel:`Product`: the advanced pricelist rule will be applied to a specific product.
- :guilabel:`Product Variant`: the advanced pricelist rule will be applied to a specific product
  variant.

If any of those options, apart from :guilabel:`All Products`, are selected, a new option-specific
field appears, in which the specific :guilabel:`Product Category`, :guilabel:`Product`, or
:guilabel:`Product Variant` must be chosen.

Then, select a minimum quantity to be applied to the advanced pricelist rule in the :guilabel:`Min.
Quantity` field. Lastly, select a range of dates for the pricelist item validation in the
:guilabel:`Validity` field.

Once all configurations are complete, either click :guilabel:`Save & Close` to save the advanced
pricelist rule, or click :guilabel:`Save & New` to immediately create another advanced pricelist
rule on a fresh form.

.. note::
   If a price rule is set for a particular product, and another one for its product category, Odoo
   takes the rule of the product itself.

.. seealso::
   - :doc:`/applications/sales/sales/products_prices/prices/currencies`
   - :doc:`/applications/websites/ecommerce/products/prices`


==================================================
SECTION: product_images.rst
PATH: applications/sales/sales/products_prices/products/product_images.rst
==================================================

=================================
Product images with Google Images
=================================

Having appropriate product images in Odoo is useful for a number of reasons. However, if a lot of
products need images, assigning them can become incredibly time-consuming.

Fortunately, by configuring the *Google Custom Search* API within an Odoo database, finding product
images for products (based on their barcode) is extremely efficient.

.. _product_images/configuration:

Configuration
=============

In order to utilize *Google Custom Search* within an Odoo database, both the database and the Google
API must be properly configured.

.. note::
   Free Google accounts allow users to select up to 100 free images per day. If a higher amount is
   needed, a billing upgrade is required.

.. _product_images/google-api-dashboard:

Google API dashboard
--------------------

#. Go to the `Google Cloud Platform API & Services <https://console.developers.google.com/>`_ page
   to generate Google Custom Search API credentials. Then, log in with a Google account. Next, agree
   to their :guilabel:`Terms of Service` by checking the box, and clicking :guilabel:`Agree and
   Continue`.
#. From here, select (or create) an API project to store the credentials. Start by giving it a
   memorable :guilabel:`Project Name`, select a :guilabel:`Location` (if any), then click
   :guilabel:`Create`.
#. With the :guilabel:`Credentials` option selected in the left sidebar, click :guilabel:`Create
   Credentials`, and select :guilabel:`API key` from the drop-down menu.

   .. image:: product_images/credentials-api-key.png
      :align: center
      :alt: API & Services page on Google Cloud Platform.

#. Doing so reveals an :guilabel:`API key created` pop-up window, containing a custom :guilabel:`API
   key`. Copy and save :guilabel:`Your API key` in the pop-up window -- it will be used later. Once
   the key is copied (and saved for later use), click :guilabel:`Close` to remove the pop-up window.

   .. image:: product_images/api-key-pop-up.png
      :align: center
      :alt: The API key created pop-up window that appears.

#. On this page, search for `Custom Search API`, and select it.

   .. image:: product_images/custom-search-api-search-bar.png
      :align: center
      :alt: Search bar containing "Custom Search API" on Google Cloud Platform.

#. From the :guilabel:`Custom Search API` page, enable the API by clicking :guilabel:`Enable`.

   .. image:: product_images/gcp-custom-search-api-page.png
      :align: center
      :alt: "Custom Search API" page with Enable button highlighted on Google Cloud Platform.

.. _product_images/google-pse-dashboard:

Google Programmable Search dashboard
------------------------------------

#. Next, go to `Google Programmable Search Engine <https://programmablesearchengine.google.com/>`_,
   and click either of the :guilabel:`Get started` buttons. Log in with a Google account, if not
   already logged in.

   .. image:: product_images/google-pse-get-started.png
      :align: center
      :alt: Google Programmable Search Engine page with the Get Started buttons.

#. On the :guilabel:`Create a new search engine` form, fill out the name of the search engine, along
   with what the engine should search, and be sure to enable :guilabel:`Image Search` and
   :guilabel:`SafeSearch`.

   .. image:: product_images/create-new-search.png
      :align: center
      :alt: Create new search engine form that appears with search engine configurations.

#. Validate the form by clicking :guilabel:`Create`.
#. Doing so reveals a new page with the heading: :guilabel:`Your new search engine has been
   created`.

   .. image:: product_images/new-search-engine-has-been-created.png
      :align: center
      :alt: The Your New Search Engine Has Been Created page that appears with copy code.

#. From this page, click :guilabel:`Customize` to open the :menuselection:`Overview --> Basic` page.
   Then, copy the ID in the :guilabel:`Search engine ID` field. This ID is needed for the Odoo
   configuration.

   .. image:: product_images/basic-overview-search-engine-id.png
      :align: center
      :alt: Basic overview page with search engine ID field.

.. _product_images/setup-in-odoo:

Odoo
----

#. In the Odoo database, go to the :menuselection:`Settings app` and scroll to the
   :guilabel:`Integrations` section. From here, check the box beside :guilabel:`Google Images`.
   Then, click :guilabel:`Save`.

   .. image:: product_images/google-images-setting.png
      :align: center
      :alt: The Google Images setting in the Odoo Settings app page.

#. Next, return to the :menuselection:`Settings app`, and scroll to the :guilabel:`Integrations`
   section. Then, enter the :guilabel:`API Key` and :guilabel:`Search Engine ID` in the fields
   beneath the :guilabel:`Google Images` feature.
#. Click :guilabel:`Save`.

.. _product_images/get-product-images:

Product images in Odoo with Google Custom Search API
====================================================

Adding images to products in Odoo can be done on any product or product variant. This process can be
completed in any Odoo application that provides access to product pages (e.g. *Sales* app,
*Inventory* app, etc.).

Below is a step-by-step guide detailing how to utilize the *Google Custom Search API* to assign
images to products in Odoo using the Odoo *Sales* application:

#. Navigate to the :guilabel:`Products` page in the *Sales* app (:menuselection:`Sales app -->
   Products --> Products`). Or, navigate to the :guilabel:`Product Variants` page in the *Sales* app
   (:menuselection:`Sales app --> Products --> Product Variants`).
#. Select the desired product that needs an image.

   .. note::
      Only products (or product variants) that have a barcode, but **not** an image, are processed.

      If a product with one or more variants is selected, each variant that matches the
      aforementioned criteria is processed.

#. Click the :guilabel:`Action âš™ï¸ (gear)` icon on the product page, and select :guilabel:`Get
   Pictures from Google Images` from the menu that pops up.

   .. image:: product_images/get-pictures-from-google-action.png
      :align: center
      :alt: The Get Pictures from Google Images option from the Action drop-down menu in Odoo.

#. On the pop-up window that appears, click :guilabel:`Get Pictures`.

   .. image:: product_images/click-get-picture-from-pop-up.png
      :align: center
      :alt: The pop-up that appears in which the user should click Get Picture in Odoo Sales.

#. Once clicked, the image(s) will appear incrementally.

   .. note::
      Only the first 10 images are fetched immediately. If you selected more than 10, the rest are
      fetched as a background job.

      The background job processes about 100 images in a minute. If the quota authorized by Google
      (either with a free or a paid plan) is reached, the background job puts itself on hold for 24
      hours. Then, it will continue where it stopped the day before.

.. seealso::
   `Create, modify, or close your Google Cloud Billing account
   <https://cloud.google.com/billing/docs/how-to/manage-billing-account>`_


==================================================
SECTION: products.rst
PATH: applications/sales/sales/products_prices/products.rst
==================================================

:nosearch:

====================
Manage your products
====================

.. toctree::
   :titlesonly:

   products/import
   products/variants
   products/product_images


==================================================
SECTION: products_prices.rst
PATH: applications/sales/sales/products_prices.rst
==================================================

:nosearch:

=================
Products & Prices
=================

.. toctree::
   :titlesonly:

   products_prices/products
   products_prices/prices
   products_prices/returns
   products_prices/ewallets_giftcards
   products_prices/loyalty_discount
   products_prices/alternative_products
   products_prices/accessory_products


==================================================
SECTION: proforma.rst
PATH: applications/sales/sales/invoicing/proforma.rst
==================================================

==================
Pro-forma invoices
==================

A *pro-forma invoice* is an abridged or estimated invoice sent in advance of a delivery of goods. It
notes the kind and quantity of goods, their value, and other important information, such as weight
and transportation charges.

Pro-forma invoices are commonly used as preliminary invoices with a quotation. They are also used
during importation for customs purposes. They differ from a normal invoice, in that they are *not* a
demand (or request) for payment.

Configuration
=============

In order to utilize pro-forma invoices, the *Pro-Forma Invoice* feature **must** be activated.

To enable this feature, navigate to :menuselection:`Sales app --> Configuration --> Settings`, and
in the :guilabel:`Quotations \& Orders` section, click the checkbox next to :guilabel:`Pro-Forma
Invoice`. Then, click :guilabel:`Save` to save all changes.

.. image:: proforma/pro-forma-setting.png
   :align: center
   :alt: The Pro-Forma Invoice feature setting in the Odoo Sales application.

Send pro-forma invoice
======================

With the :guilabel:`Pro-Forma Invoice` feature activated, the option to send a pro-forma invoice is
now available on any quotation or sales order, via the :guilabel:`Send Pro-Forma Invoice` button.

.. image:: proforma/send-pro-forma-invoice-button.png
   :align: center
   :alt: The Send Pro-Forma Invoice button on a typical sales order in Odoo Sales.

.. note::
   Pro-forma invoices can **not** be sent for a sales order or quotation if an invoice for a down
   payment has already been sent, or for a recurring subscription.

   In either case, the :guilabel:`Send Pro-Froma Invoice` button does **not** appear.

   However, pro-forma invoices **can** be sent for services, event registrations, courses, and/or
   new subscriptions. Pro-forma invoices are not limited to physical, consumable, or storable goods.

When the :guilabel:`Send Pro-Forma Invoice` button is clicked, a pop-up window appears, from which
an email can be sent.

In the pop-up window, the :guilabel:`Recipients` field is auto-populated with the customer from the
sales order or quotation. The :guilabel:`Subject` field and the body of the email can be modified,
if necessary.

The pro-forma invoice is automatically added as an attachment to the email.

When ready, click :guilabel:`Send`, and Odoo instantly sends the email, with the attached pro-forma
invoice, to the customer.

.. image:: proforma/pro-forma-email-message-pop-up.png
   :align: center
   :alt: The email pop-up window that appears with pro-forma invoice attached in Odoo Sales.

.. tip::
   To preview what the pro-forma invoice looks like, click on the PDF at the bottom of the email
   pop-up window *before* clicking :guilabel:`Send`. When clicked, the pro-forma invoice is
   downloaded instantly. Open that PDF to view (and review) the pro-forma invoice.

   .. image:: proforma/pro-forma-pdf.png
      :align: center
      :alt: Sample pro-forma invoice PDF from Odoo Sales.

.. seealso::
   :doc:`invoicing_policy`


==================================================
SECTION: quote_template.rst
PATH: applications/sales/sales/sales_quotations/quote_template.rst
==================================================

===================
Quotation templates
===================

Reusable quotation templates can be made in Odoo's **Sales** app for common products or services.

By using these templates, quotations can be tailored and sent to customers at a quicker pace,
without having to create new quotations from scratch every time a sales negotiation occurs.

Configuration
=============

To use quotation templates, begin by activating the setting in :menuselection:`Sales app -->
Configuration --> Settings`, and scroll to the :guilabel:`Quotations &_Orders` heading.

Under the heading, tick the :guilabel:`Quotation Templates` checkbox. Doing so reveals a new
:guilabel:`Default Template` field, in which a default quotation template can be chosen from the
drop-down menu.

.. image:: quote_template/quotations-templates-setting.png
   :alt: How to enable quotation templates on Odoo Sales.

Upon activating the :guilabel:`Quotation Template` feature, an internal :icon:`fa-arrow-right`
:guilabel:`Quotation Templates` link appears beneath the :guilabel:`Default Template` field.

Clicking this link reveals the :guilabel:`Quotation Templates` page, from which templates can be
created, viewed, and edited.

Before leaving the :guilabel:`Settings` page, do not forget to click the :guilabel:`Save` button to
save all changes made during the session.

.. _sales/send_quotations/create_templates:

Create quotation templates
==========================

To create a quotation template, click the :guilabel:`Quotation Templates` link on the
:guilabel:`Settings` page once :guilabel:`Quotation templates` are enabled, or navigate to
:menuselection:`Sales app --> Configuration --> Quotation Templates`. Both options reveal the
:guilabel:`Quotation Templates` page, where quotation templates can be created, viewed, and edited.

.. image:: quote_template/quotation-templates-page.png
   :alt: Quotation templates page in the Odoo Sales application.

To create a new quotation template, click the :guilabel:`New` button, located in the upper-left
corner. Doing so reveals a blank quotation template form that can be customized.

.. image:: quote_template/blank-quotation-form.png
   :alt: Create a new quotation template on Odoo Sales.

Start by entering a name for the template in the :guilabel:`Quotation Template` field.

Then, in the :guilabel:`Quotation Validity` field, designate how many days the quotation template
will remain valid for, or leave the field on the default `0` to keep the template valid
indefinitely.

Next, in the :guilabel:`Confirmation Mail` field, click the blank drop-down menu to select a
preconfigured email template to be sent to customers upon confirmation of an order.

.. tip::
   To create a new email template directly from the :guilabel:`Confirmation Mail` field, start
   typing the name of the new email template in the field, and select either: :guilabel:`Create` or
   :guilabel:`Create and edit...` from the drop-down menu that appears.

   Selecting :guilabel:`Create` creates the email template, which can be edited later.

   Selecting :guilabel:`Create and edit...` creates the email template, and a :guilabel:`Create
   Confirmation Mail` pop-up window appears, in which the email template can be customized and
   configured immediately.

   .. image:: quote_template/create-confirmation-mail-popup.png
      :alt: Create confirmation mail pop-up window from the quotation template form in Odoo Sales.

   When all modifications are complete, click :guilabel:`Save & Close` to save the email template
   and return to the quotation form.

If working in a multi-company environment, use the :guilabel:`Company` field to designate to which
company this quotation template applies.

If a journal is set in the :guilabel:`Invoicing Journal` field, all sales orders with this template
will invoice in that specified journal. If no journal is set in this field, the sales journal with
the lowest sequence is used.

If the :guilabel:`Online Signature` and/or :guilabel:`Online Payment` features are activated in the
:guilabel:`Settings` (:menuselection:`Sales app --> Configuration --> Settings`), those options are
available on quotation template forms.

Check the box beside :guilabel:`Online Signature` to request an online signature from the customer
to confirm an order.

Check the box beside :guilabel:`Online Payment` to request an online payment from the customer to
confirm an order. When :guilabel:`Online Payment` is checked, a new percentage field appears, in
which a specific percentage of payment can be entered.

Both options, :guilabel:`Online Signature` and :guilabel:`Online Payment` can be enabled
simultaneously, in which case the customer must provide **both** a signature **and** a payment to
confirm an order.

Lines tab
---------

In the :guilabel:`Lines` tab, products can be added to the quotation template by clicking
:guilabel:`Add a product`, organized by clicking :guilabel:`Add a section` (and dragging/dropping
section headers), and further explained with discretionary information (such as warranty details,
terms, etc.) by clicking :guilabel:`Add a note`.

To add a product to a quotation template, click :guilabel:`Add a product` in the :guilabel:`Lines`
tab of a quotation template form. Doing so reveals a blank field in the :guilabel:`Product` column.

When clicked, a drop-down menu with existing products in the database appears. Select the desired
product from the drop-down menu to add it to the quotation template.

If the desired product is not readily visible, type the name of the desired product in the
:guilabel:`Product` field, and the option appears in the drop-down menu. Products can also be found
by clicking :guilabel:`Search More...` from the drop-down menu.

.. tip::
   It is possible to add event-related products (booths and registrations) to quotation templates.
   To do so, click the :guilabel:`Product` field, type in `Event`, and select the desired
   event-related product from the resulting drop-down menu.

.. note::
   When a product is added to a quotation template, the default :guilabel:`Quantity` is `1`, but
   that can be edited at any time.

Then, drag and drop the product to the desired position, via the :guilabel:`six squares` icon,
located to the left of each line item.

To add a *section*, which serves as a header to organize the lines of a sales order, click
:guilabel:`Add a section` in the :guilabel:`Lines` tab. When clicked, a blank field appears, in
which the desired name of the section can be typed. When the name has been entered, click away to
secure the section name.

Then, drag and drop the section name to the desired position, via the :icon:`oi-apps`
:guilabel:`(six squares)` icon, located to the left of each line item.

To add a note, which appears as a piece of text for the customer on the quotation, click
:guilabel:`Add a note` in the :guilabel:`Lines` tab. When clicked, a blank field appears, in which
the desired note can be typed. When the note has been entered, click away to secure the note.

Then, drag and drop the note to the desired position, via the :icon:`oi-apps`
:guilabel:`(six squares)` icon.

To delete any line item from the :guilabel:`Lines` tab (product, section, and/or note), click the
:icon:`fa-trash` :guilabel:`(remove record)` icon on the far-right side of the line.

Optional Products tab
---------------------

Using *optional products* is a marketing strategy that involves the cross-selling of products along
with a core product. The aim is to offer useful and related products to customers, which may result
in an increased sale.

.. example::
   If a customer wants to buy a car, they have the choice to order massaging seats as
   an additional product that compliments the car, or ignore the offer and buy the car alone.

Optional products appear as a section on the bottom of sales orders and eCommerce pages. Customers
can immediately add them to their online sales orders themselves, if desired.

.. image:: quote_template/optional-products-on-sales-order.png
   :alt: Optional products appearing on a typical sales order with Odoo Sales.

In the :guilabel:`Optional Products` tab, :guilabel:`Add a line` for each cross-selling product
related to the original items in the :guilabel:`Lines` tab, if applicable.

Clicking :guilabel:`Add a line` reveals a blank field in the :guilabel:`Product` column.

When clicked, a drop-down menu with products from the database appear. Select the desired product
from the drop-down menu to add it as an optional product to the quotation template.

To delete any line item from the :guilabel:`Optional Products` tab, click the :icon:`fa-trash`
:guilabel:`(remove record)` icon.

.. note::
   Optional products are **not** required to create a quotation template.

Terms & Conditions tab
----------------------

The :guilabel:`Terms & Conditions` tab provides the opportunity to add terms and conditions to the
quotation template. To add terms and conditions, type the desired terms and conditions in this tab.

.. seealso::
   :doc:`../../../finance/accounting/customer_invoices/terms_conditions`

.. note::
   Terms and conditions are **not** required to create a quotation template.

Use quotation templates
=======================

When creating a quotation (:menuselection:`Sales app --> New`), choose a preconfigured template in
the :guilabel:`Quotation Template` field.

.. note::
   The order of the templates in the :guilabel:`Quotation Template` field is determined by the order
   of the templates in the Quotation Templates form. The order of the quotations in the Quotation
   Templates form does **not** affect anything else.

To view what the customer will see, click the :guilabel:`Preview` button at the top of the page to
see how the quotation template appears on the front-end of the website through Odoo's customer
portal.

.. image:: quote_template/quotations-templates-preview.png
   :alt: Customer preview of a quotation template in Odoo Sales.

When all blocks and customizations are complete, click the :guilabel:`Save` button to save the
configuration.

The blue banner located at the top of the quotation template preview can be used to quickly return
:icon:`fa-arrow-right` :guilabel:`Back to edit mode`. When clicked, Odoo returns to the quotation
form in the back-end of the *Sales* application.

Mass cancel quotations/sales orders
===================================

Cancel multiple quotations (or sales orders) by navigating to the :menuselection:`Sales app -->
Orders --> Quotations` dashboard, landing, by default, in the list view. Then, on the left side of
the table, tick the checkboxes for the quotations to be canceled.

.. tip::
   Select all records in the table by selecting the checkbox column header at the top-left of the
   table; the total number of selected items are displayed at the top of the page.

Then, with the desired quotations (or sales orders) selected from the list view on the
:guilabel:`Quotations` page, click the :icon:`fa-cog` :guilabel:`Actions` button to reveal a
drop-down menu.

From this drop-down menu, select :guilabel:`Cancel quotations`.

.. image:: quote_template/cancel-quotations.png
   :alt: The Cancel quotations option on the Actions drop-down menu in the Odoo Sales application.

.. note::
   This action can be performed for quotations in *any* stage, even if it is confirmed as a sales
   order.

Upon selecting the :guilabel:`Cancel quotations` option, a :guilabel:`Cancel quotations`
confirmation pop-up window appears. To complete the cancellation, click the :guilabel:`Cancel
quotations` button.

.. note::
   An error pop-up message appears when attempting to cancel an order for an ongoing subscription
   that has an invoice.

.. seealso::
   - :doc:`get_signature_to_validate`
   - :doc:`get_paid_to_validate`


==================================================
SECTION: returns.rst
PATH: applications/sales/sales/products_prices/returns.rst
==================================================

===================
Returns and refunds
===================

The Odoo *Sales* app provides two different ways to process returns. The method used depends on
whether or not an invoice has been sent.

Before invoicing
================

Returns are completed using *Reverse Transfers* when a customer decides to return a product
**before** an invoice has been sent or validated.

.. note::
   In order to use *Reverse Transfers*, the *Inventory* app **must** be installed.

To start a return before invoicing, navigate to the :menuselection:`Sales` app, select the desired
sales order, and click on the :guilabel:`Delivery` smart button to open the associated delivery
order.

.. image:: returns/sales-order-delivery-smart-button.png
   :align: center
   :alt: A typical sales order with a highlighted delivery smart button in Odoo Sales.

On the validated delivery order, click :guilabel:`Return`.

.. image:: returns/validated-delivery-order-return-button.png
   :align: center
   :alt: A validated delivery order with a highlighted Return button in Odoo Sales.

This opens a :guilabel:`Reverse Transfer` pop-up window.

By default, the :guilabel:`Quantity` matches the validated quantities from the delivery order.
Update the quantities, if necessary. Click on the :guilabel:`ðŸ—‘ï¸ (trash)` icon next to a line item
to remove it from the return.

.. image:: returns/reverse-transfer-popup.png
   :align: center
   :alt: The "Reverse Transfer" pop-up window, to make a return before invoicing the customer.

Next, click :guilabel:`Return` to confirm the return. This generates a new warehouse operation for
the incoming returned product(s).

.. image:: returns/warehouse-operation-confirmed-return.png
   :align: center
   :alt: Warehouse operation after a return has been confirmed in Odoo Sales.

Upon receiving the return, the warehouse team validates the warehouse operation by clicking
:guilabel:`Validate`. Then, on the original sales order, the :guilabel:`Delivered` quantity updates
to reflect the difference between the initial validated quantities and the returned quantities.

.. image:: returns/updated-sales-quantities.png
   :align: center
   :alt: The updated "Delivered" quantity on the sales order after the reverse transfer.

When an invoice is created, the customer receives an invoice **only** for the products they are
keeping, if any.

After invoicing
===============

Sometimes, customers return an item after they receive and/or pay for their invoice. In these
cases, a return using only *Reverse Transfers* is insufficient since validated, or sent, invoices
cannot be changed.

However, *Reverse Transfers* can be used in conjunction with *Credit Notes* to complete the
customer's return.

To start a return after invoicing, navigate to the relevant sales order in the
:menuselection:`Sales` app.

If there is a payment registered on the sales order, the payment details appear in the chatter, and
the invoice (accessible through the :guilabel:`Invoices` smart button) has a green :guilabel:`In
Payment` banner.

.. image:: returns/green-in-payment-banner.png
   :align: center
   :alt: Sample of a green in payment banner in Odoo Sales.

From the sales order, click on the :guilabel:`Delivery` smart button to view the validated delivery
order. Then, click :guilabel:`Return` to open the :guilabel:`Reverse Transfer` pop-up window.

Next, edit the :guilabel:`Product` and/or :guilabel:`Quantity`, as needed for the return. Then,
click :guilabel:`Return`. This generates a new warehouse operation for the incoming returned
product(s), which is validated by the warehouse team once the return is received by clicking
:guilabel:`Validate`.

Then, on the sales order, the :guilabel:`Delivered` quantity updates to reflect the difference
between the initial validated quantities and the returned quantities.

To process a refund, navigate to the relevant invoice (from the sales order, click on the
:guilabel:`Invoices` smart button). Then, click the :guilabel:`Credit Note` button at the top of the
validated invoice.

.. image:: returns/credit-note-button.png
   :align: center
   :alt: A typical customer invoice with a Credit Note button highlighted in Odoo Sales.

Doing so reveals a :guilabel:`Credit Note` pop-up form.

.. image:: returns/credit-note-pop-up-form.png
   :align: center
   :alt: Typical credit note pop-up form that appears in Odoo Sales.

Start by entering a :guilabel:`Reason displayed on Credit Note` and a specific :guilabel:`Journal`
to process the credit. Then, select a specific :guilabel:`Reversal Date`.

After the information is filled in, click :guilabel:`Reverse` or :guilabel:`Reverse and Create
Invoice`. Then, edit the draft, if needed.

Lastly, click :guilabel:`Confirm` to confirm the credit note.

When complete, a blue banner reading: :guilabel:`You have outstanding credits for this customer. You
can allocate them to mark this invoice as paid.` appears at the top of the page.

.. seealso::
   :doc:`../../../finance/accounting/customer_invoices/credit_notes`


==================================================
SECTION: sales_quotations.rst
PATH: applications/sales/sales/sales_quotations.rst
==================================================

:show-content:
:hide-page-toc:

================
Sales quotations
================

A *sales quotation* or quote is a document sent to a customer that outlines the estimated costs and
terms for goods and services. Once accepted, a quotation can be converted into a sales order, which
serves as the final agreement before delivery and invoicing.

Sales flow overview
===================

Quotations fit into a broader sales flow that connects different stages of customer interactions
from initial interest to payment.

The typical flow follows these steps:

#. *Quotation*: A proposal sent to the customer with product details and pricing.
#. *Sales order*: Created automatically when the customer accepts the quotation, confirming the
   sale.
#. *Delivery* (if applicable): Products are shipped or services are delivered.
#. *Invoice*: The final bill is issued based on the sales order or delivered products/services.
#. *Payment*: The customer settles the invoice, completing the sales cycle.

This flow helps businesses track the entire lifecycle of a sale while keeping information consistent
across apps.

In Odoo, quotations are configured in the **Sales** app. They can also be generated from other apps
as part of the sales workflow:

- **CRM**: :doc:`Convert opportunities <../crm/acquire_leads/send_quotes>` into quotes to follow up
  on potential deals.
- **Helpdesk**: :doc:`Generate quotes from tickets <../../services/helpdesk/advanced/after_sales>`
  when offering paid services or products.
- **Subscriptions**: :doc:`Offer recurring services <../subscriptions>` before
  starting an automatic billing cycle.

.. cards::

   .. card:: Create quotations
      :target: sales_quotations/create_quotations

      Create, configure, and send quotations to customers.

   .. card:: Quotation templates
      :target: sales_quotations/quote_template

      Configure and use quotation templates to send tailor-fit quotations at a quicker pace.

   .. card:: Optional products
      :target: sales_quotations/optional_products

      Offer useful and related products to customers to increase sales.

   .. card:: Online signatures for order confirmations
      :target: sales_quotations/get_signature_to_validate

      Customers have the ability to confirm orders via online signatures, directly on sales orders.

   .. card:: Online payment order confirmation
      :target: sales_quotations/get_paid_to_validate

      Customers have the ability to confirm orders via online payment, directly on sales orders.

   .. card:: Quotation Deadlines
      :target: sales_quotations/deadline

      Set deadlines on quotations to encourage customers to act in a timely manner when
      closing business deals.

   .. card:: Deliver orders and invoices to different addresses
      :target: sales_quotations/different_addresses

      Specify separate customer delivery and invoicing addresses on quotations.

   .. card:: Product variants on quotations and sales orders
      :target: sales_quotations/orders_and_variants

      Add product variants to sales orders to provide additional options for single products.

   .. card:: PDF quote builder
      :target: sales_quotations/pdf_quote_builder

      Add custom PDF files to quotations to elevate the document's headers and designs.

Sales quotations in business deals
==================================

Sales quotations serve as a key step in the sales process, bridging the gap between a customer's
initial inquiry about goods and services and the final contractual agreement for payment and
delivery. The quotation also provides transparency in pricing, helping both parties negotiate and
finalize the terms before making a commitment.

Sales quotations play a crucial role in business transactions by defining the scope and cost of what
is being sold to the end-customer; setting clear expectations on pricing, delivery, tax, and
payment terms; and providing a documented stage where the business deal can be negotiated before
agreed upon.

Key components of a sales quotation
===================================

A well-structured sales quotation comprises the following:

- Quotation number and date: A unique identifier for tracking and reference, as well as the
  :doc:`dates of issue and expiration <sales_quotations/deadline>`. In Odoo **Sales** app, the
  quotation number is assigned under a standard naming convention once it is confirmed.
- Customer information: Customer name and contact information, as well as
  :doc:`invoicing and delivery address <sales_quotations/different_addresses>`.
- Products and services: Itemized listing of items to be purchased, including quantity,
  specifications (as needed), and unit price.
- Payment terms and :doc:`pricelists <products_prices/prices/pricing>`: Configured agreements and
  rules for the pricing and payment of this particular sales quotation.
- Special pricing: Optional :doc:`discounts and promotional pricing
  <products_prices/prices/pricing>` to update and/or modify individual product lines.
- Total cost and currency: Summary totals of product or service and shipping prices, including
  relevant taxes.

In Odoo's **Sales** app, quotations can include additional details and configurations that add
more detail and information, such as :doc:`quotation templates <sales_quotations/quote_template>`,
:doc:`subscription plans <../../sales/subscriptions>`, and :doc:`sales team referrer name
<sales_quotations/create_quotations>`.

.. image:: sales_quotations/sales-quotation.png
   :alt: Unconfirmed sales quotation in Odoo **Sales** app.

.. toctree::
   :titlesonly:

   sales_quotations/create_quotations
   sales_quotations/quote_template
   sales_quotations/margin
   sales_quotations/optional_products
   sales_quotations/get_signature_to_validate
   sales_quotations/get_paid_to_validate
   sales_quotations/deadline
   sales_quotations/different_addresses
   sales_quotations/orders_and_variants
   sales_quotations/pdf_quote_builder


==================================================
SECTION: setup.rst
PATH: applications/sales/sales/amazon_connector/setup.rst
==================================================

==============================
Amazon Connector configuration
==============================

Odoo allows users to register an Amazon seller account in the database, but the user **must** have
a paid Amazon Seller account prior to completing the configuration.

Set up a paid Seller account on Amazon by first logging into the Amazon platform, and navigating to
:menuselection:`Account \& Lists --> Start a Selling Account` from the drop-down menu located in
the header section.

Then on the :guilabel:`Sell with Amazon` page, follow the sign-up process and finally proceed to
follow the instructions below to register and link that Amazon Seller account in Odoo.

.. seealso::
   `Sell with Amazon <https://www.amazon.com/b/?node=12766669011>`_

Connect Amazon Seller account to Odoo
=====================================

.. _amazon/setup:

To connect an Amazon Seller account in Odoo, navigate to :menuselection:`Sales app -->
Configuration --> Settings --> Connectors section`, activate the :guilabel:`Amazon Sync` feature,
and click :guilabel:`Save`.

Then, return to :menuselection:`Sales app --> Configuration --> Settings --> Connectors section`,
and click on the :guilabel:`Amazon Accounts` link under the :guilabel:`Amazon Sync` setting.

.. image:: setup/amazon-accounts-link-setting.png
   :align: center
   :alt: The Amazon Accounts link beneath the Amazon Sync settings in Odoo Sales.

Doing so reveals a separate :guilabel:`Amazon Accounts` page. From here, click :guilabel:`New` to
create and link a new Amazon account.

On the blank :guilabel:`Amazon Account` form page, start by choosing a name for the account (e.g.
`American Marketplace`). Then, in the :guilabel:`Credentials` tab, select the marketplace on which
the seller account was initially created from the :guilabel:`Home Marketplace` drop-down menu.

.. image:: setup/amazon-accounts-form-page.png
   :align: center
   :alt: A typical Amazon Account form page in the Odoo Sales application.

After saving, the field in the :guilabel:`Credentials` tab is replaced by a :guilabel:`Link with
Amazon` button.

.. image:: setup/amazon-accounts-form-link-button.png
   :align: center
   :alt: A typical Amazon Account form page and Link with Amazon button in Odoo Sales.

Clicking that button redirects to either the Amazon login page, or directly to the required consent
page, if the user is already logged in to Amazon.

On the login page, log in to the desired Amazon seller account.

On the consent page, confirm that Amazon is allowed to give Odoo access to the account and related
data.

Upon confirmation, Amazon returns the user to Odoo, and the account has been registered.

With the Amazon account successfully registered, the marketplaces available to this specific account
are synchronized with Odoo and listed under the :guilabel:`Marketplaces` tab.

If desired, remove items from the list of synchronized marketplaces to disable synchronization.

Amazon orders in Odoo
=====================

When an Amazon order is synchronized, up to three line items are created on the sales order in Odoo.
Each one represents a product sold on Amazon: one for the product that was sold on Amazon
Marketplace, one for the shipping charges (if any), and one for the gift wrapping charges (if any).

.. _amazon/matching:

The selection of a database product for a sales order item is done by matching its
:guilabel:`Internal Reference` (a customizable product reference idenifier in Odoo, like `FURN001`)
with the Amazon *SKU* for marketplace items, the Amazon *Shipping Code* for delivery charges, and
the Amazon *Gift Wrapping* code for gift wrapping charges.

For marketplace products, pairings are saved as *Amazon Offers*, which are listed under the
:guilabel:`Offers` smart button on the account form.

.. image:: setup/amazon-offers-button.png
   :align: center
   :alt: The Amazon Offers smart button on the account form in Odoo Sales.

Offers are automatically created when the pairing is established, and they're used for subsequent
orders to lookup SKUs. If no offer with a matching SKU is found, :ref:`the internal reference is
used instead <amazon/matching>`.

.. tip::
   It's possible to force the pairing of a marketplace item with a specific product, by changing
   either the product or the SKU of an offer to ensure they match. The offer can be manually created
   if it was not automatically done yet.

   This is useful if the internal reference is not used as the SKU, or if the product sells under
   different conditions.

If no database product with a matching internal reference is found for a given Amazon SKU or gift
wrapping code, then a default database product, *Amazon Sale*, is used. The same is done with the
default product *Amazon Shipping* if no database product is found for a given Amazon shipping code.

.. note::
   To modify default products, activate the :ref:`developer mode <developer-mode>`, and navigate to
   :menuselection:`Sales app --> Configuration --> Settings --> Connectors --> Amazon Sync -->
   Default Products`.

Product tax configuration
=========================

To allow for tax reporting of Amazon sales with Odoo, the taxes applied to the sales order items are
those set on the product, or determined by the fiscal position.

Make sure to have the correct taxes set on your products in Odoo, or have it done by a fiscal
position, to avoid discrepancies in the subtotals between *Amazon Seller Central* and Odoo.

.. note::
   As Amazon does not necessarily apply the same taxes as those configured in Odoo, it may happen
   that order totals differ by a few cents between Odoo and *Amazon Seller Central*. Those
   differences can be resolved with a write-off when reconciling the payments in Odoo.

.. _amazon/add-new-marketplace:

Add a new marketplace
=====================

All marketplaces are supported by the Amazon Connector. To add a new marketplace, proceed as
follows:

#. Activate the :ref:`developer mode <developer-mode>`.
#. Go to :menuselection:`Sales app --> Configuration --> Settings --> Connectors --> Amazon Sync -->
   Amazon Marketplaces`.
#. Click :guilabel:`New` to create a new marketplace record.
#. Enter the Marketplace ID in the :guilabel:`API Idenifier` field, and select the :guilabel:`Amazon
   Region` for your marketplace as described in the `Amazon Documentation for marketplace IDs and
   regions <https://developer-docs.amazon.com/sp-api/docs/marketplace-ids>`_, and the
   :guilabel:`Seller Central URL` as described in the `Amazon Documentation for seller central URLs
   <https://developer-docs.amazon.com/sp-api/docs/seller-central-urls>`_.
#. Set the :guilabel:`Name` of the record to `Amazon.<country code>` to easily retrieve it (e.g.
   `Amazon.se`). The :guilabel:`API Identifier`, the :guilabel:`Region` and the :guilabel:`Seller
   Central URL` fields should respectively hold the *Marketplace ID*, the selected Amazon region,
   and the *Seller Central URL* values from the Amazon Documentation.
#. Once the marketplace is saved, update the Amazon Account configuration by going to
   :menuselection:`Sales app --> Configuration --> Settings --> Connectors --> Amazon Sync -->
   Amazon Accounts`.
#. Select the account on which to use the new marketplace, go to the :guilabel:`Marketplaces` tab,
   and click on :guilabel:`Update available marketplaces`. An animation should confirm the success
   of the operation. Newly added marketplaces are automatically added to the list of synchronized
   marketplaces. If the new marketplace is not added to the list, it means that it is either
   incompatible or unavailable for the seller account.

.. seealso::
   - :doc:`features`
   - :doc:`manage`


==================================================
SECTION: setup.rst
PATH: applications/sales/sales/shopee_connector/setup.rst
==================================================

==============================
Shopee Connector configuration
==============================

Odoo allows users to synchronize with Shopee Seller account in the database, but users **must**
have a registered **Shopee Seller account** and a **Shopee Open account** prior to completing the
configuration.

Set up an Open Shopee account by first going to the `Shopee Open Platform
<https://open.shopee.com/>`_, and click the :guilabel:`Get Access (Now)` button located in the
middle of the page.

Use the `Open Shopee Developer Guide <https://open.shopee.com/developer-guide/12>`_, and follow the
registration process. Once all done, proceed to follow the instructions below to register and link
the Open Shopee account in Odoo.

.. important::
   Shopee Open Platform access and seller account requirements are **regionally specific**. This
   means the rules, qualifications, and processes differ from country to country. Before proceeding
   with Odoo's Shopee Connector setup, verify the requirements for *your* specific Shopee region.

   **Key Considerations:**

   - **Shopee Seller Status & Business Type:** You must have an active Shopee seller account
     (Individual or Registered Business). Your eligibility depends on your region and business
     registration.
   - **Order Volume/Seller Tier (If Applicable):** Many regions require a minimum number of orders
     within a specific time frame or a certain seller tier (e.g., Mall, Preferred, Managed) to
     access the Open Platform.

   **Action Required:**

   #. Identify your Shopee region.
   #. Locate the official Shopee documentation for your region.
      `Open Shopee Developer Guide <https://open.shopee.com/developer-guide/12>`_
   #. Carefully review the requirements for seller accounts and Open Platform access in your
      region.
   #. Ensure your Shopee account meets all the necessary criteria *before* proceeding with the
      Odoo Shopee Connector configuration.

.. _shopee/setup:

Connect Shopee seller account to Odoo
=====================================

:ref:`Install <general/install>` the :guilabel:`Shopee Connector` (`sale_shoppe`) by going to
:menuselection:`Apps`.

Then connect your Shopee Open account by navigating to :menuselection:`Sales app --> Configuration
--> Shopee --> Accounts`.

From here, click :guilabel:`New` to create to link a new Shopee account.

Then, in the :guilabel:`Credentials` tab, select the appropriate :guilabel:`API Endpoint` from the
drop-down menu.

.. note::
   Shopee offers several API endpoints for production and testing. Selecting the correct endpoint
   is crucial for successful integration. Choose the endpoint that corresponds to your marketplace
   location.

   - :guilabel:`Shopee Production Endpoint (Singapore)`: This is the primary endpoint for sellers in
     most APAC countries. Select this option unless you are specifically operating within mainland
     China or Brazil.
   - :guilabel:`Shopee Production Endpoint (China)`: This endpoint is exclusively for sellers
     operating within mainland China. It is designed to comply with local regulations and business
     practices.
   - :guilabel:`Shopee Production Endpoint (Brazil)`: This endpoint is dedicated to sellers
     operating within Brazil. Select this option if your Shopee store is based in Brazil.
   - :guilabel:`Shopee Testing Endpoint`: This endpoint is for development and testing purposes
     only. Use it to simulate interactions with the Shopee API without affecting your live data.
     **Do not use this endpoint for production.**
   - :guilabel:`Shopee Testing Endpoint (China)`:  Similar to the general testing endpoint, this one
     is specifically for testing integrations related to the China-specific production endpoint.
     **Do not use this endpoint for production.**

After selecting the correct API Endpoint in the :guilabel:`Credentials` form, input your Open
Shopee :guilabel:`Partner ID` and :guilabel:`Partner Key` in the corresponding fields. Then click
:guilabel:`Save And Authorize`.

.. important::
   You'll need your Open Shopee :guilabel:`Partner ID` and :guilabel:`Partner Key` to complete this
   step. Here's how to find them in the Shopee Open Platform:

   #. **Log in to the Shopee Open Platform:** `Log in <https://open.shopee.com/>`_ with the
      credentials you used to register your Open Shopee account.
   #. **Navigate to App Management:** Go to the :guilabel:`App Management` section, then select
      :guilabel:`App List`.
   #. **Select your app:** Choose the specific app you want to synchronize with Odoo (either your
      test app or your production app).
   #. **Find your credentials:** Within the app details, you'll find your Partner ID and Partner
      Key. These are the values you'll need to copy and paste into the corresponding fields in
      Odoo.

.. note::
   - **Copy carefully:** Copy the Partner ID and Partner Key accurately, without any extra spaces
     or characters. These are case-sensitive.
   - **Keep your key secure:** Your Partner Key is sensitive information. Do not share it with
     anyone. Treat it like a password.

Authorization and account registration
======================================

After entering connecting the :ref:`Shoppe Seller account to Odoo <shopee/setup>`, the authorization
process begins.

Shopee seller account selection/login
-------------------------------------

Upon clicking :guilabel:`Save and Authorize`, Odoo redirects to the Shopee seller account selection
page.

- **Already logged in:** If you are already logged in to a Shopee account, your email address or
  username will be displayed. Click on your account to proceed.
- **Not logged in:** If you are not logged in, you will be prompted to enter the credentials
  (email/username and password) of the Shopee seller account you wish to connect to Odoo.

Granting access to Odoo
-----------------------

After selecting or logging into your Shopee seller account, you will be directed to the
authorization (or consent) page. Here, confirm that you allow Shopee to grant Odoo access to your
account and related data. This step is essential for the integration to function correctly.

Account registration and Shopee shop creation
=============================================

Upon confirming access, Shopee redirects you back to Odoo. An indicator appears, confirming that
your Shopee account has been successfully registered.

Post-synchronization configuration
----------------------------------

After the redirection, you should perform the following steps within Odoo:

#. **Rename the Shopee Account (Optional):** The newly created Shopee account in Odoo will likely
   have a default name. You can rename it to something more descriptive (e.g., the name of your
   Shopee shop) for easier management.
#. **Set the Last Order Synchronization Date:** This setting determines the starting point for
   fetching orders from Shopee. Choose a date from which you want Odoo to retrieve past orders.
#. **Configure Inventory Synchronization:**  Decide whether you want to synchronize your product
   inventory between Odoo and Shopee. Enable the :guilabel:`Synchronize Inventory` option to
   automatically push stock updates from Odoo to Shopee. Disabling this option prevents automatic
   inventory updates.
#. **Assign a Default Sales Team:** Assign a default sales team to your Shopee account in Odoo.
   This helps with reporting and order management.

With the Shopee account successfully registered, the marketplaces available with this specific
account can later be synchronized the exact same way, and listed under the :guilabel:`Shops`
button.

Shopee orders in Odoo
=====================

When a Shopee order is synchronized, only lines for items are created on the sales order in Odoo.
Each one represents one for the product that was sold on Shopee.

.. image:: setup/shopee-sales-odoo.png
   :alt: Shopee synchronized sale order in Odoo.

Any necessary price reconciliation related to shipping or income versus fees can be managed later
using Shopee's weekly / monthly financial reports, which can then be imported into the Odoo
**Accounting** app.

The selection of a database product for a sales order item is done by matching its
:guilabel:`Internal Reference` (a customizable product reference identifier in Odoo, like `FURN001`)
with the Shopee *SKU*.

If no database product with a matching internal reference is found for a given
:guilabel:`Shopee SKU`, then a default database product, *Shopee Item*.

.. note::
   To modify default products, activate the :ref:`developer mode <developer-mode>`, and navigate to
   :menuselection:`Sales app --> Configuration --> Settings`. In the :guilabel:`Connectors` section,
   under :guilabel:`Shopee Sync`, find the :guilabel:`Default Products`.

Product tax configuration
=========================

To allow for tax reporting of Shopee sales with Odoo, the taxes applied to the sales order items are
those set on the product, or determined by the :doc:`fiscal position
<../../../finance/fiscal_localizations>`.

Make sure to have the correct taxes set on your products in Odoo, or have it done by a fiscal
position, to avoid discrepancies in the subtotals between *Shopee Seller Central* and Odoo.

.. note::
   As shopee does not necessarily apply the same taxes as those configured in Odoo, it may happen
   that order totals differ by a few cents between Odoo and *Shopee Seller Central*. Those
   differences can be resolved with a write-off when reconciling the payments in Odoo.

.. _shopee/add-new-marketplace:

Add a new marketplace
=====================

To add a new marketplace, follow these steps:

#. **Navigate to Shopee Accounts:** Go to :menuselection:`Sales --> Configuration --> Accounts`.
#. **Create a New Shopee Account:** Click :guilabel:`New` to create a new Shopee marketplace
   account.
#. **Select the API Endpoint:** Choose the appropriate API endpoint for your local market.
   (Typically, this will be :guilabel:`Shopee Production Endpoint (Singapore)` unless you are
   operating in mainland China or Brazil. Refer to the documentation for details on endpoint
   selection).
#. **Enter Credentials:** Your :guilabel:`Partner ID` and :guilabel:`Partner Key` are the same as
   those linked to your unique Open Shopee account. Enter these values in the corresponding fields.
#. **Name Your Shop:** Give the new shop a descriptive name (e.g., `Shopee Philippines`) to identify
   it later.
#. **Assign a Sales Team:** Assign a relevant sales team (e.g., `Shopee Sales Philippines`) to
   enable advanced reporting capabilities.
#. **Synchronize Your Account:** If none of your existing marketplaces are listed, click
   :guilabel:`Log in with another account` to synchronize a new one. This will initiate the Shopee
   authorization process.

Automatic synchronization
-------------------------

Newly added marketplaces are automatically added to the list of synchronized marketplaces. If a new
marketplace does *not* appear in the list after synchronization, it indicates that the marketplace
is either incompatible with the Shopee Open Platform or unavailable for your specific seller
account. Consult the Shopee Open Platform documentation or contact their support for further
assistance.

.. important::
   While Odoo allows creating the same Shopee shop multiple times, only one instance will function
   due to token limitations. To avoid order management issues, synchronize each shop only once. For
   connection updates, manually fetch orders first before re-establishing the connection.

.. seealso::
   - :doc:`Shopee supported features and marketplaces <../shopee_connector>`
   - :doc:`manage`


==================================================
SECTION: shopee_connector.rst
PATH: applications/sales/sales/shopee_connector.rst
==================================================

:show-content:

================
Shopee Connector
================

The **Shopee Connector** synchronizes orders between Shopee and Odoo, which considerably reduces the
amount of time spent manually entering Shopee orders (from the Shopee Seller account) into Odoo. It
also allows users to accurately keep track of Shopee sales in Odoo.

Supported features
==================

The **Shopee Connector** is able to:

- Synchronize (Shopee to Odoo) all confirmed orders, and their order items, which include:

  - Product name
  - SKU reference
  - Quantity

- Synchronize (Odoo to Shopee) all available quantities of your products (:abbr:`FBM (Fulfilled by
  Merchant)`).
- Support multiple seller accounts.
- Support multiple Shopee marketplaces (shops) per seller account.

.. note::
   The **Shopee Connector** is designed to synchronize sales orders data. Other actions, such as
   downloading weekly/monthly income/fees reports, handling disputes, or issuing refunds, **must**
   be managed from the *Shopee Seller Central*, as usual.

Shopee supported marketplaces
=============================

+-------------------------------+
| **APAC region**               |
+===============+===============+
| Indonesia     | Shopee.co.id  |
+---------------+---------------+
| Taiwan        | Shopee.tw     |
+---------------+---------------+
| Vietnam       | Shopee.vn     |
+---------------+---------------+
| Thailand      | Shopee.co.th  |
+---------------+---------------+
| Philippines   | Shopee.ph     |
+---------------+---------------+
| Malaysia      | Shopee.com.my |
+---------------+---------------+
| Singapore     | Shopee.sg     |
+---------------+---------------+

+-------------------------------+
| **South America region**      |
+===============+===============+
| Brazil        | Shopee.com.br |
+---------------+---------------+
| Chile         | Shopee.cl     |
+---------------+---------------+
| Colombia      | Shopee.com.co |
+---------------+---------------+
| Mexico        | Shopee.com.mx |
+---------------+---------------+

.. seealso::
   - :doc:`shopee_connector/setup`
   - :doc:`shopee_connector/manage`

.. toctree::
   :titlesonly:

   shopee_connector/setup
   shopee_connector/manage


==================================================
SECTION: time_materials.rst
PATH: applications/sales/sales/invoicing/time_materials.rst
==================================================

=====================================
Invoicing based on time and materials
=====================================

Invoicing based on time and/or materials is typically used when accurately estimating the size of a
project isn't possible, or when the requirements of a project may change.

This is different from a fixed-price contract, when a customer agrees to pay a specified total for
the fulfillment of the contract---no matter what needs to be paid to the employees, sub-contractors,
vendors, suppliers, and so on.

The Odoo *Sales* app can invoice for time and various other expenses (e.g. transport, lodging), as
well as purchases needed to fulfill an order.

App and settings configuration
==============================

First, in order to accurately keep track of the progress of a project, the Odoo *Project* and
*Accounting* apps **must** be installed.

To install the *Project* app, navigate to :menuselection:`Odoo main dashboard --> Apps`. Then, on
the :guilabel:`Apps` page, locate the :guilabel:`Project` app block, and click :guilabel:`Activate`.
The page automatically refreshes and returns to the main Odoo dashboard, where the *Project* app is
now available to access.

Repeat the same process to install the *Accounting* application.

After installation, click the :guilabel:`Accounting` app icon from the main Odoo dashboard, and
navigate to :menuselection:`Configuration --> Settings`. On the :guilabel:`Settings` page, scroll
down to the :guilabel:`Analytics` section, and ensure the box next to :guilabel:`Analytic
Accounting` is checked.

.. image:: time_materials/analytic-accounting-setting.png
   :align: center
   :alt: How it looks to activate the Analytic Accounting setting in Odoo Accounting Setting page.

Then, click :guilabel:`Save` to save all changes.

Then, navigate to :menuselection:`Odoo main dashboard --> Project app --> Configuration -->
Settings`. On the :guilabel:`Settings` page, in the :guilabel:`Time Management` section, ensure the
box beside the :guilabel:`Timesheets` feature is checked.

Then, click :guilabel:`Save` to save all changes.

.. image:: time_materials/timesheets-feature.png
   :align: center
   :alt: What the Timesheets feature looks like on the Odoo Project settings page.

.. _sales/invoicing/configured-service-product:

Service product configuration
=============================

With the *Timesheets* feature activated in the *Project* app, it is now possible to invoice for time
spent on a project, but **only** when the following product configurations have been made.

.. important::
   Invoicing for time spent on a project is **only** possible with products that have *Service* set
   as the *Product Type* on their product form.

To configure a service product, first navigate to :menuselection:`Sales app --> Products -->
Products`. On the :guilabel:`Products` page, select the desired service product to be configured, or
click :guilabel:`New` to create a new product.

From the product form, in the :guilabel:`General Information` tab, set the :guilabel:`Product Type`
to :guilabel:`Service`. Then, open the drop-down menu in the :guilabel:`Invoicing Policy` field, and
select :guilabel:`Based on Timesheets`.

Next, from the :guilabel:`Create on Order` drop-down menu, select :guilabel:`Project \& Task`. That
setting indicates that, when a sales order is created with this specific service product, a new
project and task is created in the *Project* app.

.. image:: time_materials/service-product-general-settings.png
   :align: center
   :alt: The correct settings for Invoicing Policy and Create on Order fields for service product.

.. note::
   The option :guilabel:`Task` can be chosen instead from the :guilabel:`Create on Order` drop-down
   menu. If :guilabel:`Task` is chosen, select an existing project that the task will appear in from
   :guilabel:`Project` field, which only appears if :guilabel:`Task` is chosen in the
   :guilabel:`Create on Order` field.

Add time spent to sales order
=============================

After properly configuring a service product with the correct *Invoicing Policy* and *Create on
Order* options, it is possible to add time spent to a sales order.

To see that in action, navigate to :menuselection:`Sales app --> New` to open a blank quotation
form. Then, proceed to add a :guilabel:`Customer`, and in the :guilabel:`Order Lines` tab, click
:guilabel:`Add a product`, and select the properly :ref:`configured service product
<sales/invoicing/configured-service-product>` from the drop-down menu.

Next, click :guilabel:`Confirm` to confirm the order.

After confirming the sales order, two smart buttons appear at the top of the order form:
:guilabel:`Projects` and :guilabel:`Tasks`.

.. image:: time_materials/projects-tasks-smart-buttons.png
   :align: center
   :alt: How the Projects and Tasks smart buttons look on a Sales Order in Odoo Sales.

If the :guilabel:`Projects` smart button is clicked, it reveals the specific project related to this
sales order. If the :guilabel:`Tasks` smart button is clicked, it reveals the specific project task
related to this sales order. Both are also accessible in the *Project* app.

In order to add time spent on a sales order, click the :guilabel:`Tasks` smart button.

On the task form, select the :guilabel:`Timesheets` tab. From the :guilabel:`Timesheets` tab,
employees can be assigned to work on the project, and the time they spend working on the task can be
added by the employees or by the person who created the sales order.

To add an employee, and the time spent working on the task, click :guilabel:`Add a line` in the
:guilabel:`Timesheets` tab. Then, select the appropriate :guilabel:`Date` and :guilabel:`Employee`.
There is also the option to add a brief description of the work done during this time in the
:guilabel:`Description` column, but it's not required.

Lastly, enter the amount of time worked on the task in the :guilabel:`Hours Spent` column, and click
away to complete that line in the :guilabel:`Timesheets` tab.

.. note::
   The time entered in the :guilabel:`Hours Spent` column is immediately reflected in the
   :guilabel:`Allocated Time` field (located near the top of the task form) as a percentage, which
   reflects how much of the total allocated work hours have been done so far.

   That same information is found as numerical hours in the :guilabel:`Hours Spent` and
   :guilabel:`Remaining Hours` fields, located at the bottom of the :guilabel:`Timesheets` tab.

   .. image:: time_materials/timesheets-tab-on-task.png
      :align: center
      :alt: How the Timesheets tab appears on a task form in Odoo Sales and Odoo Project.

Repeat this process for however many employees and hours have been worked on the project.

Invoice time spent
==================

Once all the necessary employees and time spent have been added to the project task, return to the
sales order to invoice the customer for those hours. To do that, either click the :guilabel:`Sales
Order` smart button at the top of the task form, or return to the sales order via the breadcrumb
links, located in the upper-left of the screen.

Back on the sales order form, the time that was added to the task is reflected in the
:guilabel:`Order Lines` tab (in the :guilabel:`Delivered` column) and in the new :guilabel:`Recorded
Hours` smart button at the top of the sales order.

To invoice the customer for time spent on the project, click :guilabel:`Create Invoice`, and select
:guilabel:`Regular invoice` from the :guilabel:`Create invoices` pop-up window. Then, click
:guilabel:`Create Draft Invoice`.

Doing so reveals a :guilabel:`Customer Invoice Draft`, clearly showing all the work that's been done
in the :guilabel:`Invoice Lines` tab.

.. tip::
   Pay attention to the :guilabel:`Analytic Distribution` column in the :guilabel:`Customer
   Invoice`, as that information is necessary to ensure other time/material invoicing tasks are
   completed properly and accurately.

   .. image:: time_materials/invoice-lines-time.png
      :align: center
      :alt: Invoice draft showing time spent on sales order in Odoo Sales.

Click :guilabel:`Confirm` to confirm the invoice and continue with the invoicing process.

.. seealso::
   :doc:`invoicing_policy`

Expenses configuration
======================

In order to track and invoice expenses related to a sales order, the Odoo *Expenses* app **must** be
installed.

To install the *Expenses* app, navigate to :menuselection:`Odoo main dashboard --> Apps`. Then, on
the :guilabel:`Apps` page, locate the :guilabel:`Expenses` app block, and click
:guilabel:`Activate`.

The page automatically refreshes and returns to the main Odoo dashboard, where the
:guilabel:`Expenses` app is now available to access.

.. _sales/invoicing/add-expenses-sales-order:

Add expenses to sales order
===========================

To add an expense to a sales order, first navigate to the :menuselection:`Expenses` app. Then, from
the main *Expenses* dashboard, click :guilabel:`New`, which reveals a blank expense form.

On the expense form, add a :guilabel:`Description` of the expense (e.g. `Hotel Stay`, `Plane
Ticket`). Next, in the :guilabel:`Category` field, select the appropriate option from the drop-down
menu (e.g. :guilabel:`Meals`, :guilabel:`Miles`, :guilabel:`Travel \& Accommodation`).

.. note::
   Expense categories can be added and modified by navigating to :menuselection:`Expenses app -->
   Configuration --> Expense Categories`.

Then, enter the total amount of the expense in the :guilabel:`Total` field, as well as any
:guilabel:`Included Taxes` that may apply. Next, ensure that the correct :guilabel:`Employee` is
selected, and designate who paid for the expense in the :guilabel:`Paid By` field: the
:guilabel:`Employee (to reimburse)` or the :guilabel:`Company`.

Next, in the :guilabel:`Customer to Reinvoice` field, select the appropriate sales order from the
drop-down menu. Then, select that same sales order information from the :guilabel:`Analytic
Distribution` field, as well.

.. note::
   The :guilabel:`Analytic Distribution` field will **only** have the corresponding sales order as
   an option if the sales order contains a service product that is billed based on *Timesheets*,
   *Milestones*, or *Delivered Quantities*.

.. image:: time_materials/expense-detail-form.png
   :align: center
   :alt: How to properly fill out an expense form that's attached to a sales order in Odoo.

If there are any receipts that should be uploaded and attached to the expense, click the
:guilabel:`Attach Receipt` button, and upload the necessary documents to the expense. This is
**not** required, but it may affect whether or not an expense is approved.

When all the information has been entered, click :guilabel:`Create Report` to create an expense
report detailing all the expense information that was just entered.

.. image:: time_materials/expense-report-summary.png
   :align: center
   :alt: How an Expense Report Summary looks in Odoo Expenses.

Then, there's the option to :guilabel:`Submit to Manager` for approval. Once approved, the
:guilabel:`Report in Next Payslip` appears.

To showcase a complete flow in this example, select :guilabel:`Submit to Manager`. Then, the manager
would click :guilabel:`Approve` to approve this expense, and click :guilabel:`Post Journal Entries`
to post this expense to the accounting journal.

Invoice expenses
================

To invoice a customer for an :ref:`expense on a sales order
<sales/invoicing/add-expenses-sales-order>`, navigate to the related sales order, either from the
:menuselection:`Sales` app or from the expense report in the :menuselection:`Expenses` app. From the
expense report, click the :guilabel:`Sales Orders` smart button at the top of the page.

If the expense report was linked to the sales order, the newly-configured expense now has its own
line in the :guilabel:`Order Lines` tab, and can be invoiced to the customer.

.. image:: time_materials/invoice-expense-from-sales-order.png
   :align: center
   :alt: An expense appearing on Order Lines tab of a Sales Order in Odoo Sales application.

To invoice the customer for the expense on the sales order, click :guilabel:`Create Invoice`, select
:guilabel:`Regular Invoice` from the :guilabel:`Create invoices` pop-up window, then click
:guilabel:`Create Draft Invoice`.

Doing so reveals a :guilabel:`Customer Invoice Draft` for the expense. Then, the invoicing process
can be completed as usual.

.. image:: time_materials/customer-invoice-for-expense.png
   :align: center
   :alt: Sample customer invoice for an expense generated from a sales order in Odoo Sales.

Purchase configuration
======================

In order to invoice a customer for purchases made on a sales order, the *Purchase* application
**must** be installed.

To install the *Purchase* application, navigate to :menuselection:`Odoo main dashboard --> Apps`.
Then, on the :guilabel:`Apps` page, locate the :guilabel:`Purchase` app block, and click
:guilabel:`Activate`. The page automatically refreshes and returns to the main Odoo dashboard, where
the :guilabel:`Purchase` app is now available to access.

.. _sales/invoicing/add-purchase-to-sales-order:

Add purchase to sales order
===========================

To add a purchase to a sales order, a purchase order must first be created. To create a purchase
order, navigate to :menuselection:`Purchase app --> New` to reveal a blank purchase order form.

First, add a :guilabel:`Vendor` to the purchase order. Then, under the :guilabel:`Products` tab,
click the :guilabel:`extra column options` drop-down menu, represented by two horizontal lines with
dots on them, located to the far-right of the column headers. From that drop-down menu, select
:guilabel:`Analytic Distribution`.

.. image:: time_materials/extra-column-analytic-distribution-option.png
   :align: center
   :alt: How to add analytic distribution column on purchase order form in Odoo Purchase.

After adding the :guilabel:`Analytic Distribution` column to the headers on the :guilabel:`Products`
tab of the purchase order form, proceed to add the product(s) to the purchase order. To do that,
click :guilabel:`Add a product`, and select the desired product from the drop-down menu. Repeat for
all the products to add.

.. important::
   In order for a purchase to be properly invoiced on a sales order, the product on the purchase
   order **must** be marked as :guilabel:`Can be Expensed`, have an :guilabel:`Invoicing Policy` set
   to :guilabel:`Delivered quantities`, and have the :guilabel:`At cost` option selected in the
   :guilabel:`Re-Invoice Expenses` field on its product form.

   .. image:: time_materials/product-form-settings-invoice-purchase.png
      :align: center
      :alt: Product settings for a purchase order to be invoiced on a sales order in Odoo.

Then, select the appropriate :guilabel:`Analytic Distribution` associated with the sales order to
which this purchase order is related. To do that, click the empty :guilabel:`Analytic Distribution`
field to reveal an :guilabel:`Analytic` pop-up window.

Then, from the :guilabel:`Departments` drop-down menu, select the analytic distribution associated
with the desired sales order to be invoiced for the purchase.

.. image:: time_materials/analytic-drop-down-distribution.png
   :align: center
   :alt: How to select the Analytic Distribution department from a purchase order in Odoo.

Once all the information is entered in the :guilabel:`Products` tab of the purchase order, confirm
the order by clicking :guilabel:`Confirm Order`. Then, click :guilabel:`Receive Products` when the
products have been received. This creates a receipt form.

.. note::
   If any serial/lot numbers must be entered before validating the receipt of products, then on the
   receipt form, click the :guilabel:`details` icon represented by four horizontal lines located to
   the far-right of the product line.

   This reveals a :guilabel:`Detailed Operations` tab, in which the necessary :guilabel:`Lot/Serial
   Number(s)` and :guilabel:`Done` quantity can be added. When ready, click :guilabel:`Confirm` to
   confirm the data.

Then, click :guilabel:`Validate` to validate the purchase order.

Next, return to the purchase order, via the breadcrumb links at the top of the page, and click
:guilabel:`Create Bill` to create a vendor bill that can be invoiced to the customer on the attached
sales order.

.. image:: time_materials/vendor-bill-draft.png
   :align: center
   :alt: Vendor bill draft for a purchase order to be invoiced to a customer in Odoo.

.. note::
   Make sure to enter a :guilabel:`Bill Date` on the :guilabel:`Vendor Bill Draft` before
   confirming. If a :guilabel:`Bill Date` is *not* entered, an error window appears, requesting that
   information to be entered before confirmation can occur.

Then, click :guilabel:`Confirm` to confirm the vendor bill, which is then automatically added to the
sales order, where it can be invoiced directly to the customer attached to it.

Invoice purchase
================

To invoice a customer for a purchase on a sales order, first :ref:`add the purchase to the sales
order <sales/invoicing/add-purchase-to-sales-order>`, then navigate to the desired sales order in
the :menuselection:`Sales` app.

On the sales order that was attached to the purchase order, the purchased product now has its own
product line under the :guilabel:`Order Lines` tab, and it is ready to be invoiced.

.. image:: time_materials/purchase-order-on-sales-order.png
   :align: center
   :alt: Purchase order product on sales order to be invoiced to customer via Odoo Sales.

To invoice the customer for the purchase, simply click :guilabel:`Create Invoice`, select
:guilabel:`Regular Invoice` from the :guilabel:`Create invoices` pop-up window, then click
:guilabel:`Create Draft Invoice`.

Doing so reveals a :guilabel:`Customer Invoice Draft` with the newly-added purchase order product in
the :guilabel:`Invoice Lines` tab.

.. image:: time_materials/draft-invoice-with-purchase-product.png
   :align: center
   :alt: Customer invoice draft with purchase product attached to sales order in Odoo.

To complete the invoicing process, click :guilabel:`Confirm` to confirm the invoice, and then click
:guilabel:`Register Payment` in the :guilabel:`Register Payment` pop-up form.


==================================================
SECTION: variants.rst
PATH: applications/sales/sales/products_prices/products/variants.rst
==================================================

================
Product variants
================

Product variants are used to give single products a variety of different characteristics and options
for customers to choose from, such as size, style, or color, just to name a few.

Products variants can be managed via their individual product template, or by navigating to either
the :guilabel:`Product Variants` or :guilabel:`Attributes` page. All of these options are located
within the Odoo *Sales* application.

.. example::
   An apparel company has the following variant breakdown for one their best-selling t-shirts:

   - Unisex Classic Tee

     - Color: Blue, Red, White, Black
     - Size: S, M, L, XL, XXL

   Here, the **T-shirt** is the product template, and **T-shirt: Blue, S** is a specific product
   variant.

   **Color** and **Size** are *attributes*, and the corresponding options (like **Blue** and **S**)
   are *values*.

   In this instance, there is a total of twenty different product variants: four **Color** options
   multiplied by five **Size** options. Each variant has its own inventory count, sales totals, and
   other similar records in Odoo.

.. seealso::
   :ref:`Product variants in the eCommerce <ecommerce/categories_variants/product-variants>`

Configuration
=============

To use product variants, go to :menuselection:`Sales --> Configuration --> Settings`, then enable
the :guilabel:`Variants` feature in the :guilabel:`Product Catalog` section, and click
:guilabel:`Save` at the top of the :guilabel:`Settings` page.

.. _products/variants/attributes:

Attributes
==========

Before product variants can be set up, attributes **must** be created. To create, manage, and modify
attributes, navigate to :menuselection:`Sales app --> Configuration --> Attributes`.

.. note::
   The order of attributes on the :guilabel:`Attributes` page dictates how they appear on the
   *Product Configurator*, *Point of Sale* dashboard, and *eCommerce* pages.

To create a new attribute from the :guilabel:`Attributes` page, click :guilabel:`New`. Doing so
reveals a blank attributes form that can be customized and configured in a number of ways.

.. image:: variants/attribute-creation.png
   :alt: A blank attribute creation form in the Odoo Sales application.

First, create an :guilabel:`Attribute Name`, such as `Color` or `Size`.

Next, select one of the options from the :guilabel:`Display Type` field. The :guilabel:`Display
Type` determines how this product is shown on the online store, *Point of Sale* dashboard, and
*Product Configurator*.

The following :guilabel:`Display Type` options are available:

.. tabs::

   .. tab:: :guilabel:`Pills`

      Options appear as selectable buttons.

      .. image:: variants/pills-display-type.png
         :alt: Pills display type

   .. tab:: :guilabel:`Color`

      Options appear as small, colored circles; the colors can be defined using any HTML color code.

      .. image:: variants/color-display-type.png
         :alt: Pills display type

   .. tab:: :guilabel:`Radio`

      Options appear as radio buttons.

      .. image:: variants/radio-display-type.png
         :alt: Pills display type

   .. tab:: :guilabel:`Select`

      Options appear in a drop-down menu.

      .. image:: variants/select-display-type.png
         :alt: Pills display type

   .. tab:: :guilabel:`Image`

      Options appear as images.

      .. image:: variants/image-display-type.png
         :alt: Pills display type

   .. tab:: :guilabel:`Multi-checkbox`

      Options appear as selectable checkboxes. This allows customers to choose multiple options,
      e.g., to add extras to food orders or highly customizable products.

      .. image:: variants/multi-checkbox-display-type.png
         :alt: Pills display type

The :guilabel:`Variant Creation` field determines if/when a new variant is automatically created
once an attribute is added to a product.

.. important::
   If the attribute's :guilabel:`Display Type` is :guilabel:`Multi-checkbox`, you **must** set the
   :guilabel:`Variant Creation` field to :guilabel:`Never`.

- :guilabel:`Instantly`: creates all possible variants as soon as attributes and values are added to
  a product template.
- :guilabel:`Dynamically`: creates variants **only** when corresponding attributes and values are
  added to a sales order.
- :guilabel:`Never`: prevents automatic creation of variants.

.. warning::
   Once added to a product, an attribute's :guilabel:`Variants Creation` mode cannot be edited.

.. seealso::
   :ref:`Ecommerce-specific settings for attributes <ecommerce/categories_variants/attributes>`

Attribute values
----------------

Attribute values should be added to the :guilabel:`Attribute Values` tab. Values can be added to an
attribute at any time, if needed.

To add a value, click :guilabel:`Add a line` in the :guilabel:`Attribute Values` tab.

Then, enter the name of the value in the :guilabel:`Value` column. Next, check the box in the
:guilabel:`Is custom value` column, if the value is custom (i.e. the customer gets to provide unique
specifications that are specific to this particular value).

Colors
~~~~~~

Next to :guilabel:`Display Type`, select the :guilabel:`Color` option. Go to the
:guilabel:`Attribute Values` tab to modify the value settings.

.. image:: variants/attribute-value-add-image.png
   :alt: Add an image of the pattern to an attribute.

To choose a color, click the blank circle in the :guilabel:`Color` column, which reveals an HTML
color selector pop-up window.

.. image:: variants/picking-a-color.png
   :alt: Selecting a color from the HTML color pop-up window that appears on attribute form.

In this pop-up window, select a specific color by dragging the color slider to a particular hue, and
clicking on the color portion directly on the color gradient window.

Or, choose a specific color by clicking the *dropper* icon, and selecting a desired color that's
currently clickable on the screen.

Businesses can attach images to product variant attribute values for customers to view on an
eCommerce website. To do so, click the :icon:`fa-camera` :guilabel:`(camera)` icon, then click the
:icon:`fa-pencil` :guilabel:`(pencil)` icon and select an image from your local drive. This image
will appear as a color option for the relevant product.

.. image:: variants/pattern-display.png
   :alt: Pattern as color option.

.. tip::
   Attributes can also be created directly from the product template by adding a new line and typing
   the name into the :guilabel:`Variants` tab.

Once an attribute is added to a product, that product is listed and accessible, via the attribute's
:guilabel:`Related Products` smart button. That button lists every product in the database currently
using that attribute.

Product variants
================

Once an attribute is created, use the attribute (and its values) to create a product variant. To do
that, go to :menuselection:`Sales app --> Products --> Products`, and select an existing product to
view that desired product's form. Or, click :guilabel:`Create` to create a new product, to which a
product variant can be added.

On the product form, click the :guilabel:`Attributes \& Variants` tab to view, manage, and modify
attributes and values for the product.

.. image:: variants/attributes-values-tab.png
   :align: center
   :alt: The attributes and values tab on a typical product form in Odoo Sales.

To add an attribute to a product, and subsequent attribute values, click :guilabel:`Add a line` in
the :guilabel:`Attributes \& Variants` tab. Then, choose the desired attribute from the drop-down
menu that appears.

.. tip::
   Attributes can be created directly from the :guilabel:`Attributes \& Variants` tab of a product
   form. To do that, start typing the name of the new attribute in the blank field, and select
   either :guilabel:`Create` or :guilabel:`Create and edit...` from the mini drop-down menu that
   appears.

   Clicking :guilabel:`Create` creates the attribute, which can be customized later. Clicking
   :guilabel:`Create and edit...` creates the attribute, and a :guilabel:`Create Attribute` pop-up
   form appears. In the pop-up form, proceed to modify the attribute in a number of ways.

Once an attribute is selected in the :guilabel:`Attribute` column, proceed to select the specific
attribute values to apply to the product, via the drop-down menu available in the :guilabel:`Values`
column.

.. note::
   There is no limit to how many values can be added.

.. tip::
   Similar product variant creation processes are accessible through the Purchase, Inventory, and
   eCommerce applications.

.. _products/variants/configure-variants:

Configure variants
------------------

To the far-right of the attribute line is a :guilabel:`Configure` button. When clicked, Odoo reveals
a separate page showcasing those specific :guilabel:`Product Variant Values`.

.. image:: variants/product-variant-values.png
   :align: center
   :alt: The Product Variant Values page accessible via the Configure button on a product form.

Here, the specific :guilabel:`Value` name, :guilabel:`HTML Color Index` (if applicable), and
:guilabel:`Value Price Extra` are viewable.

.. note::
   The :guilabel:`Value Price Extra` represents the increase in the sales price if the attribute is
   selected.

When a value is clicked on the :guilabel:`Product Variant Values` page, Odoo reveals a separate
page, detailing that value's related details.

.. image:: variants/product-variant-value-page.png
   :align: center
   :alt: A Product Variant Values page accessible via the Product Variants Values general page.

On the specific product variant detail page, the :guilabel:`Value` and :guilabel:`Value Price Extra`
fields can be found, along with an :guilabel:`Exclude for` field.

In the :guilabel:`Exclude for` field, different :guilabel:`Product Templates` and specific
:guilabel:`Attribute Values` can be added. When added, this specific attribute value will be
excluded from those specific products.

.. _products/variants/variants-smart-button:

Variants smart button
---------------------

When a product has attributes and variants configured in its :guilabel:`Attributes \& Variants` tab,
a :guilabel:`Variants` smart button appears at the top of the product form. The :guilabel:`Variants`
smart button indicates how many variants are currently configured for that specific product.

.. image:: variants/variants-smart-button.png
   :align: center
   :alt: The variants smart button at the top of the product form in Odoo Sales.

When the :guilabel:`Variants` smart button is clicked, Odoo reveals a separate page showcasing all
the specific product variant combinations configured for that specific product.

.. image:: variants/variants-page.png
   :align: center
   :alt: The variants page accessible via the variants smart button on the product form in Odoo.

Impact of variants
==================

In addition to offering more detailed product options to customers, product variants have their own
impacts that can be taken advantage of throughout the Odoo database.

- :guilabel:`Barcode`: barcodes are associated with each variant, instead of the product template.
  Each individual variant can have its own unique barcode/SKU.
- :guilabel:`Price`: every product variant has its own public price, which is the sum of the product
  template price *and* any extra charges for particular attributes.

  .. example::
   A red shirt's sales price is $23 -- because the shirt's template price is $20, plus an additional
   $3 for the red color variant. Pricelist rules can be configured to apply to the product template,
   or to the variant.

- :guilabel:`Inventory`: inventory is counted for each individual product variant. On the product
  template form, the inventory reflects the sum of all variants, but the actual inventory is
  computed by individual variants.
- :guilabel:`Manufacturing`: a single BoM can be used for multiple variants of the same product.
     Refer to
     :doc:`../../../../inventory_and_mrp/manufacturing/advanced_configuration/product_variants`
     documentation for more information.
- :guilabel:`Picture`: each product variant can have its own specific picture.

.. note::
   Changes to the product template automatically apply to every variant of that product.

Adding and deleting attributes from product variants
====================================================

When attributes are added or deleted from products, variants that have already been created are
affected. Depending on whether or not these variants have been used in orders, they are archived or
deleted and recreated.

- Variants that have not been used in an order are deleted and recreated with the new attributes.
  This may result in the deletion of additional customizations, depending on how the variants were
  configured.
- Variants that have been previously used in one or more orders are archived and removed from the
  product catalog instead of being deleted.

.. example::
   A business offers leather motorcycle jackets with the following attributes and values for a total
   of 27 product variants:

    - Size: Small, Medium, Large
    - Color: Black, Brown, Natural
    - Material: Leather, Vegan Leather, Premium Leather

   Due to rising costs, the business makes the decision to stop offering different leathers and
   removes the "Material" attribute from the product form. This has the following effects:

    - Any leather jacket variants that have been sold will be archived
    - Any leather jacket variants that have not been sold will be deleted
    - A new set of variants using just Size and Color attributes will be created, for a total of 9
      product variants

   The business owner can find archived product variants by navigating to :menuselection:`Sales app
   --> Products --> Product Variants`, clicking the drop-down in the search bar, and finally
   clicking the :guilabel:`Archived filter`. Any deleted variants and their customizations will be
   lost.

.. seealso::
   :doc:`import`
