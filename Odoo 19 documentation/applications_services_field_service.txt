

==================================================
SECTION: creating_tasks.rst
PATH: applications/services/field_service/creating_tasks.rst
==================================================

============================
Creating field service tasks
============================

Tasks in Odoo Field Service can be created manually or automatically, including from sales orders or
helpdesk tickets.

Manual task creation
====================

To create a new field service task:

#. Open the Field service app and go to :menuselection:`Field Service --> All Tasks --> All Tasks`.
#. Click :guilabel:`New`.
#. Fill in the task title, :guilabel:`Customer` and any other :ref:`optional field <task_creation/task-configuration>`,
   then save manually.

Task creation from a sales order
================================

This feature allows for field service tasks to be automatically created from a sales order. When you
create a quotation with the :ref:`service product <sales/invoicing/configured-service-product>`
and confirm it, a task is automatically created in your Field Service project. Click the
:guilabel:`Tasks` smart button to access it from the sales order.

Task creation from a helpdesk ticket
====================================

If you have the Helpdesk app installed, you can :ref:`create field service tasks from a helpdesk
ticket <helpdesk/field>`.


==================================================
SECTION: field_service.rst
PATH: applications/services/field_service.rst
==================================================

:nosearch:
:show-content:
:hide-page-toc:
:show-toc:

=============
Field Service
=============

.. seealso::
   - `Odoo Tutorials: Field Service <https://www.odoo.com/slides/field-service-49>`_

.. toctree::
   :titlesonly:

   field_service/creating_tasks
   field_service/product_management
   field_service/planning_itinerary
   field_service/worksheets


==================================================
SECTION: planning_itinerary.rst
PATH: applications/services/field_service/planning_itinerary.rst
==================================================

=====================
Planning an itinerary
=====================

By default, **Odoo Field Service** shows a static map where all task locations for the day are
pinned. To make it more useful for the field service workers, it is possible to display an itinerary
on the map using MapBox. To do so, enable the **Map Routes** feature as follows:

#. Create or sign in to a MapBox account using the following link: `<https://www.mapbox.com/>`_.
#. `Create a token <https://docs.mapbox.com/help/getting-started/access-tokens/#adding-url-restrictions-to-access-tokens>`_.
#. Go to the `Access tokens page on Mapbox <https://account.mapbox.com/access-tokens/>`_ and copy
   your token.
#. In Odoo, go to the :guilabel:`Settings` app and scroll down to the :guilabel:`Integrations`
   section. Paste your Mapbox access token in the :guilabel:`Token` field under
   :guilabel:`Map Routes`, and click :guilabel:`Save`.

Displaying your itinerary on a map
==================================

.. important::
   For a field service task to be featured on the map, a **valid address** must be provided for the
   customer.

To display your tasks on a map, go to :menuselection:`Field Service --> My Tasks --> Map`. To create
your itinerary, Odoo sorts out your field service tasks based on their :guilabel:`Planned Date` to
show the way from one location to the next.

To open your itinerary on the Google Maps website or app, click :guilabel:`View in Google Maps`.
Google Maps includes your current location as a starting point for your itinerary.

.. tip::
   - By default, the map shows today’s tasks. Remove the :guilabel:`Today` filter in the search bar
     to display all tasks. Your tasks are then sorted by date in the left column.
   - Click your task in the left column or the map pin to display the task's details. From there,
     you can :guilabel:`Open` the task or click :guilabel:`Navigate to` to get an itinerary from
     your current location to this specific task's location.


==================================================
SECTION: product_management.rst
PATH: applications/services/field_service/product_management.rst
==================================================

==================
Product management
==================

When field service workers perform tasks on-site, they commonly use products to complete their work.
Odoo Field Service allows them to record these products using the **product catalog** and **default
warehouse** features. Doing so keeps your inventory up-to-date in real-time and automatically adds
the products to the invoice.

Product catalog
===============

To activate the product catalog for Field Service, go to :menuselection:`Field Service -->
Configuration --> Settings` and enable the :guilabel:`Time and Material Invoicing` feature.

To add products to a task, proceed as follows:

#. Go to Field Service and open a task.
#. Click the :guilabel:`Products` smart button.
#. Click :guilabel:`Add` on a product card to add it to your task.
#. If needed, adjust the number of products using the :guilabel:`-` and :guilabel:`+` buttons.

Going back to your task, the smart button now displays the amount of products you added and the
price. You can return to the product catalog at any time to edit the product selection.

.. tip::
   - To create and edit products from Field Service, go to :menuselection:`Field Service -->
     Configuration --> Products`.
   - To find your products more easily, use the search bar and filter your products by
     :guilabel:`Product Category` and :guilabel:`Attributes`.

User default warehouse
======================

Setting up a **default warehouse** can be useful for field technicians who keep a supply on the go
in their van or those who always resupply from the same warehouse. It also allows field workers to
switch between warehouses from their profiles.

Products in sales orders created during field interventions are always pulled from the default
warehouse, keeping the inventory accurate.

.. seealso::
   :doc:`../../inventory_and_mrp/inventory`

Configuration
=============

To set up a user default warehouse, the :doc:`storage locations
<../../inventory_and_mrp/inventory/warehouses_storage/inventory_management/use_locations>`
feature needs to be activated in the **Inventory** app. It is also necessary to have more than one
warehouse in your database.

You can either set it up :ref:`for your profile <default-warehouse/my-profile>`, or :ref:`for all
users <default-warehouse/all-users>`.

.. seealso::
   :doc:`../../inventory_and_mrp/inventory/warehouses_storage/inventory_management/use_locations`

.. _default-warehouse/my-profile:

For your profile
----------------

To set up a default warehouse for yourself, click your **profile icon** in the upper right corner of
the screen, then, go to :menuselection:`My Profile --> Preferences --> Default Warehouse`. Select
the default warehouse from the drop-down menu.

.. _default-warehouse/all-users:

For all users
-------------

To set up a default warehouse for a specific user, go to :menuselection:`Settings --> Users -->
Manage users`, select a user, then go to the :guilabel:`Preferences` tab. Scroll down to
:guilabel:`Inventory`, and select the default warehouse from the drop-down menu.

.. image:: product_management/user-default.png
   :alt: Selection of a default warehouse on a user profile.

Use in field service tasks
==========================

Once a default warehouse has been configured for a user, the materials used for a sales order
related to a Field Service task are pulled from that specific warehouse. Open the related sales
order, go to the :guilabel:`Other Info` tab, then scroll down to :guilabel:`Delivery`. The default
warehouse is applied correctly.

Once the Field Service task is marked as done, the stock of the default warehouse is automatically
updated.


==================================================
SECTION: worksheets.rst
PATH: applications/services/field_service/worksheets.rst
==================================================

==========
Worksheets
==========

**Worksheets** help your field service workers perform and report their on-site tasks. They can
feature various information, such as instructions, to-do lists, etc. You can also format your
worksheet using checkboxes, bullet points, blank fields to fill in, HTML, and add files, images,
links, and more.

It is common for businesses to have their workers perform the same type of field service
repeatedly. Making custom **worksheet templates** eliminates the need to recreate the same
worksheet each time you plan a similar field service task.

Configuration
=============

To use worksheets in Field Service, go to :menuselection:`Field Service --> Configuration -->
Settings`, enable the :guilabel:`Worksheets` feature, and click :guilabel:`Save`.

.. warning::
   Worksheet templates are designed using **Studio**. Enabling the :guilabel:`Worksheets`
   feature automatically installs the **Studio** app, which may impact your price plan.

Create a worksheet template
---------------------------

To create your **worksheet templates**, go to :menuselection:`Field Service --> Configuration -->
Worksheet Templates`. Click :guilabel:`New` and give your worksheet template a name. Manually save,
then click :guilabel:`Design Template` to open **Studio** and customize your worksheet template.

In Studio, drag and drop the desired fields from the left column into your worksheet on the right.
To rearrange the fields on the worksheet, drag and drop them in the desired order. Click a field to
customize its :ref:`properties <studio/fields/properties>`.

When your worksheet template is complete, click :guilabel:`Close` in the top right corner of the
page to leave **Studio**.

.. seealso::
   :doc:`Fields and widgets in Studio <../../studio/fields>`

Add a worksheet template to a field service task
================================================

Go to your field service task, select a :guilabel:`Worksheet Template`, and click :guilabel:`Save`.

By default, the :guilabel:`Default Worksheet` template is selected. To define another default
worksheet template, click the :guilabel:`➔` (:guilabel:`Internal link`) icon that appears when you
hover your mouse over the :guilabel:`Project` field on the task form.

.. image:: worksheets/template-default.png
   :scale: 75%
   :alt: Mouse on project name to setup default worksheet template

Then, in the :guilabel:`Settings` tab,  scroll down to the :guilabel:`Field service` section and
select the :guilabel:`Worksheet Template` you want to set up as default.

Use worksheets on site
======================

To complete the worksheet on site, access the task and click the :guilabel:`Worksheet` smart button.

.. note::
   - As soon as you save a worksheet, the label of the :guilabel:`Worksheet` smart button on
     the task changes to :guilabel:`Worksheet Complete` instead, even if some fields are
     left blank.
   - Any field defined as :guilabel:`Required` has to be filled for a worksheet to be saved.
