

==================================================
SECTION: manufacturing.rst
PATH: applications/inventory_and_mrp/manufacturing.rst
==================================================

:show-content:
:hide-page-toc:
:show-toc:

=============
Manufacturing
=============

**Odoo Manufacturing** helps manufacturers schedule, plan, and process manufacturing orders. With
the work center control panel, put tablets on the shop floor to control work orders in real-time and
allow workers to trigger maintenance operations, feedback loops, quality issues, etc.

.. seealso::
   - `Odoo Tutorials: MRP <https://www.odoo.com/slides/mrp-29>`_
   - `Odoo Tutorials: Barcode Scanner <https://www.odoo.com/slides/barcode-30>`_
   - :doc:`IoT Boxes (MES) </applications/general/iot>`

.. toctree::
   :titlesonly:

   manufacturing/basic_setup
   manufacturing/advanced_configuration
   manufacturing/workflows
   manufacturing/shop_floor
   manufacturing/subcontracting
   manufacturing/reporting


==================================================
SECTION: advanced_configuration.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration.rst
==================================================

:nosearch:

======================
Advanced configuration
======================

.. toctree::
   :titlesonly:

   advanced_configuration/product_variants
   advanced_configuration/kit_shipping
   advanced_configuration/sub_assemblies
   advanced_configuration/using_work_centers
   advanced_configuration/work_order_dependencies


==================================================
SECTION: allocation.rst
PATH: applications/inventory_and_mrp/manufacturing/reporting/allocation.rst
==================================================

==================
Allocation reports
==================

.. |SO| replace:: :abbr:`SO (sales order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`
.. |RfQ| replace:: :abbr:`RfQ (request for quotation)`

When fulfilling sales orders (SOs), or sourcing components for manufacturing orders (MOs), it is
sometimes necessary to prioritize one |SO| or |MO| over another. In situations where there is
insufficient stock on-hand to fulfill every |SO| or |MO|, ensuring that products and components are
reserved for priority orders is essential.

In Odoo *Manufacturing*, allocation reports are used on |MOs| to assign products to specific sales
orders |SOs|, or components to specific |MOs|. This ensures the products or components are available
for those orders, and are not used by mistake.

Configuration
=============

To use allocation reports, the *Allocation Report for Manufacturing Orders* feature **must** be
enabled. To do so, navigate to :menuselection:`Manufacturing app --> Configuration --> Settings`,
and tick the checkbox next to :guilabel:`Allocation Report for Manufacturing Orders`. Then, click
:guilabel:`Save`.

For products that are sold, it is also necessary to configure them so they can be included in |SOs|.
To do so, begin by navigating to :menuselection:`Inventory --> Products --> Products`, and select a
product. Under the :guilabel:`Product Name` field on the product form, make sure that the
:guilabel:`Can Be Sold` checkbox is ticked.

Allocate products
=================

To allocate products or components from an |MO| to an |SO|, or to a different |MO|, begin by
navigating to :menuselection:`Manufacturing app --> Operations --> Manufacturing Orders`. Click
:guilabel:`New` to create a new |MO|.

On the |MO| form, select a product in the :guilabel:`Product` field, and specify the quantity to be
produced in the :guilabel:`Quantity` field. Finally, click :guilabel:`Confirm` to confirm the |MO|.

The rest of the allocation workflow depends on the current on-hand quantity of the product being
manufactured, and whether or not there are any |SOs| or |MOs| which require the product, but have
not already been allocated units.

If there **are** existing |SOs| and |MOs| that require the product, **and** there are too few units
of the product on-hand to fulfill those orders, then an :icon:`fa-list` :guilabel:`Allocation` smart
button appears at the top of the page as soon as the |MO| is confirmed.

If there **are** existing |SOs| and |MOs| that require the product, **and** there are enough units
of the product on-hand to fulfill those orders, then the :icon:`fa-list` :guilabel:`Allocation`
smart button only appears at the top of the page once the |MO| has been marked as done, by clicking
:guilabel:`Produce All`.

.. image:: allocation/allocation-button.png
   :align: center
   :alt: The Allocation smart button at the top of an MO.

.. note::
   If there **are not** any existing |SOs| and |MOs| that require the product, the :icon:`fa-list`
   :guilabel:`Allocation` smart button does not appear, even when the |MO| has been marked as done.

Click the :icon:`fa-list` :guilabel:`Allocation` smart button to open the :guilabel:`MRP Reception
Report` for the |MO|. This report lists open delivery orders or |MOs|, depending on the type of
product produced in the original |MO|.

Allocate to delivery order
--------------------------

If the |MO| contains a finished product, the report lists any open delivery orders for which
quantities of the product have yet to be reserved.

.. example::
   An |MO| is created to produce three units of a *rocking chair*. Clicking the
   :guilabel:`Allocation` smart button on the |MO| opens an allocation report that lists open
   delivery orders that require one or more rocking chairs.

Click the :guilabel:`Assign All` button to the right of a specific order to assign products for each
quantity required to fulfill that order.

.. example::
   If an order requires one quantity of four units of the product, and one quantity of one unit of
   the product, clicking :guilabel:`Assign All` assigns five units of the product to fulfill both
   quantities.

Alternatively, click :guilabel:`Assign` next to a specific quantity to only assign products to that
quantity, and not any others in the order.

.. example::
   If an order requires one quantity of four units of the product, and one quantity of one unit of
   the product, clicking :guilabel:`Assign` next to the quantity of one unit assigns a product to
   that quantity, but leaves the quantity of four units without any products assigned.

.. image:: allocation/product-reception-report.png
   :align: center
   :alt: The MRP Reception Report for an MO containing finished products.

Allocate to MO
--------------

If the |MO| contains a component, the report lists any open |MOs| for which quantities of the
component have yet to be reserved.

.. example::
   An |MO| is created to produce three units of *wood*, which is used as a component for the
   *rocking chair* product. Clicking the :guilabel:`Allocation` smart button on the |MO| opens an
   allocation report that lists open rocking chair |MOs| that require one or more pieces of wood.

Click the :guilabel:`Assign All` or :guilabel:`Assign` button to the right of a specific |MO| to
assign components to that |MO|.

.. image:: allocation/component-reception-report.png
   :align: center
   :alt: The MRP Reception Report for an MO containing components.

Unassign products
-----------------

After assigning products to a quantity within a delivery order, or components to an |MO|,
the :guilabel:`Assign` button turns into an :guilabel:`Unassign` button. Click :guilabel:`Unassign`
to unreserve the assigned products from that quantity, making them available for other quantities.

Print labels
------------

After clicking :guilabel:`Assign All` or :guilabel:`Assign`, the :guilabel:`Print Labels` or
:guilabel:`Print Label` button to the right of either button becomes selectable. Selecting either
button generates and downloads a PDF document with one label for each product that was assigned.
These labels are used to designate each product as being reserved for that specific order.

.. image:: allocation/assigned-labels.png
   :align: center
   :alt: The assignment labels generated by clicking Print Labels or Print Label.


==================================================
SECTION: basic_setup.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup.rst
==================================================

:nosearch:

===========
Basic setup
===========

.. toctree::
   :titlesonly:

   basic_setup/configure_manufacturing_product
   basic_setup/bill_configuration
   basic_setup/one_step_manufacturing
   basic_setup/two_step_manufacturing
   basic_setup/three_step_manufacturing
   basic_setup/mo_costs


==================================================
SECTION: basic_subcontracting_lead_times.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/basic_subcontracting_lead_times.rst
==================================================

===============================
Basic subcontracting lead times
===============================

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`

In Odoo, lead times are used to predict how long it takes to complete a certain action. For example,
a *delivery lead time* can be set for a purchased product, which specifies the number of days it
usually takes for the product's vendor to delivery the product to the purchasing company.

For subcontracted products specifically, delivery lead times can be configured to take into account
the amount of time required for the subcontractor to manufacture a product. Doing so allows the
contracting company to better predict the delivery dates of subcontracted products.

.. important::
   Like all lead times in Odoo, lead times for subcontracted products are only an estimate, and are
   based on how long actions are *expected* to take.

   Unforeseen circumstances can impact the completion of these actions, which means that lead times
   should not be viewed as guarantees.

Configuration
=============

When using the :doc:`basic subcontracting <subcontracting_basic>` workflow to manufacture a product,
a company is not responsible for supplying the subcontractor with the necessary components. This
means that the only factors affecting the delivery date of a product are the amount of time it takes
the subcontractor to manufacture and deliver it.

By assigning a product's subcontractor a delivery lead time that considers both of these factors,
the *Expected Arrival* date displayed on purchase orders (POs) for the product more accurately
reflects the amount of time required for both manufacturing and delivery.

Product delivery lead time
--------------------------

To set a delivery lead time for a product's subcontractor, navigate to :menuselection:`Inventory app
--> Products --> Products`, and select a subcontracted product.

Then, select the :guilabel:`Purchase` tab on the product's page. If the subcontractor has not
already been added as a vendor, do so now by clicking :guilabel:`Add a line`, and selecting the
subcontractor in the :guilabel:`Vendor` column.

Once the subcontractor has been added, enter the number of days it takes them to manufacture and
deliver the product, in the :guilabel:`Delivery Lead Time` column.

.. image:: basic_subcontracting_lead_times/delivery-lead-time.png
   :align: center
   :alt: The Delivery Lead Time field for a subcontractor, on the Purchase tab of a product page.

.. note::
   Multiple subcontractors can be added to the :guilabel:`Purchase` tab on a product's page, and a
   different :guilabel:`Delivery Lead Time` can be set for each.

Lead time workflow
==================

After setting a delivery lead time for a product's vendor, create an |RfQ| by navigating to
:menuselection:`Purchase app --> Orders --> Purchase Orders`, and clicking :guilabel:`New`.

Specify the subcontractor in the :guilabel:`Vendor` field. Then, add the product in the
:guilabel:`Products` tab by clicking :guilabel:`Add a product`, selecting the product in the
:guilabel:`Product` column, and adding a quantity in the :guilabel:`Quantity` column.

Once a product has been added, the :guilabel:`Expected Arrival` field on the |RfQ| auto-populates
with a date that reflects the vendor's delivery lead time, as specified on the product's page.

If the date needs to be adjusted, click on the :guilabel:`Expected Arrival` field to open a calendar
popover, and select the desired date. Make sure not to choose a date sooner than the one that was
auto-populated, unless the subcontractor has confirmed that they are able to deliver the product by
that date.

Finally, click :guilabel:`Confirm Order` on the |RfQ| to turn it into a |PO|. At this point, the
subcontractor should begin manufacturing the subcontracted product, before delivering it to the
contracting company.

.. example::
   Bike retailer *Mike's Bikes* works with a subcontractor — *Bike Friends* — to produce units of
   their *Tricycle* product.

   On average, Bike Friends requires three days to manufacture a tricycle, plus an additional two
   days to deliver it to Mike's Bikes.

   As a result, Mike's Bikes sets a delivery lead time of five days for tricycles manufactured by
   Bike Friends: three days for manufacturing, plus two days for delivery.

   On May 3rd, Mike's Bikes confirms a |PO| to purchase one tricycle from Bike Friends.

   The :guilabel:`Expected Arrival` date listed on the |PO| is May 8th, five days after the
   :guilabel:`Confirmation Date`.

   .. image:: basic_subcontracting_lead_times/expected-arrival.png
      :align: center
      :alt: The Expected Arrival date on a PO for a subcontracted product.

   Bike Friends begins manufacturing the tricycle on May 3rd — the day that the |PO| is confirmed —
   and finishes on May 6th, three days later.

   The tricycle is then shipped to Mike's Bikes the same day, and they receive it on May 8th, two
   days later.


==================================================
SECTION: bill_configuration.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/bill_configuration.rst
==================================================

=================
Bill of materials
=================

.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`
.. |BOMs| replace:: :abbr:`BoMs (Bills of Materials)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

A *bill of materials* (or *BoM* for short) documents specific components, along with their
respective quantities, that are needed to produce or repair a product. In Odoo, |BoMs| serve as
blueprints for manufactured goods and kits, and often include production operations and step-by-step
guidelines, as well.

BoM setup
=========

To create a |BOM|, go to :menuselection:`Manufacturing app --> Products --> Bills of Materials` and
click :guilabel:`New`.

Next, set the :guilabel:`BoM Type` to :guilabel:`Manufacture this Product`.

Then, specify :ref:`required components <manufacturing/basic_setup/setup-components>` and, if
necessary, define any :ref:`manufacturing operations <manufacturing/basic_setup/setup-operations>`.

.. tip::
   Individual |BOMs| can also be quickly accessed or created by clicking the :guilabel:`Bill of
   Materials` smart button on any product form, as accessible through the *Sales*, *Inventory*, and
   *Manufacturing* apps, as well as through any internal links where a product is referenced (such
   as in a field or a line item).

.. figure:: bill_configuration/bom-example.png
   :align: center
   :alt: Show BoM for a product, with components listed.

   BoM for `Drawer`, displaying the **Components** tab.

.. seealso::
   - :doc:`../advanced_configuration/kit_shipping`
   - :doc:`../subcontracting/subcontracting_basic`

.. _manufacturing/basic_setup/setup-components:

Components
----------

In the :guilabel:`Components` tab of a |BOM|, specify components used to manufacture the product by
clicking :guilabel:`Add a line`. From the :guilabel:`Components` drop-down menu, select from
existing products or create a new product by typing the name and selecting either the
:guilabel:`Create " "` option to quickly add the line item, or the :guilabel:`Create and edit...`
option to add the component and continue to its configuration form.

.. image:: bill_configuration/component.png
   :align: center
   :alt: Add a component by selecting it from the drop-down menu.

Optionally, access additional fields by clicking the :icon:`oi-settings-adjust` :guilabel:`(settings
adjust)` icon to the far-right of the :guilabel:`Components` tab. Tick the checkboxes for the
following features to enable these columns:

- :guilabel:`Apply on Variants`: specify which :doc:`product variant
  <../advanced_configuration/product_variants>` each component is used in. When the field is left
  blank, the component is used in all product variants.

.. _manufacturing/basic_setup/consumed-in-operation:

- :guilabel:`Consumed in Operation`: specify the operation using the component. Useful for
  determining :ref:`manufacturing readiness <manufacturing/basic_setup/manufacturing-readiness>`.
- :guilabel:`Manual Consumption`: tick the checkbox to force operators to check the
  :guilabel:`Consumed` checkbox on a manufacturing order (MO).

  .. image:: bill_configuration/consumed-field.png
     :align: center
     :alt: Show a manufacturing order, highlighting the *Consumed* field.

  Not doing so triggers the :guilabel:`Consumption Warning` error message, where the consumed
  component quantity must be manually inputted. Otherwise, the operation cannot be completed.

  .. image:: bill_configuration/consumption-warning.png
     :align: center
     :alt: Show the consumption warning error message.

.. _manufacturing/basic_setup/setup-operations:

Operations
----------

Add an *operation* to a |BOM| to specify instructions for production and register time spent on an
operation. To use this feature, first enable the *Work Orders* feature by going to
:menuselection:`Manufacturing app --> Configuration --> Settings`. In the :guilabel:`Operations`
section, tick the :guilabel:`Work Orders` checkbox to enable the feature.

.. seealso::
   :doc:`../advanced_configuration/work_order_dependencies`

.. image:: bill_configuration/enable-work-orders.png
   :align: center
   :alt: "Work Orders" feature in the Settings page.

Next, navigate to the |BOM| by going to :menuselection:`Manufacturing app --> Products --> Bill of
Materials` and selecting the desired |BOM|. To add a new operation, go to the :guilabel:`Operations`
tab, and click :guilabel:`Add a line`.

Doing so opens the :guilabel:`Create Operations` pop-up window, where the various fields of the
operation are configured:

- :guilabel:`Operation`: name of the operation.
- :guilabel:`Work Center`: select existing locations to perform the operation, or create a new work
  center by typing the name and selecting the :guilabel:`Create " "` option.
- :guilabel:`Apply on Variants`: specify if this operation is only available for certain product
  variants. If the operation applies to all product variants, leave this field blank.

  .. seealso::
     :doc:`Configuring BoMs for product variants <../advanced_configuration/product_variants>`

- :guilabel:`Duration Computation`: choose how time spent on the operation is tracked. Opt for
  :guilabel:`Compute based on tracked time` to use the operation's time tracker or :guilabel:`Set
  duration manually` if operators can record and modify time themselves.

  Choosing the :guilabel:`Compute based on tracked time` option enables the :guilabel:`Based on last
  __ work orders` option, which automatically estimates the time to complete this operation based on
  the last few operations. Choosing :guilabel:`Set duration manually` enables the :guilabel:`Default
  Duration` field instead.
- :guilabel:`Default Duration`: estimated amount of time to complete the operation; used for
  `planning manufacturing orders <https://www.youtube.com/watch?v=TK55jIq00pc>`_ and determining
  `work center availability <https://www.youtube.com/watch?v=3YwFlD97Bio>`_.
- :guilabel:`Company`: specify the company the |BOM| is available in.

Include operation details in the :guilabel:`Work Sheet` tab. Choose :guilabel:`PDF` to attach a file
or :guilabel:`Google Slide` with *public* access to share a link. Select :guilabel:`Text` to type
instructions in the :guilabel:`Description` text field.

.. tip::
   Type `/` for a list of formatting options and features, including ChatGPT.

   .. image:: bill_configuration/description.png
      :align: center
      :alt: Show ChatGPT feature to generate instructions for a work order.

.. image:: bill_configuration/create-operations.png
   :align: center
   :alt: Fill out the Create Operations pop-up window.

Finally, click :guilabel:`Save \& Close` to close the pop-up window. To add more operations, click
:guilabel:`Save & New` and repeat the same steps above to configure another operation.

.. note::
   Each operation is unique, as it is always exclusively linked to one |BOM|.

.. tip::
   After creating an operation, click the :guilabel:`Copy Existing Operations` button to choose an
   operation to duplicate.

   .. image:: bill_configuration/copy-existing-operations.png
      :align: center
      :alt: Show Operation tab, highlighting the "Copy Existing Operations" field.

Instructions
~~~~~~~~~~~~

.. important::
   To add detailed instructions to operations, the *Quality* app must be installed.

Add specific instructions to an existing operation by clicking the operation's :icon:`fa-list-ul`
:guilabel:`(list)` icon in the :guilabel:`Instructions` column. The number in the
:guilabel:`Instructions` column shows the number of existing detailed instructions there are for the
operation.

.. image:: bill_configuration/add-instructions.png
   :align: center
   :alt: Show the Instructions column, and list icon.

On the :guilabel:`Steps` dashboard, click :guilabel:`New` to open a blank quality control point form
where the new manufacturing step can be created. Here, give the specific instruction a
:guilabel:`Title` and set the :guilabel:`Type` to :guilabel:`Instructions`. In the
:guilabel:`Instructions` tab of the form, write out the directions for the step in the operation.

.. note::
   Further customizations can be made here on this form, beyond ordinary instructions, to also
   include specific types of quality control points that carry specific (or complex) conditions. For
   more details about quality control points refer the :doc:`Instruction check
   <../../quality/quality_check_types/instructions_check>` documentation.

.. image:: bill_configuration/steps.png
   :align: center
   :alt: Show the page to add a quality check.

Miscellaneous
-------------

The :guilabel:`Miscellaneous` tab contains more |BoM| configurations to customize procurement,
calculate costs, and define how components are consumed.

.. _manufacturing/basic_setup/manufacturing-readiness:

- :guilabel:`Manufacturing Readiness`: choosing :guilabel:`When components for the 1st operation are
  available` shows the :guilabel:`Component Status` as a **green** :guilabel:`Not Available`, when
  only the components that are consumed in the first operation are in stock. This indicates that
  although not all components are available, operators can at least begin with the first operation.
  Choosing :guilabel:`When all components are available` displays a **red** :guilabel:`Not
  Available` component status unless all components are in available.

  .. tip::
     Specify which operation consumes each component on the |BoM| in the :ref:`Manual Consumption
     field <manufacturing/basic_setup/consumed-in-operation>`.

  .. image:: bill_configuration/component-status.png
     :align: center
     :alt: Show the *Component Status* field on the manufacturing order dashboard.

- :guilabel:`Version`: displays the current |BoM| version, visible with the Odoo *PLM* app installed
  for managing |BoM| changes.
- :guilabel:`Flexible Consumption`: specifies if components used can deviate from the quantity
  defined on the |BoM|. Choose :guilabel:`Blocked` if operators **must** adhere strictly to the
  |BoM| quantity. Otherwise, choose :guilabel:`Allowed` or :guilabel:`Allowed with Warning`.
- :guilabel:`Routing`: select the preferred warehouse's manufacturing operation type for products
  produced in multiple warehouses. If left blank, this warehouse's `Manufacturing` operation type is
  used by default.
- :guilabel:`Analytic Distribution`: select pre-created :doc:`analytic distribution models
  <../../../finance/accounting/reporting/analytic_accounting>` from the list to automatically record
  the cost of manufacturing products in the chosen journal.
- :guilabel:`Manuf Lead Time`: define the number of days needed to complete a |MO| from the date of
  confirmation.
- :guilabel:`Days to prepare Manufacturing Order`: number of days needed to replenish components, or
  manufacture sub-assemblies of the product.

.. seealso::
   - :doc:`Analytic distribution <../../../finance/accounting/reporting/analytic_accounting>`
   - :doc:`Lead times <../../inventory/warehouses_storage/replenishment/lead_times>`

.. image:: bill_configuration/misc-tab.png
   :align: center
   :alt: Show the *Miscellaneous* tab of the BoM.

Add by-products to BoMs
=======================

A *by-product* is a residual product that is created during production in addition to the main
product of a |BOM|. Unlike the primary product, there can be more than one by-product on a |BOM|.

To add by-products to a |BOM|, first enable the *By-Products* feature in
:menuselection:`Manufacturing app --> Configuration --> Settings`. In the :guilabel:`Operations`
section, tick the checkbox for :guilabel:`By-Products` to enable the feature.

.. image:: bill_configuration/by-products.png
   :align: center
   :alt: "By Products" feature in the settings page.

Once the feature is enabled, add by-products to a |BOM| by clicking the :guilabel:`By-products` tab.
Click :guilabel:`Add a line`, and fill in the :guilabel:`By-product`, :guilabel:`Quantity`, and
:guilabel:`Unit of Measure`. Optionally, specify a :guilabel:`Produced in Operation` for the
by-product.

.. example::
   The by-product, `Mush`, is created in the `Grind grapes` operation when producing `Red Wine`.

   .. image:: bill_configuration/add-by-product.png
      :align: center
      :alt: Show sample by-product in the BoM.


==================================================
SECTION: byproducts.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/byproducts.rst
==================================================

===========
By-Products
===========

.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |BoM| replace:: :abbr:`BoM (bill of materials)`
.. |BoMs| replace:: :abbr:`BoMs (bills of materials)`

When manufacturing certain products, it is common to be left with residual materials, in addition to
the finished product. These materials are known as *by-products*. By specifying the by-products
created during manufacturing on a product's bill of materials (BoM), the quantity of by-products
on-hand is tracked by Odoo.

.. example::
   Manufacturing a *rocking chair* requires ten pieces of wood. During production, five pieces of
   *scrap wood* are created, in addition to the rocking chair. By designating the scrap wood as a
   by-product on the rocking chair's |BoM|, Odoo tracks the on-hand count of scrap wood, as well as
   the quantity of rocking chairs produced.

Configuration
=============

To specify by-products on a product's |BoM|, the *By-Products* setting **must** be enabled. To do
so, navigate to :menuselection:`Manufacturing app --> Configuration --> Settings`, and tick the
:guilabel:`By-Products` checkbox, located under the :guilabel:`Operations` heading. Then, click
:guilabel:`Save` to apply the change.

.. image:: byproducts/byproducts-setting.png
   :align: center
   :alt: The By-Products setting on the Manufacturing app settings page.

With the :guilabel:`By-Products` setting enabled, a :guilabel:`By-products` tab appears on product
|BoMs|.

Add byproduct to BoM
====================

To add by-products to a |BoM|, navigate to :menuselection:`Manufacturing app --> Products --> Bills
of Materials`, and select a |BoM|.

On the |BoM|, select the :guilabel:`By-products` tab. Click :guilabel:`Add a line`, and select the
by-product in the :guilabel:`By-product` drop-down field. In the :guilabel:`Quantity` field, enter
the quantity of the by-product produced during manufacturing.

If the by-product is produced during a specific operation of a manufacturing order (MO), select the
operation in the :guilabel:`Produced in Operation` field. For example, if a scrap wood by-product is
produced during an *Assemble* operation, select that operation in the :guilabel:`Produced in
Operation` field.

.. image:: byproducts/byproducts-tab.png
   :align: center
   :alt: The By-Products tab on a BoM, configured with a "Scrap Wood" by-product.

Manufacture by-product
======================

When an |MO| is completed and marked as *Done*, Odoo registers the quantity of by-products created
during the manufacturing process. To create a new |MO|, navigate to :menuselection:`Manufacturing
app --> Operations --> Manufacturing Orders`, and click :guilabel:`New`.

In the :guilabel:`Bill of Material` field, select a |BoM| on which by-products have been specified.
After doing so, the :guilabel:`Product` field auto-populates with the corresponding product. Click
:guilabel:`Confirm` to confirm the |MO|.

When manufacturing is completed, click the :guilabel:`Produce All` button at the top of the |MO|.
After doing so, inventory counts update to reflect the quantity of by-product(s) produced, as well
as the quantity of the product.

Click the :guilabel:`Product Moves` smart button at the top of the |MO| page to see the movements of
components and products. Each by-product is listed on the resulting :guilabel:`Inventory Moves`
page, with the :guilabel:`From` column displaying the virtual production location, and the
:guilabel:`To` column displaying the location where the by-product is stored.

.. image:: byproducts/product-moves.png
   :align: center
   :alt: The Product Moves page for an MO with by-products.


==================================================
SECTION: configure_manufacturing_product.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/configure_manufacturing_product.rst
==================================================

===================================
Manufacturing product configuration
===================================

.. _manufacturing/management/configure-manufacturing-product:
.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`

In order to manufacture a product in Odoo *Manufacturing*, the product must be properly configured.
Doing so consists of enabling the *Manufacturing* route and configuring a bill of materials (BoM)
for the product. Once these steps are completed, the product is selectable when creating a new
manufacturing order.

Activate the Manufacture route
==============================

The Manufacture route is activated for each product on its own product page. To do so, begin by
navigating to :menuselection:`Manufacturing --> Products --> Products`. Then, select an existing
product, or create a new one by clicking :guilabel:`New`.

On the product page, select the :guilabel:`Inventory` tab, then enable the :guilabel:`Manufacture`
checkbox in the :guilabel:`Routes` section. This tells Odoo the product can be manufactured.

.. image:: configure_manufacturing_product/manufacturing-route.png
   :align: center
   :alt: The Manufacturing route on the Inventory tab of a product page.

.. _manufacturing/basic_setup/lot-serial-tracking:

Lot/serial number tracking
--------------------------

The assignment of lots or serial numbers to newly manufactured products is optional. To optionally
:doc:`assign lots or serial numbers <../../inventory/product_management/product_tracking>`
to newly manufactured products, go to the :guilabel:`Traceability` section in the
:guilabel:`Inventory` tab. In the :guilabel:`Tracking` field, select :guilabel:`By Unique Serial
Number` or :guilabel:`By Lots`.

Doing so enables the *Lot/Serial Number* field on a manufacturing order, or the *Register
Production* instruction on a work order card in the *Shop Floor* app.

.. figure:: configure_manufacturing_product/lot-number-field.png
   :align: center
   :alt: "Lot/Serial Number" field on the MO.

   **Lot/Serial Number** field on the MO.

.. figure:: configure_manufacturing_product/register-production.png
   :align: center
   :alt: **Register Production** option to generate lot/serial number on a work order card.

   **Register Production** option to generate lot/serial number on a work order card.

Configure a bill of materials (BoM)
===================================

Next, a |BOM| must be configured for the product so Odoo knows how it is manufactured. A |BOM| is a
list of the components and operations required to manufacture a product.

To create a |BOM| for a specific product, navigate to :menuselection:`Manufacturing --> Products -->
Products`, then select the product. On the product page, click the :guilabel:`Bill of Materials`
smart button at the top of the page, then select :guilabel:`New` to configure a new |BOM|.

.. image:: configure_manufacturing_product/bom-smart-button.png
   :align: center
   :alt: The Bill of Materials smart button on a product page.

On the |BOM|, the :guilabel:`Product` field auto-populates with the product. In the
:guilabel:`Quantity` field, specify the number of units that the BoM produces.

Add a component to the |BOM| by selecting the :guilabel:`Components` tab and clicking :guilabel:`Add
a line`. Select a component from the :guilabel:`Component` drop-down menu, then enter the quantity
in the :guilabel:`Quantity` field. Continue adding components on new lines until all components have
been added.

.. image:: configure_manufacturing_product/components-tab.png
   :align: center
   :alt: The Components tab on a bill of materials.

Next, select the :guilabel:`Operations` tab. Click :guilabel:`Add a line` and a :guilabel:`Create
Operations` pop-up window appears. In the :guilabel:`Operation` field, specify the name of the
operation being added (e.g. Assemble, Cut, etc.). Select the work center where the operation will be
carried out from the :guilabel:`Work Center` drop-down menu. Finally, click :guilabel:`Save & Close`
to finish adding operations, or :guilabel:`Save & New` to add more.

.. important::
   The :guilabel:`Operations` tab only appears if the :guilabel:`Work Orders` setting is enabled. To
   do so, navigate to :menuselection:`Manufacturing --> Configuration --> Settings`, then enable the
   :guilabel:`Work Orders` checkbox.

.. image:: configure_manufacturing_product/operations-tab.png
   :align: center
   :alt: The Operations tab on a bill of materials.

.. admonition:: Learn more

   The section above provides instructions for creating a basic |BOM| that allows a product to be
   manufactured in Odoo. However, it is by no means an exhaustive summary of all the options
   available when configuring a |BOM|. For more information about bills of materials, see the
   documentation on how to :doc:`create a bill of materials <bill_configuration>`.


==================================================
SECTION: continuous_improvement.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/continuous_improvement.rst
==================================================

==============================
Continuous product improvement
==============================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`
.. |ECO| replace:: :abbr:`ECO (Engineering Change Order)`
.. |QCP| replace:: :abbr:`QCP (Quality Control Point)`
.. |PLM| replace:: :abbr:`PLM (Product Lifecycle Management)`
.. |BoMs| replace:: :abbr:`BoMs (Bills of Materials)`

*Continuous improvement* is a general philosophy intended to help individuals and organizations
constantly improve themselves and the work they produce.

There are a variety of different methodologies that fall under the umbrella of continuous
improvement. These include kaizen, six sigma, and lean, among others. While the specific steps of
each method differ, their goal remains the same: implement a process by which improvement is a
perpetual goal, rather than a one-time accomplishment.

The sections below contain details about how Odoo can be used to implement four general steps common
to many of the most popular continuous improvement strategies, with links to documentation about
configuring the necessary features. The final section details how a specific company might configure
these Odoo implementations within their organization.

#. :ref:`manufacturing/workflows/ci-identify`
#. :ref:`manufacturing/workflows/ci-suggest`
#. :ref:`manufacturing/workflows/ci-implement`
#. :ref:`manufacturing/workflows/ci-review`

.. important::
   Continuous improvement is not a one-size-fits-all methodology. While most strategies include
   between four and six steps, proper implementation requires developing a system tailored to the
   specific needs of each company.

   This is not a limitation, but rather a benefit, as it makes the methodology flexible enough to
   adapt to almost any use case. Odoo, in particular, adapts well to this flexibility, as it can be
   configured to meet the needs of almost any workflow.

   As such, it is important to remember the content below only provides *examples* of how Odoo
   *might* be used. They should be viewed as more of a starting point, rather than a concrete
   outline that every organization must follow.

.. _manufacturing/workflows/ci-identify:

Identify problems
=================

Before improvement can begin, it is necessary to determine where improvement is necessary. This is
where identifying problems comes into play. Two of the best Odoo apps for identifying problems with
products or processes are *Helpdesk* and *Quality*.

Helpdesk
--------

The *Helpdesk* app is useful for receiving feedback from outside of the organization, like from
clients or customers. This is accomplished by implementing one (or more) of the methods for
:doc:`receiving tickets <../../../services/helpdesk/overview/receiving_tickets>`, including email
aliases, live chat conversations, and website forms.

Using these methods, customers can submit feedback about problems, which is then reviewed by a
member of a :doc:`helpdesk team <../../../services/helpdesk>`. Depending on the outcome of the
review, the team member may decide to take further action to ensure the issue is addressed. This can
include creating a :doc:`quality alert <../../quality/quality_management/quality_alerts>`.

Quality
-------

The *Quality* app is useful for receiving feedback from *within* the organization, like from
employees.

One method for accomplishing this is to set up a :doc:`quality control point
<../../quality/quality_management/quality_control_points>` (QCP). A |QCP| is used to automatically
create quality checks at regular intervals, prompting employees to inspect, and confirm, the quality
of a product.

If an issue is found, an employee can then create a :doc:`quality alert
<../../quality/quality_management/quality_alerts>` to notify a quality team. Quality alerts can also
be created independent of a |QCP|, in the event that an employee discovers an issue without being
prompted to check for one. This is a great way for customer support employees to notify a quality
team of an issue brought to their attention by a customer ticket.

.. _manufacturing/workflows/ci-suggest:

Suggest improvements
====================

Once a problem is identified, the next step is to put forward ideas for how to address the problem.
As with identifying problems, the *Quality app* is also useful for suggesting improvements. In
addition, the *PLM* (*Product Lifecycle Management*) app can be used for this purpose, as well.

Quality
-------

When creating a :doc:`quality alert <../../quality/quality_management/quality_alerts>` to bring an
issue to the attention of a quality team, the :guilabel:`Corrective Actions` and
:guilabel:`Preventive Actions` tabs can be used to provide feedback about how the issue can be
addressed.

The :guilabel:`Corrective Actions` tab is used to suggest a method for fixing items affected by the
issue. For example, `Screw the bolts on tighter, so the seat stays in place`.

The :guilabel:`Preventive Actions` tab is used to suggest a method for preventing the issue from
occurring in the future. For example, `Do not tighten the screws too much, or they will be
stripped`.

The quality team that reviews the alert sees these suggested actions, and can take them into account
when deciding how to address the issue.

PLM
---

The |PLM| app is used to manage the lifecycle of a product from its introduction through each
successive version. As such, it is useful for testing ideas for product improvements.

Using :doc:`engineering change orders <../../plm/manage_changes/engineering_change_orders>`, product
management teams can create new iterations of product |BoMs|, adding or removing specific components
or operations, as needed. The products created using these |BoMs| are put through a review process
to confirm the effectiveness of the changes.

.. _manufacturing/workflows/ci-implement:

Implement strategies
====================

Implementing strategies involves putting the proposed solutions from the suggest improvements step
into action. The |PLM| app continues to be useful during this step, as it can be configured to make
|BoM| updates. The *Field Service* app can also be used by certain companies to make improvements to
products that have already been sold to customers.

PLM
---

Once |BoM| changes have gone through the proper review process, they can be approved, and the
updated |BoM| put into use. This is accomplished by configuring one of the |ECO| review stages to
:ref:`apply the changes <plm/eco/apply-changes>` made to the |BoM|, at which point the updated |BoM|
becomes available for new |MOs|.

Product |BoMs| can continue to be updated, as needed. The :doc:`version control
<../../plm/manage_changes/version_control>` features of the |PLM| app allow for easy management of
all versions of a given |BoM|.

Field Service
-------------

The |PLM| app is a great way to make changes to product |BoMs|. However, these changes only affect
products produced using the new |BoM|. If a defective product has already been sold to a customer,
it may be necessary to repair (or update) that product.

In such a case, the *Field Service* app can be used to schedule :doc:`onsite interventions
<../../../services/field_service/creating_tasks>`. These interventions allow service
technicians (or other employees) to be sent to a customer's location to address an issue with a
product.

.. _manufacturing/workflows/ci-review:

Review actions
==============

Reviewing actions is where the "continuous" part of continuous improvement comes into play, as it
allows an organization to evaluate the decisions made in the previous steps. As such, this step is,
essentially, returning to the beginning of the process, so that additional problems can be
identified and addressed.

This means that the *Helpdesk* and *Quality* apps should be used again to receive customer and
employee feedback. Another app that may be useful at this stage is the *Surveys* app.

Surveys
-------

After implementing changes to a product or process, it may be wise to solicit customers for their
feedback directly, rather than waiting to hear from them of their own volition. This may bring to
light feedback that customers may have otherwise neglected to share.

One of the best ways to accomplish this is through the :doc:`Surveys <../../../marketing/surveys>`
app. Creating a survey, and sending it to customers who receive an updated product, increases the
likelihood of receiving relevant feedback about the product.

.. admonition:: Example workflow: coat rack product improvement
   :class: alert alert-success

   *Wood Hut* is a manufacturer of fine wood products. They are committed to manufacturing products
   of the highest-possible quality, and are always looking for ways to improve the products they
   sell, along with the processes used to create them.

   Wood Hut uses the Odoo platform to manage every element of their production, fulfillment, and
   customer satisfaction processes. They have developed a custom product improvement workflow that
   incorporates the Helpdesk, Quality, PLM, and Manufacturing apps.

   One of Wood Hut's most popular products is their *coat rack*. It's made entirely of oak, and
   customers describe it as "sleek and elegant." However, recent customer feedback about the coat
   rack has brought attention to quality issues that necessitate revising the current manufacturing
   process.

   The product revision workflow begins when the customer service team receives a ticket in the
   Helpdesk app from a customer having problems with the coat rack she purchased. The customer,
   Abigail Peterson, has found that her coat rack falls over when more than five coats are hanging
   from it. This is a major issue, as the coat rack has enough dowels for six coats.

   .. image:: continuous_improvement/helpdesk-ticket.png
      :align: center
      :alt: A Helpdesk ticket about an issue with the coat rack product.

   Marc, the customer service employee assigned to the helpdesk ticket, opens the Quality app, and
   creates a new quality alert. He tags the *Production Quality Team* and assigns Julie Andreson as
   the quality employee responsible for the alert.

   Julie reviews the alert, and consults with her team about the best course of action. They decide
   that it is necessary to revise the product's |BoM| to prevent the issue from occurring in the
   future, which Julie notes in the :guilabel:`Corrective Actions` tab of the quality alert.

   .. image:: continuous_improvement/quality-alert.png
      :align: center
      :alt: A quality alert created about the issue with the coat rack product.

   Then, Julie messages product engineer, Joe Kazan in the chatter of the quality alert to bring it
   to his attention. Joe opens the |PLM| app and creates a new |ECO|, noting the problem with the
   coat rack, and suggesting that a change to the product's |BoM| may be necessary.

   .. image:: continuous_improvement/eco.png
      :align: center
      :alt: An ECO created to update the coat rack product's BoM.

   Joe clicks :guilabel:`Start Revision`, and then the :guilabel:`Revision` smart button to open
   version two of the coat rack's |BoM|. This |BoM| was created alongside the |ECO|, and remains
   archived until it is approved.

   After some testing, Joe discovers that adding a metal *support rod* to the coat rack strengthens
   it, allowing the rack to hold six or more coats without falling over. He updates the |BoM| to
   include the support rod as one of the components, and adds an extra operation to make sure it is
   installed during the manufacturing process. Finally, he leaves a message in the chatter of the
   |ECO|, letting his manager, Jose, know that it is ready for review.

   .. image:: continuous_improvement/bom.png
      :align: center
      :alt: The coat rack BoM, updated to add an extra component and operation.

   Jose reviews the changes, and confirms they are an effective method for addressing the problem
   with the coat rack. He moves the |ECO| to the *Approved* stage, which makes version two of the
   coat rack |BoM| the current version.

   Now, each time an |MO| is created to produce a coat rack, the updated |BoM| is automatically
   selected. Wood Hut begins producing the improved coat rack, and customer feedback confirms that
   the new version has addressed the problem with its predecessor.

   Using the Odoo platform, Wood Hut has implemented an end-to-end product improvement process.
   Since the essential elements of this process (customer feedback, quality control, etc.) are
   always functioning, it can be reused to continuously update products and processes.


==================================================
SECTION: delayed.rst
PATH: applications/inventory_and_mrp/manufacturing/reporting/delayed.rst
==================================================

======
Delays
======

.. |SO| replace:: :abbr:`SO (sales order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`
.. |RfQ| replace:: :abbr:`RfQ (request for quotation)`

Odoo's *Manufacturing* app displays *delays* in manufacturing orders through the :guilabel:`Delayed
Productions` filter. If the |MO|'s end date exceeds its deadline, the deadline is highlighted in red
to draw attention to the delay.

.. image:: delayed/delayed-filter.png
   :alt: The delayed production filter in Odoo.

Deadline calculation
====================

The |MO| deadline depends on how the |MO| was created, and is calculated as follows:

- **Make To Order**: the |MO| deadline is the *Sales Order Delivery Date*.
- **Replenishment**: the |MO| deadline is *today + Manufacturing Lead Time*.
- **Manually created MO**: the deadline field remains empty.

.. important::
   The |MO| *deadline* is not the same as the |MO| *end date*.

   The end date is computed as:

   .. math::
      \text{End date} =
       \text{Scheduled start date}
       +\text{Total duration of all operations}

Filters
=======

Several additional filters are available to help track delays:

- :guilabel:`Delayed Productions`: the |MO|'s *scheduled start date* is later than the deadline.
- :guilabel:`Late`: the |MO|'s *scheduled end date* exceeds the deadline, highlighted in red.
- :guilabel:`Late Availability`: one or more required components are not available before the
  deadline. For example, a confirmed purchase order or manufacturing order for components is
  scheduled to end *after* the |MO| deadline.
- :guilabel:`Components Available`: all components are available to begin production.

Use case
========

Consider an |MO| with a deadline of **September 17th**:

- If production on the |MO| starts after September 17th, it appears in the :guilabel:`Delayed
  Productions` filter.
- If required components are scheduled to arrive after September 17th, the |MO| appears in the
  :guilabel:`Late Availability` filter.
- If the |MO| has a scheduled end date after September 17th, it appears in the :guilabel:`Late`
  filter.

.. image:: delayed/deadline.png
   :alt: An MO with the deadline emphasized.

By combining these indicators, planners can quickly identify where production is at risk of missing
delivery commitments.


==================================================
SECTION: dropship_subcontracting_lead_times.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/dropship_subcontracting_lead_times.rst
==================================================

==================================
Dropship subcontracting lead times
==================================

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In Odoo, lead times are used to predict how long it takes to complete a certain action. For example,
a *delivery lead time* can be set for a purchased product, which specifies the number of days it
usually takes for the product's vendor to deliver the product to the purchasing company.

For subcontracted products specifically, delivery lead times can be configured to take into account
the amount of time required for the subcontractor to manufacture a product. Doing so allows the
contracting company to better predict the delivery dates of subcontracted products.

Certain subcontracted products require the contracting company to supply the subcontractor with
manufacturing components. In this case, a *manufacturing lead time* can be used, in addition to the
delivery lead time, to generate the date on which the subcontractor must receive the required
components, in order to manufacture the product and deliver it on time.

In cases where components are dropshipped to the subcontractor, an additional delivery lead time
can be set for each component. This should be set to the amount of time it takes the vendor to
deliver components to the subcontractor.

Once a delivery lead time has been set on a component, dropship orders for the component display the
date by which the order must be confirmed, so that it can be dropshipped to the subcontractor by the
date on which manufacturing must begin.

.. important::
   Like all lead times in Odoo, lead times for subcontracted products are only an estimate, and are
   based on how long actions are *expected* to take.

   Unforeseen circumstances can impact the completion of these actions, which means that lead times
   should not be viewed as guarantees.

Configuration
=============

When using the :doc:`Dropship Subcontractor on Order <subcontracting_dropship>` route, a company is
responsible for purchasing the necessary components from a vendor, and having them dropshipped
directly to the subcontractor.

This means that, in addition to the amount of time it takes the subcontractor to manufacture and
deliver the product, it is also necessary to consider how long it takes the component vendor to
dropship the components to the subcontractor.

By assigning a product's subcontractor a *delivery lead time*, specifying a *manufacturing lead
time* on the product's BoM, and assigning the vendor of the components an additional *delivery lead
time*, *Dropship Subcontractor* orders for the product's components display the deadline for
confirming a dropship order to send the components to the subcontractor.

Product delivery lead time
--------------------------

To set a delivery lead time for a product's subcontractor, navigate to :guilabel:`Inventory app -->
Products --> Products`, and select a subcontracted product.

Then, select the :guilabel:`Purchase` tab on the product's page. If the subcontractor has not
already been added as a vendor, do so now by clicking :guilabel:`Add a line`, and selecting the
subcontractor in the :guilabel:`Vendor` column.

Once the subcontractor has been added, enter the number of days it takes them to manufacture and
deliver the product, in the :guilabel:`Delivery Lead Time` column.

.. image:: dropship_subcontracting_lead_times/delivery-lead-time.png
   :align: center
   :alt: The Delivery Lead Time field for a subcontractor, on the Purchase tab of a product page.

Product manufacturing lead time
-------------------------------

Next, navigate to the product's |BoM| by clicking the :guilabel:`Bill of Materials` smart button at
the top of the product's page. Then, select a BoM from the list.

On the |BoM|, select the :guilabel:`Miscellaneous` tab. In the :guilabel:`Manuf. Lead Time` field,
enter the same number of days that was entered in the :guilabel:`Delivery Lead Time` field of the
|BoM|'s product.

.. image:: dropship_subcontracting_lead_times/manufacturing-lead-time.png
   :align: center
   :alt: The Manuf. Lead Time field on a product's BoM.

While not all of these days are actually used for manufacturing by the subcontractor, setting the
same number of days in each field tells Odoo that the subcontractor must receive the components and
begin production by the start of the product's delivery lead time. This gives the subcontractor
enough time to both manufacture and deliver the product.

Component delivery lead time
----------------------------

From the product's BoM, navigate to each component by clicking on the component in the
:guilabel:`Components` tab, and then clicking the :icon:`oi-arrow-right` :guilabel:`(right arrow)`
button to the right of the component.

On the product page for each component, select the :guilabel:`Purchase` tab. If the vendor has not
already been added, do so now by clicking :guilabel:`Add a line`, and selecting the subcontractor in
the :guilabel:`Vendor` column.

Once the vendor has been added, enter the number of days it takes them to dropship the product to
the subcontractor, in the :guilabel:`Delivery Lead Time` column.

Dropship subcontracting workflow
================================

Create a request for quotation (RfQ) for the product by navigating to :menuselection:`Purchase app
--> Orders --> Requests for Quotation`, and clicking :guilabel:`New`.

Specify the subcontractor in :guilabel:`Vendor` field. Then, add the product in the
:guilabel:`Products` tab by clicking :guilabel:`Add a product`, selecting the product in the
:guilabel:`Product` column, and specifying a quantity in the :guilabel:`Quantity` column.

In the :guilabel:`Expected Arrival` field, enter a date that provides enough time for the component
vendor to dropship the components, and the subcontractor to manufacture and deliver the product.

.. important::
   When a product is added to an |RfQ|, the :guilabel:`Expected Arrival` field auto-populates with a
   date that is today's date plus the delivery lead time of the product. However, this does not
   consider the time it takes to dropship the components to the subcontractor.

   When purchasing a product subcontracted using the *Dropship Subcontractor on Order* route, it is
   necessary to adjust this date to take into account the extra time needed for the components to be
   delivered to the subcontractor.

   Since production does not begin until they receive the components, leaving the date as is results
   in the finished product arriving *after* the date listed on the |RfQ|.

Next, click :guilabel:`Confirm Order` to turn the |RfQ| into a |PO|. Doing so creates a second |RfQ|
to purchase the components from the dropshipper, and have them sent to the subcontractor.

Navigate to :menuselection:`Purchase app --> Orders --> Requests for Quotation`, and select the
|RfQ| that lists the dropshipper in the :guilabel:`Vendor` column.

On the |RfQ|, the :guilabel:`Expected Arrival` field lists the date on which the subcontractor must
receive the components, in order to deliver the finished product by the *Expected Arrival* date
listed on the subcontractor |PO|.

The :guilabel:`Order Deadline` field lists the latest date on which the |RfQ| can be confirmed, in
order for the dropshipper to deliver the components to the subcontractor by the :guilabel:`Expected
Arrival` date.

Click :guilabel:`Confirm Order` to turn the |RfQ| into a |PO|, and confirm the purchase of the
components from the dropshipper. Doing so causes a :guilabel:`Dropship` smart button to appear at
the top of the page.

Click the :guilabel:`Dropship` smart button to open the dropship order. This order can also be
accessed from the :guilabel:`Resupply` smart button that now appears on the subcontractor |PO|.

After the dropshipper has delivered the components to the subcontractor, click the
:guilabel:`Validate` button at the top of the dropship order to confirm that the subcontractor has
received the components.

Once the subcontractor receives the components, they begin manufacturing the component, before
delivering it to the contracting company.

.. example::

   Bike retailer *Mike's Bikes* works with a subcontractor — *Bike Friends* — to produce units of
   their *Bicycle* product.

   Mike's Bikes must purchase the required components from vendor Bike World, and have them
   dropshipped to Bike Friends.

   On average, Bike Friends takes three days to manufacture each bicycle, plus an addition two days
   to deliver it to Mike's Bikes.

   As a result, Mike's Bikes sets a delivery lead time of five days for bicycle manufactured by Bike
   Friends: three days for manufacturing, plus two days for delivery.

   On the bicycle's BoM, they enter a manufacturing lead time of five days as well, to remind
   themselves of the date that components must be delivered to the subcontractor.

   On the product pages for each of the bicycle's components, they assign Bike World a delivery lead
   time of two days. This is the amount of time it takes Bike World to dropship each component
   directly to the subcontractor.

   On May 10th, Mike's Bikes confirms a |PO| for one bicycle, with an expected delivery date of May
   17th.

   The |RfQ| for purchasing the components from Bike World and having them dropshipped to Bike
   Friends has an Expected Arrival date of May 12th, and a Deadline of May 10th. The |RfQ| must be
   confirmed by the deadline in order for Bike Friends to receive the components by the Expected
   Arrival date, giving them enough time to deliver the finished bicycle to Mike's Bikes by May
   17th.

   .. image:: dropship_subcontracting_lead_times/deadline-arrival.png
      :align: center
      :alt: The Order Deadline and Expected Arrival dates on a dropship order.

   Mike's Bikes confirms the |RfQ| on May 10th, and Bike World delivers the components to Bike
   Friends on May 12th. Bike Friends manufactures the bicycle, and delivers it to Mike's Bikes on
   May 17th.


==================================================
SECTION: kit_shipping.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration/kit_shipping.rst
==================================================

====
Kits
====

In Odoo, a *kit* is a type of bill of materials (BoM) that can be manufactured and sold. Kits are
sets of unassembled components sold to customers. They may be sold as standalone products, and are
also useful tools for managing more complex bills of materials (BoMs).

.. note::
   To use, manufacture, and sell kits, both the :guilabel:`Manufacturing` and :guilabel:`Inventory`
   apps need to be installed.

Create the kit as a product
===========================

To use a kit as a sellable product, or as a component organization tool, the kit should first be
created as a product.

To create a kit product, go to :menuselection:`Inventory app --> Products --> Products`, and then
click :guilabel:`New`.

Then, assign a name to the new kit product. Next, set the kit's product type depending on inventory
tracking needs and accounting requirements. To do this, under the :guilabel:`General Information`
tab, set the :guilabel:`Product Type` to :guilabel:`Goods` and either check the box next
:guilabel:`Track Inventory` if inventory tracking is required, or leave it unchecked if inventory
tracking for the kit is not necessary.

.. seealso::
   Learn more about :doc:`tracked versus untracked products
   <../../inventory/product_management/configure/type>`.

The kit's components must also be configured as products via :menuselection:`Inventory app -->
Products --> Products`. These components require no specific configuration.

Untracked kit inventory setup details
-------------------------------------

Consider leaving tracking for the kit's inventory untracked when the kit is used in other
manufacturing processes or when tracking inventory for the kit itself is not needed.

* **Recommended for Continental Accounting**: If costs are expensed immediately upon purchase, then
  leaving the kit's inventory as untracked is recommended.
* **Replenishment via Components**: Inventory count is managed at the component level, so reordering
  rules must be set to individual components.
* **Selling & Stock Constraints**: Kits cannot be sold if any required component is out of stock.
  Since availability depends on individual components, a sales order may appear valid, but delivery
  can be delayed if components are unavailable.

Tracked kit inventory setup details
-----------------------------------

Consider turning on tracking for the kit's inventory when the kit is a tangible product or warehouse
and inventory tracking is essential.

* **Recommended for Angle-Saxon Accounting**: If the Cost of Goods Sold (COGS) needs to be recorded
  in journals, then tracking the kit's inventory is recommended.
* **Component Purchase Constraints**: Only the kit's minimum required components can be added to an
  **eCommerce** cart unless the option to :doc:`continue
  selling<../../../websites/ecommerce/products>` is disabled.
* **No Kit Serial Numbers**: Serial number tracking does not track the kit, only its shipped
  components.
* **Reordering Rule Recommendation**: Reordering rules should be set at the component-level.
* **Stock Replenishment Recommendation**: Stock replenishment should also be done at the
  component-level.

Kit setup similarities
----------------------

Regardless of which setup is used, there are some similarities between the two options.

* **No Kit-Level Stock Adjustments**: Stock adjustments cannot be handled at the kit-level.
* **Kit Value Does Not Change**: The stock's value is the same whether the kit's is tracked.
* **Kit Internal Transfers**: An internal transfer for the kit breaks it into components.

Set up the kit BoM
==================

After fully configuring the kit product and its components, a new :abbr:`BoM (bill of materials)`
can be created for the kit product.

To do so, go to :menuselection:`Manufacturing app --> Products --> Bills of Materials`, and then
click :guilabel:`New`. Next to the :guilabel:`Product` field, click the drop-down menu to reveal a
list of products, and then select the previously configured kit product.

Then, for the :guilabel:`BoM Type` field, click the :guilabel:`Kit` option. Finally, under the
:guilabel:`Components` tab, click :guilabel:`Add a line`, and add each desired component, and
specify their quantities under the :guilabel:`Quantity` column.

Once ready, click :guilabel:`Save` to save the newly created :abbr:`BoM (bill of materials)`.

.. image:: kit_shipping/bom-kit-selection.png
   :alt: Kit selection on the bill of materials.

If the kit is solely being used as a sellable product, then only components need to be added under
the :guilabel:`Components` tab, and configuring manufacturing operations is not necessary.

.. note::
   When a kit is sold as a product, it appears as a single line item on the quotation and sales
   order. However, on delivery orders, each component of the kit is listed.

Use kits to manage complex BoMs
===============================

Kits can also be used for complex :abbr:`BoMs (Bills of Materials)`. This method nests BoMs within
other BoMs, organizing complex products while simplifying manufacturing by defining each procurement
and production step separately.

Sublevel BoMs (subassemblies or semi-finished products) streamline these workflows, helping with
traceability efforts.

.. seealso::
   :doc:`sub_assemblies`


==================================================
SECTION: manufacture_lots_serials.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/manufacture_lots_serials.rst
==================================================

========================================
Manufacture with lots and serial numbers
========================================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`

In Odoo, *lot numbers* and *serial numbers* are used to identify and track products in Odoo. Serial
numbers are used to assign unique numbers to individual products, while lot numbers are used to
assign a single number to multiple units of a specific product.

When manufacturing products tracked using lots or serial numbers, Odoo requires the lot or serial
number to be assigned to each product before manufacturing can be completed. This ensures that each
product is properly tracked from the moment it enters inventory.

Configure products for tracking
===============================

By default, Odoo tracks the quantity of each product on hand, but does not track individual units of
a product. Lot or serial number tracking must be enabled for each product individually.

To track a product using lots or serial numbers, begin by navigating to :menuselection:`Inventory
--> Configuration --> Settings`, then scroll down to the :guilabel:`Traceability` section, and tick
the :guilabel:`Lots & Serial Numbers` checkbox. Finally, click :guilabel:`Save` to save the change.

Next, click on :menuselection:`Products --> Products`, and select a product to track. Make sure the
:guilabel:`Track Inventory` checkbox is ticked in the :guilabel:`General Information` tab. Since lot
and serial number functionality is enabled, a drop-down menu appears next to the ticked checkbox.

Click on the :guilabel:`Track Inventory` drop-down menu. By default, :guilabel:`By Quantity` is
selected, which only tracks the quantity on hand. Select :guilabel:`By Lots` to track the product
using lot numbers, or :guilabel:`By Unique Serial Number` to track the product using serial numbers.

.. seealso::
   :doc:`Lots <../../inventory/product_management/product_tracking/lots>`
   :doc:`Serial numbers <../../inventory/product_management/product_tracking/serial_numbers>`

Lot number manufacturing
========================

To manufacture a product tracked with lots, begin by navigating to :menuselection:`Manufacturing -->
Operations --> Manufacturing Orders`. Click :guilabel:`New` to create a new manufacturing order
(MO).

In the :guilabel:`Product` field, select a product tracked using lots, and enter the desired
:guilabel:`Quantity`. Click :guilabel:`Confirm` to confirm the |MO|.

Once the |MO| is confirmed, a :guilabel:`Lot/Serial Number` field appears in the top section of the
|MO| form. By default, this field is empty.

To populate the :guilabel:`Lot/Serial Number` field with a lot number, click the
:icon:`fa-plus-square-o` :guilabel:`(plus)` icon to the right of the field. Doing so automatically
generates a lot, using the next available number, and enters it in the field.

Alternatively, click on the :guilabel:`Lot/Serial Number` field and select an existing lot number,
or manually enter a new lot number and click :guilabel:`Create "#"` in the drop-down menu.

.. image:: manufacture_lots_serials/lot-sn-field.png
   :alt: The "Lot/Serial Number" field on an MO.

Either of these methods assign the product(s) in the |MO| a lot number before production is
finished. It is also possible to complete production and close the |MO| by clicking
:guilabel:`Produce All`, without assigning a lot number. Doing so automatically generates and
assigns a lot, using the next available number.

Serial number manufacturing
===========================

To manufacture a product tracked with serial numbers, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`. Click :guilabel:`New` to
create a new |MO|.

In the :guilabel:`Product` field, select a product tracked using serial numbers, and enter the
desired :guilabel:`Quantity`. Click :guilabel:`Confirm` to confirm the |MO|.

Once the |MO| is confirmed, a :guilabel:`Lot/Serial Number` field appears in the top section of the
|MO| form. By default, this field is empty.

The rest of the manufacturing process depends on how many units the |MO| contains.

Manufacture single unit
-----------------------

If a single unit of the product is being manufactured, clicking :guilabel:`Produce All` closes the
|MO|, and automatically generates and assigns the next available serial number, which appears in the
:guilabel:`Lot/Serial Number` field.

To assign a serial number without closing the |MO|, enter a number manually in the
:guilabel:`Lot/Serial Number` field, and click :guilabel:`Create "#"`, or click the
:icon:`fa-plus-square-o` :guilabel:`(plus)` icon to the right of the field to auto-fill it with the
next available number.

.. image:: manufacture_lots_serials/lot-sn-field.png
   :alt: The "Lot/Serial Number" field on an MO.

Manufacture multiple units
--------------------------

.. important::
   When manufacturing a product tracked using serial numbers, an |MO| can be created for multiple
   units. However, when serial numbers are assigned to each unit, either at the end of production or
   before, the |MO| is split into multiple |MOs|, each containing one unit of the product.

   Each of the split |MOs| is identified by a numerical tag added to the end of the original |MO|
   number.

   .. example::
      |MO| `WH/MO/00109` contains two units of a `Chair`, a product tracked using serial numbers. A
      serial number is assigned to each unit of the chair. This causes the |MO| to be split into two
      |MOs|, each containing one unit of the chair. The |MOs| are titled `WH/MO/00109-001` and
      `WH/MO/00109-002`.

To assign serial numbers to each unit of an |MO|, click :guilabel:`Produce All` to open the
:guilabel:`Batch Production` pop-up window.

The :guilabel:`First Lot/SN` field of the pop-up window is auto-filled with the next available
serial number. The :guilabel:`Number of SN` field defaults to the number of units being
manufactured. The values of either field can be changed manually.

Click :guilabel:`Generate` to generate the specified number of serial numbers, beginning with the
number entered in the :guilabel:`First Lot/SN` field. The serial numbers are displayed in the text
box at the bottom of the pop-up window, and can be manually changed after generation.

To assign serial numbers without completing production, click the :guilabel:`Prepare MO` button.
Doing so splits the |MO| into individual |MOs|, one for each unit in the original |MO|. Each |MO| is
left open, and can be closed individually.

To assign serial numbers and complete production, click the :guilabel:`Produce` button. Doing so
splits the |MO| into individual |MOs|, one for each unit in the original |MO|. All of the |MOs| are
closed, since production is complete.

.. image:: manufacture_lots_serials/batch-production.png
   :alt: The "Batch Production" pop-up window, from which serial numbers can be assigned.

After clicking :guilabel:`Prepare MO` or :guilabel:`Produce`, the :menuselection:`Manufacturing` app
automatically shows the first of the split |MOs| (ex. `WH/MO/00109-001`). To view and access the
rest the split |MOs|, click the :guilabel:`Backorders` smart button at the top of the screen.


==================================================
SECTION: manufacturing_backorders.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/manufacturing_backorders.rst
==================================================

========================
Manufacturing backorders
========================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

In some cases, the full quantity of a manufacturing order cannot be produced immediately. When this
happens, Odoo *Manufacturing* allows for the manufacturing of partial quantities of the order and
creates a *backorder* for the remaining amount.

In the *Manufacturing* app, creating a backorder splits the original manufacturing order into two
orders. The reference tag for each order is the tag used for the original order, followed by a
hyphen and then an additional number to indicate that it's a backorder.

.. example::
   A company creates a manufacturing order with the reference tag *WH/MO/00175*, for 10 units of
   *Product X*. After starting work on the manufacturing order, the employee working the production
   line realizes there are only enough components in stock to produce five units of the product.

   Instead of waiting for additional stock of the components, they manufacture five units and create
   a backorder for the remaining five. This splits the manufacturing order into two separate orders:
   *WH/MO/00175-001* and *WH/MO/00175-002*.

   Order *001* contains the five units that have been manufactured, and is immediately marked as
   :guilabel:`Done`. Order *002* contains the five units that still need to be manufactured and is
   marked as :guilabel:`In Progress`. Once the remaining components are available, the employee
   returns to order *002* and manufactures the remaining units before closing the order.

Create a manufacturing backorder
================================

To create a backorder for part of a manufacturing order, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`. Select a manufacturing order
with a quantity of two or more or create one by clicking :guilabel:`Create`.

If a new manufacturing order is created, select a product from the :guilabel:`Product` drop-down
menu and enter a quantity of two or more in the :guilabel:`Quantity` field, then click
:guilabel:`Confirm` to confirm the order.

After manufacturing the quantity that is being produced immediately, enter that number in the
:guilabel:`Quantity` field at the top of the manufacturing order.

.. image:: manufacturing_backorders/quantity-field.png
   :align: center
   :alt: The quantity field on a manufacturing order.

Next, click :guilabel:`Validate`, and a :guilabel:`You produced less than initial demand` pop-up
window appears, from which a backorder can be created. Click :guilabel:`Create Backorder` to split
the manufacturing order into two separate orders, with the reference tags *WH/MO/XXXXX-001* and
*WH/MO/XXXXX-002*.

.. image:: manufacturing_backorders/create-backorder-button.png
   :align: center
   :alt: The Create Backorder button on the "You produced less than initial demand" pop-up window.

Order *001* contains the items that have been manufactured, and is closed immediately. Order *002*
is the backorder that contains the items that have yet to be manufactured, and remains open, to be
completed at a later date.

Once the remaining units can be manufactured, navigate to :menuselection:`Manufacturing -->
Operations --> Manufacturing Orders`, and then select the backorder manufacturing order. If all of
the remaining units are manufactured immediately, simply click :guilabel:`Validate` to close the
order.

If only some of the remaining units are manufactured immediately, create another backorder for the
remainder by following the steps detailed in this section.

Create a backorder in Shop Floor
================================

Backorders for manufacturing orders can also be created from the *Shop Floor* module.

.. note::
   In order to use the *Shop Floor* module, the *Work Orders* setting must be enabled. To do so,
   navigate to :menuselection:`Manufacturing --> Configuration --> Settings`, enable the
   :guilabel:`Work Orders` checkbox, and then click :guilabel:`Save`.

To create a backorder from the *Shop Floor* module, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`. Select an |MO| for multiple
units of a product, for which a backorder needs to be created.

On the |MO|, select the :guilabel:`Work Orders` tab, and then click the :guilabel:`Open Work Order
(external link icon)` button on the line of the work order to be processed. On the resulting
:guilabel:`Work Orders` pop-up window, click the :guilabel:`Open Shop Floor` button to open the
*Shop Floor* module.

When accessed from a specific work order, the *Shop Floor* module opens to the page for the work
center where the order is configured to be processed, and isolates the work order's card so that no
other cards are shown.

Complete the steps on the work order's card until the :guilabel:`Register Production` step is
reached, and then click on it to open the :guilabel:`Register Production` pop-up window.

.. important::
   Do **not** click the :guilabel:`# Units` button on the right side of the step. Doing so
   automatically registers the full amount of units as having been produced.

On the :guilabel:`Register Production` pop-up window, enter the number of units produced in the
:guilabel:`Quantity` field. Make sure the number entered is *less* than the number of units listed
to the right of the field. Then, click :guilabel:`Validate`.

.. image:: manufacturing_backorders/register-production.png
   :align: center
   :alt: The Register Production pop-up window in the Shop Floor module.

The pop-up window disappears and the :guilabel:`# Units` button on the work order's card updates to
reflect the number of units produced, as a fraction of the number of units for which the |MO| was
originally created.

Next, click the :guilabel:`Mark as Done` button at the bottom-right of the work order's card. The
work order card begins to fade away. Once it disappears completely, a new work order card appears,
titled with the original |MO|'s reference number with a `-002` tag added to the end of it.

This new reference number represents the backorder |MO|. The original |MO|'s reference number now
appears with a `-001` tag added to the end of it to distinguish it from the backorder |MO|.

If the original |MO| has no remaining work orders, it can be closed by selecting the :guilabel:`All`
filter in the top navigation of the *Shop Floor* module, and then clicking :guilabel:`Close
Production` at the bottom of the |MO|'s card.

If the original |MO| has remaining work orders that must be completed before it can be closed, cards
for these work orders appear on the *Shop Floor* pages for the work centers where they are
configured to be carried out. They can be processed as normal, and additional backorders can be
created from their work order cards using the instructions detailed in this section.

Once the current work order for the backorder |MO| is ready to be processed, this can also be
completed as normal, and an additional backorder can be created from its work order card by
following the instructions detailed in this section.

After the final work order for the backorder |MO| has been completed, the |MO| can be closed by
clicking the :guilabel:`Close Production` button at the bottom of the work order's card.


==================================================
SECTION: mo_costs.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/mo_costs.rst
==================================================

=========================
Manufacturing order costs
=========================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`
.. |BoMs| replace:: :abbr:`BoMs (Bills of Materials)`

The ability to accurately calculate the cost of manufacturing a product is critical when determining
product profitability. Odoo's **Manufacturing** app simplifies this calculation by automatically
calculating the cost to complete each manufacturing order (MO), as well as the average production
cost of a product, based on all completed |MOs|.

.. important::
   Odoo's Manufacturing app distinguishes between the *MO cost* and the *real cost* of an |MO|.

   The |MO| cost represents how much it *should* cost to complete an |MO|, based on the
   configuration of the product's bill of materials (BoM). This takes into account the cost and
   quantity of components, as well as the cost of completing the necessary operations.

   The real cost represents how much it *actually* costs to complete the |MO|. A few factors can
   cause the real cost to differ from the |MO| cost. For example, an operation may take longer to
   complete than estimated, a greater component quantity might be needed than was specified on the
   |BoM|, or the price of components may change during manufacturing.

Cost configuration
==================

Odoo computes |MO| costs based on the configuration of the |BoM| used to manufacture a product. This
calculation includes the cost and quantity of components and operations listed on the |BoM|, in
addition to the operating costs of the work centers where those operations are carried out, and the
amount paid to each employee who works on an operation.

Component cost
--------------

Component cost is calculated automatically, based on the average purchase cost of a component across
all purchase orders (POs). To view a component's cost, navigate to :guilabel:`Inventory app -->
Products --> Products`, and select a component product. The cost is displayed in the
:guilabel:`Cost` field of the :guilabel:`General Information` tab, on the component's product form.

It is possible to set the cost of a component manually, by clicking the :guilabel:`Cost` field on
the component's product form and entering a value. However, any future |POs| for the component
override a manually entered value, resetting the :guilabel:`Cost` field back to an automatically
computed value.

.. _manufacturing/mo-costs/work-center-cost:

Work center cost
----------------

To set the operating cost for a specific work center, navigate to :menuselection:`Manufacturing app
--> Configuration --> Work Centers`, and select a work center.

To set the cost of operating the work center for one hour, enter a value in the :guilabel:`per
workcenter` field, located beside the :guilabel:`Cost per hour` section on the work center's
:guilabel:`General Information` tab.

To set the hourly cost of each employee that operates the work center, enter a value in the
:guilabel:`per employee` field, located beside the :guilabel:`Cost per hour` section on the work
center's :guilabel:`General Information` tab. For example, if `25.00` is entered in the
:guilabel:`per employee` field, it costs $25.00 per hour for *each* employee working at the work
center.

.. important::
   The value entered in the :guilabel:`per employee` field is only used to calculate the |MO| cost,
   which is the estimated cost of completing the |MO|.

   The actual cost of completing the |MO| is represented by the real cost. Instead of using the
   value entered in the :guilabel:`per employee` field, the real cost is calculated using the hourly
   cost specific to each employee.

   For example, if the :guilabel:`per employee` cost of a work center is '$50.00', and an employee
   with an hourly cost of '$60.00' completes a work order there, the |MO| cost (estimated) is
   calculated using the $50/hr cost, while the real cost is calculated using the $60/hr cost.

   See the :ref:`employee cost section <manufacturing/mo-costs/employee-cost>` below for information
   on how to set the cost for specific employees.

.. _manufacturing/mo-costs/employee-cost:

Employee cost
-------------

To set the hourly cost for a specific employee, navigate to the :menuselection:`Employees` app, and
select an employee. On the employee's form, select the :guilabel:`Settings` tab, and enter the
employee's rate in the :guilabel:`Hourly Cost` field of the :guilabel:`Application Settings`
section.

.. important::
   As detailed in the :ref:`work center cost section <manufacturing/mo-costs/work-center-cost>`
   above, the value entered in the :guilabel:`Hourly Cost` field on the employee's form is used to
   calculate the real cost of an |MO|. The estimated cost of an |MO|, referred to as the |MO| cost,
   uses the per employee cost set on each work center's form.

|BoM| configuration
-------------------

Configuring a |BoM| so Odoo can accurately calculate the cost of |MOs| that use it requires two
steps. First, components **must** be added, and the required quantity specified. Second, operations
**must** be added, along with the work centers where they are carried out.

Begin by navigating to :menuselection:`Manufacturing app --> Products --> Bills of Materials`.
Select a |BoM|, or create a new one by clicking :guilabel:`New`.

In the :guilabel:`Components` tab of the |BoM| form, add each component by clicking :guilabel:`Add a
line`, selecting the component from the drop-down menu in the :guilabel:`Component` column, and
entering the quantity in the :guilabel:`Quantity` column.

In the :guilabel:`Operations` tab, add an operation by clicking :guilabel:`Add a line` to open the
:guilabel:`Create Operations` pop-up window. Enter a title for the operation in the
:guilabel:`Operation` field.

Select the :guilabel:`Work Center` where the operation is carried out. Then, add a
:guilabel:`Default Duration`, which is the estimated amount of time the operation takes to complete.

By default, the :guilabel:`Duration Computation` field is set to :guilabel:`Set duration manually`,
which means that the number entered in :guilabel:`Default Duration` field is always used as the
expected duration of the operation.

Selecting :guilabel:`Compute based on tracked time` causes Odoo to automatically compute the
:guilabel:`Default Duration` based on a certain number of work orders, which is set in the
:guilabel:`Based on` field. Before there are work orders to compute this duration, the value in the
:guilabel:`Default Duration` field is used instead.

The hourly cost of operating the work center, and the duration of the operation, are used to
calculate the operation's cost.

Finally, click :guilabel:`Save & Close` to add the operation to the |BoM|, and close the
:guilabel:`Create Operations` pop-up window. Alternatively, click :guilabel:`Save & New` to add the
operation to the |BoM|, and open a blank :guilabel:`Create Operations` pop-up window to add another
operation.

.. seealso::
   For a full overview of |BoM| configuration, see the documentation on :doc:`bills of materials
   <bill_configuration>`.

|MO| overview
=============

Each |MO| has an *overview* page, which lists a variety of information about the |MO|, including
|MO| cost and real cost. To view the overview for an |MO|, navigate to :menuselection:`Manufacturing
app --> Operations --> Manufacturing Orders`, and select an |MO|. Then, click the :icon:`fa-bars`
:guilabel:`Overview` smart button at the top of the |MO|.

Both the |MO| cost and real cost take into account the cost and quantity of components, as well as
the cost of completing each work order. The overview page lists a row for each of these values, with
the sum of them listed at the bottom of the :guilabel:`MO Cost` and :guilabel:`Real Cost` columns.

Before work begins on an |MO|, the :guilabel:`MO Cost` and :guilabel:`Real Cost` columns display the
same costs. This is the *estimated* cost of completing the |MO|.

However, once work commences, the values in the :guilabel:`Real Cost` column may begin to diverge
from the values in the :guilabel:`MO Cost` column. This happens if a different component quantity is
used than was listed on the |MO|, the duration of a work order is different than expected, or the
hourly cost of the employee performing a work order differs from the employee cost set on the work
center.

Once the |MO| has been completed by clicking :guilabel:`Produce All`, the values in the
:guilabel:`MO Cost` column update to match those displayed in the :guilabel:`Real Cost` column.

.. image:: mo_costs/overview.png
   :align: center
   :alt: The MO Overview page.

Average manufacturing cost
==========================

In addition to the cost of each individual |MO| for a product, Odoo also tracks the average cost of
manufacturing the product, taking into account the cost of every completed |MO|. To view this,
navigate to :menuselection:`Inventory app --> Products --> Products`, and select a product.

The manufacturing cost of the product is displayed per unit of measure in the :guilabel:`Cost`
field, located in the :guilabel:`General Information` tab. The value continues to update as the
costs of additional |MOs| are factored into the average cost.

To the right of the :guilabel:`Cost` field is a :guilabel:`Compute Price from BoM` button, which
only appears for products with at least one |BoM|. Click this button to reset the cost of the
product to the expected cost, which only takes into account the components and operations listed on
the |BoM|.

.. important::

   Be aware that clicking :guilabel:`Compute Price from BoM` does not set the price permanently. The
   cost continues to update based on the average of the |BoM| price and the real cost of any future
   |MOs|.

.. admonition:: Example workflow: manufacturing cost
   :class: alert alert-success

   Golf product manufacturer *Fairway Fields* produces a variety of golf products, including an
   indoor *putting green*. They have configured a |BoM| for the putting green, so Odoo automatically
   calculates the manufacturing cost of each putting green |MO|.

   The |BoM| lists two components:

   - One unit of *green felt*, which costs $20.00.
   - One unit of a *rubber pad*, which costs $30.00.

   The |BoM| also lists four operations, all of which are carried out at *Assembly Station 1*, which
   has an hourly operating cost of $30.00. Those operations are as follows:

   - *Cut felt*: default duration of seven minutes, for a total cost of $3.50.
   - *Cut rubber pad*: default duration of five minutes, for a total cost of $2.50.
   - *Attach pad to felt*: default duration of 15 minutes, for a total cost of $7.50.
   - *Cut holes*: default duration of three minutes, for a total cost of $1.50.

   Altogether, the components required to produce one putting green cost $50.00, and the operations
   required cost $15.00, for a total manufacturing cost of $65.00. This cost is reflected in the
   :guilabel:`Cost` field on the putting green's product form.

   Fairway Fields confirms an |MO| for one putting green. Before manufacturing starts, the |MO|
   overview lists a cost of `$65.00` in both the :guilabel:`MO Cost` and :guilabel:`Real Cost`
   fields.

   .. image:: mo_costs/overview-before.png
      :align: center
      :alt: The MO Overview page for one putting green, before production starts.

   Manufacturing begins, and the operations take ten minutes longer than expected, for a total
   manufacturing time of 40 minutes. This deviation from the |BoM| is reflected on the |MO|
   overview, which now lists a :guilabel:`Real Cost` of `$70.00`.

   .. image:: mo_costs/overview-during.png
      :align: center
      :alt: The MO Overview page for one putting green, during production.

   Once manufacturing is finished, and the |MO| is marked as *Done*, the |MO| overview updates
   again, so the values in the :guilabel:`MO Cost` and :guilabel:`Real Cost` columns match, each
   displaying a value of `$70.00`.

   On the putting green's product page, the :guilabel:`Cost` field now displays a cost of `$67.50`,
   the average of the original cost of $65.00 and the real cost of $70.00 from the |MO|.


==================================================
SECTION: oee.rst
PATH: applications/inventory_and_mrp/manufacturing/reporting/oee.rst
==================================================

===============================
Overall equipment effectiveness
===============================

.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |OEE| replace:: :abbr:`OEE (overall equipment effectiveness)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In Odoo's *Manufacturing* app, *overall equipment effectiveness* (OEE) represents the amount of time
a work center is fully productive. |OEE| is displayed as a percentage of the total time a work
center is active.

Fully productive time is considered to be time when the work center is operational **and**
processing work orders that have not exceeded their *expected duration*.

|OEE| helps manufacturing teams understand the efficiency of work centers, and the causes of
manufacturing downtime.

.. important::
   Since |OEE| tracks work center productivity, using it requires enabling the work centers feature
   in the settings of the Manufacturing app.

   To do so, navigate to :menuselection:`Manufacturing app --> Configuration --> Settings`, and tick
   the checkbox next to :guilabel:`Work Orders`, under the :guilabel:`Operations` heading. Then,
   click :guilabel:`Save`.

Efficiency standards
====================

For |OEE| to accurately reflect the percentage of fully productive time for a work center, the work
center **must** be properly configured with the correct productivity metrics. These include the work
center's *time efficiency*, *capacity*, and *OEE target*.

Time efficiency
---------------

Time efficiency represents the efficiency of a work center when processing work orders, and is
represented as a percentage. A time efficiency value of 100% signifies that the work center
processes work orders at the speed of the expected duration, as listed on a product's |BoM|. A value
less than or greater than 100% signifies that the work center processes work orders slower or faster
than an operation's expected duration, respectively.

To set the time efficiency for a work center, navigate to :menuselection:`Manufacturing app -->
Configuration --> Work Centers`, and select a work center. On the :guilabel:`General Information`
tab, enter a numerical value in the :guilabel:`Time Efficiency` field.

.. example::
   Manufacturing a *chair* product requires two operations: *cut* and *assemble*. The product's
   |BoM| lists an expected duration of 30 minutes for each operation.

   The cut operation is carried out at the *cut station* work center, which has a time efficiency
   value of 50%. This means it takes twice as long to complete the operation, for a total time of
   one hour.

   The assemble operation is carried out at the *assembly line* work center, which has a time
   efficiency value of 200%. This means it takes half as long to complete the operation, for a total
   time of 15 minutes.

Capacity
--------

Capacity represents how many units of a product can be produced in parallel at a work center. The
duration of work orders for multiple units increases or decreases, based on how many units the work
center can handle.

To set the capacity for a work center, navigate to :menuselection:`Manufacturing app -->
Configuration --> Work Centers`, and select a work center. On the :guilabel:`General Information`
tab, enter a numerical value in the :guilabel:`Capacity` field.

.. example::
   A *drill station* work center has a capacity of one unit. An |MO| is confirmed for 10 units of a
   *chair*, a product manufactured using the drill station.

   Since there are ten times as many units to produce than the work center can handle at once, the
   operation time is ten times the duration listed on the product's |BoM|.

|OEE| target
------------

The |OEE| target is the goal for how much of a work center's operating time should be fully
productive time. It is displayed as a percentage, and should only be set as high as `100%`.

To set the |OEE| target for a work center, navigate to :menuselection:`Manufacturing app -->
Configuration --> Settings --> Work Centers`, and select a work center. On the :guilabel:`General
Information` tab, enter a numerical value of `100.00` or less in the :guilabel:`OEE Target` field.

Calculating |OEE|
=================

|OEE| is represented as a percentage value between zero and 100. The value signifies the amount of
time that a work center was fully productive. The remainder signifies the amount of time that the
work center was operating at less than full efficiency. This can occur for a number of reasons,
including *reduced speed*, *material availability*, and *equipment failure*.

Fully productive time
---------------------

For a work center to be considered fully productive, it must be able to receive work orders, have
the components necessary to process work orders, and be operating within the expected duration of
the work order it is processing.

.. example::
   An *assembly line* work center is not blocked, and receives a work order to assemble a *bicycle*.
   The required components are available, so production begins as soon as they are picked and
   delivered to the work center. The work order has an expected duration of 30 minutes, and is
   completed in 27 minutes. All of this time is considered fully productive time.

Reduced speed
-------------

When a work center is operating at reduced speed, it means that it is processing a work order that
has exceeded its expected duration. While the work center may be operational, this is not considered
fully productive time.

.. example::
   A *cutting station* work center receives a work order to cut boards for a *table*. The expected
   duration of the work order is 15 minutes. The work order ends up taking 18 minutes to complete.
   The work center is considered to have been operating at reduced speed during the three minutes
   that exceeded the expected duration.

Material availability
---------------------

Material availability refers to situations where a work center is able to accept a work order, but
the required components are not available. This can occur because the components are not in stock,
or are reserved for a different order.

.. example::
   Manufacturing of a *bench* requires 20 units of *wood*. A manufacturing order (MO) is confirmed
   for 10 units of the bench, but there is not enough wood in stock to begin manufacturing. The time
   it takes to acquire the wood is recorded as material availability downtime.

Equipment failure
-----------------

Equipment failure signifies any period of time when a work center is unusable due to maintenance
issues with its equipment. This can be due to equipment breaking down, or when a work center is shut
down for scheduled maintenance. In these cases, a work center can be blocked using a
:doc:`maintenance request <../../maintenance/maintenance_requests>`.

.. example::
   The drill at a *drill station* work center breaks down, causing the work center to be unusable. A
   maintenance request is created to fix the drill, and the work center is blocked from receiving
   work orders. It takes two hours to fix the drill, and make the work center available again. This
   two-hour period is recorded as equipment failure downtime.

|OEE| reporting
===============

To view |OEE| reporting metrics for every work center, navigate to :menuselection:`Manufacturing app
--> Reporting --> Overall Equipment Effectiveness`. This page shows the metrics for each work center
with |OEE| data.

Alternatively, to see |OEE| reporting metrics for a single work center, navigate to
:menuselection:`Manufacturing app --> Configuration --> Work Centers`, and select a work center. At
the top of the work center's form, click the :icon:`fa-pie-chart` :guilabel:`OEE` smart button.

By default, the main |OEE| reporting page shows data in a bar chart, while the page for a specific
work center shows it in a pie chart. To select a different chart type on either page, click the
:icon:`fa-bar-chart` :guilabel:`(bar chart)`, :icon:`fa-line-chart` :guilabel:`(line chart)`, or
:icon:`fa-pie-chart` :guilabel:`(pie chart)` button above the displayed chart.

It is also possible to see |OEE| data in a pivot view, or a list displaying each time entry, by
clicking the :icon:`oi-view-pivot` :guilabel:`(pivot view)` or :icon:`oi-view-list` :guilabel:`(list
view)` buttons at the top-right corner of the page.

.. image:: oee/oee-report.png
   :align: center
   :alt: The dashboard of the OEE report.


==================================================
SECTION: one_step_manufacturing.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/one_step_manufacturing.rst
==================================================

======================
One-step manufacturing
======================

.. _manufacturing/management/one_step_manufacturing:
.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

Odoo *Manufacturing* allows users to manufacture products using one, two, or three steps. When using
one-step manufacturing, Odoo creates a manufacturing order (MO), but does not generate transfers for
the movement of components out of inventory or finished products into stock. Inventory counts still
update based on the number of components used and products manufactured, but the act of transferring
them to and from inventory is not tracked.

.. tip::
   The number of steps used in manufacturing is set at the warehouse level, allowing for each
   warehouse to use a different number of steps. To change the number of steps used for a specific
   warehouse, begin by navigating to :menuselection:`Inventory --> Configuration --> Warehouses`,
   and then select a warehouse from the :guilabel:`Warehouses` screen.

   On the :guilabel:`Warehouse Configuration` tab, find the :guilabel:`Manufacture` radio input
   field, and select one of the three options: :guilabel:`Manufacture (1 step)`, :guilabel:`Pick
   components and then manufacture (2 steps)`, or :guilabel:`Pick components, manufacture and then
   store products (3 steps)`.

   .. image:: one_step_manufacturing/manufacturing-type.png
      :align: center
      :alt: The Manufacture radio input field on a warehouse configuration page.

.. important::
   Products must be properly configured before they can be manufactured in Odoo. For details on how
   to do so, see the documentation on how to :ref:`configure a product for manufacturing
   <manufacturing/management/configure-manufacturing-product>`.

Create manufacturing order
==========================

To manufacture a product in Odoo *Manufacturing*, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then click
:guilabel:`New` to create a new |MO|.

On the new |MO|, select the product to be produced from the :guilabel:`Product` drop-down menu. The
:guilabel:`Bill of Material` field auto-populates with the associated bill of materials (BoM).

If a product has more than one |BOM| configured for it, the specific |BOM| can be selected in the
:guilabel:`Bill of Material` field, and the :guilabel:`Product` field auto-populates with the
associated product.

After a |BOM| has been selected, the :guilabel:`Components` and :guilabel:`Work Orders` tabs
auto-populate with the components and operations specified on the |BOM|. If additional components or
operations are required for the |MO| being configured, add them to the :guilabel:`Components` and
:guilabel:`Work Orders` tabs by clicking :guilabel:`Add a line`.

Finally, click :guilabel:`Confirm` to confirm the |MO|.

Process manufacturing order
===========================

An |MO| is processed by completing all of the work orders listed under its :guilabel:`Work Orders`
tab. This can be done on the |MO| itself, or from the work order tablet view.

Basic workflow
--------------

To complete work orders from the |MO| itself, begin by navigating to :menuselection:`Manufacturing
--> Operations --> Manufacturing Orders`, and then select an |MO|.

On the |MO| page, select the :guilabel:`Work Orders` tab. Once work begins on the first work order
that needs to be completed, click the :guilabel:`Start` button for that work order. Odoo
*Manufacturing* then starts a timer that keeps track of how long the work order takes to complete.

.. image:: one_step_manufacturing/start-button.png
   :align: center
   :alt: The Start button for an operation on a manufacturing order.

When the work order is completed, click the :guilabel:`Done` button for that work order. Repeat the
same process for each work order listed on the :guilabel:`Work Orders` tab.

.. image:: one_step_manufacturing/done-button.png
   :align: center
   :alt: The Done button for an operation on a manufacturing order.

After completing all of the work orders, click :guilabel:`Produce All` at the top of the screen to
mark the |MO| as :guilabel:`Done`, and register the manufactured product(s) into inventory.

Shop Floor workflow
-------------------

To complete the work orders for an |MO| using the *Shop Floor* module, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then select an |MO|.

On the |MO|, click on the :guilabel:`Work Orders` tab, and then select the :guilabel:`↗️ (square
with arrow coming out of it)` button on the line of the first work order to be processed. Doing so
opens a :guilabel:`Work Orders` pop-up window, with details and processing options for the work
order.

On the pop-up window, select the :guilabel:`Open Shop Floor` button at the top-left of the window to
open the *Shop Floor* module.

.. image:: one_step_manufacturing/shop-floor-button.png
   :align: center
   :alt: The Open Shop Floor button for a work order on a manufacturing order.

When accessed directly from a specific work order within an |MO|, *Shop Floor* defaults to the page
for the work center where the work order is configured to be carried out. The page shows a card for
the work order that displays the |MO| number, the product and number of units to be produced, and
the steps required to complete the work order.

.. image:: one_step_manufacturing/work-order-card.png
   :align: center
   :alt: A work order card on a work center page in the Shop Floor module.

A work order is processed by completing each step listed on its card. This can be done by clicking
on a step and following the instructions listed on the pop-up window that appears. Once the step is
completed, click :guilabel:`Next` to move on to the next step, if any are required.

Alternatively, work order steps can be completed by clicking the checkbox that appears on the right
side of the step's line on the work order card. When using this method, the step is automatically
marked as completed, without a pop-up window appearing.

The final step on a work order card is titled *Register Production*. This step is used to register
the number of product units that were produced. If the number produced is equal to the number that
the |MO| was created for, click the :guilabel:`# Units` button on the right side of the line to
automatically register that number as the quantity produced.

If a different number must be entered, click the :guilabel:`Register Production` step to open a
pop-up window. Enter the number of units produced in the :guilabel:`Units` field, and then click
:guilabel:`Validate` to register that number.

.. note::
   The *Register Production* step appears on every work order card. It must be completed for the
   first work order that is processed. After doing so, the step appears as already completed for
   each remaining work order in the |MO|.

After completing all of the steps for a work order, a button appears on the footer of the work order
card. If any other work orders must be completed before the |MO| can be closed, the button is titled
:guilabel:`Mark as Done`. If there are no additional work orders to complete, the button is titled
:guilabel:`Close Production`.

Clicking :guilabel:`Mark as Done` causes the work order card to fade away. Once it disappears
completely, the work order's status is marked as *Finished* on the |MO|, and the next work order
appears in the *Shop Floor* module, on the page of the work center where it is configured to be
carried out. Any additional work orders can be processed using the instructions detailed in this
section.

Clicking :guilabel:`Close Production` causes the work order card to fade away. Once it disappears,
the |MO| is marked as *Done*, and the units of the product that were produced are entered into
inventory.

After clicking :guilabel:`Mark as Done` or :guilabel:`Close Production`, each button is replaced by
an :guilabel:`Undo` button. Click the :guilabel:`Undo` button before the work order card fades away
to keep the work order open.

.. tip::
   This section details the basic workflow for processing an |MO| in the *Shop Floor* module. For a
   more in-depth explanation of the module and all of its features, please see the :ref:`Shop Floor
   overview <manufacturing/shop_floor/shop_floor_overview>` documentation.


==================================================
SECTION: product_variants.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration/product_variants.rst
==================================================

==================================
Managing BoMs for product variants
==================================

Odoo allows one bill of materials (BoM) to be used for multiple variants of the same product. Having
a consolidated :abbr:`BoM (bill of materials)` for a product with variants saves time by preventing
the need to manage multiple :abbr:`BoMs (bills of materials)`.

Activate product variants
=========================

To activate the product variants feature, navigate to :menuselection:`Inventory app -->
Configuration --> Settings`, and scroll down to the :guilabel:`Products` section. Then, click the
checkbox to enable the :guilabel:`Variants` option. After that, click :guilabel:`Save` to apply the
setting.

For more information on configuring product variants, refer to the :doc:`product variants
<../../../sales/sales/products_prices/products/variants>` documentation.

.. image:: product_variants/product-variants-variants-settings.png
   :align: center
   :alt: Selecting "Variants" from Inventory app settings.

Create custom product attributes
================================

Once the product variants feature is activated, create and edit product attributes on the
:guilabel:`Attributes` page.

The :guilabel:`Attributes` page is accessible either from :menuselection:`Inventory app -->
Configuration --> Settings` by clicking the :guilabel:`Attributes` button, or by clicking
:menuselection:`Inventory app --> Configuration --> Attributes`.

Once on the :guilabel:`Attributes` page, either click into an existing attribute, or click
:guilabel:`Create` to create a new one. Clicking :guilabel:`Create` reveals a new, blank form for
customizing an attribute. For an existing attribute, click :guilabel:`Edit` on its form to make
changes.

Assign an :guilabel:`Attribute Name`, and choose a category from the :guilabel:`Category` field's
drop-down menu. Then, select the desired options next to the :guilabel:`Display Type` and
:guilabel:`Variants Creation Mode` fields. Once the desired options are selected, click
:guilabel:`Add a line` under the :guilabel:`Attribute Values` tab to add a new value.

.. tip::
   Included on the :guilabel:`Value` row is a :guilabel:`Is custom value` checkbox. If selected,
   this value will be recognized as a custom value, which allows customers to type special
   customization requests upon ordering a custom variant of a product.

.. example::
   .. image:: product_variants/product-variants-attribute.png
      :align: center
      :alt: Product variant attribute configuration screen.

Once all desired :guilabel:`Values` have been added, click :guilabel:`Save` to save the new
attribute.

.. _product-variants/add-product-variants:

Add product variants on the product form
========================================

Created attributes can be applied on specific variants for particular products. To add product
variants to a product, navigate to the product form by going to :menuselection:`Inventory app -->
Products --> Products`. To make changes to the product, click :guilabel:`Edit`. Then, click the
:guilabel:`Variants` tab.

Under the :guilabel:`Attribute` header, click :guilabel:`Add a line` to add a new attribute, and
select one to add from the drop-down menu.

Then, under the :guilabel:`Values` header, click the drop-down menu to choose from the list of
existing values. Click on each desired value to add them, and repeat this process for any additional
attributes that should be added to the product.

Once finished, click :guilabel:`Save` to save changes.

.. image:: product_variants/product-variants-product-form.png
   :align: center
   :alt: Product form variants tab with values and attributes.

.. tip::
   :abbr:`BoM (bill of materials)` products with multiple variants that are manufactured in-house
   should either have a **0,0 reordering rule** set up, or have their replenishment routes set to
   *Replenish on Order (MTO)*.

Apply BoM components to product variants
========================================

Next, create a new :abbr:`BoM (bill of materials)`. Or, edit an existing one, by going to
:menuselection:`Manufacturing app --> Products --> Bills of Materials`. Then, click
:guilabel:`Create` to open a new :guilabel:`Bills of Materials` form to configure from scratch.

Add a product to the :abbr:`BoM (bill of materials)` by clicking the drop-down menu in the
:guilabel:`Product` field and selecting the desired product.

Then, add components by clicking :guilabel:`Add a line` under the :guilabel:`Component` section of
the :guilabel:`Components` tab, and choosing the desired components from the drop-down menu.

Choose the desired values in the :guilabel:`Quantity` and :guilabel:`Product Unit of Measure`
columns. Then, choose the desired values in the :guilabel:`Apply on Variants` column.

.. note::
   The :guilabel:`Apply on Variants` option to assign components to specific product variants on the
   :abbr:`BoM (bill of materials)` is available once the :guilabel:`Variants` setting is activated
   from the :menuselection:`Inventory` application. If the :guilabel:`Apply on Variants` field is
   not immediately visible, activate it from the additional options menu (three-dots icon, to the
   right of the header row).

.. image:: product_variants/product-variants-apply-on-variants.png
   :align: center
   :alt: "Apply on Variants" option on the additional options menu.

Each component can be assigned to multiple variants. Components with no variants specified are used
in every variant of the product. The same principle applies when configuring operations and
by-products.

When defining variant :abbr:`BoMs (bills of material)` by component assignment, the
:guilabel:`Product Variant` field in the main section of the :abbr:`BoM (bill of materials)` should
be left blank. This field is *only* used when creating a :abbr:`BoM (bill of materials)`
specifically for one product variant.

When all desired configurations have been made to the :abbr:`BoM (bill of materials)`, click
:guilabel:`Save` at the top of the form to save changes.

.. tip::
   For components that only apply for specific variants, choose which operations the components
   should be consumed in. If the :guilabel:`Consumed in Operation` column is *not* immediately
   visible, activate it from the additional options menu (three-dots icon, to the right of the
   header row).

Sell and manufacture variants of BoM products
=============================================

To sell and manufacture variants of :abbr:`BoM (bill of materials)` products to order, navigate to
:menuselection:`Sales app --> Create` to create a new quotation.

Sell variant of BoM product
---------------------------

Once on the blank :guilabel:`Quotation` form, click the drop-down next to the :guilabel:`Customer`
field to add a customer.

Then, under the :guilabel:`Order Lines` tab, click :guilabel:`Add a product`, and select the
previously-created :abbr:`BoM (bill of materials)` product with variants from the drop-down menu.
Doing so reveals a :guilabel:`Configure a product` pop-up.

From the pop-up window, click the desired attribute options to configure the correct variant of the
product to manufacture. Then, click the green :guilabel:`+` or :guilabel:`-` icons next to the `1`
to change the quantity to sell and manufacture, if desired.

.. image:: product_variants/product-variants-variant-popup.png
   :align: center
   :alt: Configure a product pop-up for choosing variant attributes.

Once all the specifications have been chosen, click :guilabel:`Add`. This will change the pop-up to
a second :guilabel:`Configure` pop-up, where available optional products will appear, if they have
been created previously.

Once ready, click :guilabel:`Confirm` to close the pop-up.

Then, click :guilabel:`Save` to save all changes, and click :guilabel:`Confirm` at the top of the
:guilabel:`Quotation` form to create and confirm a new sales order (SO).

Manufacture variant of BoM product
----------------------------------

Once the :abbr:`SO (sales order)` is confirmed, a :guilabel:`Manufacturing` smart button appears at
the top of the :abbr:`SO (sales order)` form. Click the :guilabel:`Manufacturing` smart button to
open the :guilabel:`Manufacturing Order` form.

On this form, under the :guilabel:`Components` tab, the appropriate components for the chosen
variant are listed. And, depending on the variant, different components will be listed. To see any
mandatory or optional :guilabel:`Operation` steps, click the :guilabel:`Work Orders` tab.

To enter the tablet view work order screen, click the :guilabel:`tablet icon` to the right of the
row for the desired operation to be completed.

From the tablet view, click :guilabel:`Mark as Done` as the operation progresses to complete the
operation steps.

Alternatively, click the :guilabel:`Mark as Done` button at the top of the manufacturing order form
to complete the order.

.. image:: product_variants/product-variants-manufacturing-order.png
   :align: center
   :alt: Manufacturing order for variant of BoM product.

Then, navigate back to the :abbr:`SO (sales order)` via the breadcrumbs at the top of the page.

Now that the product has been manufactured, click the :guilabel:`Delivery` smart button to deliver
the product to the customer. From the :guilabel:`Delivery Order` form, click :guilabel:`Validate`,
then click :guilabel:`Apply` to deliver the product.

To finish the sale, click back to the :abbr:`SO (sales order)` via the :guilabel:`breadcrumbs` at
the top of the page again. Then, click :guilabel:`Create Invoice` followed by :guilabel:`Create
Invoice` again to invoice the customer for the order.


==================================================
SECTION: production_analysis.rst
PATH: applications/inventory_and_mrp/manufacturing/reporting/production_analysis.rst
==================================================

===================
Production analysis
===================

.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`

The *Production Analysis* report provides statistics about products manufactured using Odoo's
*Manufacturing* app. The report is useful when trying to understand production costs, manufacturing
durations, and other important statistics about manufactured products.

To open the Production Analysis report, navigate to :menuselection:`Manufacturing app --> Reporting
--> Production Analysis`.

.. important::
   The :guilabel:`Production Analysis` report is one of many reports available across the Odoo app
   suite. This documentation only covers the measures specific to the :guilabel:`Production
   Analysis` report, along with a few use case examples.

   For a full overview of the basic features available in most Odoo reports, see the documentation
   on :doc:`reporting essentials <../../../essentials/reporting>`.

Measures
========

*Measures* are the datasets that can be selected in the :guilabel:`Production Analysis` report. Each
dataset represents a specific statistic about |MOs| in the database. Choose a measure by clicking
the :guilabel:`Measures` :icon:`fa-caret-down` button, and selecting one of the options from the
drop-down menu:

The options displayed in the :guilabel:`Measures` :icon:`fa-caret-down` drop-down menu, and the
order they appear in, differ depending on the filters, groupings, and comparisons enabled in the
:guilabel:`Search...` bar. By default, the available measures appear as follows:

- :guilabel:`Average Employee Cost/Unit`: the average cost paid to employees to produce one unit of
  the product.
- :guilabel:`By-Products Total Cost`: the total value of all by-products created by manufacturing
  the product.
- :guilabel:`Component Cost/Unit`: the average cost of the components required to produce one unit
  of the product.
- :guilabel:`Cost/Unit`: the average cost of producing one unit of the product, including component,
  employee, operation, and subcontracting costs.
- :guilabel:`Duration of Operations/Unit`: the average total duration of operations required to
  produce one unit of the product.
- :guilabel:`Quantity Demanded`: the total number of units of the product included in |MOs|.
- :guilabel:`Quantity Produced`: the total number of units of the product that have actually been
  produced.
- :guilabel:`Total Component Cost`: the total amount spent on the product's components, across every
  |MO| for the product.
- :guilabel:`Total Cost`: the total amount spent manufacturing every unit of the product produced so
  far.
- :guilabel:`Total Duration of Operations`: the cumulative duration of every operation completed
  while manufacturing the product.
- :guilabel:`Total Employee Cost`: the cumulative amount paid to employees to manufacture the
  product.
- :guilabel:`Total Operation Cost`: the cumulative amount spent on operations required to produce
  the product.
- :guilabel:`Total Operation Cost/Unit`: the average cost of the operations required to produce one
  unit of the product.
- :guilabel:`Total Subcontracting Cost`: the cumulative amount paid to subcontractors to produce the
  product.
- :guilabel:`Total Subcontracting Cost/Unit`: the average cost of engaging a subcontractor to
  produce one unit of the product.
- :guilabel:`Yield Percentage (%)`: the total quantity of the product produced versus the total
  quantity demanded, represented as a percentage.
- :guilabel:`Count`: the total count of |MOs| created for the product.

.. tip::
   Only one measure can be selected at a time when one of the :icon:`fa-area-chart`
   :guilabel:`(graph view)` options is enabled. However, multiple measures, and varying group-by
   criteria (on the x and y axes), can be selected when using the :icon:`oi-view-pivot`
   :guilabel:`(pivot table)`.

Use case: compare products
==========================

One of the best uses for the :guilabel:`Production Analysis` report is comparing statistics about
two or more products. This is accomplished by entering the products into the :guilabel:`Search...`
bar, then selecting the necessary measure, filter, and grouping, to see the desired data.

.. example::
   Toy manufacturer *Tommy's Toys* is trying to reduce their manufacturing operation costs. To
   accomplish this, they have decided to identify redundant products and cease manufacturing the
   ones with higher operational costs.

   Two of the toys that have been singled out for analysis are the *pogo stick* and *moon shoes*.
   Tommy's Toys believes these two toys are so similar that they can stop manufacturing one, without
   significantly impacting their product offering.

   To compare operation costs for the toys, business analyst Mike opens the
   :menuselection:`Manufacturing` app, and navigates to the :guilabel:`Production Analysis` page. In
   the :guilabel:`Search...` bar, he enters the names of both products. Then, he opens the
   :guilabel:`Search...` bar drop-down menu, and clicks :guilabel:`Product` in the :guilabel:`Group
   By` section.

   Below the :guilabel:`Search...` bar, Mike clicks on the :guilabel:`Measures`
   :icon:`fa-caret-down` drop-down menu, and selects the :guilabel:`Total Operation Cost/Unit`
   option. Finally, he selects the :icon:`fa-bar-chart` :guilabel:`(bar chart)` graph type.

   With these options selected, the :guilabel:`Production Analysis` report shows a bar chart for the
   current year, with one bar for each product, signifying the average operation cost for one unit
   of the product.

   With this data, Mike is able to see that the average operation cost for the moon shoes is almost
   twice the cost of the pogo stick. Using this insight, Tommy's Toys decides to cease production of
   moon shoes, thus lowering their average cost of manufacturing operations.

   .. image:: production_analysis/use-case.png
      :align: center
      :alt: The bar chart comparing the operation costs of the pogo stick and moon shoes.

Use case: compare time periods
==============================

The :guilabel:`Production Analysis` report can also be used to compare data for two different time
periods. This is accomplished using the options in the :guilabel:`Comparison` section of the
:guilabel:`Search...` bar.

.. example::
   Furniture company *Fanny's Furnishings* wants to compare their production costs for the first and
   second quarters of 2024, to see which products they spent the most money producing in each
   quarter.

   To compare the two time periods, shop floor supervisor Adam opens the
   :menuselection:`Manufacturing` app, and navigates to the :guilabel:`Production Analysis` page. He
   begins by selecting the :icon:`fa-pie-chart` :guilabel:`(pie chart)` graph type option at the top
   of the page.

   .. important::
      The :guilabel:`Comparison` feature is meant to be used with the :icon:`fa-pie-chart`
      :guilabel:`(pie chart)` graph type, or the :icon:`oi-view-pivot` :guilabel:`(pivot)` view.

      A :guilabel:`Comparison` option can still be selected with the other view types enabled, but
      doing so does not change the way data is displayed on the report.

   Next, Adam selects the :guilabel:`Total Cost` option from the :guilabel:`Measures`
   :icon:`fa-caret-down` drop-down menu. This option displays the total amount spent producing each
   product.

   In the :guilabel:`Search...` bar drop-down menu, he leaves the :guilabel:`2024` filter enabled in
   the :guilabel:`End Date` section, and enables the :guilabel:`Q2` filter as well. With both of
   these time periods selected, the pie chart shows data for the second quarter of 2024.

   Finally, Adam selects the :guilabel:`End Date: Previous Period` option in the
   :guilabel:`Comparison` section of the :guilabel:`Search...` bar. Doing so causes the pie chart to
   be split into an inner circle, and an outer ring.

   The outer ring shows data for the selected time period, quarter two of 2024. The inner circle
   shows data for the previous time period, quarter one of 2024.

   .. note::
      If :guilabel:`End Date: Previous Year` is selected instead of :guilabel:`End Date: Previous
      Period`, the inner circle shows data for the selected time period, one *year* previous.

      In the case of this example, it would show data for quarter two of 2023.

   Using this report, Adam can see that the products with the highest total cost for quarter two are
   the *bicycle* and *tricycle*. On the other hand, in quarter one, the *roller skates* had the
   highest total cost.

   .. image:: production_analysis/comparison.png
      :align: center
      :alt: The pie chart view of the Production Analysis report, with a comparison filter enabled.


==================================================
SECTION: reporting.rst
PATH: applications/inventory_and_mrp/manufacturing/reporting.rst
==================================================

=========
Reporting
=========

.. toctree::
   :titlesonly:

   reporting/delayed
   reporting/allocation
   reporting/oee
   reporting/production_analysis


==================================================
SECTION: resupply_subcontracting_lead_times.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/resupply_subcontracting_lead_times.rst
==================================================

==================================
Resupply subcontracting lead times
==================================

.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In Odoo, lead times are used to predict how long it takes to complete a certain action. For example,
a *delivery lead time* can be set for a purchased product, which specifies the number of days it
usually takes for the product's vendor to deliver the product to the purchasing company.

For subcontracted products specifically, delivery lead times can be configured to take into account
the amount of time required for the subcontractor to manufacture a product. Doing so allows the
contracting company to better predict the delivery dates of subcontracted products.

Certain subcontracted products require the contracting company to supply the subcontractor with
manufacturing components. In this case, a *manufacturing lead time* can be used, in addition to the
delivery lead time, to generate the date on which the subcontractor must receive the required
components, in order to manufacture the product and deliver it on time.

.. important::
   Like all lead times in Odoo, lead times for subcontracted products are only an estimate, and are
   based on how long actions are *expected* to take.

   Unforeseen circumstances can impact the completion of these actions, which means that lead times
   should **not** be viewed as guarantees.

Configuration
=============

When using the :doc:`Resupply Subcontractor on Order <subcontracting_resupply>` route, a company is
responsible for supplying the subcontractor with the necessary components. As a result, the
subcontractor cannot begin manufacturing until the components have been received.

This means that, in addition to the amount of time it takes the subcontractor to manufacture and
deliver the product, the date they receive the components must also be considered.

By assigning a product's subcontractor a delivery lead time, and specifying a manufacturing lead
time on the product's bill of materials (BoM), *Resupply Subcontractor* orders for the product's
components display the deadline by which the subcontractor must receive the components.

Product delivery lead time
--------------------------

To set a delivery lead time for a product's subcontractor, navigate to :menuselection:`Inventory app
--> Products --> Products`, and select a subcontracted product.

Then, select the :guilabel:`Purchase` tab on the product's page. If the subcontractor has not
already been added as a vendor, do so now by clicking :guilabel:`Add a line`, and selecting the
subcontractor in the :guilabel:`Vendor` field.

Once the subcontractor has been added, enter the number of days it takes them to manufacture and
deliver the product, in the :guilabel:`Delivery Lead Time` column.

.. image:: resupply_subcontracting_lead_times/delivery-lead-time.png
   :align: center
   :alt: The Delivery Lead Time field for a subcontractor, on the Purchase tab of a product page.

Product manufacturing lead time
-------------------------------

Next, navigate to the product's |BoM| by clicking the :guilabel:`Bill of Materials` smart button at
the top of the product's page. Then, select a |BoM| from the list.

On the |BoM|, select the :guilabel:`Miscellaneous` tab. In the :guilabel:`Manuf. Lead Time` field,
enter the same number of days that was entered in the :guilabel:`Delivery Lead Time` field of the
|BoM|'s product.

.. image:: resupply_subcontracting_lead_times/manufacturing-lead-time.png
   :align: center
   :alt: The Manuf. Lead Time field on a product's BoM.

While not all of these days are actually used for manufacturing by the subcontractor, setting the
same number of days in each field tells Odoo that the subcontractor must receive the components and
begin production by the start of the product's delivery lead time. This gives the subcontractor
enough time to both manufacture and deliver the product.

Resupply subcontracting workflow
--------------------------------

Create a request for quotation (RfQ) for the product by navigating to :menuselection:`Purchase app
--> Orders --> Requests for Quotation`, and clicking :guilabel:`New`.

Specify the subcontractor in :guilabel:`Vendor` field. Then, add the product in the
:guilabel:`Products` tab by clicking :guilabel:`Add a product`, selecting the product in the
:guilabel:`Product` column, and specifying a quantity in the :guilabel:`Quantity` column.

In the :guilabel:`Expected Arrival` field, enter a date that provides enough time for the
subcontractor to receive the components, manufacture the product, and deliver it back to the
subcontracting company.

.. important::
   When a product is added to an |RfQ|, the :guilabel:`Expected Arrival` field auto-populates with a
   date that is today's date plus the delivery lead time of the product. However, this does **not**
   consider the time it takes to ship the components to the subcontractor.

   When purchasing a product subcontracted using the Resupply Subcontractor on Order route, it is
   necessary to adjust this date to take into account the extra time needed for the components to be
   shipped to the subcontractor.

   Since production does not begin until they receive the components, leaving the date as is results
   in the finished product arriving *after* the date listed on the |RfQ|.

Next, click :guilabel:`Confirm Order` to turn the |RfQ| into a |PO|. Doing so causes a
:guilabel:`Resupply` smart button to appear at the top of the page.

Click the :guilabel:`Resupply` smart button to open the resupply subcontractor order, which is the
order created to send components to the subcontractor.

The :guilabel:`Deadline` field on the resupply subcontractor order shows the deadline for the
subcontractor to receive the components, in order for them to have enough time to manufacture and
deliver the finished product by the Expected Arrival date.

The :guilabel:`Scheduled Date` field should display the latest date on which components can be
shipped, while still arriving to the subcontractor by the :guilabel:`Deadline`. However, by default,
the date displayed is the same as the date in the :guilabel:`Deadline` field, and must be updated to
take into account the time required for shipping.

Click on the :guilabel:`Scheduled Date` field to open a calendar popover from which a date can be
selected. Select a date that allows for the components to be delivered by the :guilabel:`Deadline`
on the resupply subcontractor order.

After the components are shipped, click the :guilabel:`Validate` button at the top of the order to
confirm they have been sent to the subcontractor.

Once the subcontractor receives the components, they begin manufacturing the component, before
delivering it to the contracting company.

.. example::
   Bike retailer *Mike's Bikes* works with a subcontractor — *Bike Friends* — to produce units of
   their *Unicycle* product.

   Mike's Bikes must supply Bike Friends with the necessary components for manufacturing the
   unicycles.

   On average, Bike Friends takes three days to manufacture each unicycle, plus an additional two
   days to deliver it to Mike's Bikes.

   As a result, Mike's Bikes sets a delivery lead time of five days for unicycles manufactured by
   Bike Friends: three days for manufacturing, plus two days for delivery.

   On the unicycle's |BoM|, they enter a manufacturing lead time of five days, as well, to remind
   themselves of the date that components must be delivered to the subcontractor.

   They confirm a |PO| for one unicycle, with an expected arrival date of May 30th.

   The resupply subcontractor order for shipping the components to the subcontractor shows a
   *Deadline* of May 25th. The subcontractor must receive the components by this date, in order to
   have enough time to manufacture the unicycle, and deliver it by May 30th.

   It takes Mike's Bikes two days to deliver the components, so they update the *Scheduled Date*
   field on the resupply subcontractor order to May 23rd, two days before the Deadline.

   .. image:: resupply_subcontracting_lead_times/scheduled-deadline.png
      :align: center
      :alt: The Scheduled Date and Deadline fields on a resupply subcontractor order.

   Mike's Bikes ships the components to Bike Friends on the scheduled date of May 23rd, and they
   arrive on the deadline of May 25th. This gives Bike Friends enough time to manufacture the
   unicycle, and ship it back to Mike's Bikes by the expected arrival date of May 30th.


==================================================
SECTION: scrap_manufacturing.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/scrap_manufacturing.rst
==================================================

==========================
Scrap during manufacturing
==========================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

During the manufacturing process, scrapping components or finished products may be necessary when
items are damaged, defective, or no longer usable.

Tracking scrapped materials helps manufacturers monitor waste, identify process issues, and account
for production costs.

In Odoo, scrapped items are removed from physical inventory and moved to a virtual location called
*Virtual Locations/Scrap*. This location is not a physical space—it is a way to log and track losses
without affecting real stock levels.

.. seealso::
   :doc:`Location types <../../inventory/warehouses_storage/inventory_management>`

.. tip::
   Scrap orders can be viewed by navigating to :menuselection:`Inventory --> Operations --> Scrap`.
   Each scrap order shows the date and time the order was created, along with the product and
   quantity that was scrapped.

   To view the total quantity of each item scrapped, navigate to :menuselection:`Inventory -->
   Configuration --> Locations`, then remove the :guilabel:`Internal` filter from the
   :guilabel:`Search...` bar to display all virtual locations. From the list, select the
   :guilabel:`Virtual Locations/Scrap` location.

.. _manufacturing/management/scrap-window:

Navigate to the scrap window
============================

Scrapping can be done in either the **Manufacturing** app or the **Shop Floor** module, depending on
the task.

**Manufacturing** app allows:

- Scrapping finished products (only if the |MO| is in the *Done* stage).
- Scrapping components (while the |MO| is in the *Draft* or *Confirmed* stage).

**Shop Floor** allows:

- Scrapping only components.

Manufacturing app
-----------------

To scrap a product from the **Manufacturing** app, go to :menuselection:`Manufacturing -->
Operations --> Manufacturing Orders` and select the desired |MO|.

On the |MO|, click the :icon:`fa-cog` :guilabel:`(Actions)` icon, then choose :guilabel:`Scrap` from
the drop-down menu.

.. image:: scrap_manufacturing/cog.png
   :alt: MO with the cog's drop-down menu revealed, to show the Scrap option.

Shop Floor
----------

In **Shop Floor**, only components can be scrapped. Navigate to the desired |MO| card, and then tap
the :icon:`fa-cog` :guilabel:`(Actions)` icon and in the :guilabel:`What do you want to do?` pop-up
window, select :guilabel:`Scrap`.

.. image:: scrap_manufacturing/shop-floor.png
   :alt: Scrap pop-up window in the Shop Floor app.

Scrap pop-up window
===================

After opening the :guilabel:`Scrap Products` pop-up window using one of the methods :ref:`detailed
above <manufacturing/management/scrap-window>`, select the component or finished product being
scrapped, from the :guilabel:`Product` drop-down menu.

In the :guilabel:`Quantity` field, enter the quantity being scrapped.

By default, the :guilabel:`Source Location` field is set to the warehouse's pre-production location,
while the :guilabel:`Scrap Location` field is set to the :guilabel:`Virtual Locations/Scrap`
location. If either the source or scrap location should be changed, select a different location from
their respective drop-down menus.

Enable the :guilabel:`Replenish Scrapped Quantities` checkbox if a picking order should be created
to replace the scrapped component upon confirmation of the scrap order. This option should only be
enabled for warehouses with :doc:`two-step <../basic_setup/two_step_manufacturing>` or
:doc:`three-step <../basic_setup/three_step_manufacturing>` manufacturing enabled, since components
are not picked as part of the :doc:`one-step <../basic_setup/one_step_manufacturing>` manufacturing
process.

.. image:: scrap_manufacturing/scrap-window.png
   :alt: The Scrap pop-up window.

After filling out the :guilabel:`Scrap Products` pop-up window, click the :guilabel:`Scrap Products`
button. After one or more scrap orders have been created, a :guilabel:`Scraps` smart button appears
at the top of the screen. Click it to view a list of all scrap orders for the |MO|.


==================================================
SECTION: shop_floor.rst
PATH: applications/inventory_and_mrp/manufacturing/shop_floor.rst
==================================================

:nosearch:

==========
Shop Floor
==========

.. toctree::
   :titlesonly:

   shop_floor/shop_floor_overview
   shop_floor/shop_floor_tracking


==================================================
SECTION: shop_floor_overview.rst
PATH: applications/inventory_and_mrp/manufacturing/shop_floor/shop_floor_overview.rst
==================================================

===================
Shop Floor overview
===================

.. _manufacturing/shop_floor/shop_floor_overview:
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`

The *Shop Floor* module is a companion module to the *Manufacturing* app. *Shop Floor* provides a
visual interface for processing manufacturing orders (MOs) and work orders. It also allows
manufacturing employees to track the amount of time spent working on manufacturing and work orders.

The *Shop Floor* module is installed alongside the *Manufacturing* app. It cannot be installed by
itself. To install the *Manufacturing* app, navigate to :menuselection:`Apps`, search for
`manufacturing` in the :guilabel:`Search...` bar, and then click :guilabel:`Install` on the
:guilabel:`Manufacturing` app card.

.. important::
   The *Shop Floor* module replaces the tablet view functionality of the *Manufacturing* app, and is
   only available in Odoo versions 16.4 and later.

   To check the version number of an Odoo database, navigate to :menuselection:`Settings` and scroll
   down to the :guilabel:`About` section at the bottom of the page. The version number is displayed
   there.

   To switch to a newer version of Odoo, see the documentation on :doc:`upgrading a database
   <../../../../administration/upgrade>`.

Navigation
==========

*Shop Floor* is broken down into three main views, which can be selected from the navigation bar at
the top of the module:

- The :guilabel:`All` page serves as the main dashboard for the module, and displays information
  cards for |MOs|.
- Each work center also has a dedicated page, which shows information cards for work orders assigned
  to that work center. Work center pages can be toggled on or off by clicking the :guilabel:`+
  (plus)` button in the navigation bar, selecting or deselecting them on the pop-up window that
  appears, and then clicking :guilabel:`Confirm`.
- The :guilabel:`My` page shows information cards for all work orders assigned to the employee whose
  profile is currently active in the operator panel on the left side of the module. Other than only
  showing work orders assigned to the active employee, this page functions the same as the pages for
  each work center.

.. tip::
   To isolate an |MO| or work order, so that no other orders appear, simply search the reference
   number of the |MO| in the :guilabel:`Search...` bar at the top of the module. This search filter
   remains active while switching between the different module views.

On the left side of the module is the operator panel, which shows all of the employees currently
signed in to *Shop Floor*, and allows new employees to sign in. The operator panel is always
available in the module, regardless of which view is selected. It can be toggled on or off by
clicking the :guilabel:`sidebar` button at the extreme left of the navigation bar.

.. image:: shop_floor_overview/sidebar-button.png
   :align: center
   :alt: The "sidebar" button, which is used to toggle the operator panel on or off.

All page
--------

By default, the :guilabel:`All` page shows an information card for every |MO| that is *ready to
start*. An |MO| is considered ready to start once it has been confirmed, and all required components
are available.

To view every confirmed |MO| regardless of readiness, click the :guilabel:`x` button on the
:guilabel:`Ready to Start` filter to remove it from the :guilabel:`Search...` bar.

MO information card
~~~~~~~~~~~~~~~~~~~

An |MO| information card on the :guilabel:`All` page shows all of the relevant details of the
associated |MO|, and also provides employees with options for processing the |MO|.

The header for an |MO| card shows the |MO| number, the product and number of units being produced,
and the status of the |MO|. If work has not yet begun on the |MO|, the status appears as
:guilabel:`Confirmed`. Once work has begun, the status updates to :guilabel:`In Progress`. If all
work orders for an |MO| have been completed and the |MO| is ready to close, the status updates to
:guilabel:`To Close`.

The main body of an |MO| card shows a line for each completed work order, if any, followed by the
current work order that needs to be completed. Completed work orders are indicated by a green check
mark to the right of title of the work order. The current work order is indicated by a button that
opens the page for the work center to which the order is assigned.

Below the current work order is a line titled :guilabel:`Register Production`, which is used to
record the number of product units produced. To manually enter the number of units produced, click
on the :guilabel:`Register Production` line, enter a value in the :guilabel:`Units` field of the
resulting pop-up window, then click :guilabel:`Validate`.

Alternatively, click the :guilabel:`# Units` button on the right side of the line, which
automatically records the number of units the |MO| was created for as the number of units produced.
For example, if an |MO| is created for 10 units of a dining table, clicking the :guilabel:`10 units`
button records that 10 units were produced.

The footer of the |MO| card displays a :guilabel:`Close Production` button. This is used to close
the |MO| once production is completed. However, if there are any quality checks required for the
|MO| as a whole (not the work orders within it), a :guilabel:`Quality Checks` button appears
instead. Clicking :guilabel:`Quality Checks` opens a pop-up window, from which any required quality
checks can be completed.

After clicking :guilabel:`Close Production`, the |MO| card begins to fade away, and an
:guilabel:`Undo` button appears on the footer. Clicking :guilabel:`Undo` causes the |MO| to remain
open. Once the |MO| card disappears completely, the work order is closed.

On the right side of the footer is an :guilabel:`⋮ (options)` button, which opens a pop-up window
with additional options for the |MO|:

- :guilabel:`Scrap` is used to send components to a scrap location when they are found to be
  defective.
- :guilabel:`Add Work Order` is used to add an additional work order to the |MO|.
- :guilabel:`Add Component` is used to add an additional component to the |MO|.
- :guilabel:`Open Backend MO` opens the |MO| in the Manufacturing app.

.. image:: shop_floor_overview/mo-card.png
   :align: center
   :alt: An information card for an MO on the "All" page of the Shop Floor module.

Work center pages
-----------------

By default, the page for each work center shows an information card for every work order assigned to
it that is *ready to start*. A work order is considered ready to start once the |MO| it is a part of
is ready to start, and any preceding work orders have been completed.

To view every confirmed work order assigned to a work center regardless of readiness, click the
:guilabel:`x` button on the :guilabel:`Ready to Start` filter to remove it from the
:guilabel:`Search...` bar.

Work order information card
~~~~~~~~~~~~~~~~~~~~~~~~~~~

A work order information card on a work center's page shows all of the relevant details of the
associated work order, and also provides employees with options for processing the work order.

The header for a work order card shows the reference number of the |MO| that the work order is a
part of, the product and number of units being produced, and the status of the work order. If work
has not yet begun on the work order, the status appears as :guilabel:`To Do`. Once work has begun,
the status updates to display a timer showing the total time the work order has been worked on.

The main body of a work order card shows a line for each step required to complete the work order.
Work order steps can be completed by clicking on the line, then following the instructions on the
pop-up window that appears. Alternatively, clicking the checkbox on the right side of each line
automatically marks the step as completed.

Below the final step of the work order is a line titled :guilabel:`Register Production`, which
functions the same as the :guilabel:`Register Production` line on an |MO| card. Registering the
number of units produced using the :guilabel:`Register Production` line on a work order card also
completes the step for the associated |MO| card.

If the work order being processed is the final work order for the |MO|, a :guilabel:`Close
Production` button appears on the footer of the work order card. Clicking :guilabel:`Close
Production` closes both the work order and the |MO|, unless a quality check is required for the
|MO|. In this case, the quality check must be completed from the |MO| card before the |MO| can be
closed.

Alternatively, if the |MO| requires the completion of additional work orders, a :guilabel:`Mark as
Done` button appears instead. Clicking :guilabel:`Mark as Done` marks the current work order as
completed, and causes the next work order to appear on the page for the work center it is assigned
to.

After clicking :guilabel:`Close Production` or :guilabel:`Mark as Done`, the work order card begins
to fade away, and an :guilabel:`Undo` button appears on the footer. Clicking :guilabel:`Undo` causes
the work order to remain open. Once the work order card disappears completely, the work order is
marked as :guilabel:`Finished` on the |MO|.

On the right side of the footer is an :guilabel:`⋮ (options)` button, which opens a pop-up window
with additional options for the work order:

- :guilabel:`Scrap` is used to send components to a scrap location when they are found to be
  defective.
- :guilabel:`Add Component` is used to add an additional component to the |MO|.
- :guilabel:`Move to work center` is used to transfer the work order to a different work center.
- :guilabel:`Suggest a Worksheet improvement` allows the user to propose a change to the work
  order's instructions or steps.
- :guilabel:`Create a Quality Alert` opens a quality alert form that can be filled out to alert a
  quality team about a potential issue.

.. image:: shop_floor_overview/wo-card.png
   :align: center
   :alt: An information card for a work order in the Shop Floor module.

Operator panel
--------------

The operator panel is used to manage the employees that are signed in to the *Shop Floor* module.
The panel shows the name and profile picture of every employee that is currently signed in across
all instances of the database.

To interact with *Shop Floor* as a specific employee, click the employee's name to activate their
profile. Profiles that are not active appear with their names and profile pictures greyed-out.

When an employee is selected in the operator panel, they can begin working on a work order by
clicking the work order's heading. If an employee is working on one or more work orders, the work
order title(s) appear under their name, along with a timer showing how long they've been working on
each order.

To add a new employee to the operator panel, click the :guilabel:`+ Add Operator` button at the
bottom of the panel. Then, select an employee from the :guilabel:`Select Employee` pop-up window.

To remove an employee from the operator panel, simply click the :guilabel:`x` button next to their
name in the panel.

.. image:: shop_floor_overview/operator-panel.png
   :align: center
   :alt: The operator panel of the Shop Floor module, showing three employees signed in.

MO/WO prioritization
====================

The **Shop Floor** module uses the *scheduled date* entered on |MOs| to prioritize the |MOs| and
work orders that appear on the module's dashboard and work center pages. |MOs| and work orders
scheduled sooner are more highly prioritized, and appear before orders which are scheduled further
out.

To specify the scheduled date on an |MO|, begin by navigating to :menuselection:`Manufacturing app
--> Operations --> Manufacturing Orders`, and click :guilabel:`New` to create a new |MO|.

Click on the :guilabel:`Scheduled Date` field to open a calendar popover window. By default, the
:guilabel:`Scheduled Date` field, and its corresponding pop-up window, show the current date and
time.

Use the calendar to select the date on which processing should begin for the |MO|. In the two fields
at the bottom of the popover window, enter the hour and minute at which processing should begin,
using the 24-hour clock format.

Finally, click :guilabel:`Apply` at the bottom of the popover window to set the date and time for
the :guilabel:`Scheduled Date` field. Then, click the :guilabel:`Confirm` button at the top of the
|MO| to confirm it.

Once the |MO| is confirmed, it appears in the **Shop Floor** module, as long is it has the
:guilabel:`Ready` status, which means all components are available.

On the Odoo dashboard, click on the :menuselection:`Shop Floor` module to open it. The
:guilabel:`All MO #` page of the dashboard displays *Ready* |MOs|, organized in order of their
scheduled dates.

At the top of the module, select a work center to see the work orders assigned to it. The page for
each work center organizes work orders, based on the scheduled dates of their corresponding |MOs|.

.. example::
   Three |MOs| are confirmed for a *Bookcase* product:

   - WH/MO/00411 has a :guilabel:`Scheduled Date` of August 16th.
   - WH/MO/00412 has a :guilabel:`Scheduled Date` of August 20th.
   - WH/MO/00413 has a :guilabel:`Scheduled Date` of August 18th.

   On the :guilabel:`All MO #` page of the **Shop Floor** module, the cards for each |MO| appear in
   this order: WH/MO/00411, WH/MO/00413, WH/MO/00412.

   .. image:: shop_floor_overview/mo-order.png
      :align: center
      :alt: MOs in the Shop Floor module, ordered by their scheduled date.

   Each |MO| requires one work order, carried out at :guilabel:`Assembly Station 1`. Clicking on the
   :guilabel:`Assembly Station 1` button at the top of the screen opens the page for the work
   center, which displays one card for each work order, appearing in the same order as their
   corresponding |MOs|.


==================================================
SECTION: shop_floor_tracking.rst
PATH: applications/inventory_and_mrp/manufacturing/shop_floor/shop_floor_tracking.rst
==================================================

========================
Shop Floor time tracking
========================

.. |MO| replace:: :abbr:`MO (Manufacturing Order)`
.. |MOs| replace:: :abbr:`MOs (Manufacturing Orders)`

By signing in to the Odoo *Shop Floor* module as *operators*, employees are able to track the amount
of time they spend working on each work order.

Odoo tracks the time it takes to complete each work order, as well as the time each operator spends
on each work order.

Operator sign in
================

To sign in to the *Shop Floor* module as an operator, sign in to the Odoo database, and open the
:menuselection:`Shop Floor` module. The employee profile that is signed in to the database is
automatically signed in as an operator.

All active operators are listed in the operator panel on the left side of the module. The panel can
be opened or collapsed by clicking the :guilabel:`show/hide panel (white square with black column on
left side)` button, located in the top-left corner of the module.

.. image:: shop_floor_tracking/operator-panel.png
   :align: center
   :alt: The operator panel in the Shop Floor module, with the show/hide panel button above it.

To sign in to *Shop Floor* as a different employee, click the :guilabel:`+ Add Operator` button at
the bottom of the panel. Doing so opens the :guilabel:`Select Employee` pop-up window, which lists
every employee that is able to sign in to the module.

Click on a specific employee to sign in using their profile. If no PIN code is required to sign in
as that employee, the profile will be signed in automatically.

If a PIN code is required, a :guilabel:`Password?` pop-up window appears, showing a number pad, from
which the code can be entered. Enter the code using the number pad, and click :guilabel:`Confirm` to
sign in to the *Shop Floor* module.

.. image:: shop_floor_tracking/pin-code.png
   :align: center
   :alt: The "Password?" pop-up window, which is used to enter an operator PIN code.

.. note::
   A PIN code can be set for each employee, which must be entered each time they sign in to the
   *Shop Floor* module, check in or out in the *Kiosk Mode* of the *Attendances* application, or
   sign in as a cashier in the *Point of Sale* application.

   To set an employee PIN, navigate to the :menuselection:`Employees` app, and select a specific
   employee. At the bottom of the employee's form, click on the :guilabel:`HR Settings` tab, and
   enter a numerical code in the :guilabel:`PIN Code` field.

Once an employee is signed in to the module, their name appears in the operator panel, along with
every other employee that has signed in. While the panel can list multiple employees, only one
employee can be active at any given time, on a single instance of the *Shop Floor* module.

Click on an employee's name to make their profile active. The active employee appears highlighted
in blue, while employees that are signed in, but not active, have their names faded out.

To sign out a specific employee from the module, click the :guilabel:`X (remove)` button next to
their name, in the operator panel.

Track work order duration
=========================

To track time spent working on a work order, begin by selecting the employee working on it from the
operator panel.

Next, navigate to the page for the work center where the work order is scheduled to be carried out.
This can be done by selecting the work center from the top navigation in the *Shop Floor* module, or
by clicking the name of the work center on the card for the manufacturing order (MO) that the work
order is a part of.

On the page for the work center, find the card for the work order. Once work begins, click the
header of the work order card to start timing the duration it takes to complete. This duration is
displayed by a timer on the header of the work order card, which tracks the collective time spent
working on the work order, by all employees.

.. image:: shop_floor_tracking/work-order-timer.png
   :align: center
   :alt: A work order card with an active timer.

In addition, the reference number of the work order appears in the operator panel, under the name of
the employee working on it, along with a second timer, which tracks the amount of time the employee
has spent on the work order individually. This timer only reflects work done during the current
session, even if the employee has previously worked on the work order.

Employees are able to work on multiple work orders simultaneously, and track their time for each.
The reference number for each work order being worked on appears below the employee's name, along
with a timer.

.. image:: shop_floor_tracking/employee-timer.png
   :align: center
   :alt: An employee card in the operator panel, showing two work order timers.

To pause the timer on the work order card, and remove the work order from below the employee's name
on the operator panel, click the header a second time.

Once the work order is completed, click the :guilabel:`Mark as Done` button at the bottom of the
work order card, which causes the card to fade away. If the timer is still active, it stops once the
card disappears completely.

View work order duration
========================

To view the duration of a work order, navigate to :menuselection:`Manufacturing app --> Operations
--> Manufacturing Orders`, and select an |MO|.

To view and select |MOs| that have been completed and marked as *Done*, remove the :guilabel:`To Do`
filter from the :guilabel:`Search...` bar, by clicking on the :guilabel:`X (close)` button on the
right side of the filter.

On the page for the |MO|, click on the :guilabel:`Work Orders` tab to see a list of all work orders
included in the |MO|. The time it took to complete each work order is displayed in the
:guilabel:`Real Duration` column of the tab.

The *Real Duration* represents the total time spent working on the work order by all workers who
worked on it. It includes time tracked in the *Shop Floor* module, as well as time tracked on the
:guilabel:`Work Orders` tab of the |MO| itself.


==================================================
SECTION: split_merge.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/split_merge.rst
==================================================

====================================
Split and merge manufacturing orders
====================================

In Odoo *Manufacturing*, it is possible to create manufacturing orders for a single unit of an item,
or multiple units of the same item. In some cases, it may be necessary to split a manufacturing
order that contains multiple units into two or more orders, or to merge two or more orders into a
single order.

.. important::
   A manufacturing order can only contain one unit of a product, or multiple units of a single
   product that all use the same Bill of Materials (BoM). As a result, it is only possible to merge
   manufacturing orders when every order contains the same product being manufactured with the same
   BoM.

Split manufacturing orders
==========================

To split a manufacturing order into multiple orders, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, then select a manufacturing
order. At the top of the page, next to the :guilabel:`New` button, the manufacturing order's
reference number appears with a :guilabel:`⚙️ (settings)` button next to it.

Click the :guilabel:`⚙️ (settings)` button to open the general settings for the manufacturing order,
then select :guilabel:`Split`.

.. image:: split_merge/settings-split.png
   :align: center
   :alt: The Settings and Split buttons on a manufacturing order.

After selecting :guilabel:`Split`, a :guilabel:`Split production` pop-up window appears. In the
:guilabel:`Split #` field, enter the number of manufacturing orders that the original order should
be split into, then click outside of the field. A table appears below, with a line for each new
manufacturing order that will be created by the split. In the :guilabel:`Quantity To Produce`
column, enter the number of units that will be assigned to each new manufacturing order. Finally,
click :guilabel:`Split` to split the manufacturing order.

.. image:: split_merge/split-production-window.png
   :align: center
   :alt: The Split production pop-up window for a manufacturing order.

After clicking :guilabel:`Split`, the original manufacturing order is split into the number of
orders that was specified in the :guilabel:`Split #` field. The reference numbers for the new
manufacturing orders are the reference number for the original order with *-###* tags added to the
end.

.. example::
   Manufacturing order *WH/MO/00012* is split into three separate orders. The reference numbers for
   the new orders are *WH/MO/00012-001*, *WH/MO/00012-002*, and *WH/MO/00012-003*.

Merge manufacturing orders
==========================

To merge two or more manufacturing orders into a single order, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`. Select the manufacturing
orders that will be merged by activating the checkbox to the left of the name of each order.

.. image:: split_merge/select-orders.png
   :align: center
   :alt: Select manufacturing orders that will be merged by clicking the checkbox for each.

Once all manufacturing orders have been selected, click the :guilabel:`Actions` button at the top of
the page, then select :guilabel:`Merge` from the drop-down menu.

.. image:: split_merge/actions-merge.png
   :align: center
   :alt: The Actions and Merge buttons on the Manufacturing Orders page.

The selected manufacturing orders are merged into a single order. The reference number for the new
manufacturing order is the next sequential number that has *not* already been assigned to an order.

.. example::
   The last reference number used for a manufacturing order was *WH/MO/00012*. Two manufacturing
   orders, *WH/MO/00008* and *WH/MO/00009*, are merged into a single order. The reference number for
   the manufacturing order created by the merger is *WH/MO/00013*.

In the :guilabel:`Source` field for the manufacturing order created by the merger, the reference
numbers of the manufacturing orders that were merged are listed.

.. example::
   Manufacturing orders *WH/MO/00009* and *WH/MO/00010* are merged to create *WH/MO/00011*. The
   source field for *WH/MO/00011* lists both *WH/MO/00009* and *WH/MO/00010*.


==================================================
SECTION: sub_assemblies.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration/sub_assemblies.rst
==================================================

===============
Multilevel BoMs
===============

.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`
.. |BOMs| replace:: :abbr:`BoMs (Bills of Materials)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

Use a multilevel bill of materials (BoM) when a manufactured product is part of another assembly.
This method nests |BOMs| within other |BOMs|, organizing complex products while simplifying
manufacturing by defining each procurement and production step separately.

Sublevel |BOMs| (subassemblies or semifinished products) streamline these production workflows, and
are beneficial when the subassembly is used across multiple finished products (meaning they'd appear
on multiple top-level |BOMs|). The more complicated a product is to build or procure, the more value
a multilevel |BOM| can provide. Because of this, component and subassembly replenishment planning is
vital to ensuring multilevel |BOMs| run smoothly.

Why replenishment planning is important
=======================================

:doc:`Replenishment <../../inventory/warehouses_storage/replenishment>` is critical for multilevel
BoMs to prevent bottlenecks, manage lead times, and optimize inventory. Without it, missing
components can halt production, delay orders, and increase costs. A well-planned replenishment
strategy ensures :doc:`just-in-time availability
<../../inventory/warehouses_storage/replenishment/reordering_rules>`, :doc:`automates procurement
<../../inventory/warehouses_storage/replenishment/reordering_rules>`, balances stock levels, and
keeps supply chains efficient. This minimizes delays, reduces manual effort, and ensures smooth
manufacturing.

Manufacturing orders (MO)s that come from a |BOM| require all components to be available before the
|MO| can be completed. The :guilabel:`Component Status` for that |MO| provides this information.
Learn how to :doc:`check an MO's component status <../basic_setup/bill_configuration>`.

.. _manufactuing/advanced/create-multilevel-bom:

Create a multilevel BoM
=======================

To set up a multilevel |BOM|, the top-level product and sublevel products's |BOMs| must be created.
If starting from scratch, build the |BOMs| from the bottom up. Start with the lowest-level product
|BOMs|, then include those products as components in higher-level |BOMs|.

.. example::
   A printed circuit board (PCB) for a custom keyboard is composed of hundreds of electronic
   components, such as transistors, resistors, and capacitors. Instead of listing all of those
   components out, a sublevel product and |BOM| for a `PCB` is created, to track the quantities of
   transistors and other small components, without needing to overcrowd the top-level |BOM| for the
   custom keyboard by listing them. Instead, the custom keyboard's |BOM| consists of an assortment
   of components and sublevel |BOMs| alike, like key caps, switches, the PCB, and keyboard plate.

:doc:`Learn how to build a simple bill of materials <../basic_setup/bill_configuration>`. For the
PCB, this would include the transistors, resistors, and other components.

.. image:: sub_assemblies/sublevel-bom.png
   :alt: A bill of materials for a PCB.

After the sublevel products (like the PCB, key caps, and keyboard plate) are fully configured,
create the top-level product by navigating to :menuselection:`Manufacturing app --> Products -->
Products`, and then selecting :guilabel:`New`. From here, configure the product's specifications as
needed.

Once the top-level product (the keyboard) is configured, click the :guilabel:`Bill of Materials`
smart button on the product form, and then select :guilabel:`New` to make a |BOM| for the top-level
product. Add the sublevel products to this |BOM|, along with any other necessary components.

.. image:: sub_assemblies/top-level-bom.png
   :alt: A bill of materials for a keyboard, containing a bill of materials for a PCB.

Manage production planning
==========================

The two options below are two of the best ways to manage manufacturing order automation for products
with multilevel |BOMs|.

.. note::
   Complex |BOMs| are specifically used to manage products that require manufactured components. If
   a BoM is being created to organize components or bundle sellable products, :doc:`use a kit
   <kit_shipping>` instead.

To automatically trigger manufacturing orders for sublevel products after confirming a manufacturing
order for the main product, there are two options:

- **Option 1 (recommended):** Create *Reordering Rules* for the sublevel products and set both the
  minimum and maximum needed stock quantities to `0`.
- **Option 2:** Activate the :guilabel:`Replenish on Order (MTO)` and :guilabel:`Manufacture` routes
  under the :guilabel:`Inventory` tab of the sublevel product's product form.

.. seealso::
   - :doc:`../../inventory/warehouses_storage/replenishment/reordering_rules`
   - :doc:`../../inventory/warehouses_storage/replenishment/mto`

Option 1 is more flexible than Option 2 and is recommended. Reordering rules do not directly link
demand to replenishment, allowing stock to be unreserved and reassigned as needed. The Replenish on
Order (MTO) route, however, uniquely links sublevel and top-level products, reserving quantities for
the confirmed top-level manufacturing order.

In both methods, sublevel products must be fully manufactured before starting the top-level product.

Multilevel BoM setup flow
=========================

The following section details how to set up multilevel BoMs, set the initial inventory, establish a
:ref:`0/0/1 reordering rule <manufacturing/advanced/procurement-method>` (the recommended production
plan), configure lead times, and set up production options.

Creating a 0/0/1 reordering rule for the sublevel products (minimum stock set at zero, maximum stock
set at zero, reorder one automatically) regardless of whether they are a component or subassembly is
the recommended approach for managing a multilevel |BOM|. This setup uses the **Inventory**,
**Manufacturing**, and **Purchase** apps.

.. important::
   This is only one example of how to set up a multilevel |BOM| in Odoo. Consider any unique
   circumstances that need to be addressed during the configuration, and make sure they are included
   in the setup. If any specific help is needed during setup, consider purchasing a `success pack
   <https://www.odoo.com/pricing-packs>`_.

Create the BoMs
---------------

Follow the steps in the :ref:`Create a multilevel BoM <manufactuing/advanced/create-multilevel-bom>`
section to build the |BOMs|.

Make sure to build the multilevel |BOM| from the bottom up. Start by creating the lowest-level
component products in Odoo, then the subassembly products that those are used for, then the |BOM|
for that subassembly, and repeat until every level of the multilevel |BOM| is created.

Set the initial inventory
-------------------------

.. note::
   If there's no initial inventory to configure, then skip this section and begin configuring the
   procurement method for the multilevel |BOM|.

Update the quantity on hand for each of the products configured in the prior step (both components,
subassemblies, and the final product). To do this, open the **Inventory** app, and then find the
products with filters, the search bar, or scrolling, and then click on them to open their product
form. From here, click the :guilabel:`On Hand` smart button, :doc:`select the variant
<../../../sales/sales/products_prices/products/variants>` if that was configured, and then enter the
quantity on hand.

.. seealso::
   :doc:`../../inventory/warehouses_storage/inventory_management/count_products`

.. _manufacturing/advanced/procurement-method:

Configure the procurement method
--------------------------------

Now it is time to pick the procurement method this multilevel |BOM| uses. The two options below are
preferred, but unique circumstances may lead to another procurement method making more sense.

- **Option 1 (recommended):** Create *Reordering Rules* for the sublevel products and set both the
  minimum and maximum needed stock quantities to `0`.
- **Option 2:** Activate the :guilabel:`Replenish on Order (MTO)` and :guilabel:`Manufacture` routes
  under the :guilabel:`Inventory` tab of the sublevel product's product form.

.. seealso::
   - :doc:`../../inventory/warehouses_storage/replenishment/reordering_rules`
   - :doc:`../../inventory/warehouses_storage/replenishment/mto`

Reordering rules are recommended because they do not tie the manufactured product to a specific
sales order, allowing that manufactured product to fulfill a different sales order if the original
gets cancelled.

Making the product to order is not recommended because the manufactured product cannot be used to
fulfill another sales order. However, this could be helpful if strict tracking is necessary for the
business.

Enter vendor and manufacturing lead times
-----------------------------------------

Vendor and manufacturing lead times are used by Odoo to coordinate production and procurement
actions to fulfill orders on time. Set vendor lead times for components that are purchased. These
can appear at any level in a multilevel |BOM| except the final product. Set manufacturing lead times
for products that are built using a |BOM|. These can appear at any level in a multilevel |BOM|
except the lowest level (when individual components are procured).

.. seealso::
   :doc:`../../inventory/warehouses_storage/replenishment/lead_times`

Build out operations to handle the production flow
--------------------------------------------------

First, determine the current manufacturing flow for the business, then match the corresponding Odoo
setup. The list below are only some of the configuration pieces that could be involved in this step.

- **Manufacturing Steps**: Consider how many manufacturing steps are taken (one-, two-, or
  three-step manufacturing).
- **Work Centers**: Decide if any :doc:`work centers <using_work_centers>` need to be configured.
- **Master Production Schedule**: If manually planned manufacturing orders are needed (e.g., to
  handle seasonal demand), make a :doc:`master production schedule <../workflows/use_mps>` (MPS).

.. tip::
   Manufacturing operations is an art and a science, so configuring an established flow into Odoo is
   the recommended approach for this step. Read more about :doc:`manufacturing in Odoo
   <../../manufacturing>`

Configuration summary
---------------------

At the end of this process, the multilevel |BOM| is configured, and the top-level product has its
inventory counts, procurement method set, procurement lead times, and manufacturing operations
configured. From here, sales orders can include the top-level product, automatic procurement through
vendors or manufacturing can begin, the top-level product can be included in an **eCommerce** store.

.. seealso::
   - :doc:`../../../sales/sales/sales_quotations/create_quotations`
   - :doc:`../../../websites/ecommerce/products/catalog`


==================================================
SECTION: subcontracting.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting.rst
==================================================

:show-content:

==============
Subcontracting
==============

.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In manufacturing, *subcontracting* is the process of a company engaging a third-party manufacturer,
or subcontractor, to manufacture products that are then sold by the contracting company.

Subcontracting provides a variety of benefits for both the contracting company and the
subcontractor.

For the contracting company, subcontracting allows them to sell a wide variety of manufactured
products, without having to worry about investing in and maintaining the equipment and labor
required to handle the manufacturing themselves.

This helps contracting companies stay flexible throughout economic cycles, as they can easily
increase or decrease their engagements with subcontractors, as necessitated by the current moment.
It also means they are able to focus on tasks they excel at, while delegating more specialized work
to subcontractors.

On the other side of the relationship, subcontracting allows subcontractors to specialize in more
niche areas of production, which might not be as profitable outside the bounds of a subcontracting
engagement. In certain arrangements, it also provides them with the flexibility to choose which
projects they accept or decline, and how many they work on at any given time.

In Odoo, companies can configure their subcontracting workflows based on a variety of different
factors, including how components are sourced, and what happens to finished products once they are
manufactured.

.. cards::

   .. card:: Basic subcontracting
      :target: subcontracting/subcontracting_basic

      Subcontract products without supplying the subcontractor with components.

   .. card:: Resupply subcontractor
      :target: subcontracting/subcontracting_resupply

      Ship components to a subcontractor each time a PO for a subcontracted product is confirmed.

   .. card:: Dropship to subcontractor
      :target: subcontracting/subcontracting_dropship

      Dropship components to a subcontractor each time a PO for a subcontracted product is
      confirmed.

Configuration
=============

To enable subcontracting in Odoo, navigate to :menuselection:`Manufacturing app --> Configuration
--> Settings`, and tick the checkbox next to the :guilabel:`Subcontracting` setting, under the
:guilabel:`Operations` heading. Then, click :guilabel:`Save`.

.. image:: subcontracting/subcontracting-setting.png
   :align: center
   :alt: The Subcontracting setting in the manufacturing app.

With subcontracting enabled, a few different features become available in Odoo:

- On bills of materials (BoMs), the *BoM Type* field now includes a *Subcontracting* option.
  Enabling the *Subcontracting* |BoM| type designates the |BoM|'s product as a subcontracted
  product, which means Odoo knows that it is produced by a subcontractor, and not by the company
  that owns the Odoo database.
- Two subcontracting routes become available in the *Inventory* app, and can be assigned to specific
  products, on the *Inventory* tab of their product pages:

  - *Resupply Subcontractor on Order*
  - *Dropship Subcontractor on Order*

Subcontracting workflows
========================

In Odoo, there are three subcontracting workflows, the main difference between them being *how* the
subcontractor obtains the necessary components:

- In the *basic* subcontracting workflow, the subcontractor is fully responsible for obtaining the
  components. This workflow is outlined in the :doc:`subcontracting/subcontracting_basic`
  documentation.
- In the *Resupply Subcontractor on Order* workflow, the contracting company sends the components
  from their warehouse to the subcontractor. This workflow is outlined in the
  :doc:`subcontracting/subcontracting_resupply` documentation.
- In the *Dropship Subcontractor on Order* workflow, the contracting company purchases the
  components from a vendor, and has them delivered directly to the subcontractor. This workflow is
  outlined in the :doc:`subcontracting/subcontracting_dropship` documentation.

In addition to how a subcontractor obtains components, it is also necessary to consider why a
product is being subcontracted, as well as what happens to products once they are manufactured by
the subcontractor.

In terms of why a product is being subcontracted, the two main reasons are to fulfill a customer
order, or to replenish the quantity of stock on-hand.

In terms of what happens to products once they are manufactured, they can either be shipped to the
contracting company, or dropshipped directly to an end customer.

Each of the three subcontracting workflows described above can be configured to facilitate any of
these possibilities, and the methods for doing so are outlined in their respective documentation.

Subcontracted product valuation
===============================

The valuation of a subcontracted product depends upon a few different variables:

- The cost of the required components, if provided by the contracting company; from here on referred
  to as `C`.
- The price paid to the subcontractor for the service of manufacturing the subcontracted product;
  from here on referred to as `M`.
- The cost of shipping components to the subcontractor, and having them shipped back to the
  contracting company; from here on referred to as `S`.
- The cost of dropshipping, if the components are shipped by the subcontractor to the end customer;
  from here on referred to as `D`.
- Any other associated costs, like import taxes, etc.; from here on referred to as `x`.

Therefore, the total valuation of a subcontracted product (`P`) can be represented by the following
equation:

.. math::
   P = C + M + S + D + x

It is important to note that not every subcontracted product valuation will include all of these
variables. For example, if the product is not dropshipped to the end customer, then there is no need
to factor in the cost of dropshipping.

.. toctree::

   subcontracting/subcontracting_basic
   subcontracting/basic_subcontracting_lead_times
   subcontracting/subcontracting_resupply
   subcontracting/resupply_subcontracting_lead_times
   subcontracting/subcontracting_dropship
   subcontracting/dropship_subcontracting_lead_times


==================================================
SECTION: subcontracting_basic.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/subcontracting_basic.rst
==================================================

====================
Basic subcontracting
====================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In manufacturing, subcontracting is the process of a company engaging a third-party manufacturer, or
subcontractor, to manufacture products that are then sold by the contracting company.

In basic subcontracting, the subcontractor is responsible for acquiring the necessary components.
This means that the contracting company only has to worry about what happens to subcontracted
products once they are produced.

The workflow for purchasing a product manufactured using basic subcontracting is similar to the one
used when purchasing a non-subcontracted product from a vendor. The main differences are the way
that subcontracted products are configured, and the fact that subcontracted products take longer to
be sent from the vendor, since they must first be manufactured by them.

Configuration
=============

To use subcontracting in Odoo, navigate to :menuselection:`Manufacturing app --> Configuration -->
Settings`, and tick the checkbox next to the :guilabel:`Subcontracting` setting, under the
:guilabel:`Operations` heading. Then, click :guilabel:`Save`.

Once the :guilabel:`Subcontracting` setting is enabled, it is also necessary to properly configure
the subcontracted product, and the product's |BoM|.

.. _manufacturing/workflows/subcontracting_basic/product-config:

Configure product
-----------------

To configure a product for basic subcontracting, navigate to :menuselection:`Inventory app -->
Products --> Products`, and select a product, or create a new one by clicking :guilabel:`New`.

On the product form, select the :guilabel:`Purchase` tab, and add the product's subcontractor as a
vendor by clicking :guilabel:`Add a line`, selecting the subcontractor in the :guilabel:`Vendor`
drop-down menu, and entering a price in the :guilabel:`Price` field.

Then, click on the :guilabel:`Inventory` tab, and use the :guilabel:`Routes` field to configure a
route that determines what happens to the finished product once it has been manufactured by the
subcontractor.

If the finished product is shipped back to the contracting company, make sure the :guilabel:`Buy`
route is selected. In addition, select the :guilabel:`Replenish on Order (MTO)` route to
automatically create a |PO| for the product upon confirmation of a sales order (SO), unless there is
enough stock on-hand to fulfill the |SO|.

If the finished product is shipped directly to the customer by the subcontractor, make sure that
**only** the :guilabel:`Dropship` route is selected.

Configure BoM
-------------

To configure a |BoM| for basic subcontracting, click the :guilabel:`Bill of Materials` smart button
on the product form, and select the desired |BoM|.

Alternatively, navigate to :menuselection:`Manufacturing app --> Products --> Bills of Materials`,
and select the |BoM| for the subcontracted product.

.. seealso::
   For a full overview of |BoM| configuration, see the :doc:`Bill of materials
   <../basic_setup/bill_configuration>` documentation.

In the :guilabel:`BoM Type` field, select the :guilabel:`Subcontracting` option. Then, add one or
more subcontractors in the :guilabel:`Subcontractors` field that appears below.

.. image:: subcontracting_basic/bom-type.png
   :align: center
   :alt: The "BoM Type" field on a BoM, configured to manufacture the product using subcontracting.

Finally, click on the :guilabel:`Miscellaneous` tab. In the :guilabel:`Manuf. Lead Time` field,
enter the number of days it takes the subcontractor to manufacture the product. This number is
factored in when calculating the product's expected arrival date.

.. note::
   When using basic subcontracting, there is no need to list components in the
   :guilabel:`Components` tab of the |BoM|, since the components required for manufacturing, and the
   means by which they are acquired, are handled by the subcontractor.

Basic subcontracting workflow
=============================

The basic subcontracting workflow consists of up to four steps:

#. Create a sales order (SO) for the subcontracted product; doing so creates a |PO| to purchase the
   product from the subcontractor.
#. Confirm the |PO| created in the previous step, or create a new |PO|; doing so creates a receipt
   order or a dropship order.
#. Process the receipt once the subcontractor has finished manufacturing the subcontracted product,
   and shipped it back to the contracting company, **OR** process the dropship order to ship the
   product directly to the customer.
#. If the workflow was started by creating an |SO|, and the finished product is not dropshipped to
   the end customer, process the delivery order once the product is shipped to the customer.

The specific number of steps depends on the reason that the subcontracted product is being purchased
from the subcontractor.

If the reason is to fulfill a specific customer order, the process starts with creating an |SO|, and
ends with delivering the product to the customer, or having the subcontractor dropship it to them.

If the reason is to increase the quantity of stock on-hand, the process starts with creating a |PO|,
and ends with receiving the product into inventory.

Create SO
---------

It is only necessary to complete this step if the product is being purchased from the subcontractor
to fulfill a customer need. If the product is being purchased to increase the quantity of stock
on-hand, move on to the next step.

To create a new |SO|, navigate to :menuselection:`Sales app --> Orders --> Orders`, and click
:guilabel:`New`.

Select the customer in the :guilabel:`Customer` drop-down menu. Then, click :guilabel:`Add a
product` on the :guilabel:`Order Lines` tab, select a subcontracted product in the
:guilabel:`Product` drop-down menu, and enter a quantity in the :guilabel:`Quantity` field.

Click :guilabel:`Confirm` to confirm the |SO|, at which point a :guilabel:`Purchase` smart button
appears at the top of the page. This opens the |PO| created to purchase the subcontracted product
from the subcontractor.

.. note::
   An |SO| for the product only creates a |PO| if the *Replenish on Order (MTO)* route is enabled on
   the product's form, **and** there is not enough stock of the product on-hand to fulfill the |SO|.

   If there is enough stock on-hand, confirming an |SO| for the product creates a delivery order
   instead, because Odoo assumes that the |SO| is fulfilled using the stock in the warehouse.

   This is not the case for subcontracted products that are dropshipped to the end customer. In that
   case, a |PO| is **always** created, even if there is enough stock on-hand.

Process PO
----------

If a |PO| was created in the previous step, navigate to it by clicking the :guilabel:`Purchase`
smart button at the top of the |SO|, or by going to :guilabel:`Purchase app --> Orders --> Purchase
Orders`, and selecting the |PO|. Then, click :guilabel:`Confirm Order` to confirm it, and move on to
the next step.

If a |PO| was not created in the previous step, do so now by navigating to :menuselection:`Purchase
app --> Orders --> Purchase Orders`, and clicking :guilabel:`New`.

Begin filling out the |PO| by selecting a subcontractor from the :guilabel:`Vendor` drop-down menu.
In the :guilabel:`Products` tab, click :guilabel:`Add a product` to create a new product line.
Select a subcontracted product in the :guilabel:`Product` field, and enter the quantity in the
:guilabel:`Quantity` field. Finally, click :guilabel:`Confirm Order` to confirm the |PO|.

When a |PO| is confirmed for a product manufactured using basic subcontracting, a receipt or
dropship order is automatically created, and can be accessed from the corresponding
:guilabel:`Receipt` or :guilabel:`Dropship` smart button that appears at the top of the |PO|.

.. figure:: subcontracting_basic/subcontractor-po.png
   :align: center
   :alt: A PO for a basic subcontracting product, with a Receipt smart button at the top of the page.

   PO for a basic subcontracting product, with a Receipt smart button at the top of the page.

Process receipt or dropship order
---------------------------------

Once the subcontractor has finished manufacturing the product, they either ship it to the
contracting company, or dropship it to the end customer, depending on how the product was
:ref:`configured <manufacturing/workflows/subcontracting_basic/product-config>`.

Process receipt
~~~~~~~~~~~~~~~

If the subcontractor ships the finished product to the contracting company, once it has been
received, navigate to :menuselection:`Purchase app --> Orders --> Purchase Orders`, and select the
|PO|.

Click the :guilabel:`Receive Products` button at the top of the |PO|, or the :guilabel:`Receipt`
smart button at the top of the page, to open the receipt. Then, click :guilabel:`Validate` at the
top of the receipt to enter the product into inventory.

Process dropship order
~~~~~~~~~~~~~~~~~~~~~~

If the subcontractor dropships the product, once they have sent it, navigate to
:menuselection:`Purchase app --> Orders --> Purchase Orders`, and select the |PO|.

Select the :guilabel:`Dropship` smart button at the top of the page to open the dropship order, and
click :guilabel:`Validate` at the top of the order to confirm that the product has been sent to the
customer.

Process delivery order
----------------------

If the subcontracting workflow was started by a customer |SO|, and the finished product was **not**
dropshipped to the customer, but rather delivered to the contracting company, it is necessary to
ship the product to the customer, and process the delivery order.

Once the product has been shipped to the customer, navigate to the :menuselection:`Sales` app, and
select the |SO|. Select the :guilabel:`Delivery` smart button at the top of the page to open the
delivery order, and click :guilabel:`Validate` on the order to confirm that the product has been
shipped.


==================================================
SECTION: subcontracting_dropship.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/subcontracting_dropship.rst
==================================================

=========================
Dropship to subcontractor
=========================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |SOs| replace:: :abbr:`SOs (Sales Orders)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |POs| replace:: :abbr:`POs (Purchase Orders)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In manufacturing, subcontracting is the process of a company engaging a third-party manufacturer, or
subcontractor, to manufacture products that are then sold by the contracting company.

In Odoo, the *Dropship Subcontractor on Order* route is used to purchase the necessary components
for a subcontracted product from the vendor, and have them delivered directly to the subcontractor,
each time a purchase order (PO) for that product is confirmed.

The subcontractor then uses the components to manufacture the desired product, before shipping it
back to the contracting company.

.. important::
   It is necessary to understand the differences between the *Dropship* and *Dropship Subcontractor
   on Order* routes. While both routes involve dropshipping, they are used for different purposes.

   The *Dropship* route is used to purchase products from a vendor, and have them shipped directly
   to the end customer.

   The *Dropship Subcontractor on Order* route is used to purchase components from a vendor, and
   have them shipped directly to a subcontractor. By default, finished products are then sent from
   the subcontractor back to the contracting company.

   However, it is possible to combine both the *Dropship* and *Dropship Subcontractor on Order*
   routes so they are used for the same product. In this workflow, components are dropshipped to the
   subcontractor, who then ships the finished product directly to the end customer.

   This can be achieved by following steps one through five in the :ref:`workflow section
   <manufacturing/workflows/subcontracting-dropship>` of this doc.

Configuration
=============

To use the *Dropship Subcontractor on Order* route, navigate to :menuselection:`Manufacturing app
--> Configuration --> Settings`, and enable the checkbox next to :guilabel:`Subcontracting`, under
the :guilabel:`Operations` heading.

Once the *Subcontracting* setting is enabled, it is also necessary to properly configure the
subcontracted product, the product's |BoM|, and the components listed on the |BoM|.

Configure product
-----------------

To configure a product for the *Dropship Subcontractor on Order* route, navigate to
:menuselection:`Inventory app --> Products --> Products`, and select a product, or create a new one
by clicking :guilabel:`New`.

Select the :guilabel:`Purchase` tab, and add the product's subcontractor as a vendor by clicking
:guilabel:`Add a line`, selecting the subcontractor in the :guilabel:`Vendor` drop-down menu, and
entering a price in the :guilabel:`Price` field.

Then, click on the :guilabel:`Inventory` tab to configure a route that determines what happens to
the finished product, once it has been manufactured by the subcontractor.

If the finished product is shipped back to the contracting company, make sure that the
:guilabel:`Buy` route is selected. In addition, select the :guilabel:`Replenish on Order (MTO)`
route to automatically create a |PO| for the product upon confirmation of a |SO|, unless there is
enough stock on-hand to fulfill the |SO|.

If the finished product is shipped directly to the customer by the subcontractor, make sure that
only the :guilabel:`Dropship` route is selected.

Configure bill of materials
---------------------------

To configure a |BoM| for the *Dropship Subcontractor on Order* route, click the :guilabel:`Bill of
Materials` smart button on the product's page, and select the |BoM|.

Alternatively, navigate to :menuselection:`Manufacturing app --> Products --> Bills of Materials`,
and select the |BoM| for the subcontracted product.

.. seealso::
   For a full overview of |BoM| configuration, see the :doc:`Bill of materials
   <../basic_setup/bill_configuration>` documentation.

In the :guilabel:`BoM Type` field, select the :guilabel:`Subcontracting` option. Then, add one or
more subcontractors in the :guilabel:`Subcontractors` field that appears below.

.. image:: subcontracting_dropship/bom-type.png
   :align: center
   :alt: The "BoM Type" field on a BoM, configured to manufacture the product using subcontracting.

Finally, make sure that all necessary components are specified on the :guilabel:`Components` tab. To
add a new component, click :guilabel:`Add a line`, select the component in the :guilabel:`Component`
drop-down menu, and specify the required quantity in the :guilabel:`Quantity` field.

Configure Components
--------------------

To configure components for the *Dropship Subcontractor on Order* route, navigate to each component
from the |BoM| by selecting the component's name in the :guilabel:`Components` tab, and clicking the
:guilabel:`➡️ (right arrow)` button to the right of the name.

Alternatively, navigate to each component by going to :menuselection:`Inventory app --> Products -->
Products`, and selecting the component.

On the component product form, select the :guilabel:`Purchase` tab, and add a vendor by clicking
:guilabel:`Add a line`, selecting the vendor in the :guilabel:`Vendor` field, and adding the price
they sell the product for in the :guilabel:`Price` field. This is the vendor that sends components
to the subcontractor, once they are purchased.

Then, click on the :guilabel:`Inventory` tab and select the :guilabel:`Dropship Subcontractor on
Order` route in the :guilabel:`Routes` section.

Repeat the process for every component that must be dropshipped to the subcontractor.

.. _manufacturing/workflows/subcontracting-dropship:

Dropship subcontractor on order workflow
========================================

The dropship subcontractor on order workflow consists of up to six steps:

#. Create a sales order (SO) for the subcontracted product; doing so creates a *subcontractor* |PO|
   to purchase the product from the subcontractor.
#. Confirm the |PO| created in the previous step, or create a new |PO|; doing so creates a request
   for quotation (RfQ) to purchase the components from the vendor, as well as a receipt order or a
   dropship order.
#. Confirm the |RfQ| to turn it into a second |PO| (*vendor* |PO|); doing so creates a *Dropship
   Subcontractor* order.
#. Process the *Dropship Subcontractor* order once the vendor has sent the components to the
   subcontractor.
#. Process the receipt once the subcontractor has finished manufacturing the subcontracted product,
   and shipped it back to the contracting company **OR** process the dropship order to ship the
   product directly to the end customer.
#. If the workflow was started by creating an |SO|, and the finished product is not dropshipped to
   the end customer, process the delivery order once the product has been shipped to the customer.

The specific number of steps depends on the reason that the subcontracted product is being purchased
from the subcontractor.

If the reason is to fulfill a specific customer order, the process starts with creating an SO, and
ends with delivering the product to the customer, or having the subcontractor dropship it to them.

If the reason is to increase quantity of stock on-hand, the process starts with creating a PO, and
ends with receiving the product into inventory.

Create an SO
------------

It is only necessary to complete this step if the product is being purchased from the subcontractor
to fulfill a customer need. If the product is being purchased to increase the quantity of stock
on-hand, move on to the next step.

To create a new |SO|, navigate to :menuselection:`Sales app --> Orders --> Orders`, and click
:guilabel:`New`.

Select the customer in the :guilabel:`Customer` drop-down menu. Then, click :guilabel:`Add a
product` on the :guilabel:`Order Lines` tab, select the product in the :guilabel:`Product` drop-down
menu, and enter a quantity in the :guilabel:`Quantity` field.

Click :guilabel:`Confirm` to confirm the |SO|, at which point a :guilabel:`Purchase` smart button
appears at the top of the page. This is the *subcontractor* |PO|, or the |PO| created to purchase
the subcontracted product from the subcontractor.

.. note::
   An |SO| for the product only creates a *subcontractor* |PO| if the *Replenish on Order (MTO)*
   route is enabled on the product's page, **and** there is no stock of the product on-hand.

   If there is stock on-hand, confirming an |SO| for the product will instead create a delivery
   order, because Odoo assumes that the |SO| is fulfilled using the stock in the warehouse.

   This is not the case for subcontracted products that are dropshipped to the end customer. In that
   case, a *subcontractor* |PO| is **always** created, even if there is stock on-hand.

Process subcontractor PO
------------------------

If a *subcontractor* |PO| was not created in the previous step, do so now by navigating to
:menuselection:`Purchase app --> Orders --> Purchase Orders`, and clicking :guilabel:`New`.

Begin filling out the |PO| by selecting a subcontractor from the :guilabel:`Vendor` drop-down menu.

In the :guilabel:`Products` tab, click :guilabel:`Add a product` to create a new product line.
Select a product produced by the subcontractor in the :guilabel:`Product` field, and enter the
quantity in the :guilabel:`Quantity` field.

Finally, click :guilabel:`Confirm Order` to confirm the *subcontractor* |PO|.

When a |PO| is confirmed for a product that requires dropshipping components to a subcontractor, a
receipt or dropship order is automatically created, and can be accessed from the corresponding
:guilabel:`Receipt` or :guilabel:`Dropship` smart button that appears at the top of the |PO|.

.. image:: subcontracting_dropship/subcontractor-po.png
   :align: center
   :alt: A subcontractor PO for a *Dropship Subcontractor on Order* product, with a Receipt smart
         button at the top of the page.

In addition, an |RfQ| is created for the components that are purchased from the vendor and sent to
the subcontractor. However, the |RfQ| **IS NOT** automatically linked to the *subcontractor* |PO|.

Once the |RfQ| is confirmed and becomes a *vendor* |PO|, a *Dropship Subcontractor* order is
created. This order is linked to both the *vendor* |PO| and the *subcontractor* |PO|.

Confirm vendor RfQ
------------------

To access the |RfQ| created by confirming the *subcontractor* |PO|, navigate to
:menuselection:`Purchase app --> Orders --> Requests for Quotation`. Select the |RfQ| that lists the
correct vendor in the :guilabel:`Vendor` field, and the reference number of the receipt that was
created after confirming *subcontractor* |PO|, in the :guilabel:`Source Document` field.

On the |RfQ|, the :guilabel:`Deliver To` field reads :guilabel:`Dropship Subcontractor`, and the
:guilabel:`Dropship Address` field shows the name of the subcontractor to whom components are being
dropshipped.

Click :guilabel:`Confirm Order` to turn the |RfQ| into a *vendor* |PO|, and confirm the purchase of
components from the vendor. After doing so, a :guilabel:`Dropship` smart button appears at the top
of the *vendor* |PO|, and a :guilabel:`Resupply` smart button appears at the top of the
*subcontractor* |PO|.

.. image:: subcontracting_dropship/vendor-po.png
   :align: center
   :alt: A vendor PO for the components of a *Dropship Subcontractor on Order* product, with a
         Dropship smart button at the top of the page.

Process Dropship Subcontractor order
------------------------------------

Once the components have been delivered to the subcontractor, navigate to :menuselection:`Purchase
app --> Orders --> Purchase Orders`, and select the *vendor* |PO| or the *subcontractor* |PO|. Then,
click the :guilabel:`Dropship` smart button or the :guilabel:`Resupply` smart button, respectively.

Clicking either button opens the *Dropship Subcontractor* order. Click the :guilabel:`Validate`
button at the top of the order to confirm that the subcontractor has received the components.

Process receipt or dropship order
---------------------------------

Once the subcontractor has manufactured the finished product, navigate to :menuselection:`Purchase
app --> Orders --> Purchase Orders`, and select the *subcontractor* |PO|.

If the subcontracted product should be received into inventory, once the product arrives, click the
:guilabel:`Receive Products` button at the top of the *subcontractor* |PO| to open the receipt.
Then, click :guilabel:`Validate` at the top of the receipt to register the product into inventory.

Alternatively, select the :guilabel:`Receipt` smart button at the top of the *subcontractor* |PO|,
and click :guilabel:`Validate` at the top of the receipt.

If the subcontracted product should be dropshipped, select the :guilabel:`Dropship` button at the
top of the page to open the dropship order, and click :guilabel:`Validate` once the subcontractor
has sent the product to the customer.

Process delivery order
----------------------

If the subcontracting workflow was started by a customer |SO|, and the finished product was **not**
dropshipped to the customer, but rather delivered to the contracting company, it is necessary to
ship the product to the customer, and process the delivery order.

Once the product has been shipped to the customer, navigate to the :menuselection:`Sales` app, and
select the |SO|. Select the :guilabel:`Delivery` smart button at the top of the page to open the
delivery order, and click :guilabel:`Validate` to confirm that the product has been shipped to the
customer.


==================================================
SECTION: subcontracting_resupply.rst
PATH: applications/inventory_and_mrp/manufacturing/subcontracting/subcontracting_resupply.rst
==================================================

======================
Resupply subcontractor
======================

.. |SO| replace:: :abbr:`SO (Sales Order)`
.. |PO| replace:: :abbr:`PO (Purchase Order)`
.. |POs| replace:: :abbr:`PO (Purchase Orders)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In manufacturing, subcontracting is the process of a company engaging a third-party manufacturer, or
subcontractor, to manufacture products that are then sold by the contracting company.

In Odoo, the *Resupply Subcontractor on Order* route is used to deliver the necessary components for
a subcontracted product to the subcontractor, each time a purchase order (PO) for that product is
confirmed.

The subcontractor then uses the components to manufacture the desired product, before shipping it
back to the contracting company, or dropshipping it to the end customer.

.. important::
   It is necessary to understand the differences between the *Resupply Subcontractor on Order* and
   the *Dropship Subcontractor on Order* routes.

   While both routes are used to supply a subcontractor with the components required for
   manufacturing a product, they differ in how the components are sourced.

   When using *Resupply Subcontractor on Order*, components are shipped from the warehouse of the
   contracting company.

   When using *Dropship Subcontractor on Order*, components are purchased from a vendor and shipped
   directly to the subcontractor.

   The choice of which route to use depends upon the specific requirements of the subcontracting
   company and their subcontractors.

   See the :doc:`subcontracting_dropship` documentation for a full overview of the *Dropship
   Subcontractor on Order* route.

Configuration
=============

To use the *Resupply Subcontractor on Order* route, navigate to :menuselection:`Manufacturing app
--> Configuration --> Settings`, and enable the checkbox next to :guilabel:`Subcontracting`, under
the :guilabel:`Operations` heading.

Once the *Subcontracting* setting is enabled, it is also necessary to properly configure the
subcontracted product, the product's bill of materials (BoM), and the components listed on the
|BoM|.

.. _manufacturing/workflows/subcontracting_resupply/product-config:

Configure product
-----------------

To configure a product for the *Resupply Subcontractor on Order* route, navigate to
:menuselection:`Inventory app --> Products --> Products`, and select a product, or create a new one
by clicking :guilabel:`New`.

Select the :guilabel:`Purchase` tab, and add the product's subcontractor as a vendor by clicking
:guilabel:`Add a line`, selecting the subcontractor in the :guilabel:`Vendor` drop-down menu, and
entering a price in the :guilabel:`Price` field.

.. note::
   The value entered in the :guilabel:`Price` field on the :guilabel:`Purchase` tab of the of the
   subcontracted product's page is the amount paid to the subcontractor for the manufacturing of the
   product.

   This does not represent the total cost of the product, which includes other elements, like the
   cost of the product's components.

Then, click on the :guilabel:`Inventory` tab to configure a route that determines what happens to
the finished product, once it has been manufactured by the subcontractor.

If the finished product is shipped back to the contracting company, make sure that the
:guilabel:`Buy` route is selected. In addition, select the :guilabel:`Replenish on Order (MTO)`
route to automatically create a |PO| for the product upon confirmation of a sales order (SO), unless
there is enough stock on-hand to fulfill the |SO|.

If the finished product is shipped directly to the customer by the subcontractor, make sure that
only the :guilabel:`Dropship` route is selected.

Configure BoM
-------------

To configure a |BoM| for the *Resupply Subcontractor on Order* route, click the :guilabel:`Bill of
Materials` smart button on the product's page, and select the |BoM|.

Alternatively, navigate to :menuselection:`Manufacturing app --> Products --> Bills of Materials`,
and select the |BoM| for the subcontracted product.

.. seealso::
   For a full overview of |BoM| configuration, see the :doc:`Bill of materials
   <../basic_setup/bill_configuration>` documentation.

In the :guilabel:`BoM Type` field, select the :guilabel:`Subcontracting` option. Then, add one or
more subcontractors in the :guilabel:`Subcontractors` field that appears below.

.. image:: subcontracting_resupply/bom-type.png
   :align: center
   :alt: The "BoM Type" field on a BoM, configured to manufacture the product using subcontracting.

Finally, make sure that all necessary components are specified on the :guilabel:`Components` tab. To
add a new component, click :guilabel:`Add a line`, select the component in the :guilabel:`Component`
drop-down menu, and specify the required quantity in the :guilabel:`Quantity` field.

Configure components
--------------------

To configure components for the *Resupply Subcontractor on Order* route, navigate to each component
from the |BoM| by selecting the component's name in the :guilabel:`Components` tab, and clicking the
:guilabel:`➡️ (right arrow)` button to the right of the name.

Alternatively, navigate to each component by going to :menuselection:`Inventory app --> Products -->
Products`, and selecting the component.

On the component product form, click on the :guilabel:`Inventory` tab and select the
:guilabel:`Resupply Subcontractor on Order` route in the :guilabel:`Routes` section.

Repeat the process for every component that must be sent to the subcontractor.

Resupply subcontractor on order workflow
========================================

The resupply subcontractor on order workflow consists of up to five steps:

#. Create an |SO| for the subcontracted product; doing so creates a |PO| to purchase the product
   from the subcontractor.
#. Confirm the |PO| created in the previous step, or create a new |PO|; doing so creates a *Resupply
   Subcontractor* order, as well as a receipt order or a dropship order.
#. Process the *Resupply Subcontractor* order once components for the subcontracted product have
   been sent to the subcontractor.
#. Process the receipt once the subcontractor has finished manufacturing the subcontracted product,
   and shipped it back to the contracting company **OR** process the dropship order to ship the
   product directly to the customer.
#. If the workflow was started by creating an |SO|, and the finished product is not dropshipped to
   the end customer, process the delivery order once the product is shipped to the customer.

The specific number of steps depends on the reason that the subcontracted product is being purchased
from the subcontractor.

If the reason is to fulfill a specific customer order, the process starts with creating an |SO|, and
ends with delivering the product to the customer, or having the subcontractor dropship it to them.

If the reason is to increase the quantity of stock on-hand, the process starts with creating a |PO|,
and ends with receiving the product into inventory.

.. important::

   While the *Resupply Subcontractor on Order* route can be used to automatically resupply a
   subcontractor upon confirmation of a |PO|, it is also possible to create a resupply order
   manually. This workflow is useful when it is necessary to resupply the subcontractor without
   creating a |PO|.

   To resupply a subcontractor manually, navigate to the :menuselection:`Inventory` app, and click
   on the :guilabel:`Resupply Subcontractor` card. Create a new *Resupply Subcontractor* order by
   clicking :guilabel:`New`.

   In the :guilabel:`Delivery Address` field, select the subcontractor to whom the components should
   be sent.

   Then, add each component to the :guilabel:`Operations` tab by clicking :guilabel:`Add a line`,
   selecting the component in the :guilabel:`Product` drop-down field, and specifying a quantity in
   the :guilabel:`Demand` field.

   Finally, click :guilabel:`Mark as Todo` to register the order. Once the components have been sent
   to the subcontractor, click :guilabel:`Validate` to confirm that the order has been sent.

Create SO
---------

It is only necessary to complete this step if the product is being purchased from the subcontractor
to fulfill a customer need. If the product is being purchased to increase the quantity of stock
on-hand, move on to the next step.

To create a new |SO|, navigate to :menuselection:`Sales app --> Orders --> Orders`, and click
:guilabel:`New`.

Select the customer in the :guilabel:`Customer` drop-down menu. Then, click :guilabel:`Add a
product` on the :guilabel:`Order Lines` tab, select a subcontracted product in the
:guilabel:`Product` drop-down menu, and enter a quantity in the :guilabel:`Quantity` field.

Click :guilabel:`Confirm` to confirm the |SO|, at which point a :guilabel:`Purchase` smart button
appears at the top of the page. This opens the |PO| created to purchase the subcontracted product
from the subcontractor.

.. note::
   An |SO| for the product only creates a |PO| if the *Replenish on Order (MTO)* route is enabled on
   the product's page, **and** there is not enough stock of the product on-hand to fulfill the |SO|.

   If there is enough stock on-hand, confirming an |SO| for the product instead creates a delivery
   order, because Odoo assumes that the |SO| is fulfilled using the stock in the warehouse.

   This is not the case for subcontracted products that are dropshipped to the end customer. In that
   case, a |PO| is **always** created, even if there is enough stock on-hand.

Process PO
----------

If a |PO| was created in the previous step, navigate to :guilabel:`Purchase app --> Orders -->
Purchase Orders`, and select the |PO|. Then, click :guilabel:`Confirm Order` to confirm it.

If a |PO| was not created in the previous step, do so now by navigating to :menuselection:`Purchase
app --> Orders --> Purchase Orders`, and clicking :guilabel:`New`.

Begin filling out the |PO| by selecting a subcontractor from the :guilabel:`Vendor` drop-down menu.
In the :guilabel:`Products` tab, click :guilabel:`Add a product` to create a new product line.
Select a subcontracted product in the :guilabel:`Product` field, and enter the quantity in the
:guilabel:`Quantity` field. Finally, click :guilabel:`Confirm Order` to confirm the |PO|.

When a |PO| is confirmed for a product that requires resupplying a subcontractor with components, a
receipt or dropship order is automatically created, and can be accessed from the corresponding
:guilabel:`Receipt` or :guilabel:`Dropship` smart button that appears at the top of the |PO|.

In addition, a *Resupply Subcontractor* order is created to ship the required components to the
subcontractor. This order can also be accessed from the |PO|, by clicking the :guilabel:`Resupply`
smart button at the top of the page.

.. figure:: subcontracting_resupply/subcontractor-po.png
   :align: center
   :alt: A PO for a *Resupply Subcontractor on Order* product, with Resupply and Receipt smart
         buttons at the top of the page.

   A PO for a *Resupply Subcontractor on Order* product, with Resupply and Receipt smart buttons at
   the top of the page.

Process Resupply Subcontractor order
------------------------------------

Once the subcontracted product's components have been sent to the subcontractor, navigate to
:menuselection:`Purchase app --> Orders --> Purchase Orders`, and select the |PO|.

Click the :guilabel:`Resupply` smart button at the top of the screen to open the *Resupply
Subcontractor* order, and click :guilabel:`Validate` to confirm that the components have been sent
to the subcontractor.

Alternatively, navigate to the :menuselection:`Inventory` app, click the :guilabel:`# To Process`
button on the :guilabel:`Resupply Subcontractor` card, and select the *Resupply Subcontractor*
order. Then, click :guilabel:`Validate` to confirm that the components have been sent to the
subcontractor.

Process receipt or dropship order
---------------------------------

Once the subcontractor has finished manufacturing the product, they either ship it to the
contracting company, or dropship it to the end customer, depending on how the product was
:ref:`configured <manufacturing/workflows/subcontracting_resupply/product-config>`.

Process receipt
~~~~~~~~~~~~~~~

If the subcontractor ships the finished product to the contracting company, once it has been
received, navigate to :menuselection:`Purchase app --> Orders --> Purchase Orders`, and select the
|PO|.

Click the :guilabel:`Receive Products` button at the top of the |PO|, or the :guilabel:`Receipt`
smart button at the top of the page, to open the receipt. Then, click :guilabel:`Validate` at the
top of the receipt to enter the product into inventory.

Process dropship order
~~~~~~~~~~~~~~~~~~~~~~

If the subcontractor dropships the product, once they have sent it, navigate to
:menuselection:`Purchase app --> Orders --> Purchase Orders`, and select the |PO|.

Select the :guilabel:`Dropship` smart button at the top of the page to open the dropship order, and
click :guilabel:`Validate` at the top of the order to confirm that the product has been sent to the
customer.

Process delivery order
----------------------

If the subcontracting workflow was started by a customer |SO|, and the finished product was **NOT**
dropshipped to the customer, but rather delivered to the contracting company, it is necessary to
ship the product to the customer, and process the delivery order.

Once the product has been shipped to the customer, navigate to the :menuselection:`Sales` app, and
select the |SO|. Select the :guilabel:`Delivery` smart button at the top of the page to open the
delivery order, and click :guilabel:`Validate` on the order to confirm that the product has been
shipped to the customer.


==================================================
SECTION: three_step_manufacturing.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/three_step_manufacturing.rst
==================================================

========================
Three-step manufacturing
========================

.. _manufacturing/management/two_step_manufacturing:
.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

Odoo *Manufacturing* allows users to manufacture products using one, two, or three steps. When using
three-step manufacturing, Odoo creates a pick components transfer, a manufacturing order (MO), and a
store finished products transfer, and updates inventory counts based on the number of components
removed, and finished products created.

.. tip::
   The number of steps used in manufacturing is set at the warehouse level, allowing for each
   warehouse to use a different number of steps. To change the number of steps used for a specific
   warehouse, begin by navigating to :menuselection:`Inventory --> Configuration --> Warehouses`,
   and then select a warehouse from the :guilabel:`Warehouses` screen.

   On the :guilabel:`Warehouse Configuration` tab, find the :guilabel:`Manufacture` radio input
   field, and select one of the three options: :guilabel:`Manufacture (1 step)`, :guilabel:`Pick
   components and then manufacture (2 steps)`, or :guilabel:`Pick components, manufacture and then
   store products (3 steps)`.

   .. image:: three_step_manufacturing/manufacturing-type.png
      :align: center
      :alt: The Manufacture radio input field on a warehouse configuration page.

.. important::
   Products must be properly configured before they can be manufactured in Odoo. For details on how
   to do so, see the documentation on how to :ref:`configure a product for manufacturing
   <manufacturing/management/configure-manufacturing-product>`.

Create manufacturing order
==========================

To manufacture a product in Odoo *Manufacturing*, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then click
:guilabel:`New` to create a new |MO|.

On the new |MO|, select the product to be produced from the :guilabel:`Product` drop-down menu. The
:guilabel:`Bill of Material` field auto-populates with the associated Bill of Materials (BoM).

If a product has more than one |BOM| configured for it, the specific |BOM| can be selected in the
:guilabel:`Bill of Material` field, and the :guilabel:`Product` field auto-populates with the
associated product.

After a |BOM| has been selected, the :guilabel:`Components` and :guilabel:`Work Orders` tabs
auto-populate with the components and operations specified on the |BOM|. If additional components or
operations are required for the |MO| being configured, add them to the :guilabel:`Components` and
:guilabel:`Work Orders` tabs by clicking :guilabel:`Add a line`.

Finally, click :guilabel:`Confirm` to confirm the |MO|.

Process pick components transfer
================================

After confirming a three-step |MO|, a :guilabel:`Transfers` smart button appears at the top of the
page. Click it to be taken to the :guilabel:`Transfers` page for the |MO|. The page lists two
transfers: *WH/PC/XXXXX* (the pick components transfer), and *WH/SFP/XXXXX* (the store finished
products transfer).

Select :guilabel:`WH/PC/XXXXX` to open the pick components transfer for the |MO|. This transfer is
used to track the movement of components from the locations where they are stored to the location
where they are used to manufacture the product.

After transferring the components out of their storage location, click :guilabel:`Validate` at the
top of the transfer, followed by :guilabel:`Apply` on the :guilabel:`Immediate Transfer?` pop-up
window that appears. Doing so marks the transfer as :guilabel:`Done`, and updates inventory counts
to reflect the quantity of components transferred.

Finally, return to the |MO| by clicking the :guilabel:`WH/MO/XXXXX` breadcrumb at the top of the
page.

.. image:: three_step_manufacturing/mo-bread-crumb.png
   :align: center
   :alt: The manufacturing order bread crumb on a pick components transfer.

Process manufacturing order
===========================

An |MO| is processed by completing all of the work orders listed under its :guilabel:`Work Orders`
tab. This can be done on the |MO| itself, or from the work order tablet view.

Basic workflow
--------------

To complete work orders from the |MO| itself, begin by navigating to :menuselection:`Manufacturing
--> Operations --> Manufacturing Orders`, and then select a manufacturing order.

On the |MO| page, select the :guilabel:`Work Orders` tab. Once work begins on the first work order
that needs to be completed, click the :guilabel:`Start` button for that work order. Odoo
*Manufacturing* then starts a timer that keeps track of how long the work order takes to complete.

.. image:: three_step_manufacturing/start-button-2.png
   :align: center
   :alt: The Start button for a work order on a manufacturing order.

When the work order is completed, click the :guilabel:`Done` button for that work order. Repeat the
same process for each work order listed on the :guilabel:`Work Orders` tab.

.. image:: three_step_manufacturing/done-button.png
   :align: center
   :alt: The Done button for an work order on a manufacturing order.

After completing all of the work orders, click :guilabel:`Produce All` at the top of the screen to
mark the |MO| as :guilabel:`Done`, and register the manufactured product(s) into inventory.

Shop Floor workflow
-------------------

To complete the work orders for an |MO| using the *Shop Floor* module, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then select an |MO|.

On the |MO|, click on the :guilabel:`Work Orders` tab, and then select the :guilabel:`↗️ (square
with arrow coming out of it)` button on the line of the first work order to be processed. Doing so
opens a :guilabel:`Work Orders` pop-up window, with details and processing options for the work
order.

On the pop-up window, select the :guilabel:`Open Shop Floor` button at the top-left of the window to
open the *Shop Floor* module.

.. image:: three_step_manufacturing/shop-floor-button.png
   :align: center
   :alt: The Open Shop Floor button for a work order on a manufacturing order.

When accessed directly from a specific work order within an |MO|, *Shop Floor* defaults to the page
for the work center where the work order is configured to be carried out. The page shows a card for
the work order that displays the |MO| number, the product and number of units to be produced, and
the steps required to complete the work order.

.. image:: three_step_manufacturing/work-order-card.png
   :align: center
   :alt: A work order card on a work center page in the Shop Floor module.

A work order is processed by completing each step listed on its card. This can be done by clicking
on a step, and following the instructions listed on the pop-up window that appears. Once the step is
completed, click :guilabel:`Next` to move on to the next step, if any are required.

Alternatively, work order steps can be completed by clicking the checkbox that appears on the right
side of the step's line on the work order card. When using this method, the step is automatically
marked as completed, without a pop-up window appearing.

The final step on a work order card is titled *Register Production*. This step is used to register
the number of product units that were produced. If the number produced is equal to the number that
the |MO| was created for, click the :guilabel:`# Units` button on the right side of the line to
automatically register that number as the quantity produced.

If a different number must be entered, click the :guilabel:`Register Production` step to open a
pop-up window. Enter the number of units produced in the :guilabel:`Units` field, and then click
:guilabel:`Validate` to register that number.

.. note::
   The *Register Production* step appears on every work order card. It must be completed for the
   first work order that is processed. After doing so, the step appears as already completed for
   each remaining work order in the |MO|.

After completing all of the steps for a work order, a button appears on the footer of the work order
card. If any other work orders must be completed before the |MO| can be closed, the button is titled
:guilabel:`Mark as Done`. If there are no additional work orders to complete, the button is titled
:guilabel:`Close Production`.

Clicking :guilabel:`Mark as Done` causes the work order card to fade away. Once it disappears
completely, the work order's status is marked as *Finished* on the |MO|, and the next work order
appears in the *Shop Floor* module, on the page of the work center where it is configured to be
carried out. Any additional work orders can be processed using the instructions detailed in this
section.

Clicking :guilabel:`Close Production` causes the work order card to fade away. Once it disappears,
the |MO| is marked as *Done*, and the units of the product that were produced are entered into
inventory.

After clicking :guilabel:`Mark as Done` or :guilabel:`Close Production`, each button is replaced by
an :guilabel:`Undo` button. Click the :guilabel:`Undo` button before the work order card fades away
to keep the work order open.

.. tip::
   This section details the basic workflow for processing an |MO| in the *Shop Floor* module. For a
   more in-depth explanation of the module and all of its features, please see the :ref:`Shop Floor
   overview <manufacturing/shop_floor/shop_floor_overview>` documentation.

Process finished product transfer
=================================

After completing the |MO|, return to the order's :guilabel:`Transfers` page by clicking the
:guilabel:`Transfers` button at the top of the order. This time, select :guilabel:`WH/SFP/XXXXX` to
open the store finished products transfer. This transfer is used to track the movement of finished
products from the location where they were manufactured to the location where they are stored.

After transferring the finished products to their storage location, click :guilabel:`Validate` at
the top of the transfer, followed by :guilabel:`Apply` on the :guilabel:`Immediate Transfer?` pop-up
window that appears. Doing so marks the transfer as :guilabel:`Done`, and updates inventory counts
to reflect the quantity of finished products transferred.


==================================================
SECTION: two_step_manufacturing.rst
PATH: applications/inventory_and_mrp/manufacturing/basic_setup/two_step_manufacturing.rst
==================================================

======================
Two-step manufacturing
======================

.. _manufacturing/management/one_step_manufacturing:
.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`
.. |MO| replace:: :abbr:`MO (Manufacturing Order)`

Odoo *Manufacturing* allows users to manufacture products using one, two, or three steps. When using
two-step manufacturing, Odoo creates a manufacturing order (MO) and a pick components transfer, but
does not generate a transfer for the movement of finished products into stock. Inventory counts
still update based on the number of products manufactured, but the act of transferring them to and
from inventory is not tracked.

.. tip::
   The number of steps used in manufacturing is set at the warehouse level, allowing for each
   warehouse to use a different number of steps. To change the number of steps used for a specific
   warehouse, begin by navigating to :menuselection:`Inventory --> Configuration --> Warehouses`,
   and then select a warehouse from the :guilabel:`Warehouses` screen.

   On the :guilabel:`Warehouse Configuration` tab, find the :guilabel:`Manufacture` radio input
   field, and select one of the three options: :guilabel:`Manufacture (1 step)`, :guilabel:`Pick
   components and then manufacture (2 steps)`, or :guilabel:`Pick components, manufacture and then
   store products (3 steps)`.

   .. image:: two_step_manufacturing/manufacturing-type.png
      :align: center
      :alt: The Manufacture radio input field on a warehouse configuration page.

.. important::
   Products must be properly configured before they can be manufactured in Odoo. For details on how
   to do so, see the documentation on how to :ref:`configure a product for manufacturing
   <manufacturing/management/configure-manufacturing-product>`.

Create manufacturing order
==========================

To manufacture a product in Odoo *Manufacturing*, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then click
:guilabel:`New` to create a new |MO|.

On the new |MO|, select the product to be produced from the :guilabel:`Product` drop-down menu. The
:guilabel:`Bill of Material` field auto-populates with the associated Bill of Materials (BoM).

If a product has more than one |BOM| configured for it, the specific |BOM| can be selected in the
:guilabel:`Bill of Material` field, and the :guilabel:`Product` field auto-populates with the
associated product.

After a |BOM| has been selected, the :guilabel:`Components` and :guilabel:`Work Orders` tabs
auto-populate with the components and operations specified on the |BOM|. If additional components or
operations are required for the |MO| being configured, add them to the :guilabel:`Components` and
:guilabel:`Work Orders` tabs by clicking :guilabel:`Add a line`.

Finally, click :guilabel:`Confirm` to confirm the |MO|.

Process pick components transfer
================================

After confirming a two-step |MO|, a :guilabel:`Transfers` smart button appears at the top of the
page. Click it to open the pick components transfer for the |MO|. This transfer is used to track the
movement of components from the locations where they are stored to the location where they are used
to manufacture the product.

After transferring the components out of their storage location, click :guilabel:`Validate` at the
top of the transfer, followed by :guilabel:`Apply` on the :guilabel:`Immediate Transfer?` pop-up
window that appears. Doing so marks the transfer as :guilabel:`Done`, and updates inventory counts
to reflect the quantity of components transferred.

Finally, return to the |MO| by clicking the :guilabel:`WH/MO/XXXXX` breadcrumb at the top of the
page.

.. image:: two_step_manufacturing/mo-bread-crumb.png
   :align: center
   :alt: The manufacturing order bread crumb on a pick components transfer.

Process manufacturing order
===========================

An |MO| is processed by completing all of the work orders listed under its :guilabel:`Work Orders`
tab. This can be done on the |MO| itself, or from the work order tablet view.

Basic workflow
--------------

To complete work orders from the |MO| itself, begin by navigating to :menuselection:`Manufacturing
--> Operations --> Manufacturing Orders`, and then select an |MO|.

On the |MO| page, select the :guilabel:`Work Orders` tab. Once work begins on the first work order
that needs to be completed, click the :guilabel:`Start` button for that operation. Odoo
*Manufacturing* then starts a timer that keeps track of how long the work order takes to complete.

.. image:: two_step_manufacturing/start-button.png
   :align: center
   :alt: The Start button for an work order on a manufacturing order.

When the work order is completed, click the :guilabel:`Done` button for that work order. Repeat the
same process for each work order listed on the :guilabel:`Work Orders` tab.

.. image:: two_step_manufacturing/done-button.png
   :align: center
   :alt: The Done button for a work order on a manufacturing order.

After completing all of the work orders, click :guilabel:`Produce All` at the top of the screen to
mark the |MO| as :guilabel:`Done`, and register the manufactured product(s) into inventory.

Shop Floor workflow
-------------------

To complete the work orders for an |MO| using the *Shop Floor* module, begin by navigating to
:menuselection:`Manufacturing --> Operations --> Manufacturing Orders`, and then select an |MO|.

On the |MO|, click on the :guilabel:`Work Orders` tab, and then select the :guilabel:`↗️ (square
with arrow coming out of it)` button on the line of the first work order to be processed. Doing so
opens a :guilabel:`Work Orders` pop-up window, with details and processing options for the work
order.

On the pop-up window, select the :guilabel:`Open Shop Floor` button at the top-left of the window to
open the *Shop Floor* module.

.. image:: two_step_manufacturing/shop-floor-button.png
   :align: center
   :alt: The Open Shop Floor button for a work order on a manufacturing order.

When accessed directly from a specific work order within an |MO|, *Shop Floor* defaults to the page
for the work center where the work order is configured to be carried out. The page shows a card for
the work order that displays the |MO| number, the product and number of units to be produced, and
the steps required to complete the work order.

.. image:: two_step_manufacturing/work-order-card.png
   :align: center
   :alt: A work order card on a work center page in the Shop Floor module.

A work order is processed by completing each step listed on its card. This can be done by clicking
on a step and following the instructions listed on the pop-up window that appears. Once the step is
completed, click :guilabel:`Next` to move on to the next step, if any are required.

Alternatively, work order steps can be completed by clicking the checkbox that appears on the right
side of the step's line on the work order card. When using this method, the step is automatically
marked as completed, without a pop-up window appearing.

The final step on a work order card is titled *Register Production*. This step is used to register
the number of product units that were produced. If the number produced is equal to the number that
the |MO| was created for, click the :guilabel:`# Units` button on the right side of the line to
automatically register that number as the quantity produced.

If a different number must be entered, click the :guilabel:`Register Production` step to open a
pop-up window. Enter the number of units produced in the :guilabel:`Units` field, and then click
:guilabel:`Validate` to register that number.

.. note::
   The *Register Production* step appears on every work order card. It must be completed for the
   first work order that is processed. After doing so, the step appears as already completed for
   each remaining work order in the |MO|.

After completing all of the steps for a work order, a button appears on the footer of the work order
card. If any other work orders must be completed before the |MO| can be closed, the button is titled
:guilabel:`Mark as Done`. If there are no additional work orders to complete, the button is titled
:guilabel:`Close Production`.

Clicking :guilabel:`Mark as Done` causes the work order card to fade away. Once it disappears
completely, the work order's status is marked as *Finished* on the |MO|, and the next work order
appears in the *Shop Floor* module, on the page of the work center where it is configured to be
carried out. Any additional work orders can be processed using the instructions detailed in this
section.

Clicking :guilabel:`Close Production` causes the work order card to fade away. Once it disappears,
the |MO| is marked as *Done*, and the units of the product that were produced are entered into
inventory.

After clicking :guilabel:`Mark as Done` or :guilabel:`Close Production`, each button is replaced by
an :guilabel:`Undo` button. Click the :guilabel:`Undo` button before the work order card fades away
to keep the work order open.

.. tip::
   This section details the basic workflow for processing an |MO| in the *Shop Floor* module. For a
   more in-depth explanation of the module and all of its features, please see the :ref:`Shop Floor
   overview <manufacturing/shop_floor/shop_floor_overview>` documentation.


==================================================
SECTION: unbuild_orders.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/unbuild_orders.rst
==================================================

==============
Unbuild orders
==============

.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`

In some cases, it is necessary to dismantle manufactured products into their individual components.
This may be required if too many units of a product were built, or if the components of one product
must be reclaimed to use in the manufacturing of another.

In Odoo *Manufacturing*, products can be dismantled, and their components returned to inventory,
using *unbuild orders*. By using unbuild orders to accomplish this task, inventory counts for the
finished product and its components remain accurate, based on the quantity of products dismantled,
and the quantity of components reclaimed.

Create unbuild order
====================

A new unbuild order can be created by navigating to :menuselection:`Manufacturing app --> Operations
--> Unbuild Orders`, and clicking :guilabel:`New`.

Begin filling out the new unbuild order by selecting a :guilabel:`Product` to unbuild. After doing
so, the :guilabel:`Bill of Material` field auto-populates with the corresponding bill of materials
(BoM). If a different |BoM| should be used, click on the :guilabel:`Bill of Material` field, and
select it from the drop-down menu.

Alternatively, a specific |BoM| can be selected in the :guilabel:`Bill of Material` field before
selecting a product, which causes the corresponding product to auto-populate in the
:guilabel:`Product` field.

Next, specify the :guilabel:`Quantity` of the product that is being unbuilt.

If the product being unbuilt was originally manufactured in a specific manufacturing order (MO),
select it in the :guilabel:`Manufacturing Order` field.

In the :guilabel:`Source Location` field, select the location where the product being unbuilt is
currently stored.

In the :guilabel:`Destination Location` field, select the location where the reclaimed components
are stored after the unbuild order is completed.

If the *Lots & Serial Numbers* feature is enabled in the settings of the *Inventory* app, a
:guilabel:`Lot/Serial Number` field appears on the unbuild order, which can be used to specify the
lot(s) or serial number(s) of the product being unbuilt, if any are assigned.

If the Odoo database has been configured with multiple companies, a :guilabel:`Company` field
appears on the unbuild order, which can be used to specify the company that owns the product being
unbuilt.

Finally, once the product has been unbuilt, click the :guilabel:`Unbuild` button at the top of the
order to confirm that it has been completed.

.. image:: unbuild_orders/unbuild-order.png
   :align: center
   :alt: A filled-out unbuild order.

.. warning::
   While it is possible to create unbuild orders for products that have zero (or fewer) units
   on-hand, this is not advised, since it can lead to inventory inconsistencies.

   If an unbuild order is created for a product with zero (or fewer) units on-hand, a pop-up window
   appears, warning the user that there is an insufficient quantity to unbuild.

   To ignore the warning, and proceed with the unbuild order, click :guilabel:`Confirm` at the
   bottom of the pop-up window. To return to the unconfirmed unbuild order, click
   :guilabel:`Discard`, instead.

   .. image:: unbuild_orders/insufficient-quantity.png
      :align: center
      :alt: The insufficient quantity pop-up that appears after trying to confirm an unbuild order
            for a product with zero or fewer units on hand.

After completing an unbuild order, inventory counts automatically update, based on the quantity of
products unbuilt, and the quantity of components reclaimed.

.. example::
   A `Coat Rack` product is comprised of one `Wooden Pole` component and six `Wooden Dowel`
   components.

   An unbuild order is created for one unit of the `Coat Rack`. Once the order is completed, the
   on-hand quantity of `Coat Racks` decreases by one, while the on-hand quantities of `Wooden Poles`
   and `Wooden Dowels` increase by one and six, respectively.

Scrap unusable components
=========================

In some cases, components may be unusable after the unbuilding process is completed. To ensure that
inventory counts accurately reflect the quantity of usable components on-hand, any component that
can no longer be used should be removed from inventory using a :doc:`scrap order
<../../inventory/warehouses_storage/inventory_management/scrap_inventory>`.


==================================================
SECTION: use_mps.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/use_mps.rst
==================================================

==========================
Master production schedule
==========================

.. |SO| replace:: :abbr:`SO (sales order)`
.. |PO| replace:: :abbr:`PO (purchase order)`
.. |MO| replace:: :abbr:`MO (manufacturing order)`
.. |SOs| replace:: :abbr:`SOs (sales orders)`
.. |POs| replace:: :abbr:`POs (purchase orders)`
.. |MOs| replace:: :abbr:`MOs (manufacturing orders)`
.. |MPS| replace:: :abbr:`MPS (Master Production Schedules)`
.. |BoM| replace:: :abbr:`BoM (Bill of Materials)`
.. |RfQ| replace:: :abbr:`RfQ (Request for Quotation)`
.. |RfQs| replace:: :abbr:`RfQs (Requests for Quotation)`

In Odoo's *Manufacturing* app, the *master production schedule* (MPS) is used to manually plan
manufacturing orders (MOs) and purchase orders (POs), based on forecasted quantities of products and
components.

By considering the impact of confirmed |MOs| and |POs|, along with manually adjusted demand
forecasts, the |MPS| can be used to manage long-term product replenishment. This ensures the
continued availability of the necessary products and components.

Since the |MPS| allows for manual intervention, it is useful for replenishing products where the
demand of existing sales orders (SOs) does **not** reflect probable future demand.

.. example::
   A retail store sells artificial *Christmas trees* during the holiday season. It is currently
   September, and the store has less than ten Christmas tree |MOs| confirmed for the month of
   December.

   Despite the number of confirmed |MOs|, the procurement manager knows that the demand for
   Christmas trees in December is going to be much higher, once the holiday season starts. As a
   result, they manually enter a greater demand in the |MPS|, so they can properly replenish the
   product in time for the increase in customer demand.

.. important::
   It is essential to remember that the |MPS| is a **MANUAL** tool. Adding a product to the |MPS|
   does not cause it to be manufactured or purchased automatically. The |MPS| simply suggests the
   amount of the product that should be replenished, but requires user input to create the |MOs| or
   |POs| that are used to replenish it.

   For this reason, it is recommended that the |MPS| **NOT** be used alongside reordering rules for
   the same product. Because reordering rules are an automated workflow, they conflict with the
   manual replenishment method of |MPS|. Using both, in unison, can lead to inaccurate forecasts and
   the creation of unnecessary replenishment orders.

Enable and configure |MPS|
==========================

To use the |MPS| feature, navigate to :menuselection:`Manufacturing app --> Configuration -->
Settings`, and tick the :guilabel:`Master Production Schedule` checkbox in the :guilabel:`Planning`
section. Finally, click :guilabel:`Save`.

After enabling the :guilabel:`Master Production Schedule` feature, two new fields appear under it on
the :guilabel:`Settings` page: :guilabel:`Time Range` and :guilabel:`Number of Columns`.

The :guilabel:`Time Range` field is used to select the period of time over which planning takes
place, and offers three options: :guilabel:`Monthly`, :guilabel:`Weekly`, and :guilabel:`Daily`. For
example, if :guilabel:`Monthly` is selected, the |MPS| plans the production requirements of products
and components on a monthly basis.

The :guilabel:`Number of Columns` field is used to specify the quantity of the selected
:guilabel:`Time Range` units shown on the |MPS| page. For example, if the :guilabel:`Time Range`
field is set to :guilabel:`Monthly`, and `12` is entered in the :guilabel:`Number of Columns` field,
the |MPS| shows one column for the next 12 months, starting with the current month.

If the values of the :guilabel:`Time Range` or :guilabel:`Number of Columns` fields are altered,
click :guilabel:`Save` again to save the changes.

.. image:: use_mps/mps-setting.png
   :align: center
   :alt: The MPS setting in the Manufacturing app's settings.

|MPS| dashboard
===============

To open the |MPS|, navigate to :menuselection:`Manufacturing app --> Planning --> Master Production
Schedule`. The |MPS| view appears as follows:

.. image:: use_mps/mps.png
   :align: center
   :alt: The Master Production Schedule in the Manufacturing app.

The grey column on the left side of the screen shows a section for every product added to the |MPS|,
with each product section being broken down into smaller rows. The information shown in the rows
depends on the filters selected in the :guilabel:`Search...` bar drop-down menu at the top of the
page. The default categories that appear in the rows are:

- :guilabel:`[Product] by [unit]` :icon:`fa-area-chart`: the forecasted stock quantity at the
  beginning of each time period. :guilabel:`[Product]` and :icon:`fa-area-chart` are selectable
  buttons which open the product's page, or the forecast report for the product, respectively.
- :guilabel:`- Forecasted Demand`: the demand forecast, which is entered manually. This represents
  an estimate of the demand for the product during each time period.
- :guilabel:`- Indirect Demand Forecast`: while this is a default category, it **only** appears for
  products that are components of other products. It represents the demand for the component from
  existing MOs.
- :guilabel:`+ Suggested Replenishment`: the quantity of the product that is suggested to be
  replenished through |MOs| or |POs|. To the right of the category title is a
  :guilabel:`Replenish` button, which is used to manually replenish the product, based on the
  quantity suggested to be replenished.

  .. figure:: use_mps/replenish-button.png
     :align: center
     :alt: The Replenish button on the "+ Suggested Replenishment" row.

     The "Replenish" button on the "+ Suggested Replenishment" row.

- :guilabel:`= Forecasted Stock`: the quantity of the product forecasted to be in stock at the end
  of each time period, assuming that suggested replenishment numbers are fulfilled.

Altogether, these default categories form an equation:

.. math::
   \text{Forecasted Demand} + \text{Suggested Replenishment} = \text{Forecasted Stock}

In the case of components, the :guilabel:`Indirect Demand Forecast` is taken into account as well.

The :guilabel:`- Forecasted Demand` and :guilabel:`+ Suggested Replenishment` fields can be edited
for any of the time periods to the right of the product column. Doing so changes the equation, and
updates the value displayed in the :guilabel:`Forecasted Stock` field.

Changing the value in the :guilabel:`+ Suggested Replenishment` field also makes an :icon:`fa-times`
:guilabel:`(reset)` button appear to the left of the field. Click the :icon:`fa-times`
:guilabel:`(reset)` button next to the field to reset its value back to the one calculated by the
|MPS|.

.. important::
   While the |MPS| can be used with only the default categories enabled, it is advisable to also
   enable the :guilabel:`Actual Demand` category. This is done by clicking the :icon:`fa-caret-down`
   :guilabel:`(down arrow)` on the right side of the :guilabel:`Search...` bar, and enabling the
   :guilabel:`Actual Demand` option under the :guilabel:`Rows` header.

   With the :guilabel:`Actual Demand` option enabled, the :guilabel:`- Forecasted Demand` category
   changes to the :guilabel:`- Actual / Forecasted Demand` category. In addition to the manually
   entered forecasted demand, this category also displays the confirmed demand for the product,
   which is based on confirmed |SOs|.

Each column to the right of the products column lists one unit of the time period selected in the
*Time Range* field on the *Manufacturing* app *Settings* page (ex. months). The number of time
period columns corresponds to the value entered in the *Number of Columns* field.

The first time period column represents the current time period. For example, if the |MPS| is
configured to use months, the first column displays data for the current month. On this first
column, the :guilabel:`+ Suggested Replenishment` field appears in one of five colors:

- :guilabel:`Green`: a replenishment order must be generated to keep stock at the :guilabel:`Safety
  Stock Target`.
- :guilabel:`Gray`: a replenishment order has already been generated to keep stock at the
  :guilabel:`Safety Stock Target`.
- :guilabel:`Orange`: a replenishment order has already been generated, but the quantity it was
  created for is not enough to keep stock at the :guilabel:`Safety Stock Target`.
- :guilabel:`Red`: a replenishment order has already been generated, but the quantity it was created
  for puts the amount of stock above the :guilabel:`Safety Stock Target`.

The :guilabel:`+ Suggested Replenishment` field appears white, if no replenishment order has been
generated, and it is not necessary to generate one at the current moment.

Add a product
=============

To use |MPS| to manage the replenishment of a product, navigate to :menuselection:`Manufacturing app
--> Planning --> Master Production Schedule`. At the top of the |MPS| page, click :guilabel:`Add a
Product` to open the :guilabel:`Add a Product` pop-up window.

.. important::
   Products **must** be properly configured to be replenished through the |MPS|.

   In the case of manufactured products, the *Manufacture* route must be selected in the *Routes*
   section of the *Inventory* tab, on the product's form.

   In the case of products that are purchased, the *Buy* route must be selected in the *Routes*
   section of the *Inventory* tab, on the product's form. Additionally, a vendor and the price they
   sell the product for must also be specified on the *Purchase* tab.

On the pop-up window, select the product to add in the :guilabel:`Product` drop-down menu. If the
product is replenished through manufacturing, select the product's |BoM| in the :guilabel:`Bill of
Materials` field.

.. note::
   Selecting a BoM when adding a product to the |MPS| also adds any components listed on the BoM. If
   it is not necessary to manage the replenishment of components through the |MPS|, simply leave the
   :guilabel:`Bill of Materials` field blank.

If the database is configured with multiple warehouses, a :guilabel:`Production Warehouse` field
appears on the :guilabel:`Add a Product` pop-up window. Use this field to specify which warehouse
the product is replenished to.

In the :guilabel:`Safety Stock Target` field, specify the minimum quantity of the product that
should be kept available for orders at all times. For example, if there should always be 20 units of
the product available for order fulfillment, enter `20` in the :guilabel:`Safety Stock Target`
field.

In the :guilabel:`Minimum to Replenish` field, enter the minimum product quantity for orders created
to replenish the product. For example, if `5` is entered in this field, replenishment orders for the
product include a minimum of five units.

In the :guilabel:`Maximum to Replenish` field, enter the maximum product quantity for orders created
to replenish the product. For example, if `100` is entered in this field, replenishment orders for
the product include a maximum of 100 units.

Finally, click :guilabel:`Save` to add the product to the |MPS|. The product now appears on the
|MPS| page each time it is opened. If a |BoM| was selected in the :guilabel:`Bill of Materials`
field of the :guilabel:`Add a Product` pop-up window, any components listed on the |BoM| appear on
the page, as well.

.. image:: use_mps/add-a-product.png
   :align: center
   :alt: The Add a Product pop-up window in the MPS.

Edit a product
--------------

After adding a product to the |MPS|, it may be necessary to change the replenishment values entered
on the :guilabel:`Add a Product` pop-up window. To do so, click the :guilabel:`# ≤…≤ #` button to
the immediate right of the :guilabel:`Replenish` button, on the :guilabel:`+ Suggested
Replenishment` row, below the product's name.

.. note::
   The first and second number displayed on the :guilabel:`# ≤…≤ #` button correspond to the values
   entered in the :guilabel:`Minimum to Replenish` and :guilabel:`Maximum to Replenish` fields when
   adding the product to the |MPS|.

   For example, if `5` was entered in the :guilabel:`Minimum to Replenish` field, and `100` was
   entered in the :guilabel:`Maximum to Replenish` field, the button appears as :guilabel:`5 ≤…≤
   100`.

Clicking the :guilabel:`# ≤…≤ #` button opens the :guilabel:`Edit Production Schedule` pop-up
window. This pop-up window is the same as the :guilabel:`Add a Product` pop-up window, except that
the :guilabel:`Product` and :guilabel:`Bill of Materials` fields cannot be edited.

On the :guilabel:`Edit Production Schedule` pop-up window, enter the desired values in the
:guilabel:`Safety Stock Target`, :guilabel:`Minimum to Replenish`, and :guilabel:`Maximum to
Replenish` fields. Then, click :guilabel:`Save` to save the changes.

Remove a product
----------------

To remove a product from the |MPS|, tick the checkbox to the left of its name. Then, click the
:icon:`fa-cog` :guilabel:`Actions` button at the top of the screen, and select :guilabel:`Delete`
from the resulting drop-down menu. Finally, click :guilabel:`Ok` on the :guilabel:`Confirmation`
pop-up window.

Deleting a product from the |MPS| removes it, along with all of its data. If the product is
re-added, its replenishment values must be reconfigured.

|MPS| replenishment
===================

Products in the |MPS| can be replenished in one of three ways:

- Click the :guilabel:`Replenish` button at the top of the screen to generate replenishment orders
  for every product below its :guilabel:`Safety Stock Target` for the current month.
- Click the :guilabel:`Replenish` button on the right side of the :guilabel:`+ Suggested
  Replenishment` row of a specific product, to generate a replenishment order for that specific
  product.
- Tick the checkbox to the left of the product name of one or more products. Then, click the
  :icon:`fa-cog` :guilabel:`Actions` button at the top of the screen, and select
  :guilabel:`Replenish` from the resulting drop-down menu. Doing so generates a replenishment order
  for each selected product.

The type of replenishment order generated corresponds to the route selected on the *Inventory* tab
of the product's form:

- If the *Buy* route is selected, an |RfQ| is generated to replenish the product. |RfQs| can be
  selected by navigating to the :menuselection:`Purchase` app. Any |RfQ| generated by the |MPS|
  lists :guilabel:`MPS` in its :guilabel:`Source Document` field.
- If the *Manufacture* route is selected, an |MO| is generated to replenish the product. |MOs| can
  be selected by navigating to :menuselection:`Manufacturing app --> Operations --> Manufacturing
  Orders`. Any |MO| generated by the |MPS| lists :guilabel:`MPS` in its :guilabel:`Source Document`
  field.


==================================================
SECTION: using_work_centers.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration/using_work_centers.rst
==================================================

============
Work centers
============

*Work centers* are where **Manufacturing** work orders are processed, and can be used to track
costs, make schedules, plan capacity, organize equipment, and track efficiency. Specifying a work
center is required when a work order is defined in the *Operations* tab of a bill of materials (BoM)
for a product.

.. important::
   Work centers only appear if the :guilabel:`Work Orders` setting is enabled. To do so, navigate to
   :menuselection:`Manufacturing app --> Configuration --> Settings`, then tick the :guilabel:`Work
   Orders` checkbox. Work orders can be managed in the :guilabel:`Manufacturing` app by selecting
   :menuselection:`Operations --> Work Orders`.

.. seealso::
   :doc:`../basic_setup/bill_configuration`

Work center configuration
=========================

.. _manufacturing/management/using_work_centers/wc-setup:

Create a new work center
------------------------

In the **Manufacturing** app, select :menuselection:`Configuration --> Work Centers` and click the
:guilabel:`New` button to open a new work center form.

.. image:: using_work_centers/work-center-form.png
   :alt: An example of a fully configured work center form.

- :guilabel:`Work Center Name`: the label for the work center used to select it on a work order or
  on the reporting dashboards
- :guilabel:`Tag`: reusable labels that can be used to sort work centers in list view
- :guilabel:`Alternative Workcenters`: where a work order should be carried out if this work center
  is not available
- :guilabel:`Code`: reference id for the work center that is displayed in the list view
- :guilabel:`Working Hours`: the hours that work center can be used during the week

.. _manufacturing/management/using_work_centers/working-hours:

Working hours
~~~~~~~~~~~~~

*Working hours* define when a work center should operate, based on a one- or two-week schedule.
These hours also form the basis for calculating *overall equipment efficiency* (OEE).

.. note::
   By default, Odoo uses the `Standard 40 hours/week` working hours, which expects work centers to
   operate between 8:00 AM and 5:00 PM on Monday through Friday.

To change the working hours, hover over the current :guilabel:`Working Hours` value and click the
:icon:`fa-arrow-right` (:guilabel:`Internal link`) icon to open the working hours form.

.. image:: using_work_centers/working-hours-form.png
   :alt: The working hours form for Standard 40 hours/week.

To create a new set of working hours, click the :guilabel:`New` button and give it a name. From
here, edit any :guilabel:`Work from` or :guilabel:`Work to` value to adjust the time range. Remove a
line by clicking click the :icon:`fa-trash-o` :guilabel:`(trash)` icon. To create a new time range,
click :guilabel:`Add a line` at the bottom of the list.

.. seealso::
   - :doc:`../reporting/oee`
   - :doc:`../workflows/work_center_time_off`

Set productivity standards and allowed employees
------------------------------------------------

The :guilabel:`General Information` tab on the work center form allows for productivity goals to be
assigned to a work center. These are used as the basis for calculating how much of the potential
time the work center is being used and its operating costs.

.. image:: using_work_centers/work-center-general-information.png
   :alt: The general information tab of the work center form.

- :guilabel:`Time Efficiency`: a multiplier for how using this work center affects the normal speed
  of execution of a work order

  .. example::
     If a work center has older equipment and work orders take twice as long to produce, the `Time
     Efficiency` would be `50.00%`.

- :guilabel:`Capacity`: the number of products that can be processed at the work center
  simultaneously

- :guilabel:`OEE Target`: the target for efficiency at the work center

  .. example::
     If a work center is available for `8 hours per day` but is only expected to be used for `7
     hours per day`, the OEE would be `87.50%`. :math:`7/8*100=87.5`

  .. seealso::
     :doc:`../reporting/oee`

- :guilabel:`Setup Time`: the time required before work can commence on a work order
- :guilabel:`Cleanup Time`: breakdown or cleanup time required after a work order is finished
- :guilabel:`Cost per hour`: the operating expense of that workstation. The :guilabel:`per employee`
  value is for estimating the average cost per employee.

   .. seealso::
      :doc:`../basic_setup/mo_costs`

- :guilabel:`Allowed Employees`: the employees who can perform work at the work center. If blank,
  all employees are allowed.

   .. example::
      If equipment at a work center requires a certification to operate, :guilabel:`Allowed
      Employees` could list only those employees who have the certification.

Set production capacities
-------------------------

The :guilabel:`Capacity` setting on a work center creates a default value for how many units can be
produced at one time in a work center. To specify that a work center can produce different
quantities of different products, select the :guilabel:`Specific Capacities` tab.

.. image:: using_work_centers/work-center-specific-capacities.png
   :alt: A work center form with different capacities specified for different products.

.. tip::
   To specify production capacities in different measurements from a count of units, enable the
   *Units of Measure* feature in the **Inventory** app.

.. seealso::
   :doc:`../../maintenance/add_new_equipment`

.. _workcenter_iot:

Integrate IoT devices
---------------------

The :guilabel:`IoT Triggers` tab enables the integration of :abbr:`IoT (Internet of Things)` devices
with a work center:

- :guilabel:`Device`: specifies the IoT device to be triggered
- :guilabel:`Key`: the security key for the device
- :guilabel:`Action`: the IoT device action triggered

.. image:: using_work_centers/work-center-iot.png
   :alt: The IoT Triggers tab of the work center form.

Assigning equipment to work centers
===================================

The **Maintenance** app makes it possible to add specific equipment to a work center and
individually track its costs and productivity. It also adds the :guilabel:`Equipment` and
:guilabel:`Maintenance` tabs to the work center form, used to list equipment and schedule
maintenance activities.

.. seealso::
   :doc:`../../maintenance/add_new_equipment`

Configure equipment
-------------------

Using the :guilabel:`Equipment` tab, it is possible for specific pieces of equipment to be assigned
to a work center. The following information is displayed for each piece of equipment added:

- :guilabel:`Equipment Name`: the name of the piece of equipment
- :guilabel:`Technician`: the technician responsible for servicing the equipment
- :guilabel:`Equipment Category`: the category the equipment belongs to
- :guilabel:`MTBF`: mean time between failures; the average time that the piece of equipment will
  operate before failing
- :guilabel:`MTTR`: mean time to recovery; the average time it takes for the equipment to become
  fully operational again
- :guilabel:`Est. Next Failure`: an estimate of when the next equipment failure will occur

.. image:: using_work_centers/work-center-equipment.png
   :alt: The equipment tab of the work center form.

.. note::
    :guilabel:`MTBF`, :guilabel:`MTTR`, and :guilabel:`Est. Next Failure` are all calculated
    automatically based on past failure data, if any exists.

Work center planning
====================

The currently scheduled work orders can be viewed by accessing :menuselection:`Manufacturing app -->
Planning --> Planning by Workcenter`.

.. image:: using_work_centers/work-center-planning.png
   :alt: The Gantt view of planning showing two assembly work centers.

Different views show how many individual work orders are scheduled, how many minutes of each hour
the work center is in production, and the dates and times that are currently scheduled for work
orders. Times and planned work centers can be changed by clicking to access the individual work
order.

Work center performance
=======================

Performance for an individual work center can be viewed by selecting :menuselection:`Configuration
--> Work Centers`, and clicking on a work center. Metrics are displayed in smart buttons at the top
of the form.

.. image:: using_work_centers/work-center-smart-buttons.png
   :alt: A work center form with smart buttons showing performance metrics.

- :guilabel:`OEE`: overall equipment effectiveness, the percentage of time that the work center has
  been productive out of its available work hours.

   .. seealso::
      - :doc:`../reporting/oee`

- :guilabel:`Lost`: the amount of time lost due to work stoppages
- :guilabel:`Load`: the amount of time it will take to complete the current workload
- :guilabel:`Performance`: the real duration of work time, shown as a percentage of the expected
  duration

Use case: measuring performance by shift using work centers
===========================================================

Work centers support defined working hours, enabling the tracking of production efficiency by shift.
To configure shift-based tracking, create working hours for each of the shifts, then duplicate
versions of each work center for each of the shifts. With this setup, comparing shift productivity
can be done with any of the available :doc:`reporting <../../../essentials/reporting>` tools.

Working hours for multiple shifts
---------------------------------

To create working hours for multiple shifts, open a work center form and in the :guilabel:`Working
Hours` field click the :icon:`fa-arrow-right` (:guilabel:`Internal link`), and then click the
:guilabel:`New` button to create a new set of hours for the second shift.

.. example::
   A manufacturer has two shifts: a day shift from 5 AM to 1 PM and a night shift from 1 PM to 9 PM.
   Starting from any existing work center, edit the existing working hours to match the day shift.

   .. image:: using_work_centers/example-shift-day.png
      :alt: The working hours for a day shift

   Once the day shift is saved, click the :icon:`fa-cog` :guilabel:`(cog)` icon and select
   :guilabel:`Duplicate`. Rename this new schedule `Night Shift` and change each :guilabel:`Work
   from` to 1 PM and :guilabel:`Work from` to 9 PM.

   .. image:: using_work_centers/example-shift-night.png
      :alt: The working hours for a night shift

Work centers for multiple shifts
--------------------------------

To create the duplicate work centers, return to the work center view by navigating to
:menuselection:`Configuration --> Work Centers` and duplicating each of the work centers that are
used by both shifts, either on the individual work center forms, or directly from the list view.

.. tip::
   To duplicate work centers directly from the list view, click the :icon:`fa-check-square-o`
   :guilabel:`(checkbox)` that appears above the list items to select all. Then, click the
   :icon:`fa-cog` :guilabel:`Actions` button at the top of the list and select
   :guilabel:`Duplicate`.

.. example::
   A manufacturer has two work centers, `Assembly Line 1` and `Assembly Line 2`, and two working
   hours, `Day Shift` and `Night Shift`.

   .. image:: using_work_centers/work-centers-with-shifts.png
      :alt: Work centers copied for day and night shifts.

  To create versions of `Assembly Line 1` and `Assembly Line 2` for each shift, duplicate each of
  the work centers. Select the first work center and add the shift name in that work center's name
  and assign it the appropriate working hours. Optionally, configure each work center to use its
  opposite shift counterpart as an alternate work center to make sure that manufacturing orders get
  assigned to both. Tags can also help make a visual distinction between each shift.

   .. tip::
      Use the :icon:`oi-chevron-left`
      :guilabel:`(left arrow)` and :icon:`oi-chevron-right` :guilabel:`(right arrow)` buttons in the
      top left corner to move on to the next form in the list without returning to the list view.

Reports comparing different shifts
----------------------------------

With multiple work centers created to represent shifts, reports that sort by work center will now
compare shifts. This can be used to compare the number of work orders that are being assigned each
shift, the OEE, or actual time that each shift is taking to produce a product.

.. example::
   A report has been created to compare the time efficiency of two shifts producing the same product
   in the same work center.

   .. image:: using_work_centers/work-order-duration-deviation.png
      :alt: A bar graph of two work centers with duration deviations of -6.50 and 15.00

   To create this report, go to :menuselection:`Reporting --> Work Orders` and click to remove the
   :icon:`fa-filter` **Ready** *or* **Waiting** *or* **Pending** *or* **In Progress** filter by
   clicking the :icon:`fa-x` :guilabel:`Remove` icon on its right side. Next, click the
   :guilabel:`Measures` button and select :guilabel:`Duration Deviation (%)`

   In this case, the day shift has on average taken more than the expected time to produce products
   (-6.50%) while the night shift took less than the expected time (15.00%).



==================================================
SECTION: work_center_time_off.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows/work_center_time_off.rst
==================================================

====================
Work center time off
====================

.. |MO| replace:: :abbr:`MO (manufacturing order)`

In Odoo, *work centers* are used to carry out manufacturing operations at specific locations.
However, if a work center cannot be used for some reason, work orders begin to pile up at the work
center until it is operational again.

As a result, it is necessary to make the work center unavailable in Odoo so new work orders are
routed to alternative work centers that are operational. Using Odoo's **Time Off** app, it is
possible to designate a work center as being unavailable for a set period of time. Doing so ensures
manufacturing operations can continue until the impacted work center is available again.

Configuration
=============

Before a work center can be designated as unavailable, the Odoo platform must be properly
configured. First, it is necessary to enable :ref:`developer mode <developer-mode>`. This allows the
*Time Off* smart button to appear on each work center's *Working Hours* page.

Next, install the **Time Off** app. This is the app used for managing time off for all resources
within Odoo, including employees and work centers.

To do so, navigate to the :menuselection:`Apps` app, then search `Time Off` in the search bar. The
card for the :guilabel:`Time Off` app should be the only one that appears on the page. Click the
:guilabel:`Install` button on the card to install the app.

The last step is to properly configure work centers. For this workflow, it is necessary to have at
least two work centers: one that is made unavailable, and a second that receives the work orders
that the other cannot accept. If no second work center is configured, Odoo cannot route work orders
away from the unavailable work center, and they pile up in its queue.

To create a work center, navigate to :menuselection:`Manufacturing app --> Configuration --> Work
Centers --> New`.

.. seealso::
   For a full guide to work center creation, refer to the documentation on :doc:`work centers
   <../advanced_configuration/using_work_centers>`.

Make sure both work centers have the same equipment listed under the :guilabel:`Equipment` tab. This
ensures operations carried out at one work center can also be performed at the other.

On the work center that is made unavailable, select the second work center from the
:guilabel:`Alternative Workcenters` drop-down menu. Now, Odoo knows to send work orders to the
second work center when the first is unavailable for any reason.

.. image:: work_center_time_off/alternative-work-center-selection.png
   :align: center
   :alt: A work center form configured with an alternative work center.

Add time off for a work center
==============================

With configuration completed, time off can now be assigned to a work center. Begin by navigating to
:menuselection:`Manufacturing app --> Configuration --> Work Centers`, and selecting the affected
work center. Click the :icon:`oi-arrow-right` :guilabel:`(Internal link)` button on the right side
of the :guilabel:`Working Hours` drop-down menu, to open the working hours page for the work center.

.. image:: work_center_time_off/working-hours-button.png
   :align: center
   :alt: The Working Hours "External link" button on the work center form.

The working hours page displays the standard working hours for the work center. With developer mode
activated, a :icon:`fa-plane` :guilabel:`Time Off` smart button appears at the top of the page.
Click it to open the :guilabel:`Resource Time Off` page.

On this page, click :guilabel:`New` to configure a new time-off entry. On the time-off form, note
the :guilabel:`Reason` for the work center closure (e.g. broken equipment, maintenance, etc.),
select the affected work center as the :guilabel:`Resource`, and choose a :guilabel:`Start Date` and
:guilabel:`End Date` to specify the period during which the work center is unavailable.

.. image:: work_center_time_off/time-off-form.png
   :align: center
   :alt: The "Resource Time Off" form.

Alternative work center planning
================================

Once a work center is within its specified time-off period, work orders sent to it can be
automatically routed to an alternative work center using the *Plan* button.

Begin by creating a new manufacturing order (MO), by navigating to :menuselection:`Manufacturing app
--> Operations --> Manufacturing Orders --> New`. On the |MO| form, specify a :guilabel:`Product`
that uses the unavailable work center for one of its operations. Click :guilabel:`Confirm` to
confirm the |MO|.

On the confirmed |MO|, select the :guilabel:`Work Orders` tab. By default, the unavailable work
center is specified in the :guilabel:`Work Center` column. There is also a :guilabel:`Plan` button
at the top left of the page.

Click :guilabel:`Plan`, and the work center listed in the :guilabel:`Work Center` column of the
:guilabel:`Work Orders` tab is automatically changed to the alternative work center.

.. figure:: work_center_time_off/before-planning.png
   :align: center
   :alt: Before clicking "Plan", the work order is scheduled at "Main Assembly Line".

   Before clicking :guilabel:`Plan`, the work order is scheduled at :guilabel:`Main Assembly Line`.

.. figure:: work_center_time_off/after-planning.png
   :align: center
   :alt: After clicking "Plan", the work order is rescheduled at "Alternative Assembly Line".

   After clicking :guilabel:`Plan`, the work order is rescheduled at :guilabel:`Alternative Assembly
   Line`.

Once the time-off period for the unavailable work center ends, Odoo recognizes the work center is
available again. At this point, clicking the :guilabel:`Plan` button does not route work orders to
an alternative work center unless the first one is at capacity.


==================================================
SECTION: work_order_dependencies.rst
PATH: applications/inventory_and_mrp/manufacturing/advanced_configuration/work_order_dependencies.rst
==================================================

=======================
Work order dependencies
=======================

.. |BOM| replace:: :abbr:`BoM (Bill of Materials)`

When manufacturing certain products, specific operations may need to be completed before others can
begin. In order to ensure operations are carried out in the correct order, Odoo *Manufacturing*
features a *work order dependencies* setting. Enabling this setting allows for operations on a Bill
of Materials (BoM) to be *blocked* by other operations that should occur first.

Configuration
=============

The *work order dependencies* setting is not enabled by default. To enable it, begin by navigating
to :menuselection:`Manufacturing --> Configuration --> Settings`. Then, enable the :guilabel:`Work
Orders` setting, if it is not already active.

After enabling the :guilabel:`Work Orders` setting, the :guilabel:`Work Order Dependencies` setting
appears below it. Enable :guilabel:`Work Order Dependencies`, then click :guilabel:`Save` to confirm
the changes.

Add dependencies to BoM
=======================

Work order dependencies are configured on a product's |BOM|. To do so, navigate to
:menuselection:`Manufacturing --> Products --> Bills of Materials`, then select a |BOM|, or create a
new one by clicking :guilabel:`New`.

.. admonition:: Learn more

   For a complete guide on how to properly configure a new |BOM|, see the documentation on
   :doc:`creating a bill of materials <../basic_setup/bill_configuration>`.

On the |BOM|, click on the :guilabel:`Miscellaneous` tab, then enable the :guilabel:`Operation
Dependencies` checkbox. This makes a new :guilabel:`Blocked By` option available in the settings of
the :guilabel:`Operations` tab.

.. image:: work_order_dependencies/operation-dependencies.png
   :align: center
   :alt: The Operation Dependencies checkbox on the Miscellaneous tab of a BoM.

Next, click on the :guilabel:`Operations` tab. On the top-right of the tab, click on the tab's
:guilabel:`settings` button, then enable the :guilabel:`Blocked By` checkbox. This makes a
:guilabel:`Blocked By` field appear for each operation on the :guilabel:`Operations` tab.

.. image:: work_order_dependencies/operations-settings.png
   :align: center
   :alt: The settings for the Operations tab on a BoM.

In the line of the operation that should be blocked by another operation, click the
:guilabel:`Blocked By` field, and an :guilabel:`Open: Operations` pop-up window appears. In the
:guilabel:`Blocked By` drop-down field on the pop-up window, select the blocking operation that must
be completed *before* the operation that is blocked.

.. image:: work_order_dependencies/blocked-by.png
   :align: center
   :alt: The Blocked By drop-down field for an operation on a BoM.

Finally, save the |BOM| by clicking :guilabel:`Save`.

Plan work orders using dependencies
===================================

Once work order dependencies have been configured on a |BOM|, Odoo *Manufacturing* is able to plan
when work orders are scheduled, based on their dependencies. To plan the work orders for a
manufacturing order, begin by navigating to :menuselection:`Manufacturing --> Operations -->
Manufacturing Orders`.

Next, select a manufacturing order for a product with work order dependencies set on its |BOM|, or
create a new manufacturing order by clicking :guilabel:`New`. If a new manufacturing order is
created, select a |BOM| configured with work order dependencies from the :guilabel:`Bill of
Material` drop-down field, then click :guilabel:`Confirm`.

After confirming the manufacturing order, select the :guilabel:`Work Orders` tab to view the work
orders required to complete it. Any work orders that are *not* blocked by a different work order
display a `Ready` tag in the :guilabel:`Status` section.

Work orders that are blocked by one or more work orders display a `Waiting for another WO` tag
instead. Once the blocking work order(s) are completed, the tag updates to `Ready`.

.. image:: work_order_dependencies/work-order-status.png
   :align: center
   :alt: The status tags for work orders on a manufacturing order.

To schedule the manufacturing order's work orders, click the :guilabel:`Plan` button at the top of
the page. After doing so, the :guilabel:`Scheduled Start Date` field for each work order on the
:guilabel:`Work Orders` tab auto-fills with the scheduled start date and time. A blocked work order
is scheduled at the end of the time period specified in the :guilabel:`Expected Duration` field of
the work order that precedes it.

.. image:: work_order_dependencies/scheduled-start-date.png
   :align: center
   :alt: The Scheduled Start Date field for work orders on a manufacturing order.

.. example::
   A manufacturing order is created for Product A. The manufacturing order has two operations: Cut
   and Assemble. Each operation has an expected duration of 60 minutes, and the Assemble operation
   is blocked by the Cut operation.

   The :guilabel:`Plan` button for the manufacturing order is clicked at 1:30 pm, and the Cut
   operation is scheduled to begin immediately. Since the Cut operation has an expected duration of
   60 minutes, the Assemble operation is scheduled to begin at 2:30 pm.

Planning by workcenter
----------------------

To see a visual representation of how work orders are planned, navigate to the :guilabel:`Work
Orders Planning` page by going to :menuselection:`Manufacturing --> Planning --> Planning by
Workcenter`. This page shows a timeline of all the work orders scheduled for each operation.

If one work order is blocked by the completion of another, the work order that is blocked is shown
as scheduled to start after the work order blocking it. In addition, an arrow connects the two work
orders, leading from the blocking operation to the blocked operation.

.. image:: work_order_dependencies/planning-arrow.png
   :align: center
   :alt: The arrow connecting a blocked work order to the work order blocking it.


==================================================
SECTION: workflows.rst
PATH: applications/inventory_and_mrp/manufacturing/workflows.rst
==================================================

:nosearch:

=========
Workflows
=========

.. toctree::
   :titlesonly:

   workflows/use_mps
   workflows/work_center_time_off
   workflows/scrap_manufacturing
   workflows/manufacturing_backorders
   workflows/split_merge
   workflows/unbuild_orders
   workflows/byproducts
   workflows/continuous_improvement
   workflows/manufacture_lots_serials
