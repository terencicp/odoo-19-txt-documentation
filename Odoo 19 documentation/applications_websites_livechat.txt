

==================================================
SECTION: livechat.rst
PATH: applications/websites/livechat.rst
==================================================

:show-content:

=========
Live Chat
=========

Odoo **Live Chat** allows users to communicate with website visitors in real-time. With **Live
Chat**, leads can be qualified for their sales potential, support questions can be answered in real
time, and issues can be directed to the appropriate team for further investigation or follow up.
**Live Chat** also provides the opportunity for instant feedback from customers.

Enable Live Chat
================

The **Live Chat** application can be installed multiple ways:

- Go to the :menuselection:`Apps application`, search `Live Chat`, and click :guilabel:`Install`.
- Go to the :menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams` list view, select a
  team, and on the team's settings page, click the checkbox next to :guilabel:`Live Chat`, under the
  :guilabel:`Channels` section.
- In the :menuselection:`Website` app, go to :menuselection:`Configuration --> Settings`, scroll to
  the :guilabel:`Email & Marketing` section, check the box next to :guilabel:`Livechat`, and click
  :guilabel:`Save`.

  .. image:: livechat/enable-setting.png
     :alt: View of the settings page and the live chat feature for Odoo Live Chat.

.. note::
   After the **Live Chat** application is installed, a live chat *Channel* is created, by default.

Create live chat channels
=========================

To create a new live chat *Channel*, go to the :menuselection:`Live Chat app`. Then, click
:guilabel:`New` to open a blank channel detail form. Enter the name of the new channel in the
:guilabel:`Channel Name` field.

To configure the remaining tabs on the channel detail form (:ref:`Operators
<livechat/operators-tab>`, :ref:`Options <livechat/options-tab>`, :ref:`Channel Rules
<livechat/channel-rules-tab>`, and :ref:`Widget <livechat/widget-tab>`), follow the steps below.

.. image:: livechat/open-channel.png
   :alt: View of a live chat channel form for Odoo Live Chat.

.. tip::
   The channel detail form for any channel can be accessed by navigating back to the
   :guilabel:`Website Live Chat Channels` dashboard, via the breadcrumbs. Find the Kanban card for
   the appropriate live chat channel, hover over it, and then click on the :icon:`fa-ellipsis-v`
   :guilabel:`(vertical ellipsis)` icon to open the drop-down menu. Click :guilabel:`Configure
   Channel` to open the channel detail form.

.. _livechat/operators-tab:

Operators tab
-------------

*Operators* are the users who act as agents and respond to live chat requests from customers. When a
user is added as an operator in a live chat channel, they can receive chats from website visitors
wherever they are in the database. Chat windows open in the bottom-right corner of the screen.

.. image:: livechat/pop-up.png
   :alt: A live chat pop-up window in an Odoo database.

On the channel detail form, click the :guilabel:`Operators` tab. The user who originally created the
live chat channel has been added as an operator by default.

.. note::
   Current operators can be edited, or removed, by clicking on their respective boxes in the
   :guilabel:`Operators` tab, which reveals a separate :guilabel:`Open: Operators` pop-up. In that
   pop-up, adjust any information, as needed. Then, click :guilabel:`Save`, or click
   :guilabel:`Remove` to remove that operator from the channel.

Click :guilabel:`Add` to reveal an :guilabel:`Add: Operators` pop-up window.

In the pop-up window, scroll to find the desired users, or enter their name in the search bar. Then,
tick the checkbox next to the users to be added, and click :guilabel:`Select`.

New operators can be created and added to the list directly from this pop-up window, as well, by
clicking :guilabel:`New`, and filling out the :guilabel:`Create Operators` form. When the form is
complete, click :guilabel:`Save & Close`, or :guilabel:`Save & New` for multiple record creations.

.. danger::
   Creating a new user can impact the status of an Odoo subscription, as the total number of users
   in a database counts towards the billing rate. Proceed with caution before creating a new user.
   If a user already exists, adding them as an operator will **not** alter the subscription or
   billing rate for a database.

.. _livechat/options-tab:

Options tab
-----------

The :guilabel:`Options` tab on the live chat channel detail form contains the visual and text
settings for the live chat window.

.. _livechat/livechat-button:

Livechat button
~~~~~~~~~~~~~~~

The *Livechat Button* is the icon that appears in the bottom-right corner of the website.

Change the text in the :guilabel:`Notification text` field to update the greeting displayed in the
text bubble when the live chat button appears on the website.

The :guilabel:`Livechat Button Color` alters the color of the live chat button as it appears on the
website. To change the color, click on a color bubble to open the color selection window, then click
and drag the circle along the color gradient. Click out of the selection window once complete. Click
the :icon:`fa-refresh` :guilabel:`(refresh)` icon to the right of the color bubbles to reset the
colors to the default selection.

.. tip::
   Color selection, for the button or header, can be made manually using a slider or through RGB,
   HSL, or HEX color code entries from the pop-up color selection window that appears when either of
   the color bubbles are clicked. Different options are available, depending on the operating
   system.

.. example::
   With the following settings, the live chat button appears on the website as shown:

   - :guilabel:`Notification text`: "Have a Question? Chat with us."
   - :guilabel:`Livechat Button Color`: set to purple

   .. image:: livechat/chat-button.png
      :alt: View of an Odoo website emphasizing the livechat button.

Livechat window
~~~~~~~~~~~~~~~

The :guilabel:`Livechat Window` is the space where the live chat conversation with website visitors
takes place.

Edit the :guilabel:`Welcome Message` to change the message a visitor sees when they open a new chat
session. This message appears as though it is sent by a live chat operator, and acts as both a
greeting and an invitation to continue the conversation.

Edit the :guilabel:`Chat Input Placeholder` to alter the text that appears in the box where visitors
type their replies. This message prompts the visitor to initiate the chat.

The *Channel Header* is the colored bar at the top of the chat window. The :guilabel:`Channel Header
Color` can be changed following the same steps as the :ref:`Livechat button
<livechat/livechat-button>`.

.. figure:: livechat/chat-window.png
   :alt: The live chat window with a purple channel header and placeholder text.

   The live chat window with a purple channel header and placeholder text that reads, "Say
   Something..."

.. _livechat/channel-rules-tab:

Channel Rules tab
-----------------

To configure which website user actions open the live chat window, go to the :guilabel:`Channel
Rules` tab on the live chat channel detail form.

To create a new channel rule, click :guilabel:`Add a line`. This opens the :guilabel:`Create Rules`
pop-up window.

.. image:: livechat/create-rules.png
   :alt: View of a channel's rules form for Odoo Live Chat.

Create new rules
~~~~~~~~~~~~~~~~

Fill out the fields on the :guilabel:`Create Rules` pop-up window as instructed below, then click
:guilabel:`Save & Close`.

.. tabs::

   .. tab:: Live Chat Button

      The *Livechat Button* is the icon that appears in the bottom-right corner of the website.
      Select from one of the following display options:

      - :guilabel:`Show`: displays the chat button on the page.
      - :guilabel:`Show with notification`: displays the chat button, as well as a floating text
        bubble next to the button.
      - :guilabel:`Open automatically`: displays the button, and automatically opens the chat window
        after a specified amount of time (designated in the :guilabel:`Open automatically timer`
        field, that appears when this option is selected).
      - :guilabel:`Hide`: hides the chat button on the page.

   .. tab:: Chatbot

      To include a :doc:`Chatbot <livechat/chatbots>` on this channel, select it from the drop-down
      menu. If the chatbot should only be active when no operators are active, check the box labeled
      :guilabel:`Enabled only if no operator`.

      The :guilabel:`Enabled only if no operator` field is **only** visible if a chatbot is selected
      in the :guilabel:`Chatbot` field.

   .. tab:: URL Regex

      The *URL Regex* specifies the web pages where this rule should be applied. In the
      :guilabel:`URL Regex` field, input the relative URL of the page where the chat button should
      appear.

      For example, to apply the rule to the URL, `https://mydatabse.odoo.com/shop`, enter `/shop` to
      the :guilabel:`URL Regex` field.

      To apply the rule to *all* pages on the database, enter `/` in the :guilabel:`URL Regex`
      field.

   .. tab:: Open automatically timer

      This field designates the amount of time (in seconds) a page should be open before the chat
      window opens. This field **only** appears if the :guilabel:`Live Chat Button` for this rule is
      set to :guilabel:`Open automatically`.

   .. tab:: Country

      If this channel should **only** be available to site visitors in specific countries, add them
      to the :guilabel:`Country` field. If this field is left blank, the channel is available to all
      site visitors, regardless of location.

.. note::
   In order to track the geographical location of visitors, *GeoIP* **must** be installed on the
   database. While this feature is installed by default on *Odoo Online* databases, *On-Premise*
   databases require additional :doc:`setup steps </administration/on_premise/geo_ip>`.

.. _livechat/widget-tab:

Widget tab
----------

The :guilabel:`Widget` tab on the live chat channel detail form provides an embeddable code snippet
for external, non-Odoo websites. This code can be added to a website to provide access to a live
chat window.

.. tip::
   The live chat widget can be added to websites created through Odoo by navigating to
   :menuselection:`Website app --> Configuration --> Settings`. Then, scroll to the
   :menuselection:`Email & Marketing` section. In the :guilabel:`Channel` field, select the channel
   to add to the site. Click :guilabel:`Save` to apply.

To add the widget to a website created on a third-party platform, click the first
:icon:`fa-clipboard` :guilabel:`(copy)` icon on the :guilabel:`Widget` tab, and paste the code into
the `<head>` tag on the site.

Likewise, to send a live chat session to a customer, click the second :icon:`fa-clipboard`
:guilabel:`(copy)` icon on the :guilabel:`Widget` tab. This link can be sent directly to a customer.
When they click the link, they are redirected to a new chat window.

.. image:: livechat/widget-code.png
   :alt: View of the widget tab for Odoo Live Chat.

.. seealso::
   - :doc:`../productivity/discuss`
   - :doc:`livechat/responses`
   - :doc:`livechat/ratings`
   - :doc:`livechat/chatbots`
   - :doc:`livechat/participate`

.. toctree::
   :titlesonly:

   livechat/ratings
   livechat/responses
   livechat/chatbots
   livechat/reports
   livechat/participate
   livechat/information
   livechat/expertise


==================================================
SECTION: chatbots.rst
PATH: applications/websites/livechat/chatbots.rst
==================================================

========
Chatbots
========

A *Chatbot* is a program designed to mimic a conversation with a live human. Chatbots are assigned a
script of pre-written steps to follow. The scripts are designed to anticipate a visitor's potential
response, and lead them through a series of questions and answers the same way a live team member
would.

Chatbots can be customized to fill various roles, from customer support, to creating leads, to
collecting contact information. The goal of each chatbot can vary based on several criteria,
including the webpage where it is located, and the information it captures.

.. image:: chatbots/chatbot-visitor-view.png
   :alt: View of the chat window with a helpdesk ticket created in Odoo Live Chat.

.. _chatbot/build-a-chatbot:

Build a chatbot
===============

Before creating a new chatbot, the **Live Chat** application must first be :ref:`installed
<general/install>`.

After the **Live Chat** application has been installed on the database, go to :menuselection:`Live
Chat app --> Configuration --> Chatbots`.

.. note::
   When the **Live Chat** app is installed, a sample chatbot is created, named *Welcome Bot*. This
   chatbot has a preconfigured script that walks through a few basic steps, including asking for a
   visitor's email address, and forwarding the conversation to an operator.

   *Welcome Bot* can be used as a starting point. The existing steps can be edited or removed, and
   new steps can be added to customize the script, as needed.

   *Welcome Bot* can be deleted or archived, if necessary.

   .. image:: chatbots/chatbot-welcome-bot.png
      :alt: View of the Welcome Bot script in Odoo Live Chat.

To create a new chatbot, navigate to the :guilabel:`Chatbot` page (:menuselection:`Live Chat app -->
Configuration --> Chatbots`) and click :guilabel:`New` to open a blank chatbot details page.

Enter a name in the :guilabel:`Chatbot Name` field and hover over the image on the right. Click on
the :icon:`fa-pencil` :guilabel:`(pencil)` icon that appears to add a photo.

Chatbot scripts
===============

After the new chatbot has been created and named, the next step is to create a script. Chatbot
conversations follow an accompanying script, comprised of lines of dialog. Each line is designed to
either deliver or capture information.

To create a chatbot script, click :guilabel:`Add a Line` in the :guilabel:`Script` tab of the
chatbot detail page, and a :guilabel:`Create Script Steps` pop-up window appears. This form must be
filled out for each line of text (dialog) that the chatbot could potentially deliver during the
conversation.

First, enter the content of the message in the :guilabel:`Message` field. Then, select an option
from the :guilabel:`Step Type` and :ref:`Only If <livechat/chatbots/only-if>` drop-down menus.

Step types
----------

The :guilabel:`Step Type` selected depends on the intended purpose of the message. The available
options in the :guilabel:`Step Type` drop-down menu are detailed below.

Text
~~~~

This step is used for messages where no answer is expected or necessary. Text steps can be used for
greetings, to offer resources, such as documentation, or provide links to specific web pages.

.. important::
   *Text* step types are only intended to deliver information, and do not allow for any visitor
   input. As such, they must be followed by additional steps to continue the conversation.

Question
~~~~~~~~

This step asks a question and provides a set of answers. The visitor clicks on one answer, which
either leads to a new step in the conversation, or can lead to an optional link to a new webpage.

Enter the question in the :guilabel:`Message` field. Then, under the :guilabel:`Answer` heading,
click :guilabel:`Add a Line` to create a blank answer line.

Proceed to enter the answer as it should appear to the visitor. To turn the answer into a link that
redirects the visitor when selected, add the URL to the answer line under the :guilabel:`Optional
Link` heading.

Repeat these steps for every answer to be included for the question. Click :guilabel:`Save & Close`
or :guilabel:`Save & New` when finished.

.. tip::
   It is helpful to add a catchall answer to question steps (e.g: `Something else`). This helps
   visitors continue the conversation, even if their needs do not fit with any of the other answers.

Email
~~~~~

This step prompts visitors to provide their email address, which is stored and can be used by team
members later to follow up with additional information.

The only accepted inputs for this step type are email addresses that are in a valid format. If a
visitor attempts to enter anything other than a valid email address, the chatbot responds with a
message stating it does not recognize the information submitted.

.. image:: chatbots/chatbot-invalid-email.png
   :alt: View of a chatbot responding to an invalid email.

Phone
~~~~~

Similar to email, this step type prompts the visitor to enter their phone number, which can be used
to follow up with additional information, schedule demos, and more.

.. warning::
   Due to the vast number of formats used for phone numbers worldwide, responses to this step type
   are not validated for formatting, and can include both numbers and special characters.

.. _chatbot/forward-to-operator:

Forward to Operator
~~~~~~~~~~~~~~~~~~~

This step forwards the conversation to an active live chat operator, so they can continue
assisting the visitor. As the conversation transcript is passed on to the operator, they can pick up
where the chatbot left off. This not only saves time for all parties involved, it can also help
qualify conversations before they reach live operators.

.. note::
   If no active operator is available on the channel, the chatbot continues the conversation with
   the visitor. Therefore, additional steps should be added after this one to ensure there is no
   abrupt end to the conversation. The additional steps can both inform visitors about the lack of
   available operators (e.g. `Uh-oh, it looks like none of our operators are available`) and
   continue the conversation (e.g. `Would you like to leave your email address?`).

   .. image:: chatbots/chatbot-no-operator.png
      :alt: View of a chatbot follow up messages when no live chat operator is available.

Free Input/Multi-Line
~~~~~~~~~~~~~~~~~~~~~

The *free input* step allows visitors to respond to questions without providing pre-written
responses. Information provided in these responses is stored in the chat transcripts.

Choose between :guilabel:`Free Input` and :guilabel:`Free Input (Multi-Line)` depending on the type
and amount of information the visitor is asked to provide.

Create Lead
~~~~~~~~~~~

This step creates a lead in the **CRM** application. Select an option from the :guilabel:`Sales
Team` drop-down field that appears to assign the created lead to a specific team.

.. note::
   This step is only available if the **CRM** application is installed on the database.

Create Ticket
~~~~~~~~~~~~~

This step creates a :doc:`ticket <../../services/helpdesk/overview/receiving_tickets>` in the
**Helpdesk** application. Select an option from the :guilabel:`Helpdesk Team` drop-down field that
appears to assign the created ticket to a specific team.

.. note::
   This step is only available if the **Helpdesk** application is installed on the database.

.. _livechat/chatbots/only-if:

Only if
-------

Chatbot scripts operate on an if/then basis, which means the next question presented to the visitor
is determined by the answer provided to the previous question.

To continue the progression of the conversation, the :guilabel:`Create Script Steps` form for a new
step contains a field labeled :guilabel:`Only If`. This field is where the progression of questions
are defined.

If a step is intended to follow all of the previous messages, this field can be left empty. However,
if a message should only be sent conditionally, based on a previous response, or several previous
responses, those responses **must** be added to this field.

.. important::
   If any selections are made in the :guilabel:`Only If` field, they must all be selected during the
   conversation before this step is included. Only include selections in this field if they are
   necessary for this step to be displayed.

.. example::
   In the *Welcome Bot* script, a visitor can ask about pricing information. If the visitor selects
   this response, a step is included to forward the conversation to an operator. The chatbot first
   sends a message informing the visitor that it is checking to see if an operator is available to
   assist with pricing information.

   However, this message should only be delivered if the visitor requests pricing information. In
   that situation, the conversation would proceed as below:

   - Welcome Bot: "*What are you looking for?*"
   - Visitor: "**I have a pricing question.**"
   - Welcome Bot: "*Hmmm, let me check if I can find someone that could help you with that...*"

   In the details form for the :guilabel:`Text` step, the *I have a pricing question* response has
   been selected in the :guilabel:`Only If` field. As such, this step is only shown in conversations
   where that response has been selected.

   .. image:: chatbots/chatbot-only-if.png
      :alt: View of the new message form emphasizing the Only If field.

Script testing
==============

To ensure all visitors have a satisfactory experience with the chatbot, each message needs
to lead to a natural conclusion. Chatbot scripts should be tested to confirm there are no dead-ends,
and to understand what the visitor sees when they interact with the chatbot.

.. important::
   If the visitor provides an answer, or input, that is not assigned a corresponding follow-up
   response, the conversation stops (*dead-ends*). Since the visitor cannot re-engage the chatbot,
   they must restart the conversation by refreshing the chat window, or their browser. They may also
   click on the :icon:`fa-refresh` :guilabel:`(refresh)` icon at the top of the message window.

   .. figure:: chatbots/refresh-button.png
      :alt: The refresh button at the top of the message window.

      The :icon:`fa-refresh` (refresh) icon only appears when the chatbot script has reached a
      dead-end.

To test the performance of a chatbot, first click on the :guilabel:`Test` button at the top-left of
the chatbot script page. Then, upon being redirected to the testing screen, answer the chatbot
prompts the same way a potential site visitor would.

When the script has reached an end-point, the message *Conversation ended...* appears at the bottom
of the chat window. To begin the conversation at the beginning of the script, click on the
:icon:`fa-refresh` :guilabel:`(refresh)` icon at the top of the message window. To return to the
script page, click :guilabel:`Back to edit mode` at the top of the page.

Add chatbot to a channel
========================

After a chatbot has been created and tested, it needs to be added to a live chat channel.

First, open the :menuselection:`Live Chat` application, find the Kanban card for the appropriate
live chat channel, hover over it, and click the :icon:`fa-ellipsis-v`
:guilabel:`(vertical ellipsis)` icon to open the drop-down menu. Click :guilabel:`Configure Channel`
to open the channel detail form.

.. note::
   To create a new live chat channel, open the :menuselection:`Live Chat app` and click
   :guilabel:`New`. See :doc:`Live Chat <../livechat>` for more information.

Click on the :guilabel:`Channel Rules` tab. Then, open an existing rule, or create a new one by
clicking :guilabel:`Add a line`.

On the :guilabel:`Create Rules` pop-up window, choose the appropriate chatbot in the
:guilabel:`Chatbot` field.

If the chatbot should only be active if there are no live chat operators available, check the box
labeled :guilabel:`Enabled only if no operator`.

.. image:: chatbots/chatbot-add-to-channel.png
   :alt: View of the channel rules emphasizing the chatbot field.

.. seealso::
   :doc:`Live chat channel rules </applications/websites/livechat>`


==================================================
SECTION: expertise.rst
PATH: applications/websites/livechat/expertise.rst
==================================================

=========
Expertise
=========

In Odoo's **Live Chat**, agents can designate *expertise* in one or more areas. This allows
conversations to be assigned to them based on their scope of knowledge.

When a visitor requests help on a specific topic, Odoo can automatically assign the conversation to
an available agent with that expertise. Expertise improves routing efficiency, reduces wait time,
and ensures customers speak to the most qualified person available.

Create a new expertise
======================

To create a new expertise, navigate to :menuselection:`Live Chat app --> Configuration -->
Expertise` and click :guilabel:`New`. Enter a :guilabel:`Name` for the area of focus.

Under :guilabel:`Operators`, select one or more users from the drop-down to assign this expertise.

.. note::
   *Administrator* level :doc:`access <../../general/users/access_rights>` is required in the **Live
   Chat** application to create or edit expertise. Those with *User* level access can view the
   expertise menu and see which users are assigned to each expertise, but they cannot make changes.

Set live chat expertise
=======================

To set a user's live chat expertise, click on the user avatar in the top-right corner of any page in
the database. Select :guilabel:`My Preferences` from the drop-down menu to open the profile page. On
the right side of the :guilabel:`Preferences` tab, select one or more options from the
:guilabel:`Live Chat Expertise` drop-down list.

.. image:: expertise/select-expertise.png
   :alt: A user profile with the Live Chat Expertise menu open.

Forward conversations based on expertise
========================================

Once an expertise has been assigned to one or more operators, they can be used to forward
conversations. This allows a chatbot to identify the operator who is best suited to handle a
customer request.

Forward via chatbot
-------------------

:doc:`Chatbots <chatbots>` are designed to mimic a conversation with a live human, and operate based
on a pre-written script of steps to follow. The :ref:`Forward to Operator
<chatbot/forward-to-operator>` step type is used to send a conversation from a chatbot to an active
live chat agent who can then continue the conversation based on where the chatbot left off. By
adding expertise to this step, the chatbot will first look for an agent with matching expertise, to
ensure the agent is the best person for the situation.

To add expertise to a chatbot conversation, navigate to :menuselection:`Live Chat app -->
Configuration --> Chatbots`. Click on an existing chatbot to open it, or click :guilabel:`New` to
:ref:`create a new one <chatbot/build-a-chatbot>`.

On the :guilabel:`Script` tab, if there is an existing *Forward to Operator* step, click on it. If
not, click :guilabel:`Add a line`, then select *Forward to Operator* in the :guilabel:`Step Type`
field.

In the :guilabel:`Operator Expertise` field, select one or more expertise for the chatbot to
consider when prioritizing users for conversations on the related channel. Click :guilabel:`Save`
when finished.

.. tip::
   When making selections in this field, consider the use case for the chatbot. A *Support* chatbot
   will cover different topics than a *Recruitment* chatbot.

.. image:: expertise/script-steps.png
   :alt: A forward to operator script step pop-up.

Add users to a conversation
---------------------------

Users can add other live chat agents to an ongoing conversation directly from the chat window. Open
an active live chat conversation through the :menuselection:`Discuss app`. At the top-right of the
chat, click the :icon:`fa-user-plus` :guilabel:`(user plus)` icon to open the *Invite People* menu.
The user's expertise is listed next to the :icon:`fa-graduation-cap` :guilabel:`(graduation cap)`
icon.

.. image:: expertise/add-users.png
   :alt: The add users menu in a live chat conversation.

To add a user to the conversation, tick the checkbox to the right of the user's name, then click
:guilabel:`Invite`.

.. note::
   *Expertise* only appear on the *Invite People* pop-up for live chat conversations, not direct
   messages.

Looking for help conversations
==============================

In an active livechat conversation, the :ref:`Status <information/status>` can be set to allow
agents to identify conversations that require immediate action, and inform other agents which
conversations require their expertise at any given time. If a conversation is marked with the status
*Looking for help*, other agents have the opportunity to join.

To view *Looking for help* conversations, navigate to the :menuselection:`Discuss app`.
Conversations with the status appear under the *Looking for help* heading.

If an agent has a matching expertise, the conversation is marked with a :icon:`fa-star`
:guilabel:`(star)` icon.

.. image:: expertise/looking-for-help.png
   :alt: A conversation with the looking for help status and relevant expertise tagged.

.. tip::
   *Looking for help* conversations can also be viewed by navigating to :menuselection:`Live Chat
   app --> Sessions --> Looking for Help`.

To join a conversation in progress, click the :icon:`fa-sign-in` :guilabel:`(sign in)` icon at the
top of the information panel. Doing so moves the conversation back to the channel heading and
reverts the status to *In progress*. The customer is also informed that a new user has joined the
chat.


==================================================
SECTION: information.rst
PATH: applications/websites/livechat/information.rst
==================================================

=================
Information panel
=================

The **Live Chat** information panel provides agents with the context they need to handle live chat
conversations efficiently. It gathers key information about the visitor and the conversation
history, allowing agents to respond faster and avoid repetitive messaging.

Accessing the info panel
========================

To view the info panel, open a live chat conversation either in the **Discuss** app or the **Live
Chat** app. Live chat discussions in the **Discuss** app are listed on the left side panel, under
the title of the live chat channel where the conversation began. In the **Live Chat** app,
conversations can be accessed by navigating to :menuselection:`Live Chat --> Sessions --> All
Conversations`.

The information panel appears on the right side of the conversation. Click the :icon:`fa-info`
:guilabel:`(information)` icon to toggle the info panel open or closed.

.. image:: information/info-panel.png
   :alt: The information panel for a known contact.

Contact information
===================

If the live chat conversation involves a known contact, a :guilabel:`View Contact` button appears at
the top of the panel. Clicking this button opens the :doc:`contact record
<../../essentials/contacts>` for the customer, without closing the conversation. The contact record
links to the customers' sales, invoices, meetings, and previous live chat sessions.

.. _information/status:

Status
======

In an active livechat conversation, the *Status* can be set to allow agents to identify
conversations that require immediate action, and inform other agents which conversations require
their expertise at any given time.

In progress
-----------

The *In progress* status is the default status for a conversation. This status indicates that the
customer is waiting for a response from an agent.

.. tip::
   If a conversation is set to *Waiting for customer*, it will revert to *In progress* as soon as
   the customer sends a new message.

Waiting for customer
--------------------

The *Waiting for customer* status indicates that an agent has sent a message to the customer and is
waiting for a response. When this status is applied, the conversation is highlighted in yellow with
a :icon:`fa-hourglass-start` :guilabel:`(hourglass)` icon.

.. image:: information/waiting-for-customer.png
   :alt: A conversation with the waiting for customer status.

.. important::
   The *Waiting for customer* status **must** be manually applied.

Looking for help
----------------

If a conversation is marked with the status *Looking for help*, it moves from its original channel
name heading to the *Looking for help* heading, and the :icon:`fa-exclamation-circle`
:guilabel:`(exclamation circle)` icon is added. Any user with **Live Chat** permissions can view or
join these conversations, even if they are not currently active in a live chat channel.

If a conversation with the *Looking for help* status has an :ref:`expertise <information/expertise>`
listed that matches the user's, the conversation is marked with a :icon:`fa-star` :guilabel:`(star)`
icon.

.. image:: information/relevant-to-experience.png
   :alt: The looking for help panel with a star marking conversations relevant to user expertise.

To join a conversation in progress, click the :icon:`fa-sign-in` :guilabel:`(sign in)` icon at the
top of the information panel. Doing so moves the conversation back to the channel heading and
reverts the status to *In progress*. The customer is also informed that a new user has joined the
chat.

If the icon does not appear, manually set the status to *In progress* to inform other agents the
conversation is being handled.

.. tip::
   All conversations that have been tagged with the status *Looking for help* can be found by
   navigating to :menuselection:`Live Chat app --> Sessions --> Looking for Help`. Use the filters
   to find the appropriate session date.

Notes
=====

The :guilabel:`Notes` field allows agents to leave comments about the conversation, recap the
situation when transferring it to another agent, or  to add context to the conversation that can be
viewed later in reporting.

Tags
====

Tags can be added to a conversation to assist with categorizing, tracking issues, and enhancing
reporting. Click :guilabel:`Tags` :icon:`fa-plus`, then select a tag from the list, or enter a new
one in the field. Multiple tags can be added to a single conversation.

Chatbot answers
===============

If the conversation was forwarded from a chatbot, the answers selected from the chatbot are included
on the information panel under *Chatbot answers*.

.. image:: information/chatbot-answers.png
   :alt: The chatbot answers section of the information panel.

.. _information/expertise:

Expertise
=========

The :guilabel:`Expertise` field allows agents to designate the topic of conversation to a specific
skillset or knowledge scope. This helps to categorize the conversation for assignment purposes, as
well as issue tacking and enchanced reporting. Click into the field and select one or more options
from the drop-down list.

Country & language
==================

The *Country & Language* section identifies where the customer is located, and their language. A
visitor's language is determined via their browser's language settings.

.. note::
   Conversations are assigned to operators based on a number of criteria, including availability and
   the number of ongoing conversations. While the operator's main language and additional languages
   are taken into consideration, they do **not** supersede all other criteria.

Recent conversations
====================

Any recent live chat conversations with this customer also appear in the information panel. Click on
the :icon:`fa-external-link` :guilabel:`(external link)` icon on the ticket title to open the
conversation in a new tab.

.. image:: information/recent-conversations.png
   :alt: The recent conversations field on the information panel.

Open tickets
============

Any open **Helpdesk** tickets created by the customer also appear in the information panel. Click on
the :icon:`fa-external-link` :guilabel:`(external link)` icon on the ticket title to open the ticket
record in a new tab.

.. image:: information/open-tickets.png
   :alt: The open ticket field on the information panel.

Outcome
=======

For closed conversations, the *Outcome* field defines how the conversation concluded:

- *No Answer*: assigned when the customer does not respond to the agent. This usually occurs when
  the session is initiated, but the customer does not engage or send additional messages.
- *No One Available*: assigned when no agents are available to respond to the customer. This occurs
  when the session is initiated, but no operator is online or available to be assigned to the chat.
- *Success*: assigned when the live chat session is completed successfully. This outcome does
  **not** depend the customer providing a positive rating, it is dependent on the session being
  resolved without escalation or failure.
- *Escalated*: assigned when the session is forwarded to another operator. This indicates the
  initial operator could not resolve the issue, and required assistance.

Send conversation
=================

When the conversation is complete, scroll to the bottom of the info panel. The email address in the
field can be edited to send to a different address.click the :icon:`fa-paper-plane`
:guilabel:`(paper plane)` icon to send a copy of the conversation transcript.

.. image:: information/send-convo.png
   :alt: The send conversation button at the bottom of the info panel.


==================================================
SECTION: participate.rst
PATH: applications/websites/livechat/participate.rst
==================================================

========================
Participate in live chat
========================

*Operators* are the users who respond to live chat requests from customers and website visitors. The
information below outlines the necessary steps for operators participating in live chat
conversations on an Odoo database.

Set an online chat name
-----------------------

Before participating in a live chat, operators may choose to update their *Online Chat Name*. This
is the name displayed to site visitors in the live chat conversation.

To update the *Online Chat Name*, click on the user avatar in the top-right corner of any page in
the database. Select :guilabel:`My Profile` from the drop-down menu to open the profile page. On the
right side of the :guilabel:`Preferences` tab, locate the :guilabel:`Online Chat Name` field, and
enter a preferred name.

If a user's :guilabel:`Online Chat Name` is not set, the name displayed defaults to the user's name
that is designated on their profile page.

.. example::
   A user has their full name as their :guilabel:`User Name`, but they do not want to include their
   last name in a live chat conversation. They would then set their :guilabel:`Online Chat Name` to
   include only their first name.

   .. image:: participate/online-chat-name.png
      :alt: View of user profile in Odoo, emphasizing the Online Chat name field.

Set online chat languages
-------------------------

If an operator speaks multiple languages, they can add this information to their user profile. This
information can then be used to determine which conversations the operator is assigned. A visitor's
language is determined via their browser's language settings.

.. note::
   Conversations are assigned to operators based on a number of criteria, including availability and
   the number of ongoing conversations. While the operator's main language and additional languages
   are taken into consideration, they do **not** supersede all other criteria.

To add *Online Chat Languages*, click on the user avatar in the top-right corner of any page in the
database. Select :guilabel:`My Profile` from the drop-down menu to open the profile page. On the
right side of the :guilabel:`Preferences` tab, click into the :guilabel:`Online Chat Language`
field, and select one or more languages from the drop-down menu.

.. important::
   Only :doc:`languages <../../general/users/language>` that are enabled on the database can be
   selected in the :guilabel:`Online Chat Language` field.

Set live chat expertise
-----------------------

Operators can designate *Expertise* in one or more areas on their profile. A :doc:`chatbot
<chatbots>` can then assign conversations to the operator with the appropriate expertise. Select one
or more options from the :guilabel:`Live Chat Expertise` drop-down list.

To create a new expertise, navigate to :menuselection:`Live Chat app --> Configuration -->
Expertise` and click :guilabel:`New`. Enter the :guilabel:`Name` of the expertise, and, if desired,
select one or more :guilabel:`Operators`. Click :guilabel:`Save` when finished.

.. important::
   When forwarding live chat conversations, the chatbot prioritizes users with matching expertise.
   If no applicable match is found, the chatbot forwards the conversation to the next available
   operator.

Join or leave a channel
-----------------------

To join a live chat channel, go to the :menuselection:`Live Chat app --> Channels`, and click the
:guilabel:`Join` button on the Kanban card for the appropriate channel.

Any channel where the user is currently active shows a :guilabel:`Leave` button. Click this button
to disconnect from the channel.

.. image:: participate/leave-channel.png
   :alt: View of a channel form and the option to join a channel for Odoo Live Chat.

.. important::
   Operators that do not show any activity in Odoo for more than thirty minutes are considered
   disconnected, and subsequently removed from the channel.

Manage live chat requests
-------------------------

When an operator is active in a channel, chat windows open in the bottom-right corner of the
screen, no matter where they are in the database. This allows them to access other pages and apps,
while still participating in the conversation.

Live chat conversations can also be viewed by navigating to the :menuselection:`Discuss app`. New
conversations appear in bold under the channel name, located along the left panel.

.. image:: participate/managing-chat-responses.png
   :alt: View of the discuss application with a message sent through live chat in Odoo.

Click on a conversation in the left panel to select it. This opens the conversation. From this
view, an operator can participate in the chat the same as they would in the normal chat window.

.. tip::
   Conversations can also be accessed by clicking the :icon:`fa-comments` :guilabel:`(Messages)`
   icon in the menu bar.

   .. image:: participate/menu-bar.png
      :alt: View of the menu bar in Odoo emphasizing the comments icon.

.. seealso::
   - :doc:`../../productivity/discuss`
   - :doc:`../livechat`
   - :doc:`../livechat/responses`


==================================================
SECTION: ratings.rst
PATH: applications/websites/livechat/ratings.rst
==================================================

=======
Ratings
=======

.. |smile| replace:: green :icon:`fa-smile-o` :guilabel:`(smile)` icon
.. |meh| replace:: yellow :icon:`fa-meh-o` :guilabel:`(neutral)` icon
.. |frown| replace:: red :icon:`fa-frown-o` :guilabel:`(frown)` icon

At the end of a **Live Chat** conversation, customers have the opportunity to rate the quality of
support they received from the live chat *operator*. Customers provide ratings as soon as they close
the conversation. This allows operators to receive immediate feedback on their performance. It also
allows customers to share any final comments before leaving the chat window.

Rate live chat conversations
============================

Customers end a live chat conversation by clicking the :icon:`oi-close` :guilabel:`(close)` icon in
the upper right-hand corner of the chat window. They are then prompted to select an icon that
reflects their level of satisfaction. The icons represent the following ratings:

 - **Satisfied** - |smile|
 - **Okay** - |meh|
 - **Dissatisfied** - |frown|

.. image:: ratings/live-chat-ratings-faces.png
   :alt: View of the chat window from a user's side for Odoo Live Chat.

.. note::
   When customers end a conversation, a field marked :guilabel:`Receive a copy of this conversation`
   appears under the *ratings* icons. Customers can enter their email either before or after they
   submit a rating.

If the customer selects the |smile|, they are presented with a thank you message and a
:guilabel:`Close Conversation` link.

.. image:: ratings/live-chat-thank-you.png
   :alt: View of customer's live chat window with thank you message.

If the customer selects either the |meh| or the |frown|, a text box appears. Customers can add
comments in this text box to explain why they chose this rating. This message, along with the rating
icon, is sent to the live chat operator.

.. image:: ratings/live-chat-ratings-operator-window.png
   :alt: View of a chat window from an operator's window highlighting a rating for Odoo Live Chat.

Publish customer ratings
========================

To publish a channel's ratings on the website, first navigate to a live chat channel's record by
going to the :menuselection:`Live Chat` app and clicking on the :icon:`fa-ellipsis-v`
:guilabel:`(vertical ellipsis)` icon on the Kanban card for that team. Then, click
:guilabel:`Configure Channel` to open the channel details form. Then click on the :guilabel:`Go to
Website` smart button. This opens the :guilabel:`Live Chat Channel Statistics` page.

In the upper right corner of the page, click the red :guilabel:`Unpublished` slider. The slider
changes from :guilabel:`Unpublished` to :guilabel:`Published`.

.. image:: ratings/live-chat-ratings-unpublished.png
   :alt: View of the published ratings on the portal for Odoo Live Chat.

.. note::
   The customer notes submitted with the rating are *not* published on the website; they are kept
   internal. Only a statistical overview of the operators' performance for the *channel* appears on
   the website.

Add ratings page to site
------------------------

Once the rating page has been published, it has to be manually added to the website. To do this, go
to the main Odoo dashboard and open the **Website** application. :menuselection:`Website app -->
Site --> Pages`, then click :guilabel:`New`.

This opens a :guilabel:`New Page` pop-up window. In the :guilabel:`Page Title` field, enter
`livechat`. This acts as the URL for the published webpage.

.. important::
   The URL *must* be named `livechat` in order for the database to recognize and connect the ratings
   page. After the page has been published, the page title can be changed later under the
   :guilabel:`Menu Editor`.

Click :guilabel:`Create`, and the newly created webpage opens. The :guilabel:`Web Editor` appears in
the right panel.

The page lists the names of the :guilabel:`Live Chat Channels` whose ratings pages have been
published. On the left side of the channel name is an icon, which users can click on to go to the
ratings page for the respective channel.

.. image:: ratings/live-chat-published-icon.png
   :alt: View of the webpage for Live Chat ratings emphasizing the channel icon.

.. tip::
   The icon displayed on this page is configured on the live chat channel's configuration page. To
   update this image, navigate to the :menuselection:`Live Chat` app and click on the
   :icon:`fa-ellipsis-v` :guilabel:`(vertical ellipsis)` icon on the Kanban card for that team.
   Then, click :guilabel:`Configure Channel` to open the channel details form. Click the
   :icon:`fa-pencil` :guilabel:`(pencil)` icon in the image box to upload an image.

Make any desired changes or additions to this page, then click :guilabel:`Save` in the top right of
the webpage editor. The website editor side panel closes, and the webpage remains on the screen.

To publish the `livechat` webpage, return to the list of webpages by navigating to
:menuselection:`Site --> Content --> Pages`. Click the checkbox to the left of `livechat` in the
list of pages to select the page and highlight the line. Then, click the checkbox under the column
labeled :guilabel:`Is Published`. The field with the checkbox is highlighted in white. Click the
checkbox a second time to activate the :guilabel:`Is Published` box. The webpage is now published.

.. image:: ratings/live-chat-is-published.png
   :alt: View of the list of pages for a website with the 'is published' box emphasized.

Once the page has been added to the site, ratings are set to be published by default. However,
individual ratings can be manually selected to be hidden from the public. The rating is still
included in internal reports, and can still be viewed by internal teams. However, public website
visitors and portal users do not have access.

See :ref:`Hide individual ratings <livechat/overview/hide-ratings>` for more information.

Customer ratings report
=======================

The :guilabel:`Customer Ratings` report (:menuselection:`Live Chat --> Report --> Customer Ratings`)
displays an overview of the ratings received on live chat conversations, as well as any additional
comments submitted with the rating.

.. image:: ratings/live-chat-ratings-report.png
   :alt: View of the customer ratings report in Odoo Live Chat.

The report defaults to a Kanban view, with each rating represented by a different card. To switch to
a different view, click on one of the icons in the upper-right corner of the screen. The report is
available in *list* view, *pivot* view, and *graph* view.

Click on an individual rating to see additional details about the conversation, and the rating.

.. _livechat/overview/hide-ratings:

Hide individual ratings
-----------------------

Ratings are set to be published by default. However, individual ratings can be manually selected to
be hidden from the public. The rating is still included in internal reports, and can still be viewed
by internal teams. However, public website visitors and portal users do not have access.

To hide a rating, go to :menuselection:`Live Chat app --> Report --> Customer Ratings`. Click on the
Kanban card for the rating to be hidden. On the individual rating's detail page, check the box
labeled :guilabel:`Visible Internally Only`.

.. image:: ratings/live-chat-ratings-visible-internally.png
   :alt: View of an individual rating's detail page with the visible internally setting checked.

.. seealso::
   - :doc:`/applications/websites/livechat`
   - :doc:`responses`
   - :doc:`/applications/websites/website`


==================================================
SECTION: reports.rst
PATH: applications/websites/livechat/reports.rst
==================================================

=======
Reports
=======

Odoo **Live Chat** includes several reports that allow for the monitoring of operator performance
and the identification of trends in customer conversations.

The following reports are included in the **Live Chat** app:

- :ref:`Sessions History <livechat/sessions-history>`
- :ref:`Session Statistics <livechat/session-statistics>`
- :ref:`Operator Analysis <livechat/operator-analysis>`

.. note::
   The *Live Chat Ratings Report* can also be accessed through the :guilabel:`Report` menu. For more
   information on this report, and on the **Live Chat** rating process, see :doc:`Live Chat Ratings
   <../livechat/ratings>`.

To access a drop-down menu of all the available reports, navigate to :menuselection:`Live Chat app
--> Report`.

.. _livechat/sessions-history:

Sessions History
================

The *Sessions History* report displays an overview of live chat sessions, including session dates,
participant name and country, session duration, the number of messages, and the rating. It also
provides access to the complete transcripts of live chat sessions.

To access this report, navigate to :menuselection:`Live Chat app --> Report --> Sessions History`.
Each live chat session is represented by a Kanban card.

.. image:: reports/sessions-history.png
   :alt: Example of the Sessions History report from the Live Chat application.

To view the transcript from a specific session, click the Kanban card. This opens the *Discuss*
thread for the conversation.

In the *Discuss* thread, the conversation view displays the entire transcript of the conversation.
If the visitor left a rating, it is included at the end of the transcript.

.. image:: reports/chat-transcript.png
   :alt: View of the chat transcript in the Discuss application.

Export sessions history
-----------------------

The information in this report can be exported, or inserted into a spreadsheet.

On the *Sessions History* report, click the :icon:`oi-view-list` :guilabel:`(List)` icon to switch
to list view. Next, click the :icon:`fa-cog` :guilabel:`(gear)` icon to the right of the
:guilabel:`History` page title to reveal a drop-down menu.

From the drop-down menu, click :guilabel:`Export All` to export all sessions to a spreadsheet, or
:guilabel:`Insert list in spreadsheet` to insert the information in a new, or existing, spreadsheet.

To only export select sessions, first select the desired sessions to be exported from the list, by
clicking the checkbox to the left of each individual session. With the sessions selected, click the
:icon:`fa-cog` :guilabel:`Actions` icon at the top of the page, and click :guilabel:`Export` or
:guilabel:`Insert list in spreadsheet`.

.. _livechat/session-statistics:

Session Statistics
==================

The *Session Statistics* report provides a statistical overview of live chat sessions. The default
view for this report displays sessions grouped by the date of creation.

To access this report, navigate to :menuselection:`Live Chat app --> Reports --> Session
Statistics`.

.. figure:: reports/sessions-statistics.png
   :alt: Example of the Sessions Statistics report from the Live Chat application.

   The stacked bar graph view of the *Session Statistics* report, with results grouped by Creation
   Date (hour), then by rating.

To view a different measure, click the :guilabel:`Measures` drop-down menu at the top-left of the
report. The measures available for this report include:

- :guilabel:`# of speakers`: number of participants in the conversation.
- :guilabel:`Days of activity`: number of days since the operator's first session.
- :guilabel:`Duration of Session (min)`: the duration of a conversation, in minutes.
- :guilabel:`Is visitor anonymous`: denotes whether the conversation participant is anonymous.
- :guilabel:`Messages per session`: the total number of messages sent in a conversation. This
  measure is included in the default view.
- :guilabel:`Rating`: the rating received by an operator at the end of a session, if one was
  provided.
- :guilabel:`Session not rated`: denotes if a session did **not** receive a rating at the end of the
  conversation.
- :guilabel:`Time to answer (sec)`: the average time, in seconds, before an operator responds to a
  chat request.
- :guilabel:`Visitor is Happy`: denotes whether a positive rating was provided. If the visitor gave
  either a negative or neutral rating, they are considered *unhappy*.
- :guilabel:`Count`: the total number of sessions.

.. _livechat/operator-analysis:

Operator Analysis
=================

The *Operator Analysis* report is used to monitor the performance of individual live chat operators.

To access the report, navigate to :menuselection:`Live Chat app --> Reports --> Operator Analysis`.

The default view for this report is a bar chart, which only displays conversations from the current
month, as indicated by the :guilabel:`This Month` default search filter. Conversations are grouped
by operator.

To view a different measure, click the :guilabel:`Measures` drop-down menu at the top-left of the
report. The measures available for this report include:

- :guilabel:`# of Sessions`: the number of sessions an operator participated in. This measure is
  included by default.
- :guilabel:`Average duration`: the average duration of a conversation, in seconds.
- :guilabel:`Average rating`: the average rating received by the operator.
- :guilabel:`Time to answer`: the average amount of time before the operator responds to a chat
  request, in seconds.
- :guilabel:`Count`: the total number of sessions.

.. image:: reports/operator-analysis.png
   :alt: Example of the Operator Analysis report from the Live Chat application.


==================================================
SECTION: responses.rst
PATH: applications/websites/livechat/responses.rst
==================================================

=============================
Commands and canned responses
=============================

In the Odoo **Live Chat** application, *commands* allow the user to perform specific actions both
inside the chat window, and through other Odoo applications. The **Live Chat** app also includes
*canned responses*. These are customized, preconfigured substitutions that allow users to replace
shortcut entries in place of longer, well-thought out responses to some of the most common questions
and comments.

Both commands and canned responses save time, and allow users to maintain a level of consistency
throughout their conversations.

Execute a command
=================

Live chat *commands* are keywords that trigger preconfigured actions. When a live chat *operator*
is participating in a conversation with a customer or website visitor, they can execute a command by
typing `/`, followed by the command.

Commands, and the resulting actions, are only visible in the conversation window for the live chat
operator. A customer does not see any commands that an operator uses in a conversation from their
view of the chat.

.. example::
   During a conversation with a customer, a live chat operator executes the command to :ref:`create
   a ticket <live-chat/ticket>`. After entering the command, `/ticket`, the system automatically
   creates a ticket with the information from the conversation. It also includes a link to the new
   ticket, so the operator can go there directly to add any additional information, if necessary.

   .. image:: responses/responses-ticket-link.png
      :alt: View of the chat window with a helpdesk ticket created in Odoo Live Chat.

More information about each available command can be found below.

Help
----

If an operator types `/help` in the chat window, an informative message that includes the potential
entry types an operator can make is displayed.

- Type `@username` to mention a user in the conversation. A notification will be sent to that user's
  inbox or email, depending on their notification settings.
- Type `/command` to execute a command.
- Type `:shortcut` to insert a :ref:`canned response <live-chat/canned-responses>`.

.. seealso::
   - :doc:`/applications/productivity/discuss`
   - :doc:`/applications/productivity/discuss/team_communication`

Ticket & search tickets
-----------------------

The `/ticket` and `/search_tickets` commands allow operators to create helpdesk tickets directly
from a conversation, and search through existing tickets by keyword or ticket number.

.. important::
   The `/ticket` and `/search_tickets` commands can **only** be used if the **Helpdesk** app has
   been installed, and *Live Chat* has been activated on a *Helpdesk* team. To activate *Live Chat*,
   go to :menuselection:`Helpdesk app --> Configuration --> Helpdesk Teams`, and select a team.
   Scroll to the :guilabel:`Channels` section, and check the box labeled, :guilabel:`Live Chat`.

.. _live-chat/ticket:

Create a ticket from a live chat
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If an operator types `/ticket` in the chat window, the conversation is used to create a *Helpdesk*
ticket.

After entering the `/ticket` command, type a title for the ticket into the chat window, then press
`Enter`.

.. image:: responses/helpdesk.png
   :alt: View of the results from a helpdesk search in a Live Chat conversation.

The newly created ticket will be added to the *Helpdesk* team that has live chat enabled. If more
than one team has live chat enabled, the ticket will automatically be assigned based on the team's
priority.

The transcript from the conversation will be added to the new ticket, under the
:guilabel:`Description` tab.

To access the new ticket, click on the link in the chat window, or go to the
:menuselection:`Helpdesk app` and click the :guilabel:`Tickets` button on the Kanban card for the
appropriate team.

Search for a ticket from a live chat
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If an operator types `/search_tickets` in the chat window, they can search through *Helpdesk*
tickets, either by ticket number or keyword.

After entering the `/search_tickets` command, type a keyword or ticket number, then press
:kbd:`Enter`. If one or more related tickets are found, a list of links is generated in the
conversation window.

.. image:: responses/helpdesk-search.png
   :alt: View of the results from a helpdesk search in a Live Chat conversation.

.. note::
   Results from the search command will only be seen by the operator, not the customer.

History
-------

If an operator types `/history` in the chat window, it generates a list of the most recent pages the
visitor has viewed on the website (up to 15).

.. image:: responses/responses-history.png
   :alt: View of the results from a /history command in a Live Chat conversation.

Lead
----

By typing `/lead` in the chat window, an operator can create a *lead* in the **CRM** application.

.. image:: responses/responses-lead.png
   :alt: View of the results from a /lead command in a Live Chat conversation.

.. important::
   The `/lead` command can only be used if the **CRM** app has been installed.

After typing `/lead`, create a title for this new lead, then press `Enter`. A link with the lead
title appears. Click the link, or navigate to the :menuselection:`CRM` app to view the
:guilabel:`Pipeline`.

.. note::
   The link to the new lead can only be seen and accessed by the operator, not the customer.

The transcript of that specific live chat conversation (where the lead was created) is added to the
:guilabel:`Internal Notes` tab of the lead form.

On the :guilabel:`Extra Information` tab of the lead form, the :guilabel:`Source` will be listed as
:guilabel:`Livechat`.

Leave
-----

If an operator types `/leave` in the chat window, they can automatically exit the conversation. This
command does not cause the customer to be removed from the conversation, nor does it automatically
end the conversation.

.. seealso::
   - :doc:`/applications/sales/crm/acquire_leads`
   - :doc:`../../services/helpdesk`

.. _live-chat/canned-responses:

Canned responses
================

*Canned responses* are customizable inputs where a *shortcut* stands in for a longer response. An
operator will enter the shortcut, and it is automatically replaced by the expanded *substitution*
response in the conversation.

Create canned responses
-----------------------

To create a new canned response, go to :menuselection:`Live Chat app --> Configuration --> Canned
Responses --> New`.

Type a shortcut command in the :guilabel:`Shortcut` field. Next, click the :guilabel:`Substitution`
field, and type the message that should replace the shortcut.

.. tip::
   Try to connect the shortcut to the topic of the substitution. The easier it is for the operators
   to remember, the easier it is to use the canned responses in conversations.

Authorized groups
~~~~~~~~~~~~~~~~~

When a new canned response is created, it can **only** be utilized by the operator that created it.
To allow the response to be used by other operators, select one or more :ref:`groups
<access-rights/groups>` from the :guilabel:`Authorized Groups` drop-down list.

Use canned responses in a live chat conversation
------------------------------------------------

To use a canned response in a conversation, click the :icon:`fa-plus-circle` :guilabel:`(plus)` icon
in the message window. Then, click :guilabel:`Insert a Canned Response`. This opens a list of
available canned responses. Either select a response from the list, or type the appropriate
shortcut, then click the :icon:`fa-paper-plane` :guilabel:`(send)` icon or hit :kbd:`Enter`.

.. tip::
   Typing `::` into a chat window on its own generates a list of available canned responses.
   Responses can be manually selected from the list, in addition to the use of shortcuts.

   .. image:: responses/response-list.png
      :alt: View of a chat window and the list of available canned responses.
