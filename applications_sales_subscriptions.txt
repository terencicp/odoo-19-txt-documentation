

==================================================
SECTION: subscriptions.rst
PATH: applications/sales/subscriptions.rst
==================================================

:show-content:
:hide-toc:

=============
Subscriptions
=============

The Odoo **Subscriptions** app is designed to manage recurring revenue through subscription-based
products or services. It supports automated invoicing, renewal management, and customer lifecycle
tracking.

Subscriptions can be created manually or automatically through online sales, with varying options
for recurring billing. The app integrates with other Odoo modules such as **Invoicing**, **CRM**,
**Sales**, and **Helpdesk** to support end-to-end subscription workflows.

.. cards::

   .. card:: Renew a subscription
      :target: subscriptions/renewals
      :large:

      Understand the core management activity for subscriptions

   .. card:: Upsell a subscription
      :target: subscriptions/upselling
      :large:

      Offer more value for current subscribers on the same sales order

   .. card:: Close a subscription
      :target: subscriptions/closing
      :large:

      Customize subscription plan templates tailored to various product offerings

   .. card:: eCommerce integration
      :target: subscriptions/ecommerce
      :large:

      Offer subscription products through your Odoo eCommerce store

.. seealso::
   - `Odoo Tutorials: Subscriptions <https://www.odoo.com/slides/subscription-20>`_

Set up recurring plans
======================

To get started with subscription products in Odoo, *recurring plans* (previously known as
*recurrence periods*) must first be configured.

Recurring plans are the time windows in which subscriptions are active before they renew again.
While a subscription is active, customers receive products or services, and may also have access to
additional benefits such as support desk triage. In terms of payment, these recurring plans
designate how often the customer is charged in order to maintain the benefits of their subscription.

To configure recurring plans, go to :menuselection:`Subscriptions app --> Configuration -->
Recurring Plans`.

By default, the **Subscriptions** app includes a number of common recurring plans already available,
such as :guilabel:`Monthly` and :guilabel:`Yearly`.

Create a new recurring plan by clicking :guilabel:`New` on the :guilabel:`Recurring Plans`
dashboard, to reveal a blank form where the plan :guilabel:`Name`, :guilabel:`DETAILS`,
:guilabel:`SELF-SERVICE` and :guilabel:`Pricing` field values are specified.

.. image:: subscriptions/recurring-plan-blank-form.png
   :alt: A blank recurring plan form in the Odoo Subscriptions application.

.. important::
   The `Days` unit of measure *cannot* be used as a :guilabel:`Billing Period` for subscription
   products. The daily recurrence period in Odoo is designated for rentals, and **cannot** be added
   to subscription-based sales orders.

   This limitation is there to avoid sales orders that would generate daily invoices.

DETAILS section
---------------

After giving the recurring plan a suitable :guilabel:`Name` (e.g. `Monthly`, `Bi-weekly`,
`Quarterly`, etc.), proceed to the form's :guilabel:`DETAILS` section to fill out the following
configuration fields:

- :guilabel:`Billing Period`: determines the frequency with which the subscription is billed. Set
  the unit of time (:guilabel:`Weeks`, :guilabel:`Months`, or :guilabel:`Years`) in the drop-down
  menu and the numerical value in the corresponding text field.
- :guilabel:`Automatic Closing`: a numerical value, in days, where the subscription is set to close
  automatically if payment is not made.

  .. example::
     If a subscription is set to renew on the 1st of every month, and the :guilabel:`Automatic
     Closing` value is set to `15` :guilabel:`Days`, then the subscription will close on the 16th of
     that month if payment is not received.

- :guilabel:`Align to Period Start`: sets new and recurring subscription plans to bill on the first
  day of the next :guilabel:`Billing Period`. When a subscription plan is purchased in the middle of
  a billing period, the invoice shows a reduced cost. Setting a custom period start dates (such as
  the 5th of each month) requires custom development and is not available by default.

  .. example::
     On the 15th of July, a customer purchases a monthly subscription for a streaming service.
     Selecting :guilabel:`Align to Period Start` for this recurring plan configures this
     subscription to bill on the 1st of each month. The subscription begins as soon as payment is
     confirmed. The quotation shows the full cost of the subscription for July 1 - 31, but the
     invoice shows an adjusted cost for July 15 - 31. On the 1st of August, the customer is charged
     the full price for the month's subscription.

- :guilabel:`Company`: optional assignment, if the database has :doc:`Multi-company
  <../general/companies/multi_company>` functionality enabled. Assigning this value will make the
  recurring plan available for that company's location, specifically.
- :guilabel:`Invoice Email Template`: assigns a specific email template to be used in subscriptions
  invoicing communications. The default assignment here is `Invoice: Sending` which contains various
  dynamic fields that autopopulate specific variables across the :guilabel:`Subject` field and
  :guilabel:`Content` tab, such as the customer's name, invoice number, total amount invoiced, etc.

  .. tip::
     Although this field is optional, it is recommended to use it since this type of communication
     fulfills good business practices around price transparency, regular customer communication
     (especially as it relates to charged amounts), and helps build contextual financial
     documentation around recurring revenues.

     .. figure:: subscriptions/subscriptions-invoice-email-template.png
        :alt: An email template in Odoo used to send subscriptions invoicing messages to customers.

        The `Invoice: Sending` email template is accessible by clicking the :icon:`fa-arrow-right`
        (:guilabel:`Internal link`) that appears after hovering over the :guilabel:`Invoice Email
        Template` drop-down field in the :guilabel:`Recurring Plans` form.

SELF-SERVICE section
--------------------

The following optional fields enable customers to take administrative actions on their own
subscriptions. Enabling any of these options may decrease customer service request volume or
increase customer lifetime value (LTV).

- :guilabel:`Closable`: checking this box will give customers the power to close their own
  subscriptions. Consider enabling this option to reduce customer service requests and improve the
  overall customer experience; customers that can manage their own subscriptions in this way helps
  offload tedious tasks for sales and support teams, and reduces the likelihood of negative reviews.

  .. tip::
     Although this option is generally advisable to enable, sales teams with strong customer
     offboarding processes may consider leaving this option unchecked in order to force an
     interaction that might save the subscription or a different form of recurring revenue (such as
     in the case of a lesser subscription or a new trial period with an alternative plan).

- :guilabel:`Add Products`: allows customers to add new products or edit existing product quantities
  to their recurring sales orders, thereby enabling customer-driven upselling. When enabled,
  :doc:`Upsell quotations <subscriptions/upselling>` are generated in Odoo whenever a customer
  performs a quantitative adjustment on their sales order product lines.

- :guilabel:`Renew`: enabling this allows customers to manually create a :doc:`Renewal quotation
  <subscriptions/renewals>` for their subscription.
- :guilabel:`Optional Plans`: adding values here from the drop-down field menu enables customers to
  switch their subscription plans, in which case a new subscription quotation or renewal quote is
  created to accommodate the change request.

Pricing tab
-----------

Make product-specific pricing adjustments, as part of the recurring plan, by adding them to the
:guilabel:`Pricing` tab order lines. Sequentially add the :guilabel:`Products`, along with any
respective :guilabel:`Product Variants`, and then assign a :guilabel:`Pricelist` (if available) and
a :guilabel:`Recurring Price`.

.. note::
   Price rules that are added here take precedent over the default pricing information on the
   subscription product's form. This is meant to accommodate deals, discounts, and similar pricing
   adjustment strategies that would incentivize customers to purchase the recurring plan.

Smart buttons
-------------

At the top of the individual :guilabel:`Recurring Plans` form, are two smart buttons to aid in
navigating the recurring revenue sources attached to the plan:

- :guilabel:`Subscriptions`: shows the number of active subscriptions sales orders that fall under
  the recurring plan. Clicking the button leads to a tabled list view, where each row hyperlinks to
  a respective subscriptions sales order.
- :guilabel:`Subscription Items`: lists all the individual recurring subscription services that are
  active, in an itemized fashion. :guilabel:`Subscription` and :guilabel:`Customer` values will
  repeat if the customer ordered multiple subscriptions on the same sales order.

.. _subscriptions/form-configuration:

Product form configuration
==========================

With recurring plans set up, create a subscription product by navigating to
:menuselection:`Subscriptions app --> Products --> Products`, and click either an existing product
to edit, or make a new one by clicking :guilabel:`New` to open up the subscription product's form.

.. note::
   By default, the :guilabel:`Subscriptions` option is already enabled, prompting Odoo to recognize
   it as a subscription product. Be sure to leave the :guilabel:`Subscriptions` and
   :guilabel:`Sales` options enabled.

.. image:: subscriptions/subscription-product-form.png
   :alt: A basic subscription product form in Odoo Subscriptions application.

On the product form, configure the following items in the :guilabel:`General Information` tab so the
subscription product will function correctly:

- :guilabel:`Product type`: this value is typically set to a :guilabel:`Service`, however other
  product types may be used depending on the purpose of the subscription (e.g., physical product box
  subscriptions, eLearning course with supplemental physical goods, etc.).
- :doc:`Invoicing policy <sales/invoicing/invoicing_policy>`: set this value to when the customer
  should be charged for their subscription.
- :guilabel:`Unit of Measure`: how the product should be counted in Odoo, for stock purposes. For
  most subscriptions, the :abbr:`UoM (Unit of Measure)` will be :guilabel:`Units`.
- :guilabel:`Sales Price`: enter the recurring cost of the subscription that the customer will pay
  per recurrence period.

.. important::
   When creating a subscription for a physical good, selecting the wrong :guilabel:`Invoicing
   Policy` will lead to errors when creating invoices. Physical products must be set to
   :guilabel:`Ordered quantities`.

Optionally set up information on the :doc:`Attributes & Variants
<sales/products_prices/products/variants>` tab if the subscription contains multiple choices for
customers (i.e. food delivery, tailored fashion boxes, etc.).

In the :guilabel:`Recurring Prices` tab, clarify the pricing options for the subscription. For each
option available, click :guilabel:`Add a price rule` to add a new row.

.. tip::
   Longer time :guilabel:`Recurring Plan` time periods are typically incentivized with cost savings.
   Consider dropping the total :guilabel:`Recurring Price` values to offer customers a discount
   while supporting the business's financial runway.

Last, if the subscription is meant to be sold on the **eCommerce** website, click the
:icon:`fa-globe` :menuselection:`Go To Website` smart button and in the product page header, click
the gray slider from :guilabel:`Unpublished` to the green :guilabel:`Published` status.

.. _subscriptions/quotations:

Create a subscriptions quotation
================================

Manually create a new customer subscription by navigating to either the :menuselection:`Sales` or
:menuselection:`Subscriptions` app dashboards, and then clicking :guilabel:`New`.

.. note::
   Products that have been marked as :guilabel:`Subscriptions` on their product forms, and are also
   sold on the **eCommerce** website will *automatically* create and confirm subscription quotations
   in the backend of Odoo.

.. important::
   Sales orders with a defined recurring plan automatically become subscriptions.

On the quotation form, fill in the necessary fields such as :guilabel:`Customer` and
:guilabel:`Recurring Plan`, as well as the :guilabel:`Order Lines` tab.

Optionally, specify a:

- :doc:`Quotation Template <sales/sales_quotations/quote_template>`, if one is readily available to
  help populate the form fields.
- :guilabel:`Expiration` date, to indicate when the subscription offer is no longer valid.

  .. tip::
     Expiration dates pair well with :doc:`discounts <sales/products_prices/prices/discounts>` to
     incentivize faster purchases, since the discount will expire with the quotation if it's not
     turned into a sales order within the specified date range.

- :doc:`Pricelist <sales/products_prices/prices/pricing>`, if one is available and appropriate to
  use (i.e., summer sale discount, VIP customer, etc.).
- :guilabel:`Payment Terms`, to set a specified time window for when the subscription must be paid.
  This is not to be confused for when the quotation is *confirmed* and becomes a sales order, to
  where, payment may then be obtained immediately or within a certain amount of days, weeks, months,
  etc.

.. image:: subscriptions/new-subscription-form.png
   :alt: A completed example of a new subscription quotation in Odoo.

.. tip::
   Define different invoice and delivery addresses by enabling the :doc:`Customer Addresses
   </applications/finance/accounting/customer_invoices/customer_addresses>` feature.

.. _subscriptions/confirmation:

Confirmation
============

Send the quotation to the customer for confirmation by clicking on :guilabel:`Send By Email`, or
confirm it immediately by clicking on :guilabel:`Confirm`.

.. tip::
   Click on :guilabel:`Preview` to preview the customer portal where the customer can view their
   quotation, sign and pay it, and communicate with you.

If an :guilabel:`Online signature` or :guilabel:`Online payment` is required to confirm the
quotation, set the checkboxes next to either (or both) of these labels in the :guilabel:`Other Info`
tab, under the :guilabel:`SALES` section.

.. seealso::
   - :doc:`/applications/finance/accounting/payments/online`
   - :doc:`Payment providers and payment methods </applications/finance/payment_providers>`

.. toctree::
   :titlesonly:

   subscriptions/ecommerce
   subscriptions/upselling
   subscriptions/renewals
   subscriptions/closing
   subscriptions/scheduled_actions
   subscriptions/reports
   subscriptions/automatic_payments
   subscriptions/subscriptions_deliveries

==================================================
SECTION: automatic_payments.rst
PATH: applications/sales/subscriptions/automatic_payments.rst
==================================================

====================================
Subscriptions and automatic payments
====================================

By default, the **Subscriptions** app will automatically generate quotations and invoices for
customers, but it can also support automatic payments. Setting up automatic payments requires
additional configuration, including choosing an automatic payment provider and either setting up a
customer portal or an **eCommerce** website. Here's an overview of how to get started.

Setting up a payment processor that supports automatic payments
===============================================================

Setting up automatic recurring payments requires using a payment provider that supports
tokenization. Tokenization lets customers save their payment details, such as credit card or banking
account information, for automatic billing. The following payment providers support tokenization:

- :doc:`Adyen <../../finance/payment_providers/adyen>`
- :doc:`Authorize.net <../../finance/payment_providers/authorize>`
- :doc:`Flutterwave <../../finance/payment_providers/flutterwave>`
- :doc:`Razorpay <../../finance/payment_providers/razorpay>`
- :doc:`Stripe <../../finance/payment_providers/stripe>`
- :doc:`Xendit <../../finance/payment_providers/xendit>`

Here are the steps to setting up automatic payments.

#. Choose a payment provider that supports tokenization.
#. Follow the provider's own setup guide to create an account and begin configuring their API
   credentials in Odoo.
#. :ref:`Enable <payment_providers/add_new>` the payment provider.
#. :ref:`Configure the payment methods <payment_providers/payment_methods>` for the chosen payment
   provider.
#. :ref:`Configure the tokenization <payment_providers/tokenization>` for the chosen payment
   provider.

How customers can set up automatic payments
===========================================

Once these steps are complete, payment providers will be able to create tokens with customers' saved
payment details during the checkout process. Saved payment details can then be used for future
online or recurring subscription charges. Customers can also log into their :doc:`customer portal
<../../general/users/user_portals>` and enter their payment information there.

Some payment providers will automatically save customers' payment information as part of the
checkout process. Others will give them the option to save their information for future payments. If
customers choose not to save their payment information, they will not be able to make automatic
payments.

.. important::
   Building an **eCommerce** website requires the :doc:`Website <../../websites/website>` app.

What happens if an automatic payment fails?
===========================================

When an automatic payment fails, the sales order is updated with:

- a :guilabel:`Payment Failure` tag
- the :guilabel:`Contract in exception` checkbox ticked (in the :guilabel:`Subscription` section of
  the :guilabel:`Other Info` tab).

Being marked :guilabel:`Contract in exception` prevents scheduled actions from running, which keeps
the system from accidentally double-charging the customer if the automatic payment actually went
through. Because the status of the payment failed to register with the system, users must manually
check if the payment has been made before automatic payments and other scheduled actions can resume.

To do this, navigate to :menuselection:`Subscriptions app --> Subscriptions --> Quotations`. Click
into the desired subscription, then check the Chatter to see if the payment was made.

If the payment *was not* made, first enter :doc:`developer mode <../../general/developer_mode>`.
Then, click the :guilabel:`Other Info` tab, and untick the checkbox next to :guilabel:`Contract in
exception`. Reload the sales order and confirm that the :guilabel:`Payment Failure` tag is gone.

If the payment *was* made, a new invoice must be made and posted manually. This automatically
updates the next invoice date of the subscription. Once the invoice is created, enter
:doc:`developer mode <../../general/developer_mode>` and navigate to the new sales order. Click the
:guilabel:`Other Info` tab, and untick the checkbox next to :guilabel:`Contract in exception`.
Reload the sales order and confirm that the :guilabel:`Payment Failure` tag is gone.

.. figure:: renewals/contract-in-exception.png
   :alt: The contract in exception option selected with the payment failure tag shown.

The :guilabel:`Contract in exception` option selected with the :guilabel:`Payment Failure` tag
shown.

In both cases, once the :guilabel:`Contract in exception` checkbox is no longer ticked, Odoo handles
renewals automatically again. If the subscription remains in :guilabel:`Payment Failure`, it is
ignored by Odoo until the sales order is closed.

.. seealso::
  - :doc:`../../finance/payment_providers`
  - :doc:`../../general/users/user_portals`


==================================================
SECTION: closing.rst
PATH: applications/sales/subscriptions/closing.rst
==================================================

===================
Close subscriptions
===================

Odoo *Subscriptions* provides flexibility for businesses to decide whether customers can self-manage
their subscriptions, or restrict that ability entirely.

Configuration
=============

Start by navigating to :menuselection:`Subscriptions app --> Configuration --> Recurring Plans`.
From there, either create a new plan by clicking :guilabel:`New` or select an existing one to modify
it.

Once on the :guilabel:`Recurring Plans` form, enable the :guilabel:`Closable` option, in the
:guilabel:`Self-Service` section, to allow customers to close their own subscriptions using the
customer portal.

.. image:: closing/recurring-plans-closable-option.png
   :align: center
   :alt: The Closable option on a recurring plan form in Odoo Subscriptions.


Close a subscription
====================

Administrator view
------------------

After a quotation for a subscription product has been confirmed, it becomes a sales order, and the
subscription status changes to :guilabel:`In Progress`.

At that point, the ability to close the subscription becomes available, via the :guilabel:`Close`
button at the top of the subscription order, near the row that contains :guilabel:`In Progress` and
other stages. This option is also available after the order has been invoiced and the payment has
been registered.

.. image:: closing/close-subscriptions-administrator.png
   :align: center
   :alt: Close subscription from an administration point of view with Odoo Subscriptions.

Clicking the :guilabel:`Close` button prompts a :guilabel:`Close Reason` pop-up window to appear,
allowing administrators to input the reason for closing the subscription, or choose from the
drop-down menu of options in the :guilabel:`Reason` field.

.. image:: closing/close-reason-popup.png
   :align: center
   :alt: The Close Reason pop-up when the Close button is clicked in Odoo Subscriptions.

When the desired :guilabel:`Reason` is entered, click the :guilabel:`Submit` button.

Clicking :guilabel:`Submit` on the :guilabel:`Close Reason` pop-up window updates the subscription
sales order to show :guilabel:`Churned` status tag, along with the specified :guilabel:`Close
Reason`.

.. image:: closing/churned-sales-order.png
   :align: center
   :alt: A churned sales order for a closed subscription in Odoo Subscriptions.

That same close reason can be found in the *Chatter* of the sales order, as well.

.. image:: closing/churned-sales-order-chatter.png
   :align: center
   :alt: The chatter of a churned sales order for a closed subscription in Odoo Subscriptions.

Customer view
-------------

.. note::
   As an administrator, the ability to visualize what customers see when managing their
   subscriptions is accessible via the :guilabel:`Preview` button, located at the top of the
   subscription sales order.

From the customer's point of view, in the customer portal, the :guilabel:`Close Subscription` button
is located on the left side of the sales order.

.. image:: closing/close-subscription-button-customer-view.png
   :align: center
   :alt: Close subscription button on a customer's view of a sales order in Odoo Subscriptions.

When the customer clicks the :guilabel:`Close Subscription` button, a :guilabel:`Close Subscription`
pop-up window appears, in which the customer has to choose from a select list of reasons why they
are choosing to close the subscription.

.. image:: closing/close-subscription-customer-pov.png
   :align: center
   :alt: The close subscription pop-up window customers see when closing a subscription.

.. note::
   Customers can *only* chose a pre-configured reason why the subscription is being closed. They can
   *not* enter a custom reason from the customer portal. These selections can be adjusted by
   navigating to :menuselection:`Subscriptions --> Configuration --> Close Reasons`.

Once the customer has chosen a close reason, they would click the :guilabel:`Submit` button on the
pop-up window.

Upon closure, the subscription order in the customer portal is tagged as :guilabel:`Closed`.

In addition, the specified :guilabel:`Close Reason` appears on the subscription order in the
*Subscriptions* app in the backend (Administrator's view).

.. seealso::
   - :doc:`../subscriptions`


==================================================
SECTION: ecommerce.rst
PATH: applications/sales/subscriptions/ecommerce.rst
==================================================

===================================
Subscriptions in the eCommerce shop
===================================

Subscription products can be sold in the Odoo *eCommerce* shop just like regular sales products.

.. seealso::
   - :doc:`Configure subscription products </applications/sales/subscriptions>`
   - :doc:`Product variants </applications/sales/sales/products_prices/products/variants>`

Selling eCommerce subscriptions
===============================

:doc:`Configure subscription products </applications/sales/subscriptions>` as a regular recurring
sales product. To start selling the subscription in the eCommerce shop, click the :guilabel:`Go to
Website` smart button to navigate to the product page.

From here, review the subscription product and its recurring periods. Then, toggle the switch in the
upper-right corner from :guilabel:`Unpublished` to :guilabel:`Published`.

The new subscription product is now available to purchase on the eCommerce website, with options
for the different recurring periods.

.. image:: ecommerce/subscription-product.png
   :align: center
   :alt: Subscription product on eCommerce website.


==================================================
SECTION: renewals.rst
PATH: applications/sales/subscriptions/renewals.rst
==================================================

===================
Renew subscriptions
===================

Subscription renewal is the process customers follow when they willingly choose to continue a
subscription product or service. Subscribers go through the renewal process at different intervals
-- weekly, monthly, annually, etc. -- depending on the duration of the agreed-upon contract. Most
companies that offer subscriptions prefer to automate the renewal process for customers. However,
manual subscription renewals are still used in some cases.

With the Odoo **Subscriptions** application, a company can manage all of its subscriptions in one
place. Renewals can be processed automatically or manually, include additional products or upsells
per renewal order, and be filtered in batch views to locate customers who need to renew their
subscriptions.

Create a renewal manually
=========================

In order to create a renewal quotation, there are certain prerequisites that a subscription must
meet.

- A quotation with a subscription product must be confirmed.
- A configured *recurring plan* must be selected.
- Payment from the customer for the initial subscription must be invoiced and registered.

To check if an existing subscription quotation meets the prerequisites, navigate to
:menuselection:`Subscriptions app --> Subscriptions --> Quotations` and select the desired quotation
from the list. Properly configured subscriptions show as being in the :guilabel:`Sales Order` stage,
have an :guilabel:`In Progress` tag, and have the :guilabel:`Renew` button in the row of buttons
directly above the order form.

.. image:: renewals/renew-button.png
  :align: center
  :alt: Renew button on subscription sales order with Odoo Subscriptions.

When the :guilabel:`Renew` button is clicked, Odoo instantly presents a new renewal quotation,
complete with a :guilabel:`Renewal Quotation` tag. Important reference information like the start
date and next invoice date are automatically added to the renewal quotation's chatter.

From here, follow the standard sales flow to :ref:`confirm the quotation
<sales/sales_quotations/send-and-confirm>`, :doc:`invoice the order
<../../sales/sales/invoicing/invoicing_policy>`, and :ref:`register payment
<finance/accounting/register-payment-invoice-bill>`.

Once the renewal quotation is confirmed, it becomes a sales order and a :icon:`fa-usd`
:guilabel:`Sales History` smart button appears at the top of the page. When the :icon:`fa-usd`
:guilabel:`Sales History` smart button is clicked, Odoo loads a new page showcasing the different
sales orders attached to this subscription, along with their individual :guilabel:`Subscription
Status`.

.. image:: renewals/sales-history-page.png
  :align: center
  :alt: Renewal quotation in the Odoo Subscriptions application.

.. seealso::
   - :doc:`../subscriptions`
   - :doc:`../sales/sales_quotations/create_quotations`
   - :doc:`../sales/sales_quotations/get_paid_to_validate`


==================================================
SECTION: reports.rst
PATH: applications/sales/subscriptions/reports.rst
==================================================

====================
Subscription reports
====================

.. |MRR| replace:: :abbr:`MRR (Monthly Recurring Revenue)`
.. |ARR| replace:: :abbr:`ARR (Annual Recurring Revenue)`

The Odoo **Subscriptions** app provides a series of reporting pages to help companies analyze how
subscriptions are performing.

On the *Subscriptions Analysis* reporting page, users can view specific data related to recurring
subscriptions, quantity of subscriptions, in-progress or paused subscriptions, and more.

The *Retention Analysis* reporting page provides an organized table of subscription retention
percentages over any period of time.

The *MRR Breakdown* reporting page clearly divides |MRR| and |ARR| metrics for subscriptions into
various graphs, lists, and charts.

And the *MRR Analysis* reporting page offers a time-based collection of analytics showcasing how
subscription |MRR| and |ARR| have changed over the course of any given period of time.

Reporting page elements
=======================

All subscriptions-based reporting pages can be accessed via the :guilabel:`Reporting` header menu in
the **Subscriptions** app.

The following sections describe elements found on each reporting page.

Filters and Group By
--------------------

*Filters* are used to narrow down metrics to show specific analytics, whereas groupings (via the
*Group By* option) are used to gather the data from specific sections into groups for more
organized analysis.

This section refers to both filters and groupings, as a combination of the two can be saved in the
*Favorites* section.

To modify the results being shown on any reporting page, click the :icon:`fa-caret-down`
:guilabel:`(down arrow)` icon to the right of the search bar. Doing so reveals a drop-down menu of
detailed filter and grouping options.

If desired, a filter or grouping (or combination of filters and/or groupings) can be saved in the
:guilabel:`Favorites` section of that drop-down menu. To do so, click the :icon:`fa-caret-down`
:guilabel:`(down arrow)` icon beside :guilabel:`Save current search`, located beneath the
:guilabel:`Favorites` section.

This reveals a field to assign a title to the favorite filter. Two options are also found beneath
the title field: :guilabel:`Default filter` and :guilabel:`Shared`.

Ticking the checkbox beside :guilabel:`Default filter` makes the newly-favorited filter the default
option for that reporting page.

Ticking the checkbox beside :guilabel:`Shared` makes the newly-favorited filter available to other
users in the database.

.. note::
   The :guilabel:`Default filter` and :guilabel:`Shared` options are **not** required, and only
   *one* of these options can be selected at a time.

To save the filter, click :guilabel:`Save` in the :guilabel:`Favorites` section of the drop-down
filter menu.

When clicked, that saved filter appears beneath the :guilabel:`Favorites` column of the drop-down
filter menu, and a :icon:`fa-star` :guilabel:`(gold star)` icon appears beside the favorite filter's
name in the search bar.

Views
-----

On the :guilabel:`Subscription Analysis`, :guilabel:`MRR Breakdown`, and :guilabel:`MRR Analysis`
reporting pages, three different view options are located in the upper-right corner.

.. note::
   There are *no* other view options available on the :guilabel:`Retention Analysis` reporting page.

The available view options, from left to right, are:

- :guilabel:`Graph`
- :guilabel:`List`
- :guilabel:`Pivot`

.. image:: reports/subscriptions-analysis-page-view-options.png
   :align: center
   :alt: The different view options available on the Subscriptions Analysis page.

Each view has its own series of related view-specific visual options.

Graph view
~~~~~~~~~~

With the graph view selected, the following options appear between the search bar and visual
representation of the data. These graph-specific options are located to the right of the
:guilabel:`Measures` and :guilabel:`Insert in Spreadsheet` buttons.

.. image:: reports/subscriptions-graph-specific-options.png
   :align: center
   :alt: The different graph view options in the Odoo Subscriptions app.

The first three options, from left to right, represent different graph-related views. The remaining
options represent different ways to organize and visualize that specific graph-related data.

From left to right, the specific graph-related view options are:

- :icon:`fa-bar-chart` :guilabel:`Bar Chart`: showcases the data in a bar chart format.
- :icon:`fa-line-chart` :guilabel:`Line Chart`: showcases the data in a line chart format.
- :icon:`fa-pie-chart` :guilabel:`Pie Chart`: showcases the data in a pie chart format.

Each graph view option has its own series of specific visual options, which are represented by the
available buttons that appear to the right of the selected graph-related view option.

When the :icon:`fa-bar-chart` :guilabel:`Bar Chart` graph view is selected, the following visual
options are available:

- :icon:`fa-database` :guilabel:`Stacked`: showcases the data in a stacked visual format.
- :icon:`fa-sort-amount-desc` :guilabel:`Descending`: showcases the data in descending order.
- :icon:`fa-sort-amount-asc` :guilabel:`Ascending`: showcases the data in ascending order.

When the :guilabel:`Line Chart` graph view is selected, the following visual options are available:

- :icon:`fa-database` :guilabel:`Stacked`: showcases the data in a stacked visual format.
- :icon:`fa-signal` :guilabel:`Cumulative`: showcases the data in accumulated, increasing format.
- :icon:`fa-sort-amount-desc` :guilabel:`Descending`: showcases the data in descending order.
- :icon:`fa-sort-amount-asc` :guilabel:`Ascending`: showcases the data in ascending order.

When the :guilabel:`Pie Chart` graph view is selected, there are no additional visual options.

List view
~~~~~~~~~

With the list view selected, the subscription metrics being analyzed are displayed in a simple list,
which can be fully customized by using any of the available filters or groupings in the drop-down
filter menu (accessible via the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon to the right of
the search bar).

.. note::
   With list view selected, the :guilabel:`Measures` drop-down menu and :guilabel:`Insert in
   Spreadsheet` button are *not* available.

Pivot view
~~~~~~~~~~

With the pivot view selected, the subscription metrics are displayed in a data table, which can be
fully customized.

The pivot data table can be customized using the options available in the :guilabel:`Measures`
drop-down menu, and/or the filter grouping options available in the filter drop-down menu
(accessible via the :icon:`fa-caret-down` :guilabel:`(down arrow)` icon to the right of the search
bar).

Three pivot-specific options are available, located to the right of the :guilabel:`Measures`
drop-down menu and :guilabel:`Insert in Spreadsheet` button.

.. image:: reports/subscriptions-pivot-view-options.png
   :align: center
   :alt: The pivot-specific view options available in the Odoo Subscriptions app.

From left to right, those pivot-specific view options are:

- :icon:`fa-exchange` :guilabel:`Flip axis`: the `x` and `y` axis of the pivot data table flip.
- :icon:`fa-arrows` :guilabel:`Expand all`: all the available rows and columns of the pivot data
  table expand fully.
- :icon:`fa-download` :guilabel:`Download .xlsx`: the pivot data table is downloaded as an
  :file:`.xlsx` file.

Measures
--------

The graph and pivot reporting pages have their own metric-specific :guilabel:`Measures` drop-down
menu of data-related options to choose from, located in the upper-left corner, above the visual
representation of metrics.

.. image:: reports/subscriptions-measures-drop-down.png
   :align: center
   :alt: The standard measures drop-down menu in the Odoo Subscriptions app.

When the :guilabel:`Measures` button is clicked, a series of selectable measures becomes available,
via a drop-down menu. When any of the options are selected from the :guilabel:`Measures` drop-down
menu, the chosen metrics related to that specific measure appear on the reporting page.

.. note::
   For more information on the different measures that can be utilized on each reporting page, refer
   to the :ref:`specific reporting page breakdowns <subscriptions/reports/reporting>` found below in
   this documentation.

Insert in spreadsheet
---------------------

Beside the :guilabel:`Measures` drop-down menu, there is an :guilabel:`Insert in Spreadsheet`
button.

When clicked, the ability to add the configured data currently being showcased on the reporting page
into a new or pre-existing spreadsheet or dashboard becomes available, via a pop-up window.

.. image:: reports/subscriptions-analysis-spreadsheet-popup.png
   :align: center
   :alt: The spreadsheet pop-up window of the Subscriptions Analysis page.

Select the desired option from this pop-up window, then click :guilabel:`Confirm`.

.. _subscriptions/reports/reporting:

Reporting pages
===============

In the Odoo **Subscriptions** app, there are four different reporting pages available.

To access, analyze, and customize various reports related to subscriptions, navigate to
:menuselection:`Subscriptions app`, and click the :guilabel:`Reporting` drop-down menu in the
header to reveal the following reporting pages:

- :guilabel:`Subscriptions`
- :guilabel:`Retention`
- :guilabel:`MRR Breakdown`
- :guilabel:`MRR Timeline`

Clicking any of those options reveals a separate, fully-customizable reporting page focusing on that
particular aspect of subscription data.

The following is a breakdown of those four specific reporting pages.

Subscriptions analysis
----------------------

To access the :guilabel:`Subscriptions Analysis` reporting page, navigate to
:menuselection:`Subscriptions app --> Reporting --> Subscriptions`.

By default, the :guilabel:`Bar Chart` option, in the :guilabel:`Graph` view, is selected on the
:guilabel:`Subscriptions Analysis` reporting page.

The following filters are also present in the search bar: :guilabel:`In Progress or Paused` and
:guilabel:`Recurring`.

.. image:: reports/subscriptions-analysis-page-default.png
   :align: center
   :alt: The default view of the Subscriptions Analysis reporting page in Odoo Subscriptions.

When the :guilabel:`Measures` button on the :guilabel:`Subscriptions Analysis` page is
clicked, a series of metric-related options becomes available as a drop-down menu.

.. image:: reports/subscriptions-analysis-measures.png
   :align: center
   :alt: The measures drop-down menu of the Subscriptions Analysis page.

The metric-related options in the :guilabel:`Measures` drop-down menu on the
:guilabel:`Subscriptions Analysis` page are:

- :guilabel:`Monthly Recurring`
- :guilabel:`Quantity`
- :guilabel:`Recurring Revenue`
- :guilabel:`Untaxed Total`
- :guilabel:`Yearly Recurring`
- :guilabel:`Count`

.. note::
   The :guilabel:`Monthly Recurring` measure option is selected by default.

When any of those available measures are clicked, Odoo displays that selected data on the reporting
page for further analysis.

Retention analysis
------------------

To access the :guilabel:`Retention Analysis` reporting page, navigate to
:menuselection:`Subscriptions app --> Reporting --> Retention`.

The :guilabel:`Retention Analysis` reporting page differs from the other **Subscriptions** app
reporting pages, in that it does **not** provide any additional view options. The data on this page
is only presented in a customizable data chart.

.. image:: reports/subscriptions-retention-analysis-page-default.png
   :align: center
   :alt: The default view of the Retention Analysis reporting page in Odoo Subscriptions.

When the :guilabel:`Measures` drop-down menu on the :guilabel:`Retention Analysis` reporting page is
clicked, a series of metric-related options become available.

.. image:: reports/subscriptions-retention-analysis-measures.png
   :align: center
   :alt: The measures drop-down menu of the Retention Analysis page.

The metric-related options in the :guilabel:`Measures` drop-down menu on the :guilabel:`Retention
Analysis` reporting page are:

- :guilabel:`Amount to invoice`
- :guilabel:`Margin`
- :guilabel:`Margin (%)`
- :guilabel:`Prepayment percentage`
- :guilabel:`Shipping Weight`
- :guilabel:`Unpaid Amount`
- :guilabel:`Count`

.. note::
   The :guilabel:`Count` measure option is selected by default.

To the right of the :guilabel:`Measures` drop-down menu on the :guilabel:`Retention Analysis` page
is an additional drop-down menu containing different time periods. The default time period is
:guilabel:`Month`.

When clicked, a drop-down menu of various time period options become available.

.. image:: reports/subscriptions-retention-analysis-time-periods.png
   :align: center
   :alt: The time period drop-down menu of the Retention Analysis page.

The time period options are:

- :guilabel:`Day`
- :guilabel:`Week`
- :guilabel:`Month`
- :guilabel:`Year`

When a time period option from this drop-down menu is selected, the :guilabel:`Retention Analysis`
reporting page showcases data for the configured measures and filters within that time period.

To the right of the time period drop-down menu, there is a download button, which allows the user to
download the data presented on the :guilabel:`Retention Analysis` page as an Excel file.

MRR breakdown
-------------

To access the :guilabel:`MRR Breakdown` reporting page, navigate to :menuselection:`Subscriptions
app --> Reporting --> MRR Breakdown`.

By default, the data displayed on the :guilabel:`MRR Breakdown` reporting page is in graph view,
with the :guilabel:`Bar Chart` option and :guilabel:`Stacked` option selected.

A default filter is also available in the search bar for :guilabel:`Event Date: Month > Event Type`.

.. image:: reports/subscriptions-mrr-breakdown-default.png
   :align: center
   :alt: The default appearance of the MRR Breakdown reporting page in Odoo Subscriptions.

When the :guilabel:`Measures` drop-down menu on the :guilabel:`MRR Breakdown` reporting page is
clicked, a series of metric-related options become available.

.. image:: reports/subscriptions-mrr-breakdown-measures.png
   :align: center
   :alt: The default appearance of the MRR Breakdown reporting page in Odoo Subscriptions.

The metric-related options in the :guilabel:`Measures` drop-down menu on the :guilabel:`MRR
Breakdown` reporting page are:

- :guilabel:`Active Subscriptions Change`
- :guilabel:`ARR Change`
- :guilabel:`MRR Change`
- :guilabel:`Count`

.. note::
   The :guilabel:`MRR Change` measure option is selected by default.

.. tip::
   To make a different measure option the default, first, select the desired measure from the
   :guilabel:`Measures` drop-down menu. Then, click the :icon:`fa-caret-down` :guilabel:`(down
   arrow)` icon in the search bar to open the mega menu of filters and groupings.

   In the :guilabel:`Favorites` column, click the :icon:`fa-caret-down` :guilabel:`(down arrow)`
   icon beside :guilabel:`Save current search` to reveal a field, where a title can be entered,
   along with two checkboxes::guilabel:`Default filter` and :guilabel:`Shared`.

   Tick the checkbox for :guilabel:`Default filter`, and click :guilabel:`Save`.

   That newly-chosen measure option is now the default option that appears when this reporting page
   is accessed.

MRR analysis
------------

To access the :guilabel:`MRR Analysis` reporting page, navigate to :menuselection:`Subscriptions
app --> Reporting --> MRR Timeline`.

By default, the data displayed on the :guilabel:`MRR Analysis` reporting page is in graph view, with
the :guilabel:`Line Chart` option, :guilabel:`Stacked` option, and :guilabel:`Cumulative` option
selected.

A default filter is also found in the search bar for :guilabel:`Event Date: Month`.

.. image:: reports/subscriptions-mrr-analysis-default.png
   :align: center
   :alt: The default appearance of the MRR Analysis reporting page in Odoo Subscriptions.

When the :guilabel:`Measures` drop-down menu on the :guilabel:`MRR Analysis` reporting page is
clicked, a series of metric-related options become available.

.. image:: reports/subscriptions-mrr-analysis-measures.png
   :align: center
   :alt: The default appearance of the MRR Analysis reporting page in Odoo Subscriptions.

The metric-related options in the :guilabel:`Measures` drop-down menu on the :guilabel:`MRR
Analysis` reporting page are:

- :guilabel:`Active Subscriptions Change`
- :guilabel:`ARR Change`
- :guilabel:`MRR Change`
- :guilabel:`Count`

.. note::
   The :guilabel:`MRR Change` measure option is selected by default.

.. seealso::
   - :doc:`../subscriptions`


==================================================
SECTION: scheduled_actions.rst
PATH: applications/sales/subscriptions/scheduled_actions.rst
==================================================

=================
Scheduled actions
=================

*Scheduled actions* are pre-configured processes that allow users to automate certain tasks within a
database, based on a designated schedule or number of occurrences. These tasks can include sending
emails, generating invoices, data clean-up, and so much more.

In Odoo, some scheduled actions are active, by default, to ensure that certain functions are
triggered automatically, however there are *also* many scheduled action options that appear in the
database that are **not** activated by default.

In Odoo *Subscriptions*, there are two scheduled actions that initiate the billing process for
active recurring subscriptions, as well as when billing should stop due to subscription expiration.

They are turned on, by default and can be deactivated at any time in order to manage subscriptions
manually.

Access scheduled actions
========================

.. important::
   In order to access scheduled actions, :ref:`developer mode <developer-mode>` **must** be
   activated.

With developer mode activated, navigate to :menuselection:`Settings app --> Technical --> Scheduled
Actions`.

.. image:: scheduled_actions/scheduled-actions-technical-settings-page.png
   :align: center
   :alt: The scheduled actions option under the technical menu in the Odoo Settings application.

Doing so reveals a dedicated :guilabel:`Scheduled Actions` dashboard. On this page, there is a
complete list of scheduled actions for the entire database.

From here, enter `Subscription` in the search bar. Doing so provides three subscription-specific
results. The following documentation focuses on the last two results in the list:

- :guilabel:`Sale Subscription: generate recurring invoices and payments`
- :guilabel:`Sale Subscription: subscriptions expiration`

.. image:: scheduled_actions/scheduled-actions-page-subscription-results.png
   :align: center
   :alt: The subscription-related results on the scheduled actions page in Odoo Settings.

Determine if a scheduled action is active by looking under the :guilabel:`Active` column, in the
corresponding row on the :guilabel:`Scheduled Actions` dashboard, for a ticked checkbox; if the
checkbox is green with a check mark, the scheduled action is active.

If a scheduled action needs to be activated, click into the desired scheduled action from the list.

.. image:: scheduled_actions/scheduled-action-form.png
   :alt: The scheduled action form in the Odoo Settings application.

Then, from the scheduled action form, toggle the switch in the :guilabel:`Active` field to the
right. Doing so turns the switch green, indicating that the scheduled action is now `Active`.

The ability to set up how often the scheduled action runs is also available on the scheduled action
form, in the :guilabel:`Execute Every` field.

.. important::
   The scheduled action does **not** function correctly if the execution time is less than five
   minutes. This is a general rule for all scheduled actions.

   For more information, read the :doc:`Frequent Technical Questions
   </administration/odoo_sh/advanced/frequent_technical_questions>` documentation.

Generate recurring invoices and payments
========================================

In order for the :guilabel:`Sale Subscription: generate recurring invoices and payments` scheduled
action to properly generate recurring invoices and payments on subscriptions, the *Deferred Expense*
and *Deferred Revenue* accounts **must** be set up, in order for Odoo to process various invoices
and payments related to subscriptions.

To set up *Deferred Expense* and *Deferred Revenue* accounts, navigate to :menuselection:`Accounting
app --> Configuration --> Settings`. Both accounts can be configured in the :guilabel:`Default
Accounts` section.

.. image:: scheduled_actions/deferred-settings-accounting.png
   :align: center
   :alt: The necessary deferred account settings in the Odoo Accounting app's settings page.

Once the correct accounts are entered in the :guilabel:`Deferred Expense` and :guilabel:`Deferred
Revenue` drop-down menu fields, click :guilabel:`Save` in the upper-left corner.

Create invoice
--------------

Elements related to the :guilabel:`Sale Subscription: generate recurring invoices and payments`
scheduled action can be found on confirmed subscription sales orders.

To examine these elements, open any confirmed sales order in the *Subscriptions* application to
reveal the subscription sales order form.

On a confirmed subscription sales order form, focus on the :guilabel:`Recurring Plan` and
:guilabel:`Date of Next Invoice` fields.

.. image:: scheduled_actions/confirmed-subscription-sales-order-fields.png
   :align: center
   :alt: A confirmed subscription sales order in the Odoo Subscriptions application.

The scheduled action creates an invoice when today's date is the same date as the :guilabel:`Date of
Next Invoice`.

Odoo uses the information in the :guilabel:`Recurring Plan` field to update the next invoice date
accordingly.

.. warning::
   If the product invoicing policy is set to *Based on Delivered Quantities (Manual)*, and the
   delivered quantity is `0`, Odoo does **not** create an invoice, and the customer is not charged.

   Instead, the subscription is processed as a free recurring product, and is reflected as such in
   the *chatter* of the subscription sales order.

   When this occurs, the following message appears: `Automatic renewal succeeded. Free subscription.
   Next invoice:[date]. No email sent.`

Once the invoice for the subscription sales order is created, the invoice can be viewed by clicking
the :guilabel:`Invoices` smart button that appears at the top of the subscription sales order.

An email is sent to the customer notifying them of the recurring subscription charge, *if* there is
a :guilabel:`Payment Token` on the account.

To check if there is a :guilabel:`Payment Token`, open the :guilabel:`Other Info` tab, and look at
the :guilabel:`Payment Token` field, under the :guilabel:`Subscription` section.

If there is no :guilabel:`Payment Token`, the invoice is created, and sent to the customer. The
payment **must** be registered manually in this case.

.. image:: scheduled_actions/payment-token-field.png
   :align: center
   :alt: The Payment Token field under the Other Info tab on a subscription sales order form.

.. warning::
   If the :guilabel:`Online payment` checkbox is ticked on the :guilabel:`Other Info` tab, invoices
   are **not** automatically generated by the scheduled action on the date of the next invoice.
   Instead, invoices are generated when the client completes the manual payments for the
   subscription.

   To use automatic payment and automatically generate invoices, this checkbox **must** remain
   empty.

Closing invoices
----------------

The :guilabel:`Sale Subscription: generate recurring invoices and payments` scheduled action also
has the ability to close a subscription, if the following conditions are met:

- If the subscription has no :guilabel:`Payment Token`, create and post the invoice.
- If the subscription has a :guilabel:`Payment Token`, try to charge.

    - If the charge is successful, create and post the invoice.
    - If the charge fails, send reminders periodically.

        - Close the subscription if it continues to fail for more than fourteen days.

Subscriptions expiration
========================

The :guilabel:`Sale Subscription: subscriptions expiration` scheduled action checks for all other
conditions that may cause a subscription to close automatically. If certain conditions are met, the
scheduled action closes that subscription.

First, the :guilabel:`Sale Subscription: subscriptions expiration` scheduled action checks to see if
the end date has passed, which is configured on the subscription sales order.

.. image:: scheduled_actions/subscription-expiration-date.png
   :align: center
   :alt: The expiration date on a subscription sales order in Odoo Subscriptions.

Then, the :guilabel:`Sale Subscription: subscriptions expiration` scheduled action checks if the
invoice has not been paid within the payment terms deadline.

To access the invoices attached to a subscription, access the sales order for the subscription
product, and click the :guilabel:`Invoices` smart button. Then, look at the :guilabel:`Invoice Date`
column.

.. image:: scheduled_actions/invoices-invoice-date-column.png
   :align: center
   :alt: The Invoice Date column on subscriptions invoice page in Odoo Subscriptions app.

Unpaid subscriptions with an :guilabel:`Invoice Date` that are past the determined number of days in
the :guilabel:`Automatic Closing` field of a :guilabel:`Recurring Plan` are automatically closed by
the :guilabel:`Sale Subscription: subscriptions expiration` scheduled action.

.. image:: scheduled_actions/automatic-closing-field.png
   :align: center
   :alt: The Automatic Closing field on a Recurring Plan form in Odoo Subscriptions.

For example, if the next invoice date is July 1st, and the :guilabel:`Automatic Closing` is set to
'30 Days', the scheduled action would close the subscription on August 1st.

.. seealso::
   - :doc:`../subscriptions`


==================================================
SECTION: subscriptions_deliveries.rst
PATH: applications/sales/subscriptions/subscriptions_deliveries.rst
==================================================

=============================
Subscriptions with deliveries
=============================

Subscriptions and subscription products are compatible with deliveries. With some minor
configuration, it is possible to offer customers subscriptions of regularly delivered physical goods
such as a meal delivery box or magazine.

.. example::
   An independent coffee shop offers local customers a monthly coffee bean subscription service.
   Each month, Odoo automatically generates a sales order and invoice in the Sales app and a
   delivery order in the Inventory app to ensure that the coffee beans get delivered to subscribed
   customers.

Configuration
=============

Selling deliverable subscription products requires that two different apps be :ref:`installed
<general/install>`: the **Subscriptions** app and the **Inventory** app. The **Subscriptions** app
allows for the creation and management of subscription products while the **Inventory** app, in
addition to managing inventory, allows for adding shipping information to quotations and
automatically creating delivery orders when invoices are created.

After installing both **Subscriptions** and **Inventory**, enter the **Settings** app, search for
"delivery", and tick the :doc:`Delivery Methods
</applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration>` box in the
:guilabel:`Inventory` section. This allows for adding the cost of shipping to quotations and
invoices.

Creating a subscription delivery product
========================================

To create a deliverable subscription product, navigate to :menuselection:`Subscriptions app -->
Products --> Products`. Click an existing product or create a new one and set the :guilabel:`Product
Type` to `Goods`. Click the :guilabel:`Recurring prices` tab and :guilabel:`Add a line`. Choose an
existing :guilabel:`Recurring plan` or create a new one, and add a :guilabel:`Pricelist`.

Choosing a delivery method
--------------------------

Navigate to :menuselection:`Inventory app --> Configuration --> Delivery Methods`. By default there
is only one delivery method available: Standard delivery. Businesses with more substantial delivery
needs can :doc:`create new delivery methods
</applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/new_delivery_method>`
or :doc:`add third-party shipping carrier integration
</applications/inventory_and_mrp/inventory/shipping_receiving/setup_configuration/third_party_shipper>`
to their Odoo databases.

Creating a subscription delivery quotation
==========================================

As with creating a subscription delivery product, creating a subscription delivery quotation is
similar to :ref:`the regular process <subscriptions/quotations>`, but with an additional step.
After entering all other information for the quotation, click the :guilabel:`Add shipping` button in
the :guilabel:`Order Lines` tab. Choose a shipping method from the dropdown and, if necessary, enter
the item's weight and dimensions and click the :guilabel:`Get rate` button. Then click
:guilabel:`Add` to add the delivery details as a line item to the quotation. From here, proceed with
confirming the quotation and generating a sales order as normal.

Validating delivery orders
==========================

Once the sales order for a subscription delivery product has been finalized, a :guilabel:`Delivery`
smart button appears that opens the delivery order for the sale. After clicking through, if there is
enough stock to fulfill the delivery order, it appears as being in the :guilabel:`Ready` stage. If
there is not enough stock to fulfill the order, it appears as being :guilabel:`In Progress` instead.
Once the delivery order is in the Ready stage, click :guilabel:`Validate` to advance the stage to
:guilabel:`Done` and automatically generate a delivery slip and send it to the customer.

.. seealso::
   - :doc:`../subscriptions`
   - :doc:`../subscriptions/renewals`
   - :doc:`../sales/sales_quotations/create_quotations`
   - :doc:`../sales/sales_quotations/get_paid_to_validate`
   - :doc:`../sales/products_prices/prices/pricing`
   - :doc:`../subscriptions/automatic_payments`


==================================================
SECTION: upselling.rst
PATH: applications/sales/subscriptions/upselling.rst
==================================================

====================
Upsell subscriptions
====================

Subscriptions are recurrent, and go on indefinitely. As time passes, customers may want to modify
them. With that in mind, it's imperative to have the ability to adapt prices, or change quantities,
to accommodate any need. That's where the opportunity to upsell a subscription can come into play.

Upselling may prove beneficial to the following customer types:

#. | *Loyal Customers*
   | These are customers who already trust the company/brand, and because they have established a
     pattern of paying for products/services, there's more confidence behind the attempt to sell
     them a more expensive product/service.
#. | *New Customers*
   | For brand new customers unfamiliar with the company/brand, a new, attractive tactic must be
     employed to entice them to purchase a more expensive product/service.

     In these instances, discounts can be useful. Typically, subscriptions end after a certain period
     of time.

     So, if these more expensive products/services are offered to new customers at a discount, it
     can result in a sale, while establishing a strong sense of trust between the customer and the
     company/brand. In turn, this can increase customer retention, as they'll grow more comfortable
     and trustworthy over time.

Discount configuration
----------------------

In order to have the ability to upsell a subscription to a new customer, with the aid of a discount,
the *Discounts* feature **must** be activated.

To activate the *Discounts* feature, navigate to :menuselection:`Sales app --> Configuration -->
Settings`, scroll to the :guilabel:`Pricing` section, and tick the checkbox beside
:guilabel:`Discounts`. Then, click :guilabel:`Save`.

.. image:: upselling/configuration-to-upsell-a-subscription.png
   :align: center
   :alt: Activation of the discount option in Odoo Sales.

With that feature activated, the ability to grant discounts on sales order lines.

Upsell subscriptions
====================

Before upselling a subscription, check out our documentation on how to :doc:`Create a quotation
<../subscriptions>` using subscription products.

When a quotation with a subscription is confirmed, it officially becomes a sales order, and a new
subscription is created in the Odoo *Subscriptions* application.

.. note::
   The subscription sales order **must** be invoiced *before* an upsell can occur.

When the subscription sales order is opened, either in the *Sales* or *Subscriptions* application,
the ability to upsell that subscription is available, via the :guilabel:`Upsell` button at the top
of the sales order.

.. image:: upselling/upsell-your-subscription.png
   :align: center
   :alt: Upsell button for subscription sales orders with Odoo Subscriptions.

When the :guilabel:`Upsell` button is clicked, a new quotation form appears, with an
:guilabel:`Upsell` status banner in the upper-right corner. The initial subscription product is
already in the :guilabel:`Order Lines` tab.

There is also a warning reminding the user that the recurring products are discounted, according to
the prorated period of time, located beneath the initial subscription product in the
:guilabel:`Order Lines` tab.

.. important::
   The prorated amount is **only** applied to *Service* product types. It is **not** applied to
   *Consumable* or *Storable* product types, even if the message appears.

From this new upsell quotation form, add new subscription products in the :guilabel:`Order Lines`
tab, by clicking :guilabel:`Add a product`, and selecting the desired subscription product.

.. image:: upselling/use-of-the-upsell-button-in-odoo-sales.png
   :align: center
   :alt: Adding products to your subscription via the upsell option in Odoo Subscriptions

Once the desired upsell subscription product(s) have been added, it can be sent to the customer for
approval by clicking the :guilabel:`Send by Email` button.

.. important::
   When the quotation is confirmed by the customer, the upsell products are added to the initial
   subscription. Quotation prices are then prorated to the remaining time of the current invoicing
   period.

.. note::
   Before sending the new quotation to the customer, the unit price, taxes, and even discount can be
   applied.

Once the customer approves, click the :guilabel:`Confirm` button on the quotation, making it a sales
order. When that's clicked, a :guilabel:`Sales History` smart button appears, displaying how many
sales orders are attached to this initial subscription order.

When the :guilabel:`Sales History` smart button is clicked, Odoo reveals a separate page containing
a list of the related sales orders, clearly showcasing their individual :guilabel:`Subscription
Status`.

.. image:: upselling/sales-history-smartbutton.png
   :align: center
   :alt: The related sales order viewable from the Sales History smart button in Odoo Subscriptions.

.. seealso::
   - :doc:`../subscriptions`
